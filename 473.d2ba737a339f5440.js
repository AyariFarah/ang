"use strict";(self.webpackChunkDigiCorpV1=self.webpackChunkDigiCorpV1||[]).push([[473],{2473:(Ht,q,g)=>{g.r(q),g.d(q,{MabanqueModule:()=>$t});var c=g(9808),p=g(7656),_=g(3007),e=g(1223),f=g(6605),v=g(4900),U=g(2313),b=g(9860),C=g(2212),l=g(2382);function B(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.hij(" ",t.FullName," ")}}function k(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.scheme),e.xp6(1),e.hij(" ",t.scheme," ")}}function R(n,a){1&n&&(e.TgZ(0,"div",30)(1,"div",31)(2,"span",32),e._uU(3,"Loading..."),e.qZA()()())}function w(n,a){1&n&&(e.TgZ(0,"div",33)(1,"div",31)(2,"span",32),e._uU(3,"Loading..."),e.qZA()()())}let O=(()=>{class n{constructor(t,i,o,s,r,d,u){var m,h;this.route=t,this.BanqueServ=i,this.router=o,this.VirServ=s,this.sanitizer=r,this.auth=d,this.OpImp=u,this.loader=!1,this.Download=!1,this.list0=[],this.FileAFB="",this.listCompts=[],this.ListTiers=[],null===(m=document.getElementById("alertchampsVide"))||void 0===m||m.setAttribute("class","alert alert-danger alert-dismissible fade hide"),null===(h=document.getElementById("alertDateSup"))||void 0===h||h.setAttribute("class","alert alert-danger alert-dismissible fade hide")}ngOnInit(){var t,i;this.currentRoute=this.route.snapshot.url.join("/");let o=(0,c.p6)(new Date,"yyyy-MM-dd","en_US");this.date=o,console.log(o),console.log("carte "),this.token=localStorage.getItem("token"),null===(t=document.getElementById("alertchampsVide"))||void 0===t||t.setAttribute("class","alert alert-danger alert-dismissible fade hide"),null===(i=document.getElementById("alertDateSup"))||void 0===i||i.setAttribute("class","alert alert-danger alert-dismissible fade hide"),this.chargedData=!0,this.auth.getTiersByIdDigital(this.token).subscribe(s=>{this.chargedData=!1,this.ListTiers=s},s=>{console.log("error API"),-1!=s.indexOf("401")&&this.router.navigate(["/"])})}getAccountsBytiers(){this.list0=[],this.AccounName="",this.VirServ.MinimalByRef(this.token,this.Ref).subscribe(t=>{this.listCompts=t.accounts;for(var i=0;i<this.listCompts.length;i++)this.list0.push(this.listCompts[i].account_routings[0])},t=>{console.log("error API"),-1!=t.indexOf("401")&&this.router.navigate(["/"])})}getAccountName(){this.AccNum=this.TypeCompte;for(var t=0;t<this.listCompts.length;t++)this.AccNum==this.listCompts[t].account_routings[0].scheme&&(this.pk=this.listCompts[t].id);this.OpImp.getDataByAccount(this.token,this.pk).subscribe(i=>{this.AccounName=i.fullname},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}hidealert(){var t,i;null===(t=document.getElementById("alertchampsVide"))||void 0===t||t.setAttribute("class","alert alert-danger alert-dismissible fade hide"),null===(i=document.getElementById("alertDateSup"))||void 0===i||i.setAttribute("class","alert alert-danger alert-dismissible fade hide")}VisualiserExtrait(){var t,i,o,s;this.Compte=this.TypeCompte,(null==this.Compte||""==this.Compte)&&(null===(t=document.getElementById("alertchampsVide"))||void 0===t||t.setAttribute("class","alert alert-danger alert-dismissible fade show")),(null==this.startDate||""==this.startDate)&&(null===(i=document.getElementById("alertchampsVide"))||void 0===i||i.setAttribute("class","alert alert-danger alert-dismissible fade show")),null!=this.Compte&&null!=this.startDate&&(null===(o=document.getElementById("alertchampsVide"))||void 0===o||o.setAttribute("class","alert alert-danger alert-dismissible fade hide"),null===(s=document.getElementById("alertDateSup"))||void 0===s||s.setAttribute("class","alert alert-danger alert-dismissible fade hide"),this.GetExtrait())}GetExtrait(){this.loader=!0;let t=this.startDate.substring(8,10)+"/"+this.startDate.substring(5,7)+"/"+this.startDate.substring(0,4);this.FileName="AFB",this.Date=t,this.BanqueServ.GetDaveDocs(this.token,this.FileName,this.Date,"","","",this.Compte).subscribe(i=>{var o,s;this.ExtraitBase64=i,"Pas de donn\xe9es pour cette date"==this.ExtraitBase64?(this.msg="Pas de donn\xe9es pour cette date",null===(o=document.getElementById("alertData"))||void 0===o||o.setAttribute("class","modal fade  show"),this.loader=!1):("Error"!=this.ExtraitBase64&&(this.base=this.ExtraitBase64.pdfBase64,this.decodedText=atob(this.base),this.loader=!1,this.Download=!0,this.onClickDownloadPdf()),"Error"==this.ExtraitBase64&&(this.loader=!1,this.Download=!1,this.msg="Pas de donn\xe9es",null===(s=document.getElementById("alertData"))||void 0===s||s.setAttribute("class","modal fade  show")))},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}_base64ToArrayBuffer(t){for(var i=t.replace(/\\n/g,""),o=(i=window.atob(t)).length,s=new Uint8Array(o),r=0;r<o;r++)s[r]=i.charCodeAt(r);return s.buffer}downloadPdf(t,i){const o=`data:text/html;base64,${this.base}`,s=document.createElement("a");s.href=o,s.download="AFB.txt",s.click()}onClickDownloadPdf(){this.downloadPdf("your-base64-string","sample")}transform(){return this.sanitizer.bypassSecurityTrustResourceUrl(this.FileAFB)}FermerAlert(){var t;null===(t=document.getElementById("alertData"))||void 0===t||t.setAttribute("class","modal fade  hide")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.gz),e.Y36(f.t),e.Y36(p.F0),e.Y36(v.t),e.Y36(U.H7),e.Y36(b.r),e.Y36(C.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-afb"]],decls:63,vars:13,consts:[[1,"section","mt-4"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-12"],[1,"col-3"],[1,"font-weight-bold","TitleMobile",2,"text-align","initial"],[2,"color","red"],["name","origin_country",1,"custom-select","form-control",3,"ngModel","change","ngModelChange"],["Value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["disabled","",1,"custom-select","form-control",3,"value"],["type","date",1,"form-control","py-2","search",3,"max","ngModel","keyup","ngModelChange"],[1,"col-9"],[1,"col-3",2,"text-align","end"],[1,"btn","btn-primary","btn-lg",3,"click"],["class","col-lg-12 text-center",4,"ngIf"],["id","alertchampsVide","role","alert",1,"alert","alert-danger","alert-dismissible","fade"],["id","alertDateSup","role","alert",1,"alert","alert-danger","alert-dismissible","fade"],["style","text-align: center;",4,"ngIf"],["id","alertData","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabelProcessed",1,"modal-title",2,"color","rgb(7, 7, 7)"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],[3,"value"],[1,"col-lg-12","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[2,"text-align","center"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6,"Consultation AFB de compte"),e.qZA(),e.TgZ(7,"div",1)(8,"div",6)(9,"div",1)(10,"div",7)(11,"div",8),e._uU(12,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(13,"span",9),e._uU(14,"*"),e.qZA()(),e.TgZ(15,"select",10),e.NdJ("change",function(){return i.getAccountsBytiers()})("ngModelChange",function(s){return i.Ref=s}),e.TgZ(16,"option",11),e._uU(17," Choisir soci\xe9t\xe9 "),e.qZA(),e.YNc(18,B,2,2,"option",12),e.qZA()(),e.TgZ(19,"div",7)(20,"div",8),e._uU(21,"Choisir un compte "),e.TgZ(22,"span",9),e._uU(23,"*"),e.qZA()(),e.TgZ(24,"select",10),e.NdJ("change",function(){return i.getAccountName()})("ngModelChange",function(s){return i.TypeCompte=s}),e.TgZ(25,"option",11),e._uU(26," Choisir compte "),e.qZA(),e.YNc(27,k,2,2,"option",12),e.qZA()(),e.TgZ(28,"div",7)(29,"div",8),e._uU(30,"Libell\xe9s des comptes"),e.qZA(),e._UZ(31,"input",13),e.qZA(),e.TgZ(32,"div",7)(33,"div",8),e._uU(34,"Date"),e.TgZ(35,"span",9),e._uU(36,"*"),e.qZA()(),e.TgZ(37,"input",14),e.NdJ("keyup",function(){return i.hidealert()})("ngModelChange",function(s){return i.startDate=s}),e.ALo(38,"date"),e.qZA()()()()(),e._UZ(39,"br"),e.TgZ(40,"div",1),e._UZ(41,"div",15),e.TgZ(42,"div",16)(43,"button",17),e.NdJ("click",function(){return i.VisualiserExtrait()}),e._uU(44,"Visualiser"),e.qZA()()()()(),e.YNc(45,R,4,0,"div",18),e.qZA()(),e.TgZ(46,"div",19),e._uU(47," Veuillez remplir toutes les entr\xe9es "),e.qZA(),e.TgZ(48,"div",20),e._uU(49," Date de d\xe9but doit \xeatre inf\xe9rieur ou \xe9gale date de fin "),e.qZA(),e.YNc(50,w,4,0,"div",21),e._UZ(51,"br")(52,"br"),e.qZA(),e.TgZ(53,"div",22)(54,"div",23)(55,"div",24)(56,"div",25)(57,"h5",26)(58,"p"),e._uU(59),e.qZA()()(),e.TgZ(60,"div",27)(61,"button",28),e.NdJ("click",function(){return i.FermerAlert()}),e._uU(62,"Fermer"),e.qZA()()()()()),2&t&&(e.xp6(15),e.Q6J("ngModel",i.Ref),e.xp6(3),e.Q6J("ngForOf",i.ListTiers),e.xp6(6),e.Q6J("ngModel",i.TypeCompte),e.xp6(3),e.Q6J("ngForOf",i.list0),e.xp6(4),e.s9C("value",i.AccounName),e.xp6(6),e.s9C("max",e.xi3(38,10,i.date,"yyyy-MM-dd")),e.Q6J("ngModel",i.startDate),e.xp6(8),e.Q6J("ngIf",i.chargedData),e.xp6(5),e.Q6J("ngIf",i.loader),e.xp6(9),e.hij(" ",i.msg," "))},directives:[l.EJ,l.JJ,l.On,l.YN,l.Kr,c.sg,l.Fj,c.O5],pipes:[c.uU],styles:[".spinner-border[_ngcontent-%COMP%]{width:5rem;height:5rem}td[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem}.show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}"]}),n})();function N(n,a){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.hij(" ",t.FullName," ")}}function S(n,a){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.scheme),e.xp6(1),e.hij(" ",t.scheme," ")}}function F(n,a){1&n&&(e.TgZ(0,"div",40)(1,"div",41)(2,"h6",42),e._uU(3,"Pas de donn\xe9es : "),e.qZA()()())}function P(n,a){1&n&&(e.TgZ(0,"div",43)(1,"div",44)(2,"span",45),e._uU(3,"Loading..."),e.qZA()()())}function J(n,a){1&n&&(e.TgZ(0,"div",44)(1,"span",45),e._uU(2,"Loading..."),e.qZA()())}function V(n,a){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.beneficiaryname," ")}}function Y(n,a){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.beneficiaryrib)}}function L(n,a){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.presdate.substr(0,10)," \u200b")}}function Q(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",51)(1,"td",52),e.NdJ("click",function(){const o=e.CHM(t),s=o.$implicit,r=o.index;return e.oxw(2).voirImageChqRecto(s.num_check,r)}),e._UZ(2,"img",53),e.TgZ(3,"div",51),e.YNc(4,J,3,0,"div",54),e.qZA()(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",55),e._uU(8),e.qZA(),e.YNc(9,V,2,1,"td",22),e.YNc(10,Y,2,1,"td",22),e.YNc(11,L,2,1,"td",22),e.qZA()}if(2&n){const t=a.$implicit,i=a.index,o=e.oxw(2);e.xp6(4),e.Q6J("ngIf",o.chargedImgR=="trueR"+i),e.xp6(2),e.Oqu(t.num_check),e.xp6(2),e.hij("",o.formatCurrency(t.amount)," TND"),e.xp6(1),e.Q6J("ngIf","null"!=t.beneficiaryname),e.xp6(1),e.Q6J("ngIf","null"!=t.beneficiaryrib),e.xp6(1),e.Q6J("ngIf",null!=t.presdate)}}function j(n,a){if(1&n&&(e.TgZ(0,"div")(1,"table",46)(2,"thead",47)(3,"tr",48)(4,"th",49),e._uU(5,"Image"),e.qZA(),e.TgZ(6,"th",49),e._uU(7,"Num\xe9ro ch\xe8que"),e.qZA(),e.TgZ(8,"th",49),e._uU(9,"Montant"),e.qZA(),e.TgZ(10,"th",49),e._uU(11,"B\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(12,"th",49),e._uU(13,"RIB b\xe9n\xe9fciaire"),e.qZA(),e.TgZ(14,"th",49),e._uU(15,"Date "),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,Q,12,6,"tr",50),e.qZA()()()),2&n){const t=e.oxw();e.xp6(17),e.Q6J("ngForOf",t.listCh)}}let G=(()=>{class n{constructor(t,i,o,s,r){this.BanqueServ=t,this.router=i,this.VirServ=o,this.OpImp=s,this.auth=r,this.listCompte=[],this.list0=[],this.listCh=[],this.listCompts=[],this.img=!1,this.list01=[];const d=new Date,u=new Date(d.getFullYear(),d.getMonth()-3,d.getDate());this.min=u.toISOString().split("T")[0],this.max=d.toISOString().split("T")[0]}ngOnInit(){var t,i;this.list01=[],this.list0=[];let o=(0,c.p6)(new Date,"yyyy-MM-dd","en_US");this.date=o,console.log(o),console.log("carte "),this.token=localStorage.getItem("token"),null===(t=document.getElementById("alertchampsVide"))||void 0===t||t.setAttribute("class","alert alert-danger alert-dismissible fade hide"),null===(i=document.getElementById("alertDateSup"))||void 0===i||i.setAttribute("class","alert alert-danger alert-dismissible fade hide"),this.chargedData=!0,this.auth.getTiersByIdDigital(this.token).subscribe(s=>{this.chargedData=!1,this.ListTiers=s},s=>{console.log("error API"),-1!=s.indexOf("401")&&this.router.navigate(["/"])})}voirCheques(){var t,i;this.Compte=this.TypeCompte,this.img=!0,(null==this.startDate||null==this.EndDate||null==this.Compte||""==this.startDate||""==this.EndDate||""==this.Compte)&&(this.msg="Champs vide !",null===(t=document.getElementById("alertChamp"))||void 0===t||t.setAttribute("class","modal fade  show")),new Date(this.startDate)>new Date(this.EndDate)?(console.log("---date1 is greater----"),this.msg="Date D\xe9but ne doit pas etre sup\xe9rieur au data Fin !",null===(i=document.getElementById("alertChamp"))||void 0===i||i.setAttribute("class","modal fade  show")):(this.startDate=this.startDate,this.EndDate=this.EndDate,this.firstRes="",this.maxRes="",this.defaultValues="0",this.accountCode=this.Compte,this.Compte=this.Compte,this.chargedData=!0,this.BanqueServ.GetListCheques(this.token,this.accountCode,this.startDate,this.EndDate,this.firstRes,this.maxRes,this.defaultValues).subscribe(o=>{this.chargedData=!1,this.listCh=o},o=>{console.log("error API"),-1!=o.indexOf("401")&&this.router.navigate(["/"])}))}voirImageChq(t,i){this.chargedImg="true"+i,this.operationType="ReceivedCheck",this.number=t,this.draweeRib=this.Compte,this.BanqueServ.GetImageCheques(this.token,this.number,this.draweeRib,this.operationType).subscribe(o=>{this.chargedImg="false",this.retour=o,this.base64=this.retour.base64pdf,this.Cheque=this.base64,this.fileName="Cheque",this.fileName="Cheque";const s=`data:application/pdf;base64,${this.Cheque}`,r=document.createElement("a");r.href=s,r.download=`${this.fileName}.pdf`,r.click()},o=>{console.log("error API"),-1!=o.indexOf("401")&&this.router.navigate(["/"])})}voirImageChqVerso(t,i){this.chargedImgV="trueR"+i,this.operationType="ReceivedCheck",this.number=t,this.draweeRib=this.Compte,this.BanqueServ.GetImageCheques(this.token,this.number,this.draweeRib,this.operationType).subscribe(o=>{var s;this.chargedImgV="false",this.retour=o,this.base64V="data:image/jpeg;base64,"+this.retour.Image_Verso,this.Cheque=this.base64,this.fileName="Cheque",null===(s=document.getElementById("VersoModal"))||void 0===s||s.setAttribute("class","modal fade  show")},o=>{console.log("error API"),-1!=o.indexOf("401")&&this.router.navigate(["/"])})}voirImageChqRecto(t,i){this.chargedImgR="trueR"+i,this.operationType="ReceivedCheck",this.number=t,this.draweeRib=this.Compte,this.BanqueServ.GetImageCheques(this.token,this.number,this.draweeRib,this.operationType).subscribe(o=>{var s;this.chargedImgR="false",this.retour=o,this.retour.Image_Recto="data:image/jpeg;base64,"+this.retour.Image_Recto,this.retour.Image_Verso="data:image/jpeg;base64,"+this.retour.Image_Verso,this.base64R="data:image/jpeg;base64,"+this.retour.Image_Recto,this.Cheque=this.base64,this.fileName="Cheque",null===(s=document.getElementById("RectoModal"))||void 0===s||s.setAttribute("class","modal fade  show")},o=>{console.log("error API"),-1!=o.indexOf("401")&&this.router.navigate(["/"])})}hidealert(){}getAccountsBytiers(){this.list0=[],this.AccounName="",this.VirServ.MinimalByRef(this.token,this.Ref).subscribe(t=>{this.listCompts=t.accounts;for(var i=0;i<this.listCompts.length;i++)this.list0.push(this.listCompts[i].account_routings[0])},t=>{console.log("error API"),-1!=t.indexOf("401")&&this.router.navigate(["/"])})}getAccountsBytiers1(){this.list01=[],this.VirServ.MinimalByRef(this.token,this.Ref1).subscribe(t=>{this.listCompts=t.accounts;for(var i=0;i<this.listCompts.length;i++)this.list01.push(this.listCompts[i].account_routings[0])},t=>{console.log("error API"),-1!=t.indexOf("401")&&this.router.navigate(["/"])})}getAccountName(){this.AccNum=this.TypeCompte;for(var t=0;t<this.listCompts.length;t++)this.AccNum==this.listCompts[t].account_routings[0].scheme&&(this.pk=this.listCompts[t].id);this.OpImp.getDataByAccount(this.token,this.pk).subscribe(i=>{this.AccounName=i.fullname},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}getAccountName1(){this.AccNum=this.TypeCompte1;for(var t=0;t<this.listCompts.length;t++)this.AccNum==this.listCompts[t].account_routings[0].scheme&&(this.pk=this.listCompts[t].id);this.OpImp.getDataByAccount(this.token,this.pk).subscribe(i=>{this.AccounName1=i.fullname},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}FermerAlert(){var t;null===(t=document.getElementById("alertChamp"))||void 0===t||t.setAttribute("class","modal fade  hide"),"Processed"==this.retour.Status&&location.reload()}PostOtpCorp(){var t;if(this.OpImp.getDataByRef(this.token,this.Ref).subscribe(i=>{this.requesterIdDocument=i.taxIdNumber},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])}),this.accountCode=this.TypeCompte,this.requesterMail="stbCorp@gmail.com",this.numberOfCheckBooks="1",this.requesterAddress="STB Bank",this.numberOfCheque="0"+this.nbre,this.requesterIdTypeCode="07",this.requesterIdDocument=this.requesterIdDocument,this.description="Demande de Carnet de cheque",this.reference="",""==this.TypeCompte||""==this.nbre||null==this.TypeCompte||null==this.nbre)this.msg="Champs vide !",null===(t=document.getElementById("alertChamp"))||void 0===t||t.setAttribute("class","modal fade  show");else{let i={Login:localStorage.getItem("cuser")};this.VirServ.getuserdata(i,this.token).subscribe(o=>{this.dataRet=o,this.GSM=this.dataRet.mobile,this.BanqueServ.PostOTPCorp(this.token,this.GSM).subscribe(s=>{var r;this.dataRet=s,"Processed"==this.dataRet.Statut&&(this.element1=document.getElementById("input1"),null===(r=document.getElementById("ModalCompare"))||void 0===r||r.setAttribute("class","modal fade  show"),this.element1.focus())},s=>{console.log("error API"),-1!=s.indexOf("401")&&this.router.navigate(["/"])})},o=>{console.log("error API"),-1!=o.indexOf("401")&&this.router.navigate(["/"])})}}ValiderOtpDelivrance(){var t=document.getElementById("input1").value,i=document.getElementById("input2").value,o=document.getElementById("input3").value,s=document.getElementById("input4").value,r=document.getElementById("input5").value;this.BanqueServ.GetOTPCorp(this.token,t+i+o+s+r).subscribe(u=>{var m,h,T;this.dataRet=u,"Denied"==this.dataRet.Statut?(document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",this.el=document.getElementById("ModalCompare"),null===(m=this.el)||void 0===m||m.setAttribute("class","modal fade  hide"),this.msg="Code OTP incorrect",this.el=document.getElementById("alertChamp"),null===(h=this.el)||void 0===h||h.setAttribute("class","modal fade  show")):(this.el=document.getElementById("ModalCompare"),null===(T=this.el)||void 0===T||T.setAttribute("class","modal fade  hide"),document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",this.DemanderCh())},u=>{console.log("error API"),-1!=u.indexOf("401")&&this.router.navigate(["/"])})}DemanderCh(){this.requesterPhone=this.GSM,this.chargedData=!0,this.BanqueServ.DemanderCheques(this.token,this.accountCode,this.requesterMail,this.requesterPhone,this.numberOfCheckBooks,this.requesterAddress,this.numberOfCheque,this.requesterIdTypeCode,this.requesterIdDocument,this.description,this.reference).subscribe(t=>{var i,o,s;this.chargedData=!1,this.retour=t,"Processed"==this.retour.Status?(this.msg="Demande envoy\xe9e !",null===(i=document.getElementById("alertChamp"))||void 0===i||i.setAttribute("class","modal fade  show")):"Rejected"==this.retour.Status&&"Vous avez d\xe9ja une demande en cours"==this.retour.RejectMessage?(this.msg="Vous avez d\xe9ja une demande en cours!",null===(o=document.getElementById("alertChamp"))||void 0===o||o.setAttribute("class","modal fade  show")):(this.msg="Veuillez r\xe9essayer plus tard",null===(s=document.getElementById("alertChamp"))||void 0===s||s.setAttribute("class","modal fade  show"))},t=>{console.log("error API"),-1!=t.indexOf("401")&&this.router.navigate(["/"])})}FermerOTP(){var t;null===(t=document.getElementById("ModalCompare"))||void 0===t||t.setAttribute("class","modal fade  hide")}voirstatutDde(){var t;this.Vs="",(""==this.TypeCompte1||null==this.TypeCompte1||null==this.TypeCompte1)&&(this.msg="Veuillez choir un num\xe9ro de compte !",null===(t=document.getElementById("alertChamp"))||void 0===t||t.setAttribute("class","modal fade  show")),this.chargedData1=!0,this.BanqueServ.GetDemandeChequeStatus(this.token,this.TypeCompte1).subscribe(i=>{this.RetStatus=i,this.chargedData1=!1,null==this.RetStatus.Status&&(this.Vs="no")},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}formatCurrency(t){return new Intl.NumberFormat("en-TN",{}).format(t).replace(","," ")}ClearData(){this.listCh=[],this.Compte="",this.Ref="",this.TypeCompte="",this.AccounName="",this.Ref1="",this.TypeCompte1="",this.AccounName1="",this.RetStatus="",this.nbre=""}ClearData1(){this.listCh=[],this.Compte="",this.Ref="",this.TypeCompte="",this.AccounName="",this.Ref1="",this.TypeCompte1="",this.AccounName1="",this.RetStatus="",this.list0=[],this.nbre=""}ClosePopUp(){var t;null===(t=document.getElementById("RectoModal"))||void 0===t||t.setAttribute("class","modal fade  hide")}ClosePopUp1(){var t;null===(t=document.getElementById("VersoModal"))||void 0===t||t.setAttribute("class","modal fade  hide")}DownloadImg(t){this.imageName="ImageChequeRecto";const i=document.createElement("a");i.href=t,i.download=this.imageName,i.click()}DownloadImgV(t){this.imageName="ImageChequeVerso";const i=document.createElement("a");i.href=t,i.download=this.imageName,i.click()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.t),e.Y36(p.F0),e.Y36(v.t),e.Y36(C.e),e.Y36(b.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-cheque"]],decls:84,vars:17,consts:[[1,"tab-content","pt-2"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-12"],[1,"col-4"],[1,"font-weight-bold","TitleMobile",2,"text-align","initial"],[2,"color","red"],["name","origin_country",1,"custom-select","form-control",3,"ngModel","change","ngModelChange"],["Value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["disabled","",1,"custom-select","form-control",3,"value"],[1,"col-3"],["type","date","id","datepicker","onkeydown","return false",1,"form-control","py-2","search",3,"min","max","ngModel","ngModelChange"],["type","date","onkeydown","return false",1,"form-control","py-2","search",3,"min","max","ngModel","ngModelChange"],[1,"col-9"],[1,"col-3",2,"text-align","end"],[1,"btn","btn-primary","btn-lg",2,"height","43px",3,"click"],["class","",4,"ngIf"],["class","col-lg-12 text-center",4,"ngIf"],[4,"ngIf"],["id","alertChamp","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabelProcessed",1,"modal-title",2,"color","rgb(7, 7, 7)"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["id","RectoModal","tabindex","-1","aria-labelledby","DomicileFRModalLabel","aria-hidden","true",1,"modal","text-center"],[1,"modal-dialog","p-2"],[1,"modal-content","p-3",2,"width","fit-content"],[1,"modal-header",2,"justify-content","left"],["type","button",1,"btn","btn-primary",3,"click"],["id","DomicileFRModalLabel",1,"modal-title","fs-5"],[1,"modal-body","text-center"],["alt","",1,"my-3",3,"src"],["alt","",3,"src"],[3,"value"],[1,""],[1,"p-2","m-2"],["id","numero"],[1,"col-lg-12","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"table","table-bordered"],[2,"border-bottom","hidden"],[2,"background","#0b5ed7","color","white","text-align","center"],["scope","col"],["style","text-align: center;",4,"ngFor","ngForOf"],[2,"text-align","center"],[3,"click"],["src","assets\\img\\heck.png","alt","...",1,"img-fluid","rounded-start",2,"cursor","pointer"],["class","spinner-border text-primary","role","status",4,"ngIf"],[2,"text-align","end"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"br"),e.TgZ(2,"div"),e._UZ(3,"br"),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"div",4)(8,"h5",5),e._uU(9,"Consultation Ch\xe8ques re\xe7us "),e.qZA(),e.TgZ(10,"div",1)(11,"div",6)(12,"div",1)(13,"div",7)(14,"div",8),e._uU(15,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(16,"span",9),e._uU(17,"*"),e.qZA()(),e.TgZ(18,"select",10),e.NdJ("change",function(){return i.getAccountsBytiers()})("ngModelChange",function(s){return i.Ref=s}),e.TgZ(19,"option",11),e._uU(20," Choisir soci\xe9t\xe9 "),e.qZA(),e.YNc(21,N,2,2,"option",12),e.qZA()(),e.TgZ(22,"div",7)(23,"div",8),e._uU(24,"Choisir un compte "),e.TgZ(25,"span",9),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"select",10),e.NdJ("change",function(){return i.getAccountName()})("ngModelChange",function(s){return i.TypeCompte=s}),e.TgZ(28,"option",11),e._uU(29," Choisir compte "),e.qZA(),e.YNc(30,S,2,2,"option",12),e.qZA(),e._UZ(31,"br"),e.qZA(),e.TgZ(32,"div",7)(33,"div",8),e._uU(34,"Libell\xe9s des comptes"),e.qZA(),e._UZ(35,"input",13),e.qZA()()()(),e._UZ(36,"br"),e.TgZ(37,"div",1)(38,"div",14)(39,"div",8),e._uU(40,"Date D\xe9but"),e.TgZ(41,"span",9),e._uU(42,"*"),e.qZA()(),e.TgZ(43,"input",15),e.NdJ("ngModelChange",function(s){return i.startDate=s}),e.qZA()(),e.TgZ(44,"div",14)(45,"div",8),e._uU(46,"Date Fin"),e.TgZ(47,"span",9),e._uU(48,"*"),e.qZA()(),e.TgZ(49,"input",16),e.NdJ("ngModelChange",function(s){return i.EndDate=s}),e.qZA()()(),e.TgZ(50,"div",1),e._UZ(51,"div",17),e.TgZ(52,"div",18)(53,"button",19),e.NdJ("click",function(){return i.voirCheques()}),e._uU(54,"valider"),e.qZA()()()()()()(),e.YNc(55,F,4,0,"div",20),e.YNc(56,P,4,0,"div",21),e.YNc(57,j,18,1,"div",22),e.qZA()(),e.TgZ(58,"div",23)(59,"div",24)(60,"div",25)(61,"div",26)(62,"h5",27)(63,"p"),e._uU(64),e.qZA()()(),e.TgZ(65,"div",28)(66,"button",29),e.NdJ("click",function(){return i.FermerAlert()}),e._uU(67,"Fermer"),e.qZA()()()()(),e.TgZ(68,"div",30)(69,"div",31)(70,"div",32)(71,"div",33)(72,"button",34),e.NdJ("click",function(){return i.ClosePopUp()}),e._uU(73,"Retour"),e.qZA(),e.TgZ(74,"h1",35),e._uU(75," \xa0 \xa0 Image Ch\xe8que Recto\\Verso "),e.qZA()(),e.TgZ(76,"div",36),e._UZ(77,"img",37)(78,"br")(79,"br")(80,"br")(81,"img",38)(82,"br")(83,"br"),e.qZA()()()()),2&t&&(e.xp6(18),e.Q6J("ngModel",i.Ref),e.xp6(3),e.Q6J("ngForOf",i.ListTiers),e.xp6(6),e.Q6J("ngModel",i.TypeCompte),e.xp6(3),e.Q6J("ngForOf",i.list0),e.xp6(5),e.s9C("value",i.AccounName),e.xp6(8),e.s9C("min",i.min),e.s9C("max",i.max),e.Q6J("ngModel",i.startDate),e.xp6(6),e.s9C("min",i.min),e.s9C("max",i.max),e.Q6J("ngModel",i.EndDate),e.xp6(6),e.Q6J("ngIf",0==(null==i.listCh?null:i.listCh.length)&&!i.chargedData),e.xp6(1),e.Q6J("ngIf",i.chargedData),e.xp6(1),e.Q6J("ngIf",(null==i.listCh?null:i.listCh.length)>0),e.xp6(7),e.hij(" ",i.msg," "),e.xp6(13),e.Q6J("src",null==i.retour?null:i.retour.Image_Recto,e.LSH),e.xp6(4),e.Q6J("src",null==i.retour?null:i.retour.Image_Verso,e.LSH))},directives:[l.EJ,l.JJ,l.On,l.YN,l.Kr,c.sg,l.Fj,c.O5],styles:[".titleDet[_ngcontent-%COMP%]{font-size:18px;font-weight:500;color:#012970;font-family:Poppins,sans-serif}.spinner-border[_ngcontent-%COMP%]{width:5rem;height:5rem}td[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem}.show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}.uk-input[_ngcontent-%COMP%]{width:14%;height:50px;border-radius:5px;text-align:center;margin-right:10px!important;border:1px solid #949292;padding:0;margin:0;font-size:25px}.spanStat[_ngcontent-%COMP%]{width:-webkit-fill-available}"]}),n})();var x=g(520),I=g(2077);function $(n,a){1&n&&(e.TgZ(0,"div",9)(1,"div",10)(2,"h3",11),e._uU(3,"Suivi Demande Ch\xe9quier"),e.qZA(),e.TgZ(4,"div",12)(5,"div",13)(6,"span",14),e._uU(7,"Loading..."),e.qZA()()()()())}function z(n,a){if(1&n&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.hij(" ",t.FullName," ")}}function H(n,a){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function W(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,H,2,1,"div",34),e.qZA()),2&n){const t=a.$implicit,i=e.oxw(4);e.xp6(1),e.Q6J("ngIf",i.FormTiers.get("Tiers").hasError(t.type)&&(i.FormTiers.get("Tiers").dirty||i.FormTiers.get("Tiers").touched))}}function K(n,a){if(1&n&&(e.TgZ(0,"div",33),e.YNc(1,W,2,1,"div",22),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.Tiers)}}const X=function(n,a){return{"is-invalid":n,"is-valid":a}};function ee(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"form",23)(1,"div",24)(2,"div",25)(3,"div",26),e._uU(4,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(5,"span",27),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"select",28),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).ListDemande()}),e.TgZ(8,"option",29),e._uU(9," Choisir soci\xe9t\xe9 "),e.qZA(),e.YNc(10,z,2,2,"option",30),e.qZA(),e.YNc(11,K,2,1,"div",31),e.qZA()()()}if(2&n){const t=e.oxw(2);let i,o;e.Q6J("formGroup",t.FormTiers),e.xp6(7),e.Q6J("ngClass",e.WLB(4,X,(null==(i=t.FormTiers.get("Tiers"))?null:i.touched)&&(null==(i=t.FormTiers.get("Tiers"))?null:i.invalid),null==(i=t.FormTiers.get("Tiers"))?null:i.valid)),e.xp6(3),e.Q6J("ngForOf",t.ListTiers),e.xp6(1),e.Q6J("ngIf",(null==(o=t.FormTiers.get("Tiers"))?null:o.touched)&&(null==(o=t.FormTiers.get("Tiers"))?null:o.invalid))}}function te(n,a){1&n&&(e.TgZ(0,"div",36)(1,"div",37)(2,"div",38),e._uU(3," Aucunes donn\xe9es. "),e.qZA()()())}function ie(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",39),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"div",24)(9,"div",40)(10,"button",41),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).voirstatutDde(s.IdDemande,s.DateDemande,s.accountCode)}),e._uU(11,"Suivre demande"),e.qZA()()()()()}if(2&n){const t=a.$implicit;e.xp6(2),e.hij("",t.DateDemande," "),e.xp6(2),e.Oqu(t.accountCode),e.xp6(2),e.Oqu(t.numberOfCheque.substring(1,3))}}function ne(n,a){if(1&n&&(e.TgZ(0,"div",9)(1,"div",10)(2,"h3",11),e._uU(3,"Suivi Demande Ch\xe9quier"),e.qZA(),e.YNc(4,ee,12,7,"form",15),e._UZ(5,"br"),e.TgZ(6,"div",16),e.YNc(7,te,4,0,"div",17),e.qZA()(),e.TgZ(8,"table",18)(9,"thead",19)(10,"tr",20)(11,"th",21),e._uU(12,"Date demande"),e.qZA(),e.TgZ(13,"th",21),e._uU(14,"Compte"),e.qZA(),e.TgZ(15,"th",21),e._uU(16,"Nombre de ch\xe8ques"),e.qZA(),e.TgZ(17,"th",21),e._uU(18,"Suivi demande"),e.qZA(),e._UZ(19,"th"),e.qZA()(),e.TgZ(20,"tbody"),e.YNc(21,ie,12,3,"tr",22),e.qZA()()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",(null==t.ListTiers?null:t.ListTiers.length)>0),e.xp6(3),e.Q6J("ngIf",0==(null==t.ddeList?null:t.ddeList.length)&&""!=t.FormTiers.controls.Tiers.value),e.xp6(14),e.Q6J("ngForOf",t.ddeList)}}function oe(n,a){1&n&&(e.TgZ(0,"div",12)(1,"div",13)(2,"span",14),e._uU(3,"Loading..."),e.qZA()()())}function se(n,a){1&n&&(e.TgZ(0,"div",57)(1,"div",53),e._uU(2,"2"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"En cours de traitement"),e.qZA()())}function ae(n,a){1&n&&(e.TgZ(0,"div",52)(1,"div",53),e._uU(2,"2"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"En cours de traitement"),e.qZA()())}function re(n,a){1&n&&(e.TgZ(0,"div",57)(1,"div",53),e._uU(2,"3"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"En Impression"),e.qZA()())}function le(n,a){1&n&&(e.TgZ(0,"div",52)(1,"div",53),e._uU(2,"3"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"En Impression"),e.qZA()())}function de(n,a){1&n&&(e.TgZ(0,"div",57)(1,"div",53),e._uU(2,"4"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"En stock"),e.qZA()())}function ue(n,a){1&n&&(e.TgZ(0,"div",52)(1,"div",53),e._uU(2,"4"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"En stock"),e.qZA()())}function ce(n,a){1&n&&(e.TgZ(0,"div",57)(1,"div",53),e._uU(2,"5"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"D\xe9livr\xe9 au client"),e.qZA()())}function he(n,a){1&n&&(e.TgZ(0,"div",52)(1,"div",53),e._uU(2,"5"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"D\xe9livr\xe9 au client"),e.qZA()())}function me(n,a){1&n&&(e.TgZ(0,"div",58),e._UZ(1,"div",53),e.TgZ(2,"span"),e._uU(3,"Annul\xe9"),e.qZA()())}function ge(n,a){if(1&n&&(e.TgZ(0,"div",9)(1,"div",10)(2,"h5",11),e._uU(3,"Suivi de la Demande "),e.qZA(),e.TgZ(4,"div",24)(5,"div",42),e._UZ(6,"br"),e.qZA(),e._UZ(7,"br")(8,"br"),e.TgZ(9,"div",24)(10,"div",42)(11,"div",24)(12,"div",43)(13,"span",44),e._uU(14," Compte :"),e.qZA()(),e.TgZ(15,"div",43)(16,"span",45),e._uU(17),e.qZA()()()(),e.TgZ(18,"div",42)(19,"div",24)(20,"div",43)(21,"span",44),e._uU(22," Date demande:"),e.qZA()(),e.TgZ(23,"div",43)(24,"span",45),e._uU(25),e.qZA()()()(),e._UZ(26,"br")(27,"br")(28,"br"),e.TgZ(29,"div",46)(30,"div",47)(31,"div",48)(32,"div",49),e._UZ(33,"div"),e._uU(34," Accompli "),e.qZA(),e.TgZ(35,"div",50),e._UZ(36,"div"),e._uU(37," En attente "),e.qZA(),e.TgZ(38,"div",51),e._UZ(39,"div"),e._uU(40," Annul\xe9 "),e.qZA()()(),e._UZ(41,"br")(42,"br"),e.TgZ(43,"div",52)(44,"div",53),e._uU(45,"1"),e.qZA(),e.TgZ(46,"span"),e._uU(47,"Demande prise en charge"),e.qZA()(),e.YNc(48,se,5,0,"div",54),e.YNc(49,ae,5,0,"div",55),e.YNc(50,re,5,0,"div",54),e.YNc(51,le,5,0,"div",55),e.YNc(52,de,5,0,"div",54),e.YNc(53,ue,5,0,"div",55),e.YNc(54,ce,5,0,"div",54),e.YNc(55,he,5,0,"div",55),e.YNc(56,me,4,0,"div",56),e.qZA()(),e._UZ(57,"div",24),e.qZA()()()),2&n){const t=e.oxw();e.xp6(17),e.Oqu(t.rib),e.xp6(8),e.Oqu(t.datedde.substr(0,10)),e.xp6(23),e.Q6J("ngIf","InImpression"!=t.RetStatus.status&&"InStock"!=t.RetStatus.status&&"Processing"!=t.RetStatus.status&&"Received"!=t.RetStatus.status&&"Created"!=t.RetStatus.status&&"Start"!=t.RetStatus.status&&"delivered"!=t.RetStatus.status),e.xp6(1),e.Q6J("ngIf","InImpression"==t.RetStatus.status||"InStock"==t.RetStatus.status||"Processing"==t.RetStatus.status||"Received"==t.RetStatus.status||"Created"==t.RetStatus.status||"Start"==t.RetStatus.status||"delivered"==t.RetStatus.status),e.xp6(1),e.Q6J("ngIf","InImpression"!=t.RetStatus.status&&"InStock"!=t.RetStatus.status&&"Processing"!=t.RetStatus.status&&"Received"!=t.RetStatus.status&&"delivered"!=t.RetStatus.status),e.xp6(1),e.Q6J("ngIf","InImpression"==t.RetStatus.status||"InStock"==t.RetStatus.status||"Processing"==t.RetStatus.status||"Received"==t.RetStatus.status||"delivered"==t.RetStatus.status),e.xp6(1),e.Q6J("ngIf","InStock"!=t.RetStatus.status&&"Processing"!=t.RetStatus.status&&"delivered"!=t.RetStatus.status&&"Received"!=t.RetStatus.status&&"delivered"!=t.RetStatus.status),e.xp6(1),e.Q6J("ngIf","InStock"==t.RetStatus.status||"Processing"==t.RetStatus.status||"delivered"==t.RetStatus.status||"Received"==t.RetStatus.status||"delivered"==t.RetStatus.status),e.xp6(1),e.Q6J("ngIf","Processing"!=t.RetStatus.status&&"delivered"!=t.RetStatus.status),e.xp6(1),e.Q6J("ngIf","Processing"==t.RetStatus.status||"delivered"==t.RetStatus.status),e.xp6(1),e.Q6J("ngIf","Rejected"==t.RetStatus.status||"Destroyed"==t.RetStatus.status||"Cancelled"==t.RetStatus.status)}}let pe=(()=>{class n{constructor(t,i,o,s,r,d,u){this.fb=t,this.http=i,this.router=o,this.VirServ=s,this.auth=r,this.CarteServ=d,this.banqServ=u,this.vali=!0,this.loader=!1,this.chargedData=!1,this.onetiers=!0,this.ListTiers=[],this.listTiers=[],this.ddeList=[],this.RetStatus=[],this.chargedData1=!1,this.createform()}createform(){this.FormTiers=this.fb.group({Tiers:["",l.kI.required]})}ngOnInit(){this.chargedData=!0,console.log("test git"),this.token=localStorage.getItem("token"),this.istrue=localStorage.getItem("istrue"),console.log(this.token),"true"==this.istrue?this.auth.getTiersByIdDigital(this.token).subscribe(t=>{console.log(t),this.chargedData=!1,this.ListTiers=t,0==this.ListTiers.length&&(this.onetiers=!0),1==this.ListTiers.length&&(this.tiersClient=this.ListTiers[0].Referentiel,this.onetiers=!0,this.FormTiers.controls.Tiers.setValue(this.tiersClient),this.ListDemande(),this.listTiers.push(this.tiersClient),console.log("only one"))},t=>{console.log("error API"),this.chargedData=!1,-1!=t.indexOf("401")&&this.router.navigate(["/"])}):this.router.navigate(["/"])}ListDemande(){this.Vs="no",this.chargedData=!0,null!=document.getElementById("CardDetails")&&(this.element=document.getElementById("CardDetails"),this.element.style.display="none"),this.banqServ.ListDemandeChequier(this.token,{accountCode:this.FormTiers.controls.Tiers.value,Status:"Validation"}).subscribe(i=>{console.log(i),this.ddeList=i,this.chargedData=!1},i=>{this.chargedData=!1,console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}FermerAlert(){var t;null===(t=document.getElementById("alertChamp"))||void 0===t||t.setAttribute("class","modal fade  hide")}voirstatutDde(t,i,o){this.Vs="",this.Account=t,this.datedde=i,this.rib=o,this.chargedData1=!0,this.banqServ.GetDemandeChequeStatus(this.token,t).subscribe(s=>{console.log(s),this.RetStatus=s[0],this.chargedData1=!1,null==this.RetStatus.status&&(this.Vs="no"),console.log(this.RetStatus.status)},s=>{console.log("error API"),-1!=s.indexOf("401")&&this.router.navigate(["/"])})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(x.eN),e.Y36(p.F0),e.Y36(v.t),e.Y36(b.r),e.Y36(I.K),e.Y36(f.t))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-consultationdemandechequier"]],decls:14,vars:5,consts:[["class","card",4,"ngIf"],["class","col-lg-12 text-center",4,"ngIf"],["id","alertChamp","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabelProcessed",1,"modal-title",2,"color","rgb(7, 7, 7)"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-lg-12","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[3,"formGroup",4,"ngIf"],[1,"row","text-center"],["class","col-lg-12 ","style","text-align: -webkit-center;",4,"ngIf"],[1,"table","table-bordered"],[2,"border-bottom","hidden"],[1,"",2,"background","#0b5ed7","color","white"],["scope","col"],[4,"ngFor","ngForOf"],[3,"formGroup"],[1,"row"],[1,"col-4"],[1,"font-weight-bold","TitleMobile",2,"text-align","initial"],[2,"color","red"],["name","origin_country","formControlName","Tiers",1,"custom-select","form-control",3,"ngClass","change"],["Value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],[3,"value"],[1,"alert","alert-danger"],["style","font-size:12px",4,"ngIf"],[2,"font-size","12px"],[1,"col-lg-12",2,"text-align","-webkit-center"],[1,"card",2,"width","fit-content"],[1,"card-header"],["scope","row"],[1,"col-12",2,"text-align","center"],["type","button",1,"btn","btn-success",3,"click"],[1,"col-12"],[1,"col-2"],[2,"font-family","Poppins, sans-serif"],[2,"font-size","15px"],[1,"modal-container"],[1,"etat-order"],[1,"etat"],[1,"valide","inline-flex"],[1,"non-valide","inline-flex"],[1,"problem","inline-flex"],[1,"liste-etat","valid-item"],[1,"numero"],["class","liste-etat non-valid-item",4,"ngIf"],["class","liste-etat valid-item",4,"ngIf"],["class","liste-etat problem-item",4,"ngIf"],[1,"liste-etat","non-valid-item"],[1,"liste-etat","problem-item"]],template:function(t,i){1&t&&(e.YNc(0,$,8,0,"div",0),e.YNc(1,ne,22,3,"div",0),e.YNc(2,oe,4,0,"div",1),e.YNc(3,ge,58,11,"div",0),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"h5",6)(9,"p"),e._uU(10),e.qZA()()(),e.TgZ(11,"div",7)(12,"button",8),e.NdJ("click",function(){return i.FermerAlert()}),e._uU(13,"Fermer"),e.qZA()()()()()),2&t&&(e.Q6J("ngIf",i.chargedData),e.xp6(1),e.Q6J("ngIf",!i.chargedData),e.xp6(1),e.Q6J("ngIf",i.chargedData1),e.xp6(1),e.Q6J("ngIf",0!=i.RetStatus.length&&"no"!=i.Vs),e.xp6(7),e.hij(" ",i.msg," "))},directives:[c.O5,l._Y,l.JL,l.sg,l.EJ,l.JJ,l.u,c.mk,l.YN,l.Kr,c.sg],styles:[".titleDet[_ngcontent-%COMP%]{font-size:18px;font-weight:500;color:#012970;font-family:Poppins,sans-serif}.spinner-border[_ngcontent-%COMP%]{width:5rem;height:5rem}td[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem}.show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}.uk-input[_ngcontent-%COMP%]{width:14%;height:50px;border-radius:5px;text-align:center;margin-right:10px!important;border:1px solid #949292;padding:0;margin:0;font-size:25px}.spanStat[_ngcontent-%COMP%]{width:-webkit-fill-available}.liste-etat[_ngcontent-%COMP%]{display:inline-flex;width:90%;border-radius:10px!important;padding:5px;margin-bottom:10px;margin-left:5%}.liste-etat[_ngcontent-%COMP%]   .numero[_ngcontent-%COMP%]{color:#fff;padding:10px 20px!important;border-radius:50%;font-size:20px;width:50px!important;height:50px;text-align:center}.liste-etat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;margin-left:10px;margin-top:12px}.valid-item[_ngcontent-%COMP%]{border:1px solid #49BC6B}.non-valid-item[_ngcontent-%COMP%]{border:1px solid #BEBEBE}.encours-item[_ngcontent-%COMP%]{border:1px solid #007FC2!important}.problem-item[_ngcontent-%COMP%]{border:1px solid #FF0000}.valid-item[_ngcontent-%COMP%]   .numero[_ngcontent-%COMP%]{background:#49BC6B}.encours-item[_ngcontent-%COMP%]   .numero[_ngcontent-%COMP%]{background:#007FC2!important}.problem-item[_ngcontent-%COMP%]   .numero[_ngcontent-%COMP%]{background:#FF0000}.non-valid-item[_ngcontent-%COMP%]   .numero[_ngcontent-%COMP%]{background:#BEBEBE}.liste-etat[_ngcontent-%COMP%]   .encours-color[_ngcontent-%COMP%]{color:#007fc2!important}.liste-etat[_ngcontent-%COMP%]   .problem-color[_ngcontent-%COMP%]{color:red!important}.liste-etat[_ngcontent-%COMP%]   .non-valid-color[_ngcontent-%COMP%]{color:#bebebe!important}.etat-order[_ngcontent-%COMP%]   .inline-flex[_ngcontent-%COMP%]{display:inline-flex;margin:0 5px}.etat-order[_ngcontent-%COMP%]{display:inline-block;width:100%;margin:auto;text-align:center}.etat-order[_ngcontent-%COMP%]   .etat[_ngcontent-%COMP%]{display:inline-block;width:100%;margin:auto;text-align:center;font-size:10px}.etat-order[_ngcontent-%COMP%]   .etat[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:50%;margin-right:5px;margin-top:0}.etat-order[_ngcontent-%COMP%]   .etat[_ngcontent-%COMP%]   .non-valide[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:#BEBEBE;border:1px solid #BEBEBE}.etat-order[_ngcontent-%COMP%]   .etat[_ngcontent-%COMP%]   .encours[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:#007FC2!important;border:1px solid #007FC2!important}.etat-order[_ngcontent-%COMP%]   .etat[_ngcontent-%COMP%]   .valide[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:#49BC6B;border:1px solid #49BC6B}.etat-order[_ngcontent-%COMP%]   .etat[_ngcontent-%COMP%]   .problem[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:#FF0000;border:1px solid #FF0000}"]}),n})();function _e(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.hij(" ",t.FullName," ")}}function fe(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.scheme),e.xp6(1),e.hij(" ",t.scheme," ")}}function ve(n,a){1&n&&(e.TgZ(0,"div",46)(1,"div",47)(2,"span",48),e._uU(3,"Loading..."),e.qZA()()())}let be=(()=>{class n{constructor(t,i,o,s,r){this.BanqueServ=t,this.router=i,this.VirServ=o,this.OpImp=s,this.auth=r,this.listCompte=[],this.list0=[],this.listCh=[],this.listCompts=[],this.img=!1,this.list01=[],this.min=new Date((new Date).setFullYear((new Date).getFullYear()-1)).toISOString().substring(0,10),console.log(this.min),this.max=(new Date).toISOString().substring(0,10),console.log(this.max)}ngOnInit(){var t,i;this.list01=[],this.list0=[];let o=(0,c.p6)(new Date,"yyyy-MM-dd","en_US");this.date=o,console.log(o),console.log("carte "),this.token=localStorage.getItem("token"),null===(t=document.getElementById("alertchampsVide"))||void 0===t||t.setAttribute("class","alert alert-danger alert-dismissible fade hide"),null===(i=document.getElementById("alertDateSup"))||void 0===i||i.setAttribute("class","alert alert-danger alert-dismissible fade hide"),this.chargedData=!0,this.auth.getTiersByIdDigital(this.token).subscribe(s=>{this.chargedData=!1,this.ListTiers=s},s=>{console.log("error API"),-1!=s.indexOf("401")&&this.router.navigate(["/"])})}voirCheques(){var t,i;this.Compte=this.TypeCompte,this.img=!0,(null==this.startDate||null==this.EndDate||null==this.Compte||""==this.startDate||""==this.EndDate||""==this.Compte)&&(this.msg="Champs vide !",null===(t=document.getElementById("alertChamp"))||void 0===t||t.setAttribute("class","modal fade  show")),new Date(this.startDate)>new Date(this.EndDate)?(console.log("---date1 is greater----"),this.msg="Date D\xe9but ne doit pas etre sup\xe9rieur au data Fin !",null===(i=document.getElementById("alertChamp"))||void 0===i||i.setAttribute("class","modal fade  show")):(this.startDate=this.startDate,this.EndDate=this.EndDate,this.firstRes="",this.maxRes="",this.defaultValues="0",this.accountCode=this.Compte,this.Compte=this.Compte,this.chargedData=!0,this.BanqueServ.GetListCheques(this.token,this.accountCode,this.startDate,this.EndDate,this.firstRes,this.maxRes,this.defaultValues).subscribe(o=>{this.chargedData=!1,this.listCh=o},o=>{console.log("error API"),-1!=o.indexOf("401")&&this.router.navigate(["/"])}))}voirImageChq(t,i){this.chargedImg="true"+i,this.operationType="ReceivedCheck",this.number=t,this.draweeRib=this.Compte,this.BanqueServ.GetImageCheques(this.token,this.number,this.draweeRib,this.operationType).subscribe(o=>{this.chargedImg="false",this.retour=o,this.base64=this.retour.base64pdf,this.Cheque=this.base64,this.fileName="Cheque",this.fileName="Cheque";const s=`data:application/pdf;base64,${this.Cheque}`,r=document.createElement("a");r.href=s,r.download=`${this.fileName}.pdf`,r.click()},o=>{console.log("error API"),-1!=o.indexOf("401")&&this.router.navigate(["/"])})}voirImageChqVerso(t,i){this.chargedImgV="trueR"+i,this.operationType="ReceivedCheck",this.number=t,this.draweeRib=this.Compte,this.BanqueServ.GetImageCheques(this.token,this.number,this.draweeRib,this.operationType).subscribe(o=>{var s;this.chargedImgV="false",this.retour=o,this.base64V="data:image/jpeg;base64,"+this.retour.Image_Verso,this.Cheque=this.base64,this.fileName="Cheque",null===(s=document.getElementById("VersoModal"))||void 0===s||s.setAttribute("class","modal fade  show")},o=>{console.log("error API"),-1!=o.indexOf("401")&&this.router.navigate(["/"])})}voirImageChqRecto(t,i){this.chargedImgR="trueR"+i,this.operationType="ReceivedCheck",this.number=t,this.draweeRib=this.Compte,this.BanqueServ.GetImageCheques(this.token,this.number,this.draweeRib,this.operationType).subscribe(o=>{var s;this.chargedImgR="false",this.retour=o,this.retour.Image_Recto="data:image/jpeg;base64,"+this.retour.Image_Recto,this.retour.Image_Verso="data:image/jpeg;base64,"+this.retour.Image_Verso,this.base64R="data:image/jpeg;base64,"+this.retour.Image_Recto,this.Cheque=this.base64,this.fileName="Cheque",null===(s=document.getElementById("RectoModal"))||void 0===s||s.setAttribute("class","modal fade  show")},o=>{console.log("error API"),-1!=o.indexOf("401")&&this.router.navigate(["/"])})}hidealert(){}getAccountsBytiers(){this.list0=[],this.AccounName="",this.VirServ.MinimalByRef(this.token,this.Ref).subscribe(t=>{this.listCompts=t.accounts;for(var i=0;i<this.listCompts.length;i++)this.list0.push(this.listCompts[i].account_routings[0])},t=>{console.log("error API"),-1!=t.indexOf("401")&&this.router.navigate(["/"])})}getAccountsBytiers1(){this.list01=[],this.VirServ.MinimalByRef(this.token,this.Ref1).subscribe(t=>{this.listCompts=t.accounts;for(var i=0;i<this.listCompts.length;i++)this.list01.push(this.listCompts[i].account_routings[0])},t=>{console.log("error API"),-1!=t.indexOf("401")&&this.router.navigate(["/"])})}getAccountName(){this.AccNum=this.TypeCompte;for(var t=0;t<this.listCompts.length;t++)this.AccNum==this.listCompts[t].account_routings[0].scheme&&(this.pk=this.listCompts[t].id);this.OpImp.getDataByAccount(this.token,this.pk).subscribe(i=>{this.AccounName=i.fullname},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}getAccountName1(){this.AccNum=this.TypeCompte1;for(var t=0;t<this.listCompts.length;t++)this.AccNum==this.listCompts[t].account_routings[0].scheme&&(this.pk=this.listCompts[t].id);this.OpImp.getDataByAccount(this.token,this.pk).subscribe(i=>{this.AccounName1=i.fullname},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}FermerAlert(){var t;null===(t=document.getElementById("alertChamp"))||void 0===t||t.setAttribute("class","modal fade  hide"),"Processed"==this.retour.Status&&location.reload()}ValiderOtpDelivrance(){var t=document.getElementById("input1").value,i=document.getElementById("input2").value,o=document.getElementById("input3").value,s=document.getElementById("input4").value,r=document.getElementById("input5").value;this.BanqueServ.GetOTPCorp(this.token,t+i+o+s+r).subscribe(u=>{var m,h,T;this.dataRet=u,"Denied"==this.dataRet.Statut?(document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",this.el=document.getElementById("ModalCompare"),null===(m=this.el)||void 0===m||m.setAttribute("class","modal fade  hide"),this.msg="Code OTP incorrect",this.el=document.getElementById("alertChamp"),null===(h=this.el)||void 0===h||h.setAttribute("class","modal fade  show")):(this.el=document.getElementById("ModalCompare"),null===(T=this.el)||void 0===T||T.setAttribute("class","modal fade  hide"),document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",this.DemanderCh())},u=>{console.log("error API"),-1!=u.indexOf("401")&&this.router.navigate(["/"])})}disactibvatebnt(){const t=document.getElementById("btn");null==t||t.setAttribute("disabled","")}activateBtn(){document.getElementById("btn").disabled=!1}DemanderCh(){var t;if(null==this.nbre||null==this.Ref||null==this.TypeCompte||""==this.nbre||""==this.Ref||""==this.TypeCompte){const i=document.getElementById("btn");null==i||i.setAttribute("disabled",""),this.msg="Champs vide !",null===(t=document.getElementById("alertChamp"))||void 0===t||t.setAttribute("class","modal fade  show")}else{document.getElementById("btn").disabled=!1;let i={Login:localStorage.getItem("cuser")};this.VirServ.getuserdata(i,this.token).subscribe(o=>{var s;this.dataRet=o,this.GSM=this.dataRet.mobile,"99"!=this.dataRet.ResponseCode?(this.accountCode=this.TypeCompte,this.requesterMail="stbCorp@gmail.com",this.numberOfCheckBooks="1",this.requesterAddress="STB Bank",this.numberOfCheque="0"+this.nbre,this.requesterIdTypeCode="07",this.requesterIdDocument=this.requesterIdDocument,this.description="Demande de Carnet de cheque",this.reference=this.Ref,this.requesterPhone=this.dataRet.mobile,this.chargedData=!0,this.BanqueServ.DemanderCheques(this.token,this.accountCode,this.requesterMail,this.requesterPhone,this.numberOfCheckBooks,this.requesterAddress,this.numberOfCheque,this.requesterIdTypeCode,this.requesterIdDocument,this.description,this.reference).subscribe(r=>{var d,u,m;if(this.chargedData=!1,this.retour=r,"Validation enregistr\xe9e avec succ\xe8s"==this.retour.Status){this.msg="Demande Initi\xe9e avec succ\xe8s !",null===(d=document.getElementById("alertChamp"))||void 0===d||d.setAttribute("class","modal fade  show"),this.Ref="",this.TypeCompte="",this.AccounName="",this.nbre="";const h=document.getElementById("btn");null==h||h.setAttribute("disabled","")}else if("Erreur enregistrement"==this.retour.Status||"Error"==this.retour.RejectMessage){this.msg="Veuillez r\xe9essayer plut tard!",null===(u=document.getElementById("alertChamp"))||void 0===u||u.setAttribute("class","modal fade  show"),this.Ref="",this.TypeCompte="",this.AccounName="",this.nbre="";const h=document.getElementById("btn");null==h||h.setAttribute("disabled","")}else{this.msg="Vous avez d\xe9j\xe0 une demande en cours!",null===(m=document.getElementById("alertChamp"))||void 0===m||m.setAttribute("class","modal fade  show"),this.Ref="",this.TypeCompte="",this.AccounName="",this.nbre="";const h=document.getElementById("btn");null==h||h.setAttribute("disabled","")}},r=>{console.log("error API"),-1!=r.indexOf("401")&&this.router.navigate(["/"])})):(this.msg="Veuillez r\xe9essayer plut tard!",null===(s=document.getElementById("alertChamp"))||void 0===s||s.setAttribute("class","modal fade  show"))},o=>{console.log("error API"),-1!=o.indexOf("401")&&this.router.navigate(["/"])})}}FermerOTP(){var t;null===(t=document.getElementById("ModalCompare"))||void 0===t||t.setAttribute("class","modal fade  hide")}voirstatutDde(){var t;this.Vs="",(""==this.TypeCompte1||null==this.TypeCompte1||null==this.TypeCompte1)&&(this.msg="Veuillez choir un num\xe9ro de compte !",null===(t=document.getElementById("alertChamp"))||void 0===t||t.setAttribute("class","modal fade  show")),this.chargedData1=!0,this.BanqueServ.GetDemandeChequeStatus(this.token,this.TypeCompte1).subscribe(i=>{this.RetStatus=i,this.chargedData1=!1,null==this.RetStatus.Status&&(this.Vs="no")},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}ClearData(){this.listCh=[],this.Compte="",this.Ref="",this.TypeCompte="",this.AccounName="",this.Ref1="",this.TypeCompte1="",this.AccounName1="",this.RetStatus="",this.nbre=""}ClearData1(){this.listCh=[],this.Compte="",this.Ref="",this.TypeCompte="",this.AccounName="",this.Ref1="",this.TypeCompte1="",this.AccounName1="",this.RetStatus="",this.list0=[],this.nbre=""}ClosePopUp(){var t;null===(t=document.getElementById("RectoModal"))||void 0===t||t.setAttribute("class","modal fade  hide")}ClosePopUp1(){var t;null===(t=document.getElementById("VersoModal"))||void 0===t||t.setAttribute("class","modal fade  hide")}DownloadImg(t){this.imageName="ImageChequeRecto";const i=document.createElement("a");i.href=t,i.download=this.imageName,i.click()}DownloadImgV(t){this.imageName="ImageChequeVerso";const i=document.createElement("a");i.href=t,i.download=this.imageName,i.click()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.t),e.Y36(p.F0),e.Y36(v.t),e.Y36(C.e),e.Y36(b.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-demandechequier"]],decls:107,vars:13,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"font-weight-bold","TitleMobile",2,"text-align","initial"],[2,"color","red"],["name","origin_country",1,"custom-select","form-control",3,"ngModel","change","ngModelChange"],["Value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["disabled","",1,"custom-select","form-control",3,"value"],["name","nbre",1,"custom-select","form-control",3,"ngModel","ngModelChange"],["value","25"],["value","50"],[2,"text-align","end"],["id","btn",1,"btn","btn-primary","btn-lg",2,"height","43px",3,"click"],["class","col-lg-12 text-center",4,"ngIf"],["id","alertChamp","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabelProcessed",1,"modal-title",2,"color","rgb(7, 7, 7)"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["id","ModalCompare","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","hide",2,"margin-top","15%"],["id","exampleModalLabel",1,"modal-title",2,"color","rgb(7, 7, 7)"],[1,"modal-body",2,"text-align","center"],[1,"inline-flex"],["type","text","maxlength","1","id","input1","onkeyup","document.getElementById('input2').focus();",1,"uk-input"],["type","text","maxlength","1","id","input2","onkeyup","document.getElementById('input3').focus();",1,"uk-input"],["type","text","maxlength","1","id","input3","onkeyup","document.getElementById('input4').focus();",1,"uk-input"],["type","text","maxlength","1","id","input4","onkeyup","document.getElementById('input5').focus();",1,"uk-input"],["type","text","maxlength","1","id","input5","onkeyup","document.getElementById('input5').blur();",1,"uk-input"],["type","button",1,"btn","btn-primary",3,"click"],["id","RectoModal","tabindex","-1","aria-labelledby","DomicileFRModalLabel","aria-hidden","true",1,"modal","text-center"],[1,"modal-dialog","modal-fullscreen","p-2"],[1,"modal-content","p-3"],["id","DomicileFRModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","text-center"],["alt","",1,"my-3",3,"src"],[1,"btn","btn-primary","btn-lg",3,"click"],["alt","",3,"src"],["id","VersoModal","tabindex","-1","aria-labelledby","DomicileFRModalLabel","aria-hidden","true",1,"modal","text-center"],[3,"value"],[1,"col-lg-12","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._uU(3,"Demande ch\xe9quier"),e.qZA(),e.TgZ(4,"div",3)(5,"div",4)(6,"div",3)(7,"div",5)(8,"div",6),e._uU(9,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(10,"span",7),e._uU(11,"*"),e.qZA()(),e.TgZ(12,"select",8),e.NdJ("change",function(){return i.getAccountsBytiers(),i.activateBtn()})("ngModelChange",function(s){return i.Ref=s}),e.TgZ(13,"option",9),e._uU(14," Choisir soci\xe9t\xe9 "),e.qZA(),e.YNc(15,_e,2,2,"option",10),e.qZA()(),e.TgZ(16,"div",5)(17,"div",6),e._uU(18,"Choisir un compte "),e.TgZ(19,"span",7),e._uU(20,"*"),e.qZA()(),e.TgZ(21,"select",8),e.NdJ("change",function(){return i.getAccountName(),i.activateBtn()})("ngModelChange",function(s){return i.TypeCompte=s}),e.TgZ(22,"option",9),e._uU(23," Choisir compte "),e.qZA(),e.YNc(24,fe,2,2,"option",10),e.qZA()(),e.TgZ(25,"div",5)(26,"div",6),e._uU(27,"Libell\xe9s des comptes"),e.qZA(),e._UZ(28,"input",11),e.qZA()()()(),e._UZ(29,"br"),e.TgZ(30,"div",3)(31,"div",5)(32,"div",6),e._uU(33,"S\xe9lectionnez le nombre de ch\xe8quesS\xe9lec "),e.TgZ(34,"span",7),e._uU(35,"*"),e.qZA()(),e.TgZ(36,"select",12),e.NdJ("ngModelChange",function(s){return i.nbre=s}),e.TgZ(37,"option",9),e._uU(38," Choisir Nombre "),e.qZA(),e.TgZ(39,"option",13),e._uU(40," 25 "),e.qZA(),e.TgZ(41,"option",14),e._uU(42," 50 "),e.qZA()()()(),e.TgZ(43,"div",3)(44,"div",4)(45,"div",15)(46,"button",16),e.NdJ("click",function(){return i.DemanderCh()}),e._uU(47,"valider"),e.qZA()()()()()(),e.YNc(48,ve,4,0,"div",17),e.TgZ(49,"div",18)(50,"div",19)(51,"div",20)(52,"div",21)(53,"h5",22)(54,"p"),e._uU(55),e.qZA()()(),e.TgZ(56,"div",23)(57,"button",24),e.NdJ("click",function(){return i.FermerAlert()}),e._uU(58,"Fermer"),e.qZA()()()()(),e.TgZ(59,"div",25)(60,"div",19)(61,"div",20)(62,"div",21)(63,"h5",26)(64,"p"),e._uU(65),e.qZA()()(),e.TgZ(66,"div",27)(67,"div",28),e._UZ(68,"input",29)(69,"input",30)(70,"input",31)(71,"input",32)(72,"input",33),e.qZA()(),e.TgZ(73,"div",23)(74,"button",24),e.NdJ("click",function(){return i.FermerOTP()}),e._uU(75,"Fermer"),e.qZA(),e.TgZ(76,"button",34),e.NdJ("click",function(){return i.ValiderOtpDelivrance()}),e._uU(77,"Valider"),e.qZA()()()()(),e.TgZ(78,"div",35)(79,"div",36)(80,"div",37)(81,"div",21)(82,"h1",38),e._uU(83,"Image Ch\xe8que Recto\\Verso "),e.qZA(),e.TgZ(84,"button",39),e.NdJ("click",function(){return i.ClosePopUp()}),e.qZA()(),e.TgZ(85,"div",40),e._UZ(86,"img",41)(87,"br"),e.TgZ(88,"button",42),e.NdJ("click",function(){return i.DownloadImg(null==i.retour?null:i.retour.Image_Recto)}),e._uU(89,"T\xe9l\xe9charger Recto"),e.qZA(),e._UZ(90,"br")(91,"br")(92,"img",43)(93,"br")(94,"br"),e.TgZ(95,"button",42),e.NdJ("click",function(){return i.DownloadImgV(null==i.retour?null:i.retour.Image_Verso)}),e._uU(96,"T\xe9l\xe9charger Verso"),e.qZA()()()()(),e.TgZ(97,"div",44)(98,"div",36)(99,"div",37)(100,"div",21)(101,"h1",38),e._uU(102,"Image Ch\xe8que Verso "),e.qZA(),e.TgZ(103,"button",39),e.NdJ("click",function(){return i.ClosePopUp1()}),e.qZA()(),e.TgZ(104,"div",40),e._UZ(105,"img",41)(106,"img",43),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngModel",i.Ref),e.xp6(3),e.Q6J("ngForOf",i.ListTiers),e.xp6(6),e.Q6J("ngModel",i.TypeCompte),e.xp6(3),e.Q6J("ngForOf",i.list0),e.xp6(4),e.s9C("value",i.AccounName),e.xp6(8),e.Q6J("ngModel",i.nbre),e.xp6(12),e.Q6J("ngIf",i.chargedData),e.xp6(7),e.hij(" ",i.msg," "),e.xp6(10),e.hij(" Veuillez introduire le code de s\xe9curit\xe9 envoy\xe9 sur le num\xe9ro de t\xe9l\xe9phone : ",i.GSM," "),e.xp6(21),e.Q6J("src",null==i.retour?null:i.retour.Image_Recto,e.LSH),e.xp6(6),e.Q6J("src",null==i.retour?null:i.retour.Image_Verso,e.LSH),e.xp6(13),e.Q6J("src",null==i.retour?null:i.retour.Image_Recto,e.LSH),e.xp6(1),e.Q6J("src",null==i.retour?null:i.retour.Image_Verso,e.LSH))},directives:[l.EJ,l.JJ,l.On,l.YN,l.Kr,c.sg,c.O5],styles:[".titleDet[_ngcontent-%COMP%]{font-size:18px;font-weight:500;color:#012970;font-family:Poppins,sans-serif}.spinner-border[_ngcontent-%COMP%]{width:5rem;height:5rem}td[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem}.show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}.uk-input[_ngcontent-%COMP%]{width:14%;height:50px;border-radius:5px;text-align:center;margin-right:10px!important;border:1px solid #949292;padding:0;margin:0;font-size:25px}.spanStat[_ngcontent-%COMP%]{width:-webkit-fill-available}"]}),n})();var Z=g(1535);function Ce(n,a){if(1&n&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.hij(" ",t.FullName," ")}}function Te(n,a){if(1&n&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.scheme),e.xp6(1),e.hij(" ",t.scheme," ")}}function Ze(n,a){1&n&&(e.TgZ(0,"div",36)(1,"div",37)(2,"span",38),e._uU(3,"Loading..."),e.qZA()()())}function Ae(n,a){1&n&&(e.TgZ(0,"div",39)(1,"div",37)(2,"span",38),e._uU(3,"Loading..."),e.qZA()()())}function ye(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",39)(1,"button",40),e.NdJ("click",function(){return e.CHM(t),e.oxw().onClickDownloadPdf()}),e._uU(2,"T\xe9l\xe9charger"),e.qZA()()}}function qe(n,a){1&n&&(e.TgZ(0,"h2",41),e._uU(1,"Echelle d'int\xe9r\xeat "),e.qZA())}function xe(n,a){if(1&n&&(e.TgZ(0,"div",42),e._UZ(1,"pdf-viewer",43),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("src",t.src)("render-text",!0)("original-size",!1)}}let Ie=(()=>{class n{constructor(t,i,o,s,r){var d,u;this.BanqueServ=t,this.router=i,this.VirServ=o,this.auth=s,this.OpImp=r,this.loader=!1,this.Download=!1,this.list0=[],this.listCompts=[],this.ListTiers=[],null===(d=document.getElementById("alertchampsVide"))||void 0===d||d.setAttribute("class","alert alert-danger alert-dismissible fade hide"),null===(u=document.getElementById("alertDateSup"))||void 0===u||u.setAttribute("class","alert alert-danger alert-dismissible fade hide")}ngOnInit(){var t,i;let o=(0,c.p6)(new Date,"yyyy-MM-dd","en_US");this.date=o,console.log(o),console.log("carte "),this.token=localStorage.getItem("token"),null===(t=document.getElementById("alertchampsVide"))||void 0===t||t.setAttribute("class","alert alert-danger alert-dismissible fade hide"),null===(i=document.getElementById("alertDateSup"))||void 0===i||i.setAttribute("class","alert alert-danger alert-dismissible fade hide"),this.chargedData=!0,this.auth.getTiersByIdDigital(this.token).subscribe(s=>{this.chargedData=!1,this.ListTiers=s},s=>{console.log("error API"),-1!=s.indexOf("401")&&this.router.navigate(["/"])})}getAccountsBytiers(){this.list0=[],this.AccounName="",this.VirServ.MinimalByRef(this.token,this.Ref).subscribe(t=>{this.listCompts=t.accounts;for(var i=0;i<this.listCompts.length;i++)this.list0.push(this.listCompts[i].account_routings[0])},t=>{console.log("error API"),-1!=t.indexOf("401")&&this.router.navigate(["/"])})}getAccountName(){this.AccNum=this.TypeCompte;for(var t=0;t<this.listCompts.length;t++)this.AccNum==this.listCompts[t].account_routings[0].scheme&&(this.pk=this.listCompts[t].id);this.OpImp.getDataByAccount(this.token,this.pk).subscribe(i=>{this.AccounName=i.fullname},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}hidealert(){var t,i;null===(t=document.getElementById("alertchampsVide"))||void 0===t||t.setAttribute("class","alert alert-danger alert-dismissible fade hide"),null===(i=document.getElementById("alertDateSup"))||void 0===i||i.setAttribute("class","alert alert-danger alert-dismissible fade hide")}VisualiserExtrait(){var t,i,o,s,r;this.Compte=this.TypeCompte,(null==this.Compte||""==this.Compte)&&(null===(t=document.getElementById("alertchampsVide"))||void 0===t||t.setAttribute("class","alert alert-danger alert-dismissible fade show")),(null==this.Trim||""==this.Trim)&&(null===(i=document.getElementById("alertchampsVide"))||void 0===i||i.setAttribute("class","alert alert-danger alert-dismissible fade show")),(null==this.Annee||""==this.Annee)&&(null===(o=document.getElementById("alertchampsVide"))||void 0===o||o.setAttribute("class","alert alert-danger alert-dismissible fade show")),null!=this.Compte&&null!=this.Trim&&null!=this.Annee&&(null===(s=document.getElementById("alertchampsVide"))||void 0===s||s.setAttribute("class","alert alert-danger alert-dismissible fade hide"),null===(r=document.getElementById("alertDateSup"))||void 0===r||r.setAttribute("class","alert alert-danger alert-dismissible fade hide"),this.GetExtrait())}GetExtrait(){this.loader=!0,this.Download=!1,this.base="",this.src="",this.pdf="",this.FileName="Echelle",this.BanqueServ.GetDaveDocs(this.token,this.FileName,"",this.Annee,"",this.Trim,this.Compte).subscribe(t=>{var i,o;this.ExtraitBase64=t,"Pas de donn\xe9es pour cette date"==this.ExtraitBase64?(this.msg="Pas de donn\xe9es pour cette date",this.Download=!1,this.base="",this.src="",this.pdf="",null===(i=document.getElementById("alertData"))||void 0===i||i.setAttribute("class","modal fade  show"),this.loader=!1):(this.base=this.ExtraitBase64.pdfBase64,this.pdf="data:application/pdf;base64,"+this.base,"Error"!=this.ExtraitBase64&&(this.src=this._base64ToArrayBuffer(this.base),this.loader=!1,this.Download=!0),"Error"==this.ExtraitBase64&&(this.loader=!1,this.Download=!1,this.msg="Pas de donn\xe9es",null===(o=document.getElementById("alertData"))||void 0===o||o.setAttribute("class","modal fade  show")))},t=>{console.log("error API"),-1!=t.indexOf("401")&&this.router.navigate(["/"])})}_base64ToArrayBuffer(t){for(var i=t.replace(/\\n/g,""),o=(i=window.atob(t)).length,s=new Uint8Array(o),r=0;r<o;r++)s[r]=i.charCodeAt(r);return s.buffer}downloadPdf(t,i){const o=`data:application/pdf;base64,${this.base}`,s=document.createElement("a");s.href=o,s.download="EchelleInteret.pdf",s.click()}onClickDownloadPdf(){this.downloadPdf("your-base64-string","sample")}FermerAlert(){var t;null===(t=document.getElementById("alertData"))||void 0===t||t.setAttribute("class","modal fade  hide")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.t),e.Y36(p.F0),e.Y36(v.t),e.Y36(b.r),e.Y36(C.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-echelle"]],decls:95,vars:13,consts:[[1,"section","mt-4"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-4"],[1,"col-12"],[1,"font-weight-bold","TitleMobile",2,"text-align","initial"],[2,"color","red"],["name","origin_country",1,"custom-select","form-control",3,"ngModel","change","ngModelChange"],["Value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["disabled","",1,"custom-select","form-control",3,"value"],[1,"row",2,"margin-left","0%"],[2,"font-family","Poppins, sans-serif"],["aria-label","Default select example",1,"form-select",3,"ngModel","ngModelChange"],["hidden","","selected","",3,"ngValue"],[1,"col-1"],[1,"col-9"],[1,"col-3",2,"text-align","end"],[1,"btn","btn-primary","btn-lg",3,"click"],["class","col-lg-12 text-center",4,"ngIf"],["id","alertchampsVide","role","alert",1,"alert","alert-danger","alert-dismissible","fade"],["id","alertDateSup","role","alert",1,"alert","alert-danger","alert-dismissible","fade"],["style","text-align: center;",4,"ngIf"],["class","card-title","style","text-align: center;",4,"ngIf"],["style"," text-align: -webkit-center;",4,"ngIf"],["id","alertData","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabelProcessed",1,"modal-title",2,"color","rgb(7, 7, 7)"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],[3,"value"],[1,"col-lg-12","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[2,"text-align","center"],[1,"btn","btn-primary","btn-lg",2,"height","43px",3,"click"],[1,"card-title",2,"text-align","center"],[2,"text-align","-webkit-center"],[2,"width","800px","height","700px",3,"src","render-text","original-size"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6,"Consultation Echelle d'int\xe9r\xeat "),e.qZA(),e.TgZ(7,"div",1)(8,"div",6),e._UZ(9,"div",1),e.qZA(),e.TgZ(10,"div",1)(11,"div",7)(12,"div",1)(13,"div",6)(14,"div",8),e._uU(15,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(16,"span",9),e._uU(17,"*"),e.qZA()(),e.TgZ(18,"select",10),e.NdJ("change",function(){return i.getAccountsBytiers()})("ngModelChange",function(s){return i.Ref=s}),e.TgZ(19,"option",11),e._uU(20," Choisir soci\xe9t\xe9 "),e.qZA(),e.YNc(21,Ce,2,2,"option",12),e.qZA()(),e.TgZ(22,"div",6)(23,"div",8),e._uU(24,"Choisir un compte "),e.TgZ(25,"span",9),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"select",10),e.NdJ("change",function(){return i.getAccountName()})("ngModelChange",function(s){return i.TypeCompte=s}),e.TgZ(28,"option",11),e._uU(29," Choisir compte "),e.qZA(),e.YNc(30,Te,2,2,"option",12),e.qZA()(),e.TgZ(31,"div",6)(32,"div",8),e._uU(33,"Libell\xe9s des comptes"),e.qZA(),e._UZ(34,"input",13),e.qZA()()()(),e.TgZ(35,"div",14)(36,"div",6)(37,"div",1)(38,"span",15),e._uU(39,"Ann\xe9e"),e.TgZ(40,"span",9),e._uU(41,"*"),e.qZA()()(),e.TgZ(42,"div",1)(43,"select",16),e.NdJ("ngModelChange",function(s){return i.Annee=s}),e.TgZ(44,"option",17),e._uU(45," Choisir l'ann\xe9e "),e.qZA(),e.TgZ(46,"option"),e._uU(47,"2022"),e.qZA(),e.TgZ(48,"option"),e._uU(49,"2023"),e.qZA()()()(),e._UZ(50,"div",18),e.TgZ(51,"div",6)(52,"div",1)(53,"span",15),e._uU(54,"Trimestre"),e.TgZ(55,"span",9),e._uU(56,"*"),e.qZA()()(),e.TgZ(57,"div",1)(58,"select",16),e.NdJ("ngModelChange",function(s){return i.Trim=s}),e.TgZ(59,"option",17),e._uU(60," Choisir Une trimestre "),e.qZA(),e.TgZ(61,"option"),e._uU(62,"T1"),e.qZA(),e.TgZ(63,"option"),e._uU(64,"T2"),e.qZA(),e.TgZ(65,"option"),e._uU(66,"T3"),e.qZA(),e.TgZ(67,"option"),e._uU(68,"T4"),e.qZA()()()()(),e.TgZ(69,"div",1),e._UZ(70,"div",19),e.TgZ(71,"div",20)(72,"button",21),e.NdJ("click",function(){return i.VisualiserExtrait()}),e._uU(73,"Visualiser"),e.qZA()()()()()(),e.YNc(74,Ze,4,0,"div",22),e.qZA()(),e.TgZ(75,"div",23),e._uU(76," Veuillez remplir toutes les entr\xe9es "),e.qZA(),e.TgZ(77,"div",24),e._uU(78," Date de d\xe9but doit \xeatre inf\xe9rieur ou \xe9gale date de fin "),e.qZA(),e.YNc(79,Ae,4,0,"div",25),e._UZ(80,"br")(81,"br"),e.YNc(82,ye,3,0,"div",25),e.qZA(),e.YNc(83,qe,2,0,"h2",26),e.YNc(84,xe,2,3,"div",27),e.TgZ(85,"div",28)(86,"div",29)(87,"div",30)(88,"div",31)(89,"h5",32)(90,"p"),e._uU(91),e.qZA()()(),e.TgZ(92,"div",33)(93,"button",34),e.NdJ("click",function(){return i.FermerAlert()}),e._uU(94,"Fermer"),e.qZA()()()()()),2&t&&(e.xp6(18),e.Q6J("ngModel",i.Ref),e.xp6(3),e.Q6J("ngForOf",i.ListTiers),e.xp6(6),e.Q6J("ngModel",i.TypeCompte),e.xp6(3),e.Q6J("ngForOf",i.list0),e.xp6(4),e.s9C("value",i.AccounName),e.xp6(9),e.Q6J("ngModel",i.Annee),e.xp6(15),e.Q6J("ngModel",i.Trim),e.xp6(16),e.Q6J("ngIf",i.chargedData),e.xp6(5),e.Q6J("ngIf",i.loader),e.xp6(3),e.Q6J("ngIf",i.Download),e.xp6(1),e.Q6J("ngIf",i.Download),e.xp6(1),e.Q6J("ngIf",i.Download),e.xp6(7),e.hij(" ",i.msg," "))},directives:[l.EJ,l.JJ,l.On,l.YN,l.Kr,c.sg,c.O5,Z.rQ],styles:[".spinner-border[_ngcontent-%COMP%]{width:5rem;height:5rem}td[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem}.show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}"]}),n})();function Ee(n,a){if(1&n&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.hij(" ",t.FullName," ")}}function De(n,a){if(1&n&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.scheme),e.xp6(1),e.hij(" ",t.scheme," ")}}function Me(n,a){1&n&&(e.TgZ(0,"div",26)(1,"div",27)(2,"span",28),e._uU(3,"Loading..."),e.qZA()()())}function Ue(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw().onClickDownloadPdf()}),e._uU(2,"T\xe9l\xe9charger"),e.qZA()()}}function Be(n,a){1&n&&(e.TgZ(0,"h2",29),e._uU(1,"Extrait de compte "),e.qZA())}let ke=(()=>{class n{constructor(t,i,o,s,r){var d,u;this.BanqueServ=t,this.router=i,this.VirServ=o,this.OpImp=s,this.auth=r,this.loader=!1,this.Download=!1,this.list0=[],this.listCompts=[],this.ListTiers=[],null===(d=document.getElementById("alertchampsVide"))||void 0===d||d.setAttribute("class","alert alert-danger alert-dismissible fade hide"),null===(u=document.getElementById("alertDateSup"))||void 0===u||u.setAttribute("class","alert alert-danger alert-dismissible fade hide");let m=new Date;var h=new Date;h.setMonth(h.getMonth()-1),h.setDate(1),this.min=h.toISOString().substr(0,10),this.max=m.toISOString().substring(0,10)}ngOnInit(){var t,i;let o=(0,c.p6)(new Date,"yyyy-MM-dd","en_US");this.date=o,console.log(o),console.log("carte "),this.token=localStorage.getItem("token"),null===(t=document.getElementById("alertchampsVide"))||void 0===t||t.setAttribute("class","alert alert-danger alert-dismissible fade hide"),null===(i=document.getElementById("alertDateSup"))||void 0===i||i.setAttribute("class","alert alert-danger alert-dismissible fade hide"),this.loader=!0,this.auth.getTiersByIdDigital(this.token).subscribe(s=>{this.loader=!1,this.ListTiers=s},s=>{console.log("error API"),-1!=s.indexOf("401")&&this.router.navigate(["/"])})}getAccountsBytiers(){this.list0=[],this.AccounName="",this.VirServ.MinimalByRef(this.token,this.Ref).subscribe(t=>{this.listCompts=t.accounts;for(var i=0;i<this.listCompts.length;i++)this.list0.push(this.listCompts[i].account_routings[0])},t=>{console.log("error API"),-1!=t.indexOf("401")&&this.router.navigate(["/"])})}getAccountName(){this.AccNum=this.TypeCompte;for(var t=0;t<this.listCompts.length;t++)this.AccNum==this.listCompts[t].account_routings[0].scheme&&(this.pk=this.listCompts[t].id);this.OpImp.getDataByAccount(this.token,this.pk).subscribe(i=>{this.AccounName=i.fullname},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}hidealert(){var t,i;null===(t=document.getElementById("alertchampsVide"))||void 0===t||t.setAttribute("class","alert alert-danger alert-dismissible fade hide"),null===(i=document.getElementById("alertDateSup"))||void 0===i||i.setAttribute("class","alert alert-danger alert-dismissible fade hide")}VisualiserExtrait(){var t,i,o,s,r,d;this.Compte=this.TypeCompte,(null==this.Compte||""==this.Compte)&&(null===(t=document.getElementById("alertchampsVide"))||void 0===t||t.setAttribute("class","alert alert-danger alert-dismissible fade show")),(null==this.startDate||""==this.startDate)&&(null===(i=document.getElementById("alertchampsVide"))||void 0===i||i.setAttribute("class","alert alert-danger alert-dismissible fade show")),(null==this.EndDate||""==this.EndDate)&&(null===(o=document.getElementById("alertchampsVide"))||void 0===o||o.setAttribute("class","alert alert-danger alert-dismissible fade show")),new Date(this.startDate)>new Date(this.EndDate)&&(console.log("---date1 is greater----"),null===(s=document.getElementById("alertDateSup"))||void 0===s||s.setAttribute("class","alert alert-danger alert-dismissible fade show")),null!=this.Compte&&null!=this.startDate&&null!=this.EndDate&&new Date(this.startDate)<=new Date(this.EndDate)&&(null===(r=document.getElementById("alertchampsVide"))||void 0===r||r.setAttribute("class","alert alert-danger alert-dismissible fade hide"),null===(d=document.getElementById("alertDateSup"))||void 0===d||d.setAttribute("class","alert alert-danger alert-dismissible fade hide"),this.GetExtrait())}GetExtrait(){this.loader=!0;let t=this.startDate.substring(8,10)+"/"+this.startDate.substring(5,7)+"/"+this.startDate.substring(0,4),i=this.EndDate.substring(8,10)+"/"+this.EndDate.substring(5,7)+"/"+this.EndDate.substring(0,4);this.BanqueServ.GetExtraitCompte(this.token,this.Compte,t,i).subscribe(o=>{this.ExtraitBase64=o,this.base=this.ExtraitBase64.Base64,this.pdf="data:application/pdf;base64,"+this.base,this.src=this._base64ToArrayBuffer(this.base),this.loader=!1,this.Download=!0},o=>{console.log("error API"),-1!=o.indexOf("401")&&this.router.navigate(["/"])})}_base64ToArrayBuffer(t){for(var i=t.replace(/\\n/g,""),o=(i=window.atob(t)).length,s=new Uint8Array(o),r=0;r<o;r++)s[r]=i.charCodeAt(r);return s.buffer}downloadPdf(t,i){const o=`data:application/pdf;base64,${this.base}`,s=document.createElement("a");s.href=o,s.download="Extrait.pdf",s.click()}onClickDownloadPdf(){this.downloadPdf("your-base64-string","sample")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.t),e.Y36(p.F0),e.Y36(v.t),e.Y36(C.e),e.Y36(b.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-extrait"]],decls:58,vars:17,consts:[[1,"section","mt-4"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-12"],[1,"col-4"],[1,"font-weight-bold","TitleMobile",2,"text-align","initial"],[2,"color","red"],["name","origin_country",1,"custom-select","form-control",3,"ngModel","change","ngModelChange"],["Value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["disabled","",1,"custom-select","form-control",3,"value"],["type","date","id","datepicker","onkeydown","return false",1,"form-control","py-2","search",3,"min","max","ngModel","keyup","ngModelChange"],["type","date","onkeydown","return false",1,"form-control","py-2","search",3,"min","max","ngModel","keyup","ngModelChange"],[1,"col-9"],[1,"col-3",2,"text-align","end"],[1,"btn","btn-primary","btn-lg",2,"height","43px",3,"click"],["id","alertchampsVide","role","alert",1,"alert","alert-danger","alert-dismissible","fade"],["id","alertDateSup","role","alert",1,"alert","alert-danger","alert-dismissible","fade"],["style","text-align: center;",4,"ngIf"],["class","card-title","style","text-align: center;",4,"ngIf"],[2,"text-align","-webkit-center"],[2,"width","800px","height","700px",3,"src","render-text","original-size"],[3,"value"],[2,"text-align","center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"card-title",2,"text-align","center"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6,"Consultation Extrait de compte"),e.qZA(),e.TgZ(7,"div",1)(8,"div",6)(9,"div",1)(10,"div",7)(11,"div",8),e._uU(12,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(13,"span",9),e._uU(14,"*"),e.qZA()(),e.TgZ(15,"select",10),e.NdJ("change",function(){return i.getAccountsBytiers()})("ngModelChange",function(s){return i.Ref=s}),e.TgZ(16,"option",11),e._uU(17," Choisir soci\xe9t\xe9 "),e.qZA(),e.YNc(18,Ee,2,2,"option",12),e.qZA()(),e.TgZ(19,"div",7)(20,"div",8),e._uU(21,"Choisir un compte "),e.TgZ(22,"span",9),e._uU(23,"*"),e.qZA()(),e.TgZ(24,"select",10),e.NdJ("change",function(){return i.getAccountName()})("ngModelChange",function(s){return i.TypeCompte=s}),e.TgZ(25,"option",11),e._uU(26," Choisir compte "),e.qZA(),e.YNc(27,De,2,2,"option",12),e.qZA()(),e.TgZ(28,"div",7)(29,"div",8),e._uU(30,"Libell\xe9s des comptes"),e.qZA(),e._UZ(31,"input",13),e.qZA()()()(),e.TgZ(32,"div",1)(33,"div",7)(34,"div",8),e._uU(35,"Date D\xe9but"),e.qZA(),e.TgZ(36,"input",14),e.NdJ("keyup",function(){return i.hidealert()})("ngModelChange",function(s){return i.startDate=s}),e.qZA()(),e.TgZ(37,"div",7)(38,"div",8),e._uU(39,"Date Fin"),e.qZA(),e.TgZ(40,"input",15),e.NdJ("keyup",function(){return i.hidealert()})("ngModelChange",function(s){return i.EndDate=s}),e.qZA()()(),e._UZ(41,"br"),e.TgZ(42,"div",1),e._UZ(43,"div",16),e.TgZ(44,"div",17)(45,"button",18),e.NdJ("click",function(){return i.VisualiserExtrait()}),e._uU(46,"Visualiser"),e.qZA()()()()()()(),e.TgZ(47,"div",19),e._uU(48," Veuillez remplir toutes les entr\xe9es "),e.qZA(),e.TgZ(49,"div",20),e._uU(50," Date de d\xe9but doit \xeatre inf\xe9rieur ou \xe9gale date de fin "),e.qZA(),e.YNc(51,Me,4,0,"div",21),e._UZ(52,"br")(53,"br"),e.YNc(54,Ue,3,0,"div",21),e.qZA(),e.YNc(55,Be,2,0,"h2",22),e.TgZ(56,"div",23),e._UZ(57,"pdf-viewer",24),e.qZA()),2&t&&(e.xp6(15),e.Q6J("ngModel",i.Ref),e.xp6(3),e.Q6J("ngForOf",i.ListTiers),e.xp6(6),e.Q6J("ngModel",i.TypeCompte),e.xp6(3),e.Q6J("ngForOf",i.list0),e.xp6(4),e.s9C("value",i.AccounName),e.xp6(5),e.s9C("min",i.min),e.s9C("max",i.max),e.Q6J("ngModel",i.startDate),e.xp6(4),e.s9C("min",i.min),e.s9C("max",i.max),e.Q6J("ngModel",i.EndDate),e.xp6(11),e.Q6J("ngIf",i.loader),e.xp6(3),e.Q6J("ngIf",i.Download),e.xp6(1),e.Q6J("ngIf",i.Download),e.xp6(2),e.Q6J("src",i.src)("render-text",!0)("original-size",!1))},directives:[l.EJ,l.JJ,l.On,l.YN,l.Kr,c.sg,l.Fj,c.O5,Z.rQ],styles:[".show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}.spinner-border[_ngcontent-%COMP%]{width:5rem;height:5rem}td[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem}"]}),n})();var Re=g(5928);function we(n,a){if(1&n&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.hij(" ",t.FullName," ")}}function Oe(n,a){1&n&&e._UZ(0,"hr")}function Ne(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"form")(2,"fieldset",25)(3,"legend",26),e._uU(4,"Recherche par:"),e.qZA(),e.TgZ(5,"div",27),e.NdJ("change",function(o){return e.CHM(t),e.oxw().getRechValue(o.target.value)}),e.TgZ(6,"div",28),e._UZ(7,"input",29),e.TgZ(8,"label",30),e._uU(9," Date "),e.qZA()(),e.TgZ(10,"div",28),e._UZ(11,"input",31),e.TgZ(12,"label",32),e._uU(13," Montant "),e.qZA()(),e.TgZ(14,"div",28),e._UZ(15,"input",33),e.TgZ(16,"label",34),e._uU(17," Statut "),e.qZA()()()()()()}}const A=function(n,a){return{"is-invalid":n,"is-valid":a}};function Se(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"form",38)(2,"div",25)(3,"label",39),e._uU(4,"Saisir le Montant:"),e.qZA(),e.TgZ(5,"div",7),e._UZ(6,"input",40),e.qZA(),e.TgZ(7,"div",41)(8,"button",42),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).GetNumDom()}),e._uU(9,"Rechercher"),e.qZA()()()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("formGroup",t.FormSearchDom),e.xp6(5),e.Q6J("ngClass",e.WLB(3,A,t.FormSearchDom.get("InputDom").touched&&t.FormSearchDom.get("InputDom").invalid,t.FormSearchDom.get("InputDom").valid)),e.xp6(2),e.Q6J("disabled",!t.FormSearchDom.valid)}}function Fe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"form",38)(2,"div",25)(3,"label",39),e._uU(4,"Saisir le Statut:"),e.qZA(),e.TgZ(5,"div",7)(6,"select",43),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).getStatusValue(o.target.value)}),e.TgZ(7,"option",44),e._uU(8,"S\xe9lectionner un statut"),e.qZA(),e.TgZ(9,"option",45),e._uU(10,"Validated"),e.qZA(),e.TgZ(11,"option",46),e._uU(12,"ToBeValidated"),e.qZA(),e.TgZ(13,"option",47),e._uU(14,"Cancelled"),e.qZA(),e.TgZ(15,"option",48),e._uU(16,"Closed"),e.qZA(),e.TgZ(17,"option",49),e._uU(18,"All"),e.qZA()()(),e.TgZ(19,"div",41)(20,"button",42),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).GetFrn()}),e._uU(21,"Rechercher"),e.qZA()()()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("formGroup",t.FormSearchFrn),e.xp6(19),e.Q6J("disabled",!t.FormSearchFrn.valid)}}function Pe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",50)(1,"form",38)(2,"div",25)(3,"label",51),e._uU(4,"Date d\xe9but:"),e.qZA(),e.TgZ(5,"div",52),e._UZ(6,"input",53),e.qZA(),e.TgZ(7,"label",51),e._uU(8,"/Date fin:"),e.qZA(),e.TgZ(9,"div",52),e._UZ(10,"input",54),e.qZA(),e.TgZ(11,"div",41)(12,"button",42),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).searchBetweenDates()}),e._uU(13,"Rechercher"),e.qZA()()()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("formGroup",t.FormSearch),e.xp6(5),e.Q6J("ngClass",e.WLB(4,A,t.FormSearch.get("dateDebut").touched&&t.FormSearch.get("dateDebut").invalid,t.FormSearch.get("dateDebut").valid)),e.xp6(4),e.Q6J("ngClass",e.WLB(7,A,t.FormSearch.get("dateFin").touched&&t.FormSearch.get("dateFin").invalid,t.FormSearch.get("dateFin").valid)),e.xp6(2),e.Q6J("disabled",!t.FormSearch.valid)}}function Je(n,a){if(1&n&&(e.TgZ(0,"div",35),e._UZ(1,"label"),e.YNc(2,Se,10,6,"div",36),e.YNc(3,Fe,22,2,"div",36),e.YNc(4,Pe,14,10,"div",37),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.Dom),e.xp6(1),e.Q6J("ngIf",t.Frn),e.xp6(1),e.Q6J("ngIf",t.Dt)}}function Ve(n,a){1&n&&(e.TgZ(0,"div",55)(1,"div",56)(2,"span",57),e._uU(3,"Loading..."),e.qZA()()())}function Ye(n,a){1&n&&(e.TgZ(0,"div",58)(1,"div",59)(2,"h6",60),e._uU(3,"Pas de donn\xe9es : "),e.qZA()()())}function Le(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",67),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).GetDetailsRemises(s.compte,s.reference_remise)}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA(),e.TgZ(23,"td"),e._uU(24),e.qZA()()}if(2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.Produit),e.xp6(2),e.Oqu(t.code_Contrat),e.xp6(2),e.Oqu(t.RIB.substring(5,18)),e.xp6(2),e.hij("",t.Montant_Capital," \u200b"),e.xp6(2),e.hij("",t.Montant_Restant," \u200b"),e.xp6(2),e.hij("",t.Code_devise," \u200b"),e.xp6(2),e.hij("",t.Duree," Jours \u200b"),e.xp6(2),e.hij("",t.Date_souscription.substring(0,10)," \u200b"),e.xp6(2),e.hij("",t.Date_Fin.substring(0,10)," \u200b"),e.xp6(2),e.hij("",t.Date_Echeance.substring(0,10)," \u200b"),e.xp6(2),e.hij("",t.negociable," "),e.xp6(2),e.hij("",t.Statut," ")}}function Qe(n,a){if(1&n&&(e.TgZ(0,"div",61)(1,"table",62)(2,"thead",63)(3,"tr",64)(4,"th",65),e._uU(5,"Produit"),e.qZA(),e.TgZ(6,"th",65),e._uU(7,"REF"),e.qZA(),e.TgZ(8,"th",65),e._uU(9,"CCB N\xb0"),e.qZA(),e.TgZ(10,"th",65),e._uU(11,"Montant"),e.qZA(),e.TgZ(12,"th",65),e._uU(13,"Montant Restant"),e.qZA(),e.TgZ(14,"th",65),e._uU(15,"Devise"),e.qZA(),e.TgZ(16,"th",65),e._uU(17,"Dur\xe9e"),e.qZA(),e.TgZ(18,"th",65),e._uU(19,"Date de souscription"),e.qZA(),e.TgZ(20,"th",65),e._uU(21,"Date tomb\xe9e"),e.qZA(),e.TgZ(22,"th",65),e._uU(23,"Date ech\xe9ance"),e.qZA(),e.TgZ(24,"th",65),e._uU(25,"N\xe9gociation"),e.qZA(),e.TgZ(26,"th",65),e._uU(27,"Statut"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,Le,25,12,"tr",66),e.qZA()()()),2&n){const t=e.oxw();e.xp6(29),e.Q6J("ngForOf",t.InvestGlobalList)}}let je=(()=>{class n{constructor(t,i,o,s,r,d){var u;this.fb=t,this.BanqueServ=i,this.router=o,this.VirServ=s,this.OpImp=r,this.auth=d,this.Download=!1,this.list0=[],this.listCompts=[],this.ListTiers=[],this.Dom=!1,this.Dt=!1,this.Frn=!1,this.dates=!1,this.search=!1,this.search1=!1,null===(u=document.getElementById("alertchampsVide"))||void 0===u||u.setAttribute("class","alert alert-danger alert-dismissible fade hide"),this.rechercherForm(),this.rechercherFormDom(),this.rechercherFormFrn()}ngOnInit(){var t;console.log("carte "),this.token=localStorage.getItem("token"),null===(t=document.getElementById("alertchampsVide"))||void 0===t||t.setAttribute("class","alert alert-danger alert-dismissible fade hide"),this.loader=!0,this.auth.getTiersByIdDigital(this.token).subscribe(i=>{this.loader=!1,console.log(i),this.ListTiers=i},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}getAccountsBytiers(){this.list0=[],this.AccounName="",this.VirServ.MinimalByRef(this.token,this.Ref).subscribe(i=>{console.log(i),this.listCompts=i.accounts;for(var o=0;o<this.listCompts.length;o++)this.list0.push(this.listCompts[o].account_routings[0]);console.log(this.listCompts),console.log(this.list0)},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}getAccountName(){this.AccNum=this.TypeCompte,console.log(this.AccNum);for(var t=0;t<this.listCompts.length;t++)this.AccNum==this.listCompts[t].account_routings[0].scheme&&(this.pk=this.listCompts[t].id);this.OpImp.getDataByAccount(this.token,this.pk).subscribe(i=>{console.log(i),this.AccounName=i.fullname},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}VoirPlac(){var t,i,o,s,r,d;this.InvestGlobalList=[],null===(t=this.FormSearchDom.get("InputDom"))||void 0===t||t.reset(),null===(i=this.FormSearchFrn.get("InputFrn"))||void 0===i||i.reset(),null===(o=this.FormSearch.get("dateDebut"))||void 0===o||o.reset(),null===(s=this.FormSearch.get("dateFin"))||void 0===s||s.reset(),this.newValue="",this.search=!1,this.Ref=this.Ref,this.search1=!1,(null==this.Ref||""==this.Ref)&&(null===(r=document.getElementById("alertchampsVide"))||void 0===r||r.setAttribute("class","alert alert-danger alert-dismissible fade show")),null!=this.Ref&&""!=this.Ref&&null!=this.Ref&&(null===(d=document.getElementById("alertchampsVide"))||void 0===d||d.setAttribute("class","alert alert-danger alert-dismissible fade hide"),this.GetGlobalInfoPlac())}GetGlobalInfoPlac(){this.loader=!0,this.BanqueServ.GetGlobalInfoPlac(this.token,this.Ref).subscribe(t=>{this.InvestGlobalList=t,console.log(this.InvestGlobalList),0!=this.InvestGlobalList.length&&(this.search=!0),this.loader=!1},t=>{console.log("error API"),-1!=t.indexOf("401")&&this.router.navigate(["/"])})}rechercherForm(){this.FormSearch=this.fb.group({dateDebut:new l.NI("",l.kI.required),dateFin:new l.NI("",l.kI.required)})}rechercherFormDom(){this.FormSearchDom=this.fb.group({InputDom:new l.NI("",l.kI.required)})}rechercherFormFrn(){this.FormSearchFrn=this.fb.group({InputFrn:new l.NI("",l.kI.required)})}getRechValue(t){var i,o,s,r;this.search1=!0,null===(i=this.FormSearchDom.get("InputDom"))||void 0===i||i.reset(),null===(o=this.FormSearchFrn.get("InputFrn"))||void 0===o||o.reset(),null===(s=this.FormSearch.get("dateDebut"))||void 0===s||s.reset(),null===(r=this.FormSearch.get("dateFin"))||void 0===r||r.reset(),console.log(t),this.newValue=t,"Montant"==t&&(this.Dom=!0,this.Frn=!1,this.Dt=!1),"date"==t&&(this.Dom=!1,this.Dt=!0,this.Frn=!1),"Statut"==t&&(this.Dom=!1,this.Frn=!0,this.Dt=!1)}searchBetweenDates(){var t,i;this.dates=!0,this.Datedeb=null===(t=this.FormSearch.get("dateDebut"))||void 0===t?void 0:t.value,this.Datedeb=this.Datedeb.substring(8,10)+"/"+this.Datedeb.substring(5,7)+"/"+this.Datedeb.substring(2,4),console.log("....................",this.Datedeb),this.dateFin=null===(i=this.FormSearch.get("dateFin"))||void 0===i?void 0:i.value,this.dateFin=this.dateFin.substring(8,10)+"/"+this.dateFin.substring(5,7)+"/"+this.dateFin.substring(2,4),console.log(this.dateFin),this.GetGlobalInfoPlacSearch()}GetNumDom(){var t;this.Montant=null===(t=this.FormSearchDom.get("InputDom"))||void 0===t?void 0:t.value,console.log("**********************",this.Montant),this.GetGlobalInfoPlacSearch()}GetFrn(){var t;this.Statut=null===(t=this.FormSearchFrn.get("InputFrn"))||void 0===t?void 0:t.value,console.log("**********************",this.Statut),this.GetGlobalInfoPlacSearch()}getStatusValue(t){console.log(t)}GetGlobalInfoPlacSearch(){var t,i;this.loader=!0,console.log(this.Montant),console.log(this.Statut),""==this.Statut&&(this.Statut=void 0),null!=this.Statut?this.BanqueServ.GetGlobalInfoPlacSearch({referentiel:this.Ref,Status:this.Statut,StartDate:"",EndDate:"",Amount:""},this.token).subscribe(s=>{this.loader=!1,console.log(s),this.InvestGlobalList=s,this.Statut=void 0},s=>{console.log("error API"),-1!=s.indexOf("401")&&this.router.navigate(["/"])}):null!=this.Montant?this.BanqueServ.GetGlobalInfoPlacSearch({referentiel:this.Ref,Status:"",StartDate:"",EndDate:"",Amount:this.Montant,IdDigital:"80003"},this.token).subscribe(s=>{this.loader=!1,console.log(s),this.InvestGlobalList=s,this.Montant=void 0},s=>{console.log("error API"),-1!=s.indexOf("401")&&this.router.navigate(["/"])}):(1==this.dates?(this.Datedeb=null===(t=this.FormSearch.get("dateDebut"))||void 0===t?void 0:t.value,this.Datedeb=this.Datedeb.substring(8,10)+"/"+this.Datedeb.substring(5,7)+"/"+this.Datedeb.substring(2,4),console.log("....................",this.Datedeb),this.dateFin=null===(i=this.FormSearch.get("dateFin"))||void 0===i?void 0:i.value,this.dateFin=this.dateFin.substring(8,10)+"/"+this.dateFin.substring(5,7)+"/"+this.dateFin.substring(2,4),console.log(this.dateFin)):(this.Datedeb=null,this.dateFin=null),this.BanqueServ.GetGlobalInfoPlacSearch({referentiel:this.Ref,Status:"",StartDate:this.Datedeb,EndDate:this.dateFin,Amount:"",IdDigital:"80003"},this.token).subscribe(s=>{this.loader=!1,console.log(s),this.InvestGlobalList=s,this.Datedeb=null,this.dateFin=null},s=>{console.log("error API"),-1!=s.indexOf("401")&&this.router.navigate(["/"])}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(f.t),e.Y36(p.F0),e.Y36(v.t),e.Y36(C.e),e.Y36(b.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-mesplacements"]],decls:35,vars:8,consts:[[1,"section","mt-4"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-12"],[1,"col-6"],[1,"font-weight-bold","TitleMobile",2,"text-align","initial"],[2,"color","red"],["name","origin_country",1,"custom-select","form-control",3,"ngModel","change","ngModelChange"],["Value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-9"],[1,"col-3",2,"text-align","end"],[1,"btn","btn-primary","btn-lg",3,"click"],[4,"ngIf"],["class","col-4","style","align-self: center;",4,"ngIf"],["class","col-8","style","align-self: center;",4,"ngIf"],["style","text-align: center;",4,"ngIf"],["class","",4,"ngIf"],["id","VirDet",4,"ngIf"],["id","alertchampsVide","role","alert",1,"alert","alert-danger","alert-dismissible","fade"],[3,"value"],[1,"col-4",2,"align-self","center"],[1,"row","mb-3"],[1,"col-form-label","col-sm-4","pt-0"],["name","recherche",1,"col-sm-8",3,"change"],[1,"form-check"],["type","radio","name","gridRadios","id","gridRadios1","value","date",1,"form-check-input"],["for","gridRadios1",1,"form-check-label"],["type","radio","name","gridRadios","id","gridRadios2","value","Montant",1,"form-check-input"],["for","gridRadios2",1,"form-check-label"],["type","radio","name","gridRadios","id","gridRadios3","value","Statut",1,"form-check-input"],["for","gridRadios3",1,"form-check-label"],[1,"col-8",2,"align-self","center"],["class","row",4,"ngIf"],["class","row","style","justify-content: left;",4,"ngIf"],[3,"formGroup"],["for","inputEmail",1,"col-4","col-form-label",2,"text-align","end"],["autocomplete","off","type","number","formControlName","InputDom",1,"form-control",3,"ngClass"],[1,"col-2"],[1,"btn","btn-primary",3,"disabled","click"],["name","recherche","formControlName","InputFrn","aria-label","Default select example",1,"form-select",3,"change"],["value","null","hidden","","selected",""],["value","Validated"],["value","ToBeValidated"],["value","Cancelled"],["value","Closed"],["value","all"],[1,"row",2,"justify-content","left"],["for","inputDate",1,"col-2","col-form-label",2,"text-align","end"],[1,"col-3"],["autocomplete","off","type","date","data-date-format","mm/dd/yyyy","formControlName","dateDebut",1,"form-control",3,"ngClass"],["autocomplete","off","type","date","data-date-format","mm/dd/yyyy","formControlName","dateFin",1,"form-control",3,"ngClass"],[2,"text-align","center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,""],[1,"p-2","m-2"],["id","numero"],["id","VirDet"],[1,"table","table-bordered"],[2,"border-bottom","hidden"],[2,"background","#0b5ed7","color","white","text-align","center"],["scope","col"],["style","text-align: center; cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[2,"text-align","center","cursor","pointer",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6,"Consultation des Placements"),e.qZA(),e.TgZ(7,"div",1)(8,"div",6)(9,"div",1)(10,"div",7)(11,"div",8),e._uU(12,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(13,"span",9),e._uU(14,"*"),e.qZA()(),e.TgZ(15,"select",10),e.NdJ("change",function(){return i.getAccountsBytiers()})("ngModelChange",function(s){return i.Ref=s}),e.TgZ(16,"option",11),e._uU(17," Choisir soci\xe9t\xe9 "),e.qZA(),e.YNc(18,we,2,2,"option",12),e.qZA()()()()(),e._UZ(19,"br"),e.TgZ(20,"div",1),e._UZ(21,"div",13),e.TgZ(22,"div",14)(23,"button",15),e.NdJ("click",function(){return i.VoirPlac()}),e._uU(24,"Valider"),e.qZA()()(),e._UZ(25,"br"),e.TgZ(26,"div",1),e.YNc(27,Oe,1,0,"hr",16),e.YNc(28,Ne,18,0,"div",17),e.YNc(29,Je,5,3,"div",18),e.qZA(),e.YNc(30,Ve,4,0,"div",19),e.YNc(31,Ye,4,0,"div",20),e.YNc(32,Qe,30,1,"div",21),e.qZA()()()(),e.TgZ(33,"div",22),e._uU(34," Veuillez choisir une soci\xe9t\xe9 "),e.qZA()()),2&t&&(e.xp6(15),e.Q6J("ngModel",i.Ref),e.xp6(3),e.Q6J("ngForOf",i.ListTiers),e.xp6(9),e.Q6J("ngIf",i.search),e.xp6(1),e.Q6J("ngIf",i.search),e.xp6(1),e.Q6J("ngIf",i.search1),e.xp6(1),e.Q6J("ngIf",i.loader),e.xp6(1),e.Q6J("ngIf",0==(null==i.InvestGlobalList?null:i.InvestGlobalList.length)),e.xp6(1),e.Q6J("ngIf",(null==i.InvestGlobalList?null:i.InvestGlobalList.length)>0))},directives:[l.EJ,l.JJ,l.On,l.YN,l.Kr,c.sg,c.O5,l._Y,l.JL,l.F,l.sg,l.wV,l.Fj,l.u,c.mk],styles:[".spinner-border[_ngcontent-%COMP%]{width:5rem;height:5rem}td[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem}"]}),n})();function Ge(n,a){if(1&n&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.hij(" ",t.FullName," ")}}function $e(n,a){if(1&n&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.scheme),e.xp6(1),e.hij(" ",t.scheme," ")}}function ze(n,a){if(1&n&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.AsE("",t.month," ",t.year,"")}}function He(n,a){1&n&&(e.TgZ(0,"div",37)(1,"div",38)(2,"span",39),e._uU(3,"Loading..."),e.qZA()()())}function We(n,a){1&n&&(e.TgZ(0,"div",40)(1,"div",38)(2,"span",39),e._uU(3,"Loading..."),e.qZA()()())}function Ke(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"button",41),e.NdJ("click",function(){return e.CHM(t),e.oxw().onClickDownloadPdf()}),e._uU(2,"T\xe9l\xe9charger"),e.qZA()()}}function Xe(n,a){1&n&&(e.TgZ(0,"h2",42),e._uU(1,"Relev\xe9 de compte "),e.qZA())}function et(n,a){if(1&n&&(e.TgZ(0,"div",43),e._UZ(1,"pdf-viewer",44),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("src",t.src)("render-text",!0)("original-size",!1)}}let tt=(()=>{class n{constructor(t,i,o,s,r){var d,u;this.BanqueServ=t,this.router=i,this.VirServ=o,this.auth=s,this.OpImp=r,this.loader=!1,this.Download=!1,this.list0=[],this.lastSixMonths=[],this.listCompts=[],this.ListTiers=[],null===(d=document.getElementById("alertchampsVide"))||void 0===d||d.setAttribute("class","alert alert-danger alert-dismissible fade hide"),null===(u=document.getElementById("alertDateSup"))||void 0===u||u.setAttribute("class","alert alert-danger alert-dismissible fade hide"),this.dateJ=new Date,console.log(this.dateJ);var m=this.dateJ.getMonth()+1;console.log(m);var h=this.dateJ.getDate();console.log(h),this.years=["2023","2022","2021"],this.months=["01","02","04","05","06","07","08","09","10","11","12"],new Date;const E=new Date,zt=["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],D=[];for(let y=0;y<6;y++){const M=new Date(E.getFullYear(),E.getMonth()-1-y,1);D.push({month:zt[M.getMonth()],year:M.getFullYear()}),this.lastSixMonths=D}console.log(this.lastSixMonths)}ngOnInit(){var t,i;let o=(0,c.p6)(new Date,"yyyy-MM-dd","en_US");this.date=o;const s=new Date;this.ann=s.getFullYear(),console.log(this.ann),console.log("carte "),this.token=localStorage.getItem("token"),null===(t=document.getElementById("alertchampsVide"))||void 0===t||t.setAttribute("class","alert alert-danger alert-dismissible fade hide"),null===(i=document.getElementById("alertDateSup"))||void 0===i||i.setAttribute("class","alert alert-danger alert-dismissible fade hide"),this.chargedData=!0,this.auth.getTiersByIdDigital(this.token).subscribe(r=>{this.chargedData=!1,this.ListTiers=r},r=>{console.log("error API"),-1!=r.indexOf("401")&&this.router.navigate(["/"])})}getAccountsBytiers(){this.list0=[],this.AccounName="",this.VirServ.MinimalByRef(this.token,this.Ref).subscribe(t=>{this.listCompts=t.accounts;for(var i=0;i<this.listCompts.length;i++)this.list0.push(this.listCompts[i].account_routings[0])},t=>{console.log("error API"),-1!=t.indexOf("401")&&this.router.navigate(["/"])})}getAccountName(){this.AccNum=this.TypeCompte;for(var t=0;t<this.listCompts.length;t++)this.AccNum==this.listCompts[t].account_routings[0].scheme&&(this.pk=this.listCompts[t].id);this.OpImp.getDataByAccount(this.token,this.pk).subscribe(i=>{this.AccounName=i.fullname},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}hidealert(){var t,i;null===(t=document.getElementById("alertchampsVide"))||void 0===t||t.setAttribute("class","alert alert-danger alert-dismissible fade hide"),null===(i=document.getElementById("alertDateSup"))||void 0===i||i.setAttribute("class","alert alert-danger alert-dismissible fade hide")}VisualiserExtrait(){var t,i,o,s;this.Compte=this.TypeCompte,(null==this.Compte||""==this.Compte)&&(null===(t=document.getElementById("alertchampsVide"))||void 0===t||t.setAttribute("class","alert alert-danger alert-dismissible fade show")),(null==this.Mois||""==this.Mois)&&(null===(i=document.getElementById("alertchampsVide"))||void 0===i||i.setAttribute("class","alert alert-danger alert-dismissible fade show")),null!=this.Compte&&null!=this.Mois&&(null===(o=document.getElementById("alertchampsVide"))||void 0===o||o.setAttribute("class","alert alert-danger alert-dismissible fade hide"),null===(s=document.getElementById("alertDateSup"))||void 0===s||s.setAttribute("class","alert alert-danger alert-dismissible fade hide"),this.GetExtrait())}GetExtrait(){this.loader=!0,this.Download=!1,this.FileName="Releve",this.Mois1=this.Mois.split(" ")[0],console.log(this.Mois),this.ann=this.Mois.split(" ")[1],console.log(this.ann),this.BanqueServ.GetDaveDocs(this.token,this.FileName,"",this.ann,this.Mois1,"",this.Compte).subscribe(t=>{var i,o;this.ExtraitBase64=t,"Pas de donn\xe9es pour cette date"==this.ExtraitBase64?(this.msg="Pas de donn\xe9es pour cette date",null===(i=document.getElementById("alertData"))||void 0===i||i.setAttribute("class","modal fade  show"),this.loader=!1,this.Download=!1):("Error"!=this.ExtraitBase64&&(this.base=this.ExtraitBase64.pdfBase64,this.pdf="data:application/pdf;base64,"+this.base,this.src=this._base64ToArrayBuffer(this.base),this.loader=!1,this.Download=!0),"Error"==this.ExtraitBase64&&(this.loader=!1,this.Download=!1,this.msg="Pas de donn\xe9es",null===(o=document.getElementById("alertData"))||void 0===o||o.setAttribute("class","modal fade  show")))},t=>{console.log("error API"),-1!=t.indexOf("401")&&this.router.navigate(["/"])})}_base64ToArrayBuffer(t){for(var i=t.replace(/\\n/g,""),o=(i=window.atob(t)).length,s=new Uint8Array(o),r=0;r<o;r++)s[r]=i.charCodeAt(r);return s.buffer}downloadPdf(t,i){const o=`data:application/pdf;base64,${this.base}`,s=document.createElement("a");s.href=o,s.download="ReleveCompte.pdf",s.click()}onClickDownloadPdf(){this.downloadPdf("your-base64-string","sample")}FermerAlert(){var t;null===(t=document.getElementById("alertData"))||void 0===t||t.setAttribute("class","modal fade  hide")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.t),e.Y36(p.F0),e.Y36(v.t),e.Y36(b.r),e.Y36(C.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-releve"]],decls:75,vars:13,consts:[[1,"section","mt-4"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-4"],[1,"col-1"],[1,"col-12"],[1,"font-weight-bold","TitleMobile",2,"text-align","initial"],[2,"color","red"],["name","origin_country",1,"custom-select","form-control",3,"ngModel","change","ngModelChange"],["Value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["disabled","",1,"custom-select","form-control",3,"value"],[1,"row",2,"margin-left","0%"],[2,"font-family","Poppins, sans-serif"],["aria-label","Default select example",1,"form-select",2,"width","250%",3,"ngModel","ngModelChange"],["hidden","","selected","",3,"ngValue"],[4,"ngFor","ngForOf"],[1,"col-9"],[1,"col-3",2,"text-align","end"],[1,"btn","btn-primary","btn-lg",3,"click"],["class","col-lg-12 text-center",4,"ngIf"],["id","alertchampsVide","role","alert",1,"alert","alert-danger","alert-dismissible","fade"],["id","alertDateSup","role","alert",1,"alert","alert-danger","alert-dismissible","fade"],["style","text-align: center;",4,"ngIf"],["class","card-title","style","text-align: center;",4,"ngIf"],["style"," text-align: -webkit-center;",4,"ngIf"],["id","alertData","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabelProcessed",1,"modal-title",2,"color","rgb(7, 7, 7)"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],[3,"value"],[1,"col-lg-12","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[2,"text-align","center"],[1,"btn","btn-primary","btn-lg",2,"height","43px",3,"click"],[1,"card-title",2,"text-align","center"],[2,"text-align","-webkit-center"],[2,"width","800px","height","700px",3,"src","render-text","original-size"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6,"Consultation Relev\xe9 du compte"),e.qZA(),e.TgZ(7,"div",1),e._UZ(8,"div",6)(9,"div",7)(10,"div",6)(11,"div",7),e.qZA(),e.TgZ(12,"div",1)(13,"div",8)(14,"div",1)(15,"div",6)(16,"div",9),e._uU(17,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(18,"span",10),e._uU(19,"*"),e.qZA()(),e.TgZ(20,"select",11),e.NdJ("change",function(){return i.getAccountsBytiers()})("ngModelChange",function(s){return i.Ref=s}),e.TgZ(21,"option",12),e._uU(22," Choisir soci\xe9t\xe9 "),e.qZA(),e.YNc(23,Ge,2,2,"option",13),e.qZA()(),e.TgZ(24,"div",6)(25,"div",9),e._uU(26,"Choisir un compte "),e.TgZ(27,"span",10),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"select",11),e.NdJ("change",function(){return i.getAccountName()})("ngModelChange",function(s){return i.TypeCompte=s}),e.TgZ(30,"option",12),e._uU(31," Choisir compte "),e.qZA(),e.YNc(32,$e,2,2,"option",13),e.qZA()(),e.TgZ(33,"div",6)(34,"div",9),e._uU(35,"Libell\xe9s des comptes"),e.qZA(),e._UZ(36,"input",14),e.qZA()()()(),e.TgZ(37,"div",15)(38,"div",6)(39,"div",1)(40,"span",16),e._uU(41,"Mois"),e.TgZ(42,"span",10),e._uU(43,"*"),e.qZA()()(),e.TgZ(44,"div",1)(45,"select",17),e.NdJ("ngModelChange",function(s){return i.Mois=s}),e.TgZ(46,"option",18),e._uU(47," Choisir le mois "),e.qZA(),e.YNc(48,ze,2,2,"option",19),e.qZA()()()(),e.TgZ(49,"div",1),e._UZ(50,"div",20),e.TgZ(51,"div",21)(52,"button",22),e.NdJ("click",function(){return i.VisualiserExtrait()}),e._uU(53,"Visualiser"),e.qZA()()()()(),e.YNc(54,He,4,0,"div",23),e.qZA()(),e.TgZ(55,"div",24),e._uU(56," Veuillez remplir toutes les entr\xe9es "),e.qZA(),e.TgZ(57,"div",25),e._uU(58," Date de d\xe9but doit \xeatre inf\xe9rieur ou \xe9gale date de fin "),e.qZA(),e.YNc(59,We,4,0,"div",26),e._UZ(60,"br")(61,"br"),e.YNc(62,Ke,3,0,"div",26),e.qZA(),e.YNc(63,Xe,2,0,"h2",27),e.YNc(64,et,2,3,"div",28),e.TgZ(65,"div",29)(66,"div",30)(67,"div",31)(68,"div",32)(69,"h5",33)(70,"p"),e._uU(71),e.qZA()()(),e.TgZ(72,"div",34)(73,"button",35),e.NdJ("click",function(){return i.FermerAlert()}),e._uU(74,"Fermer"),e.qZA()()()()()),2&t&&(e.xp6(20),e.Q6J("ngModel",i.Ref),e.xp6(3),e.Q6J("ngForOf",i.ListTiers),e.xp6(6),e.Q6J("ngModel",i.TypeCompte),e.xp6(3),e.Q6J("ngForOf",i.list0),e.xp6(4),e.s9C("value",i.AccounName),e.xp6(9),e.Q6J("ngModel",i.Mois),e.xp6(3),e.Q6J("ngForOf",i.lastSixMonths),e.xp6(6),e.Q6J("ngIf",i.chargedData),e.xp6(5),e.Q6J("ngIf",i.loader),e.xp6(3),e.Q6J("ngIf",i.Download),e.xp6(1),e.Q6J("ngIf",i.Download),e.xp6(1),e.Q6J("ngIf",i.Download),e.xp6(7),e.hij(" ",i.msg," "))},directives:[l.EJ,l.JJ,l.On,l.YN,l.Kr,c.sg,c.O5,Z.rQ],styles:[".spinner-border[_ngcontent-%COMP%]{width:5rem;height:5rem}td[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem}.show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}"]}),n})();function it(n,a){if(1&n&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.hij(" ",t.FullName," ")}}function nt(n,a){if(1&n&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.scheme),e.xp6(1),e.hij(" ",t.scheme," ")}}function ot(n,a){1&n&&(e.TgZ(0,"div",44)(1,"div",45)(2,"h6",46),e._uU(3,"Pas de donn\xe9es : "),e.qZA()()())}function st(n,a){1&n&&(e.TgZ(0,"div",47)(1,"div",48)(2,"span",49),e._uU(3,"Loading..."),e.qZA()()())}function at(n,a){if(1&n&&(e.TgZ(0,"span",61),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.statut)}}function rt(n,a){if(1&n&&(e.TgZ(0,"span",62),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.statut)}}function lt(n,a){if(1&n&&(e.TgZ(0,"span",63),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.statut)}}function dt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",56),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).GetDetailsRemises(s.compte,s.reference_remise)}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td",57),e._uU(11),e.qZA(),e.TgZ(12,"td"),e.YNc(13,at,2,1,"span",58),e.YNc(14,rt,2,1,"span",59),e.YNc(15,lt,2,1,"span",60),e.qZA()()}if(2&n){const t=a.$implicit,i=e.oxw(2);e.xp6(2),e.Oqu(t.reference_remise),e.xp6(2),e.Oqu(e.xi3(5,8,t.date_scan,"dd/MM/yyyy")),e.xp6(3),e.Oqu(t.compte),e.xp6(2),e.hij("",t.cheque_nombre," \u200b"),e.xp6(2),e.hij("",i.formatCurrency(t.total_bordeaureau)," TND"),e.xp6(2),e.Q6J("ngIf","Validated"==t.statut),e.xp6(1),e.Q6J("ngIf","Cancelled"==t.statut),e.xp6(1),e.Q6J("ngIf","Validated"!=t.statut&&"Cancelled"!=t.statut)}}function ut(n,a){if(1&n&&(e.TgZ(0,"div",50)(1,"table",51)(2,"thead",52)(3,"tr",53)(4,"th",54),e._uU(5,"R\xe9f.Bordereau"),e.qZA(),e.TgZ(6,"th",54),e._uU(7,"Date"),e.qZA(),e.TgZ(8,"th",54),e._uU(9,"Compte"),e.qZA(),e.TgZ(10,"th",54),e._uU(11,"Nombre de ch\xe8ques"),e.qZA(),e.TgZ(12,"th",54),e._uU(13,"Total bordereau"),e.qZA(),e.TgZ(14,"th",54),e._uU(15,"Statut"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,dt,16,11,"tr",55),e.qZA()()()),2&n){const t=e.oxw();e.xp6(17),e.Q6J("ngForOf",t.listRemise)}}function ct(n,a){1&n&&(e.TgZ(0,"div",44)(1,"div",45)(2,"h6",46),e._uU(3,"Pas de donn\xe9es : "),e.qZA()()())}function ht(n,a){1&n&&(e.TgZ(0,"div",47)(1,"div",48)(2,"span",49),e._uU(3,"Loading..."),e.qZA()()())}function mt(n,a){1&n&&(e.TgZ(0,"div",48)(1,"span",49),e._uU(2,"Loading..."),e.qZA()())}function gt(n,a){if(1&n&&(e.TgZ(0,"span",61),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.statut)}}function pt(n,a){if(1&n&&(e.TgZ(0,"span",62),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.statut)}}function _t(n,a){if(1&n&&(e.TgZ(0,"span",71),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.statut)}}function ft(n,a){if(1&n&&(e.TgZ(0,"span",63),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.statut)}}function vt(n,a){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.motif_rejet," ")}}function bt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",65)(1,"td",66),e.NdJ("click",function(){const o=e.CHM(t),s=o.$implicit,r=o.index;return e.oxw(2).GetImageChq(s.compte,s.numero,s.rib_payeur,r)}),e._UZ(2,"img",67),e.TgZ(3,"div",65),e.YNc(4,mt,3,0,"div",68),e.qZA()(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",57),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.YNc(10,gt,2,1,"span",58),e.YNc(11,pt,2,1,"span",59),e.YNc(12,_t,2,1,"span",69),e.YNc(13,ft,2,1,"span",60),e.qZA(),e.YNc(14,vt,2,1,"td",70),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA()()}if(2&n){const t=a.$implicit,i=a.index,o=e.oxw(2);e.xp6(4),e.Q6J("ngIf",o.chargedImgR=="trueR"+i),e.xp6(2),e.Oqu(t.numero),e.xp6(2),e.hij("",o.formatCurrency(t.montant)," TND"),e.xp6(2),e.Q6J("ngIf","Paid"==t.statut),e.xp6(1),e.Q6J("ngIf","Cancelled"==t.statut),e.xp6(1),e.Q6J("ngIf","Rejected"==t.statut),e.xp6(1),e.Q6J("ngIf","Paid"!=t.statut&&"Rejected"!=t.statut&&"Cancelled"!=t.statut),e.xp6(1),e.Q6J("ngIf","null"!=t.motif_rejet),e.xp6(2),e.Oqu(t.rib_payeur),e.xp6(2),e.hij("",e.xi3(19,11,t.date_emission,"dd/MM/yyyy")," \u200b"),e.xp6(3),e.hij("",t.compte," ")}}function Ct(n,a){if(1&n&&(e.TgZ(0,"div",50)(1,"table",51)(2,"thead",52)(3,"tr",53)(4,"th",54),e._uU(5,"Image"),e.qZA(),e.TgZ(6,"th",54),e._uU(7,"Num\xe9ro ch\xe8que"),e.qZA(),e.TgZ(8,"th",54),e._uU(9,"Montant"),e.qZA(),e.TgZ(10,"th",54),e._uU(11,"Statut"),e.qZA(),e.TgZ(12,"th",54),e._uU(13,"Motif de rejet"),e.qZA(),e.TgZ(14,"th",54),e._uU(15,"RIB payeur"),e.qZA(),e.TgZ(16,"th",54),e._uU(17,"Date \xe9mission"),e.qZA(),e.TgZ(18,"th",54),e._uU(19,"Compte"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,bt,22,14,"tr",64),e.qZA()()()),2&n){const t=e.oxw();e.xp6(21),e.Q6J("ngForOf",t.detRemise)}}let Tt=(()=>{class n{constructor(t,i,o,s,r){this.BanqueServ=t,this.router=i,this.VirServ=o,this.OpImp=s,this.auth=r,this.list0=[],this.listCompts=[],this.table=!1,this.detRemise=[],this.listRemise=[];const d=new Date,u=new Date(d.getFullYear(),d.getMonth()-3,d.getDate());this.min=u.toISOString().split("T")[0],this.max=d.toISOString().split("T")[0]}ngOnInit(){var t;null===(t=document.getElementById("SecondDet"))||void 0===t||t.setAttribute("class","hide"),this.list0=[];let i=(0,c.p6)(new Date,"yyyy-MM-dd","en_US");this.date=i,this.token=localStorage.getItem("token"),this.chargedData=!0,this.auth.getTiersByIdDigital(this.token).subscribe(o=>{this.chargedData=!1,this.ListTiers=o},o=>{console.log("error API"),-1!=o.indexOf("401")&&this.router.navigate(["/"])})}getAccountName(){this.AccNum=this.TypeCompte;for(var t=0;t<this.listCompts.length;t++)this.AccNum==this.listCompts[t].account_routings[0].scheme&&(this.pk=this.listCompts[t].id);this.OpImp.getDataByAccount(this.token,this.pk).subscribe(i=>{this.AccounName=i.fullname},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}getAccountsBytiers(){this.list0=[],this.AccounName="",this.VirServ.MinimalByRef(this.token,this.Ref).subscribe(t=>{this.listCompts=t.accounts;for(var i=0;i<this.listCompts.length;i++)this.list0.push(this.listCompts[i].account_routings[0])},t=>{console.log("error API"),-1!=t.indexOf("401")&&this.router.navigate(["/"])})}VoirRemises(){var t,i;this.chargedData=!0,this.listRemise=[],this.Compte=this.AccNum,null==this.startDate||null==this.EndDate||null==this.Compte||""==this.startDate||""==this.EndDate||""==this.Compte?(this.msg="Champs vide !",this.chargedData=!1,null===(t=document.getElementById("alertChamp"))||void 0===t||t.setAttribute("class","modal fade  show")):new Date(this.startDate)>new Date(this.EndDate)?(console.log("---date1 is greater----"),this.chargedData=!1,this.msg="Date D\xe9but ne doit pas etre sup\xe9rieur au date Fin !",null===(i=document.getElementById("alertChamp"))||void 0===i||i.setAttribute("class","modal fade  show")):(this.startDate=this.startDate,this.EndDate=this.EndDate,this.Compte=this.Compte,this.chargedData=!0,this.BanqueServ.GetListRemises(this.token,this.AccNum,this.startDate,this.EndDate).subscribe(o=>{this.chargedData=!1,this.listRemise=o},o=>{console.log("error API"),-1!=o.indexOf("401")&&this.router.navigate(["/"])}))}formatCurrency(t){return new Intl.NumberFormat("en-TN",{}).format(t).replace(","," ")}GetDetailsRemises(t,i){this.CodeRemise=i,this.BanqueServ.GetDetailsRemises(this.token,t,i).subscribe(o=>{var s,r;this.chargedData=!1,this.detRemise=o,null===(s=document.getElementById("FirstDet"))||void 0===s||s.setAttribute("class","hide"),null===(r=document.getElementById("SecondDet"))||void 0===r||r.setAttribute("class","show")},o=>{console.log("error API"),-1!=o.indexOf("401")&&this.router.navigate(["/"])})}FermerAlert(){var t;null===(t=document.getElementById("alertChamp"))||void 0===t||t.setAttribute("class","modal fade  hide")}RetourFirstDet(){var t,i;null===(t=document.getElementById("FirstDet"))||void 0===t||t.setAttribute("class","show"),null===(i=document.getElementById("SecondDet"))||void 0===i||i.setAttribute("class","hide")}GetImageChq(t,i,o,s){this.chargedImgR="trueR"+s,this.BanqueServ.GetImageChq(this.token,t,i,this.CodeRemise,o).subscribe(r=>{var d,u;this.chargedData=!1,this.chargedImgR="false",this.retour=r,"Rejected"==this.retour.Status||"Forbidden"==this.retour.OBP?(this.msg="Pas de donn\xe9es !",null===(d=document.getElementById("alertChamp"))||void 0===d||d.setAttribute("class","modal fade  show")):(this.retour.recto="data:image/jpeg;base64,"+this.retour.recto,this.retour.verso="data:image/jpeg;base64,"+this.retour.verso,null===(u=document.getElementById("RectoModal"))||void 0===u||u.setAttribute("class","modal fade  show"))},r=>{console.log("error API"),-1!=r.indexOf("401")&&this.router.navigate(["/"])})}ClosePopUp(){var t;null===(t=document.getElementById("RectoModal"))||void 0===t||t.setAttribute("class","modal fade  hide")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.t),e.Y36(p.F0),e.Y36(v.t),e.Y36(C.e),e.Y36(b.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-remisescheques"]],decls:97,vars:20,consts:[[1,"tab-content","pt-2"],["id","FirstDet"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-12"],[1,"col-4"],[1,"font-weight-bold","TitleMobile",2,"text-align","initial"],[2,"color","red"],["name","origin_country",1,"custom-select","form-control",3,"ngModel","change","ngModelChange"],["Value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["disabled","",1,"custom-select","form-control",3,"value"],[1,"col-3"],["type","date","id","datepicker","onkeydown","return false",1,"form-control","py-2","search",3,"min","max","ngModel","ngModelChange"],["type","date","onkeydown","return false",1,"form-control","py-2","search",3,"min","max","ngModel","ngModelChange"],[1,"col-9"],[1,"col-3",2,"text-align","end"],[1,"btn","btn-primary","btn-lg",2,"height","43px",3,"click"],["class","",4,"ngIf"],["class","col-lg-12 text-center",4,"ngIf"],["id","VirDet",4,"ngIf"],["id","SecondDet"],[1,"btn","btn-outline-primary","btnRetour",3,"click"],[1,"ri-arrow-go-back-line"],["id","alertChamp","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabelProcessed",1,"modal-title",2,"color","rgb(7, 7, 7)"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["id","RectoModal","tabindex","-1","aria-labelledby","DomicileFRModalLabel","aria-hidden","true",1,"modal","text-center"],[1,"modal-dialog","p-2"],[1,"modal-content","p-3",2,"width","fit-content"],[1,"modal-header",2,"justify-content","left"],["type","button",1,"btn","btn-primary",3,"click"],["id","DomicileFRModalLabel",1,"modal-title","fs-5"],[1,"modal-body","text-center"],["alt","",1,"my-3",3,"src"],["alt","",3,"src"],[3,"value"],[1,""],[1,"p-2","m-2"],["id","numero"],[1,"col-lg-12","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["id","VirDet"],[1,"table","table-bordered"],[2,"border-bottom","hidden"],[2,"background","#0b5ed7","color","white","text-align","center"],["scope","col"],["style","text-align: center; cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[2,"text-align","center","cursor","pointer",3,"click"],[2,"text-align","end"],["class","badge bg-success spanStat",4,"ngIf"],["class","badge bg-warning spanStat",4,"ngIf"],["class","badge bg-info spanStat",4,"ngIf"],[1,"badge","bg-success","spanStat"],[1,"badge","bg-warning","spanStat"],[1,"badge","bg-info","spanStat"],["style","text-align: center;",4,"ngFor","ngForOf"],[2,"text-align","center"],[3,"click"],["src","assets\\img\\heck.png","alt","...",1,"img-fluid","rounded-start",2,"cursor","pointer"],["class","spinner-border text-primary","role","status",4,"ngIf"],["class","badge bg-danger spanStat",4,"ngIf"],[4,"ngIf"],[1,"badge","bg-danger","spanStat"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"br"),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Consultation bordereaux"),e.qZA(),e.TgZ(9,"div",2)(10,"div",7)(11,"div",2)(12,"div",8)(13,"div",9),e._uU(14,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(15,"span",10),e._uU(16,"*"),e.qZA()(),e.TgZ(17,"select",11),e.NdJ("change",function(){return i.getAccountsBytiers()})("ngModelChange",function(s){return i.Ref=s}),e.TgZ(18,"option",12),e._uU(19," Choisir soci\xe9t\xe9 "),e.qZA(),e.YNc(20,it,2,2,"option",13),e.qZA()(),e.TgZ(21,"div",8)(22,"div",9),e._uU(23,"Choisir un compte "),e.TgZ(24,"span",10),e._uU(25,"*"),e.qZA()(),e.TgZ(26,"select",11),e.NdJ("change",function(){return i.getAccountName()})("ngModelChange",function(s){return i.TypeCompte=s}),e.TgZ(27,"option",12),e._uU(28," Choisir compte "),e.qZA(),e.YNc(29,nt,2,2,"option",13),e.qZA(),e._UZ(30,"br"),e.qZA(),e.TgZ(31,"div",8)(32,"div",9),e._uU(33,"Libell\xe9s des comptes"),e.qZA(),e._UZ(34,"input",14),e.qZA()()()(),e._UZ(35,"br"),e.TgZ(36,"div",2)(37,"div",15)(38,"div",9),e._uU(39,"Date D\xe9but"),e.TgZ(40,"span",10),e._uU(41,"*"),e.qZA()(),e.TgZ(42,"input",16),e.NdJ("ngModelChange",function(s){return i.startDate=s}),e.qZA()(),e.TgZ(43,"div",15)(44,"div",9),e._uU(45,"Date Fin"),e.TgZ(46,"span",10),e._uU(47,"*"),e.qZA()(),e.TgZ(48,"input",17),e.NdJ("ngModelChange",function(s){return i.EndDate=s}),e.qZA()()(),e.TgZ(49,"div",2),e._UZ(50,"div",18),e.TgZ(51,"div",19)(52,"button",20),e.NdJ("click",function(){return i.VoirRemises()}),e._uU(53,"valider"),e.qZA()()()()()()(),e.YNc(54,ot,4,0,"div",21),e.YNc(55,st,4,0,"div",22),e.YNc(56,ut,18,1,"div",23),e.qZA(),e.TgZ(57,"div",24),e._UZ(58,"br"),e.TgZ(59,"div",2)(60,"div",3)(61,"button",25),e.NdJ("click",function(){return i.RetourFirstDet()}),e._UZ(62,"i",26),e._uU(63," Retour "),e.qZA(),e.TgZ(64,"div",4)(65,"div",5)(66,"h5",6),e._uU(67,"Consultation d\xe9tails bordereaux"),e.qZA()()()()(),e.YNc(68,ct,4,0,"div",21),e.YNc(69,ht,4,0,"div",22),e.YNc(70,Ct,22,1,"div",23),e.qZA()(),e.TgZ(71,"div",27)(72,"div",28)(73,"div",29)(74,"div",30)(75,"h5",31)(76,"p"),e._uU(77),e.qZA()()(),e.TgZ(78,"div",32)(79,"button",33),e.NdJ("click",function(){return i.FermerAlert()}),e._uU(80,"Fermer"),e.qZA()()()()(),e.TgZ(81,"div",34)(82,"div",35)(83,"div",36)(84,"div",37)(85,"button",38),e.NdJ("click",function(){return i.ClosePopUp()}),e._uU(86,"Retour"),e.qZA(),e.TgZ(87,"h1",39),e._uU(88," \xa0 \xa0 Image Ch\xe8que Recto\\Verso "),e.qZA()(),e.TgZ(89,"div",40),e._UZ(90,"img",41)(91,"br")(92,"br")(93,"br")(94,"img",42)(95,"br")(96,"br"),e.qZA()()()()),2&t&&(e.xp6(17),e.Q6J("ngModel",i.Ref),e.xp6(3),e.Q6J("ngForOf",i.ListTiers),e.xp6(6),e.Q6J("ngModel",i.TypeCompte),e.xp6(3),e.Q6J("ngForOf",i.list0),e.xp6(5),e.s9C("value",i.AccounName),e.xp6(8),e.s9C("min",i.min),e.s9C("max",i.max),e.Q6J("ngModel",i.startDate),e.xp6(6),e.s9C("min",i.min),e.s9C("max",i.max),e.Q6J("ngModel",i.EndDate),e.xp6(6),e.Q6J("ngIf",0==(null==i.listRemise?null:i.listRemise.length)&&!i.chargedData),e.xp6(1),e.Q6J("ngIf",i.chargedData),e.xp6(1),e.Q6J("ngIf",(null==i.listRemise?null:i.listRemise.length)>0),e.xp6(12),e.Q6J("ngIf",0==(null==i.detRemise?null:i.detRemise.length)&&!i.chargedData),e.xp6(1),e.Q6J("ngIf",i.chargedData),e.xp6(1),e.Q6J("ngIf",(null==i.detRemise?null:i.detRemise.length)>0),e.xp6(7),e.hij(" ",i.msg," "),e.xp6(13),e.Q6J("src",null==i.retour?null:i.retour.recto,e.LSH),e.xp6(4),e.Q6J("src",null==i.retour?null:i.retour.verso,e.LSH))},directives:[l.EJ,l.JJ,l.On,l.YN,l.Kr,c.sg,l.Fj,c.O5],pipes:[c.uU],styles:[".show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}.img-fluid[_ngcontent-%COMP%]{margin:-4%;height:40px;width:40px}.btnRetour[_ngcontent-%COMP%]{background:#3498db;color:#fff;border-radius:7px;margin:-30px 0 10px}.btnRetour[_ngcontent-%COMP%]:hover{background-color:#57aae1;color:#fff}.my-custom-class[_ngcontent-%COMP%]{width:auto}.spinner-border[_ngcontent-%COMP%]{width:5rem;height:5rem}td[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem}"]}),n})();function Zt(n,a){if(1&n&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.hij(" ",t.FullName," ")}}function At(n,a){if(1&n&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.scheme),e.xp6(1),e.hij(" ",t.scheme," ")}}function yt(n,a){1&n&&(e.TgZ(0,"div",23)(1,"div",24)(2,"span",25),e._uU(3,"Loading..."),e.qZA()()())}function qt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().onClickDownloadPdf()}),e._uU(2,"T\xe9l\xe9charger"),e.qZA()()}}function xt(n,a){1&n&&(e.TgZ(0,"h2",27),e._uU(1,"RIB & IBAN "),e.qZA())}function Et(n,a){1&n&&(e.TgZ(0,"div",18)(1,"div",19)(2,"h3",20),e._uU(3,"Validation Demande Ch\xe9quier"),e.qZA(),e.TgZ(4,"div",21)(5,"div",22)(6,"span",23),e._uU(7,"Loading..."),e.qZA()()()()())}function Dt(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.hij(" ",t.FullName," ")}}function Mt(n,a){if(1&n&&(e.TgZ(0,"div",44),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Ut(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Mt,2,1,"div",43),e.qZA()),2&n){const t=a.$implicit,i=e.oxw(4);e.xp6(1),e.Q6J("ngIf",i.FormTiers.get("Tiers").hasError(t.type)&&(i.FormTiers.get("Tiers").dirty||i.FormTiers.get("Tiers").touched))}}function Bt(n,a){if(1&n&&(e.TgZ(0,"div",42),e.YNc(1,Ut,2,1,"div",31),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.Tiers)}}const kt=function(n,a){return{"is-invalid":n,"is-valid":a}};function Rt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"form",32)(1,"div",33)(2,"div",34)(3,"div",35),e._uU(4,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(5,"span",36),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"select",37),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).ListDemande()}),e.TgZ(8,"option",38),e._uU(9," Choisir soci\xe9t\xe9 "),e.qZA(),e.YNc(10,Dt,2,2,"option",39),e.qZA(),e.YNc(11,Bt,2,1,"div",40),e.qZA()()()}if(2&n){const t=e.oxw(2);let i,o;e.Q6J("formGroup",t.FormTiers),e.xp6(7),e.Q6J("ngClass",e.WLB(4,kt,(null==(i=t.FormTiers.get("Tiers"))?null:i.touched)&&(null==(i=t.FormTiers.get("Tiers"))?null:i.invalid),null==(i=t.FormTiers.get("Tiers"))?null:i.valid)),e.xp6(3),e.Q6J("ngForOf",t.ListTiers),e.xp6(1),e.Q6J("ngIf",(null==(o=t.FormTiers.get("Tiers"))?null:o.touched)&&(null==(o=t.FormTiers.get("Tiers"))?null:o.invalid))}}function wt(n,a){1&n&&(e.TgZ(0,"div",45)(1,"div",46)(2,"div",47),e._uU(3," Aucunes donn\xe9es. "),e.qZA()()())}function Ot(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",48),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"div",33)(9,"div",49)(10,"button",50),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(2);return r.PostOtpCorp(),r.ValiderDde(s.IdDemande,"Validation",r.index)}),e._uU(11,"Valider"),e.qZA()(),e.TgZ(12,"div",49)(13,"button",51),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(2);return r.PostOtpCorp(),r.ValiderDde(s.IdDemande,"Rejet",r.index)}),e._uU(14,"Rejeter"),e.qZA()()()()()}if(2&n){const t=a.$implicit;e.xp6(2),e.hij("",t.DateDemande," "),e.xp6(2),e.Oqu(t.accountCode),e.xp6(2),e.Oqu(t.numberOfCheque.substring(1,3))}}function Nt(n,a){if(1&n&&(e.TgZ(0,"div",18)(1,"div",19)(2,"h3",20),e._uU(3,"Validation Demande Ch\xe9quier"),e.qZA(),e.YNc(4,Rt,12,7,"form",24),e._UZ(5,"br"),e.TgZ(6,"div",25),e.YNc(7,wt,4,0,"div",26),e.qZA()(),e.TgZ(8,"table",27)(9,"thead",28)(10,"tr",29)(11,"th",30),e._uU(12,"Date demande"),e.qZA(),e.TgZ(13,"th",30),e._uU(14,"Compte"),e.qZA(),e.TgZ(15,"th",30),e._uU(16,"Nombre de ch\xe8ques"),e.qZA(),e._UZ(17,"th"),e.qZA()(),e.TgZ(18,"tbody"),e.YNc(19,Ot,15,3,"tr",31),e.qZA()()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",(null==t.ListTiers?null:t.ListTiers.length)>0),e.xp6(3),e.Q6J("ngIf",0==(null==t.ddeList?null:t.ddeList.length)&&""!=t.FormTiers.controls.Tiers.value),e.xp6(12),e.Q6J("ngForOf",t.ddeList)}}function Ft(n,a){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.hij(" ",t.FullName," ")}}function Pt(n,a){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.scheme),e.xp6(1),e.hij(" ",t.scheme," ")}}function Jt(n,a){1&n&&(e.TgZ(0,"div",40)(1,"div",41)(2,"h6",42),e._uU(3,"Pas de donn\xe9es : "),e.qZA()()())}function Vt(n,a){1&n&&(e.TgZ(0,"div",43)(1,"div",44)(2,"span",45),e._uU(3,"Loading..."),e.qZA()()())}function Yt(n,a){if(1&n&&(e.TgZ(0,"tr",51)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",52),e._uU(4),e.qZA(),e.TgZ(5,"td",52),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()()),2&n){const t=a.$implicit,i=e.oxw(2);e.xp6(2),e.Oqu(t.OperationDate),e.xp6(2),e.hij("",i.formatCurrency(t.Amount)," TND"),e.xp6(2),e.hij("",t.AmountCommission," TND"),e.xp6(2),e.hij("",t.IdTerminal," "),e.xp6(2),e.Oqu(t.NumCard)}}function Lt(n,a){if(1&n&&(e.TgZ(0,"div")(1,"table",46)(2,"thead",47)(3,"tr",48)(4,"th",49),e._uU(5,"Date"),e.qZA(),e.TgZ(6,"th",49),e._uU(7,"Montant"),e.qZA(),e.TgZ(8,"th",49),e._uU(9,"Montant Commission"),e.qZA(),e.TgZ(10,"th",49),e._uU(11,"IDTerminal"),e.qZA(),e.TgZ(12,"th",49),e._uU(13,"Num\xe9ro carte"),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,Yt,11,5,"tr",50),e.qZA()()()),2&n){const t=e.oxw();e.xp6(15),e.Q6J("ngForOf",t.ListTransactions)}}const jt=[{path:"",component:Re.w},{path:"extrait",component:ke,canActivate:[_.a],data:{breadcrumb:{alias:"Extrait"}}},{path:"RibIban",component:(()=>{class n{constructor(t,i,o,s,r){var d;this.BanqueServ=t,this.router=i,this.VirServ=o,this.OpImp=s,this.auth=r,this.Download=!1,this.list0=[],this.listCompts=[],this.ListTiers=[],null===(d=document.getElementById("alertchampsVide"))||void 0===d||d.setAttribute("class","alert alert-danger alert-dismissible fade hide")}ngOnInit(){var t;console.log("carte "),this.token=localStorage.getItem("token"),null===(t=document.getElementById("alertchampsVide"))||void 0===t||t.setAttribute("class","alert alert-danger alert-dismissible fade hide"),this.loader=!0,this.auth.getTiersByIdDigital(this.token).subscribe(i=>{this.loader=!1,this.ListTiers=i},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}getAccountsBytiers(){this.list0=[],this.AccounName="",this.VirServ.MinimalByRef(this.token,this.Ref).subscribe(t=>{this.listCompts=t.accounts;for(var i=0;i<this.listCompts.length;i++)this.list0.push(this.listCompts[i].account_routings[0])},t=>{console.log("error API"),-1!=t.indexOf("401")&&this.router.navigate(["/"])})}getAccountName(){this.AccNum=this.TypeCompte;for(var t=0;t<this.listCompts.length;t++)this.AccNum==this.listCompts[t].account_routings[0].scheme&&(this.pk=this.listCompts[t].id);this.OpImp.getDataByAccount(this.token,this.pk).subscribe(i=>{this.AccounName=i.fullname},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}hidealert(){var t;null===(t=document.getElementById("alertchampsVide"))||void 0===t||t.setAttribute("class","alert alert-danger alert-dismissible fade hide")}VisualiserRibIban(){var t,i,o;this.Compte=this.TypeCompte,(null==this.Compte||""==this.Compte)&&(null===(t=document.getElementById("alertchampsVide"))||void 0===t||t.setAttribute("class","alert alert-danger alert-dismissible fade show")),20!=this.Compte.length&&(null===(i=document.getElementById("alertchampsVide"))||void 0===i||i.setAttribute("class","alert alert-danger alert-dismissible fade show")),null!=this.Compte&&""!=this.Compte&&20==this.Compte.length&&(null===(o=document.getElementById("alertchampsVide"))||void 0===o||o.setAttribute("class","alert alert-danger alert-dismissible fade hide"),this.GetRibIBAN())}GetRibIBAN(){this.loader=!0,this.BanqueServ.GetRIbIBAN(this.token,this.Compte,this.startDate,this.EndDate).subscribe(t=>{this.ExtraitBase64=t,this.base=this.ExtraitBase64.Base64,this.pdf="data:application/pdf;base64,"+this.base,this.src=this._base64ToArrayBuffer(this.base),this.loader=!1,this.Download=!0},t=>{console.log("error API"),-1!=t.indexOf("401")&&this.router.navigate(["/"])})}_base64ToArrayBuffer(t){for(var i=t.replace(/\\n/g,""),o=(i=window.atob(t)).length,s=new Uint8Array(o),r=0;r<o;r++)s[r]=i.charCodeAt(r);return s.buffer}downloadPdf(t,i){const o=`data:application/pdf;base64,${this.base}`,s=document.createElement("a");s.href=o,s.download="RIB&IBAN.pdf",s.click()}onClickDownloadPdf(){this.downloadPdf("your-base64-string","sample")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.t),e.Y36(p.F0),e.Y36(v.t),e.Y36(C.e),e.Y36(b.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ribiban"]],decls:47,vars:11,consts:[[1,"section","mt-4"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-12"],[1,"col-4"],[1,"font-weight-bold","TitleMobile",2,"text-align","initial"],[2,"color","red"],["name","origin_country",1,"custom-select","form-control",3,"ngModel","change","ngModelChange"],["Value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["disabled","",1,"custom-select","form-control",3,"value"],[1,"col-9"],[1,"col-3",2,"text-align","end"],[1,"btn","btn-primary","btn-lg",3,"click"],["style","text-align: center;",4,"ngIf"],["id","alertchampsVide","role","alert",1,"alert","alert-danger","alert-dismissible","fade"],["class","card-title","style","text-align: center;",4,"ngIf"],[2,"text-align","-webkit-center"],[2,"width","800px","height","700px",3,"src","render-text","original-size"],[3,"value"],[2,"text-align","center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"btn","btn-primary","btn-lg",2,"height","43px",3,"click"],[1,"card-title",2,"text-align","center"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6,"Consultation RIB & IBAN"),e.qZA(),e.TgZ(7,"div",1)(8,"div",6)(9,"div",1)(10,"div",7)(11,"div",8),e._uU(12,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(13,"span",9),e._uU(14,"*"),e.qZA()(),e.TgZ(15,"select",10),e.NdJ("change",function(){return i.getAccountsBytiers()})("ngModelChange",function(s){return i.Ref=s}),e.TgZ(16,"option",11),e._uU(17," Choisir soci\xe9t\xe9 "),e.qZA(),e.YNc(18,Zt,2,2,"option",12),e.qZA()(),e.TgZ(19,"div",7)(20,"div",8),e._uU(21,"Choisir un compte "),e.TgZ(22,"span",9),e._uU(23,"*"),e.qZA()(),e.TgZ(24,"select",10),e.NdJ("change",function(){return i.getAccountName()})("ngModelChange",function(s){return i.TypeCompte=s}),e.TgZ(25,"option",11),e._uU(26," Choisir compte "),e.qZA(),e.YNc(27,At,2,2,"option",12),e.qZA()(),e.TgZ(28,"div",7)(29,"div",8),e._uU(30,"Libell\xe9s des comptes"),e.qZA(),e._UZ(31,"input",13),e.qZA()()()(),e._UZ(32,"br"),e.TgZ(33,"div",1),e._UZ(34,"div",14),e.TgZ(35,"div",15)(36,"button",16),e.NdJ("click",function(){return i.VisualiserRibIban()}),e._uU(37,"Visualiser"),e.qZA()()()()(),e.YNc(38,yt,4,0,"div",17),e.qZA()(),e.TgZ(39,"div",18),e._uU(40," Veuillez choisir un num\xe9ro de compte "),e.qZA()(),e.YNc(41,qt,3,0,"div",17),e.YNc(42,xt,2,0,"h2",19),e.TgZ(43,"div",20),e._UZ(44,"pdf-viewer",21),e.qZA(),e._UZ(45,"br")(46,"br")),2&t&&(e.xp6(15),e.Q6J("ngModel",i.Ref),e.xp6(3),e.Q6J("ngForOf",i.ListTiers),e.xp6(6),e.Q6J("ngModel",i.TypeCompte),e.xp6(3),e.Q6J("ngForOf",i.list0),e.xp6(4),e.s9C("value",i.AccounName),e.xp6(7),e.Q6J("ngIf",i.loader),e.xp6(3),e.Q6J("ngIf",i.Download),e.xp6(1),e.Q6J("ngIf",i.Download),e.xp6(2),e.Q6J("src",i.src)("render-text",!0)("original-size",!1))},directives:[l.EJ,l.JJ,l.On,l.YN,l.Kr,c.sg,c.O5,Z.rQ],styles:[".show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}.spinner-border[_ngcontent-%COMP%]{width:5rem;height:5rem}td[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem}"]}),n})(),canActivate:[_.a],data:{breadcrumb:{alias:"RibIban"}}},{path:"AFB",component:O,canActivate:[_.a],data:{breadcrumb:{alias:"AFB"}}},{path:"echelle",component:Ie,canActivate:[_.a],data:{breadcrumb:{alias:"Echelle"}}},{path:"cheque",component:G,canActivate:[_.a],data:{breadcrumb:{alias:"Cheque"}}},{path:"releve",component:tt,canActivate:[_.a],data:{breadcrumb:{alias:"Releve"}}},{path:"DemandeChequier",component:be,canActivate:[_.a],data:{breadcrumb:{alias:"DemandeChequier"}}},{path:"ValidationDemandeChequier",component:(()=>{class n{constructor(t,i,o,s,r,d,u){this.fb=t,this.http=i,this.router=o,this.VirServ=s,this.auth=r,this.CarteServ=d,this.banqServ=u,this.vali=!0,this.loader=!1,this.chargedData=!1,this.ListTiers=[],this.onetiers=!0,this.listTiers=[],this.ddeList=[],this.createform()}createform(){this.FormTiers=this.fb.group({Tiers:["",l.kI.required]})}ngOnInit(){this.chargedData=!0,console.log("test git"),this.token=localStorage.getItem("token"),this.istrue=localStorage.getItem("istrue"),console.log(this.token),"true"==this.istrue?this.auth.getTiersByIdDigital(this.token).subscribe(t=>{console.log(t),this.chargedData=!1,this.ListTiers=t,0==this.ListTiers.length&&(this.onetiers=!0),1==this.ListTiers.length&&(this.tiersClient=this.ListTiers[0].Referentiel,this.onetiers=!0,this.FormTiers.controls.Tiers.setValue(this.tiersClient),this.ListDemande(),this.listTiers.push(this.tiersClient),console.log("only one"))},t=>{console.log("error API"),this.chargedData=!1,-1!=t.indexOf("401")&&this.router.navigate(["/"])}):this.router.navigate(["/"])}ListDemande(){this.chargedData=!0,null!=document.getElementById("CardDetails")&&(this.element=document.getElementById("CardDetails"),this.element.style.display="none"),this.banqServ.ListDemandeChequier(this.token,{accountCode:this.FormTiers.controls.Tiers.value,Status:"Initiation"}).subscribe(i=>{console.log(i),this.ddeList=i,this.chargedData=!1},i=>{this.chargedData=!1,console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}PostOtpCorp(){this.Login=localStorage.getItem("cuser"),this.banqServ.PostOTPCorp(this.token,this.Login).subscribe(t=>{var i;console.log(".....................",t),this.dataRet=t,"Processed"==this.dataRet.Status&&(this.element1=document.getElementById("input1"),null===(i=document.getElementById("ModalCompare"))||void 0===i||i.setAttribute("class","modal fade  show"),this.element1.focus())},t=>{console.log("error API"),-1!=t.indexOf("401")&&this.router.navigate(["/"])})}ValiderOtpDelivrance(){var t=document.getElementById("input1").value,i=document.getElementById("input2").value,o=document.getElementById("input3").value,s=document.getElementById("input4").value,r=document.getElementById("input5").value;this.otp=t+i+o+s+r,this.ExecuterDdde()}ValiderDde(t,i,o){console.log(t),this.IdD=t,console.log(i),this.Stat=i,this.index=o}ExecuterDdde(){if(this.ValiderDde(this.IdD,this.Stat,this.index),this.Login=localStorage.getItem("cuser"),"Validation"==this.Stat){let t={IdDemande:this.IdD,Statut:this.Stat,Otp:this.otp,login:this.Login};this.chargedData=!0,this.banqServ.ValidationDemandeChequier(this.token,t).subscribe(i=>{var o,s,r,d,u;console.log(".....................",i),"Erreur Otp"==i?(this.chargedData=!1,document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",this.msg="Code OTP incorrect",this.el=document.getElementById("alertChamp"),null===(o=this.el)||void 0===o||o.setAttribute("class","modal fade  show")):(this.el=document.getElementById("ModalCompare"),null===(s=this.el)||void 0===s||s.setAttribute("class","modal fade  hide"),document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="","La demande \xe0 \xe9t\xe9 valid\xe9e"==i?(this.chargedData=!1,this.msg=i,this.el=document.getElementById("alertChamp"),null===(r=this.el)||void 0===r||r.setAttribute("class","modal fade  show"),this.ddeList.splice(this.index,1)):"La demande \xe0 \xe9t\xe9 rejet\xe9e"==i?(this.chargedData=!1,this.msg=i,this.el=document.getElementById("alertChamp"),null===(d=this.el)||void 0===d||d.setAttribute("class","modal fade  show")):(this.chargedData=!1,this.msg=i,this.el=document.getElementById("alertChamp"),null===(u=this.el)||void 0===u||u.setAttribute("class","modal fade  show")))},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}else this.banqServ.ValidationDemandeChequier(this.token,{IdDemande:this.IdD,Statut:this.Stat,Otp:this.otp,login:this.Login}).subscribe(i=>{var o,s,r;console.log(".....................",i),"Erreur Otp"==i?(this.chargedData=!1,document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",this.msg="Code OTP incorrect",this.el=document.getElementById("alertChamp"),null===(o=this.el)||void 0===o||o.setAttribute("class","modal fade  show")):(this.el=document.getElementById("ModalCompare"),null===(s=this.el)||void 0===s||s.setAttribute("class","modal fade  hide"),this.chargedData=!1,document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",this.msg=i,this.el=document.getElementById("alertChamp"),null===(r=this.el)||void 0===r||r.setAttribute("class","modal fade  show"),this.ddeList.splice(this.index,1))},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}FermerOTP(){var t;null===(t=document.getElementById("ModalCompare"))||void 0===t||t.setAttribute("class","modal fade  hide"),document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value=""}FermerAlert(){var t;null===(t=document.getElementById("alertChamp"))||void 0===t||t.setAttribute("class","modal fade  hide")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(x.eN),e.Y36(p.F0),e.Y36(v.t),e.Y36(b.r),e.Y36(I.K),e.Y36(f.t))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-validationdemandechequier"]],decls:31,vars:4,consts:[["class","card",4,"ngIf"],["id","ModalCompare","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","hide",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title",2,"color","rgb(7, 7, 7)"],[1,"modal-body",2,"text-align","center"],[1,"inline-flex"],["type","text","maxlength","1","id","input1","onkeyup","document.getElementById('input2').focus();",1,"uk-input"],["type","text","maxlength","1","id","input2","onkeyup","document.getElementById('input3').focus();",1,"uk-input"],["type","text","maxlength","1","id","input3","onkeyup","document.getElementById('input4').focus();",1,"uk-input"],["type","text","maxlength","1","id","input4","onkeyup","document.getElementById('input5').focus();",1,"uk-input"],["type","text","maxlength","1","id","input5","onkeyup","document.getElementById('input5').blur();",1,"uk-input"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["id","alertChamp","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["id","exampleModalLabelProcessed",1,"modal-title",2,"color","rgb(7, 7, 7)"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-lg-12","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[3,"formGroup",4,"ngIf"],[1,"row","text-center"],["class","col-lg-12 ","style","text-align: -webkit-center;",4,"ngIf"],[1,"table","table-bordered"],[2,"border-bottom","hidden"],[1,"",2,"background","#0b5ed7","color","white"],["scope","col"],[4,"ngFor","ngForOf"],[3,"formGroup"],[1,"row"],[1,"col-4"],[1,"font-weight-bold","TitleMobile",2,"text-align","initial"],[2,"color","red"],["name","origin_country","formControlName","Tiers",1,"custom-select","form-control",3,"ngClass","change"],["Value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],[3,"value"],[1,"alert","alert-danger"],["style","font-size:12px",4,"ngIf"],[2,"font-size","12px"],[1,"col-lg-12",2,"text-align","-webkit-center"],[1,"card",2,"width","fit-content"],[1,"card-header"],["scope","row"],[1,"col-6",2,"text-align","center"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,i){1&t&&(e.YNc(0,Et,8,0,"div",0),e.YNc(1,Nt,20,3,"div",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5",5)(7,"p"),e._uU(8),e.qZA()()(),e.TgZ(9,"div",6)(10,"div",7),e._UZ(11,"input",8)(12,"input",9)(13,"input",10)(14,"input",11)(15,"input",12),e.qZA()(),e.TgZ(16,"div",13)(17,"button",14),e.NdJ("click",function(){return i.FermerOTP()}),e._uU(18,"Fermer"),e.qZA(),e.TgZ(19,"button",15),e.NdJ("click",function(){return i.ValiderOtpDelivrance()}),e._uU(20,"Valider"),e.qZA()()()()(),e.TgZ(21,"div",16)(22,"div",2)(23,"div",3)(24,"div",4)(25,"h5",17)(26,"p"),e._uU(27),e.qZA()()(),e.TgZ(28,"div",13)(29,"button",14),e.NdJ("click",function(){return i.FermerAlert()}),e._uU(30,"Fermer"),e.qZA()()()()()),2&t&&(e.Q6J("ngIf",i.chargedData),e.xp6(1),e.Q6J("ngIf",!i.chargedData),e.xp6(7),e.hij(" Veuillez introduire le code de s\xe9curit\xe9 envoy\xe9 sur le num\xe9ro de t\xe9l\xe9phone : ",i.GSM," "),e.xp6(19),e.hij(" ",i.msg," "))},directives:[c.O5,l._Y,l.JL,l.sg,l.EJ,l.JJ,l.u,c.mk,l.YN,l.Kr,c.sg],styles:[".show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}.uk-input[_ngcontent-%COMP%]{width:14%;height:50px;border-radius:5px;text-align:center;margin-right:10px!important;border:1px solid #949292;padding:0;margin:0;font-size:25px}"]}),n})(),canActivate:[_.a],data:{breadcrumb:{alias:"ValidationDemandeChequier"}}},{path:"ConsultationDemandeChequier",component:pe,canActivate:[_.a],data:{breadcrumb:{alias:"ConsultationDemandeChequier"}}},{path:"chequeemis",component:Tt,canActivate:[_.a],data:{breadcrumb:{alias:"Ch\xe8que \xe9mis"}}},{path:"mesplacements",component:je,canActivate:[_.a],data:{breadcrumb:{alias:"Mes placements"}}},{path:"transactionstpe",component:(()=>{class n{constructor(t,i,o,s,r){this.BanqueServ=t,this.router=i,this.VirServ=o,this.OpImp=s,this.auth=r,this.listCompte=[],this.list0=[],this.ListTransactions=[],this.listCompts=[],this.img=!1,this.list01=[];const d=new Date,u=new Date(d.getFullYear(),d.getMonth()-3,d.getDate());this.min=u.toISOString().split("T")[0],this.max=d.toISOString().split("T")[0]}ngOnInit(){var t,i;this.list01=[],this.list0=[];let o=(0,c.p6)(new Date,"yyyy-MM-dd","en_US");this.date=o,console.log("carte "),this.token=localStorage.getItem("token"),null===(t=document.getElementById("alertchampsVide"))||void 0===t||t.setAttribute("class","alert alert-danger alert-dismissible fade hide"),null===(i=document.getElementById("alertDateSup"))||void 0===i||i.setAttribute("class","alert alert-danger alert-dismissible fade hide"),this.chargedData=!0,this.auth.getTiersByIdDigital(this.token).subscribe(s=>{this.chargedData=!1,this.ListTiers=s},s=>{console.log("error API"),-1!=s.indexOf("401")&&this.router.navigate(["/"])})}voirTPETransactions(){var t,i;this.Compte=this.TypeCompte,this.img=!0,(null==this.startDate||null==this.EndDate||null==this.Compte||""==this.startDate||""==this.EndDate||""==this.Compte)&&(this.msg="Champs vide !",null===(t=document.getElementById("alertChamp"))||void 0===t||t.setAttribute("class","modal fade  show")),new Date(this.startDate)>new Date(this.EndDate)?(console.log("---date1 is greater----"),this.msg="Date D\xe9but ne doit pas etre sup\xe9rieur au data Fin !",null===(i=document.getElementById("alertChamp"))||void 0===i||i.setAttribute("class","modal fade  show")):(this.startDate=this.startDate,this.EndDate=this.EndDate,this.accountCode=this.Compte,this.Compte=this.Compte,this.chargedData=!0,this.startDate=this.startDate.substring(8,10)+"-"+this.startDate.substring(5,7)+"-"+this.startDate.substring(2,4),this.EndDate=this.EndDate.substring(8,10)+"-"+this.EndDate.substring(5,7)+"-"+this.EndDate.substring(2,4),this.BanqueServ.GetListTPETransactions(this.token,this.accountCode,this.startDate,this.EndDate).subscribe(o=>{this.chargedData=!1,this.ListTransactions=o},o=>{console.log("error API"),-1!=o.indexOf("401")&&this.router.navigate(["/"])}))}hidealert(){}getAccountsBytiers(){this.list0=[],this.AccounName="",this.VirServ.MinimalByRef(this.token,this.Ref).subscribe(i=>{this.listCompts=i.accounts;for(var o=0;o<this.listCompts.length;o++)this.list0.push(this.listCompts[o].account_routings[0])},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}getAccountsBytiers1(){this.list01=[],this.VirServ.MinimalByRef(this.token,this.Ref1).subscribe(i=>{this.listCompts=i.accounts;for(var o=0;o<this.listCompts.length;o++)this.list01.push(this.listCompts[o].account_routings[0])},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}getAccountName(){this.AccNum=this.TypeCompte;for(var t=0;t<this.listCompts.length;t++)this.AccNum==this.listCompts[t].account_routings[0].scheme&&(this.pk=this.listCompts[t].id);this.OpImp.getDataByAccount(this.token,this.pk).subscribe(i=>{this.AccounName=i.fullname},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}getAccountName1(){this.AccNum=this.TypeCompte1;for(var t=0;t<this.listCompts.length;t++)this.AccNum==this.listCompts[t].account_routings[0].scheme&&(this.pk=this.listCompts[t].id);this.OpImp.getDataByAccount(this.token,this.pk).subscribe(i=>{this.AccounName1=i.fullname},i=>{console.log("error API"),-1!=i.indexOf("401")&&this.router.navigate(["/"])})}FermerAlert(){var t;null===(t=document.getElementById("alertChamp"))||void 0===t||t.setAttribute("class","modal fade  hide"),"Processed"==this.retour.Status&&location.reload()}FermerOTP(){var t;null===(t=document.getElementById("ModalCompare"))||void 0===t||t.setAttribute("class","modal fade  hide")}ClearData(){this.ListTransactions=[],this.Compte="",this.Ref="",this.TypeCompte="",this.AccounName="",this.Ref1="",this.TypeCompte1="",this.AccounName1="",this.RetStatus="",this.nbre=""}ClearData1(){this.ListTransactions=[],this.Compte="",this.Ref="",this.TypeCompte="",this.AccounName="",this.Ref1="",this.TypeCompte1="",this.AccounName1="",this.RetStatus="",this.list0=[],this.nbre=""}ClosePopUp(){var t;null===(t=document.getElementById("RectoModal"))||void 0===t||t.setAttribute("class","modal fade  hide")}ClosePopUp1(){var t;null===(t=document.getElementById("VersoModal"))||void 0===t||t.setAttribute("class","modal fade  hide")}formatCurrency(t){return new Intl.NumberFormat("en-TN",{}).format(t).replace(","," ")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.t),e.Y36(p.F0),e.Y36(v.t),e.Y36(C.e),e.Y36(b.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tpetransactions"]],decls:84,vars:17,consts:[[1,"tab-content","pt-2"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-12"],[1,"col-4"],[1,"font-weight-bold","TitleMobile",2,"text-align","initial"],[2,"color","red"],["name","origin_country",1,"custom-select","form-control",3,"ngModel","change","ngModelChange"],["Value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["disabled","",1,"custom-select","form-control",3,"value"],[1,"col-3"],["type","date","id","datepicker","onkeydown","return false",1,"form-control","py-2","search",3,"min","max","ngModel","ngModelChange"],["type","date","onkeydown","return false",1,"form-control","py-2","search",3,"min","max","ngModel","ngModelChange"],[1,"col-9"],[1,"col-3",2,"text-align","end"],[1,"btn","btn-primary","btn-lg",2,"height","43px",3,"click"],["class","",4,"ngIf"],["class","col-lg-12 text-center",4,"ngIf"],[4,"ngIf"],["id","alertChamp","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabelProcessed",1,"modal-title",2,"color","rgb(7, 7, 7)"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["id","RectoModal","tabindex","-1","aria-labelledby","DomicileFRModalLabel","aria-hidden","true",1,"modal","text-center"],[1,"modal-dialog","p-2"],[1,"modal-content","p-3",2,"width","fit-content"],[1,"modal-header",2,"justify-content","left"],["type","button",1,"btn","btn-primary",3,"click"],["id","DomicileFRModalLabel",1,"modal-title","fs-5"],[1,"modal-body","text-center"],["alt","",1,"my-3",3,"src"],["alt","",3,"src"],[3,"value"],[1,""],[1,"p-2","m-2"],["id","numero"],[1,"col-lg-12","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"table","table-bordered"],[2,"border-bottom","hidden"],[2,"background","#0b5ed7","color","white","text-align","center"],["scope","col"],["style","text-align: center;",4,"ngFor","ngForOf"],[2,"text-align","center"],[2,"text-align","end"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"br"),e.TgZ(2,"div"),e._UZ(3,"br"),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"div",4)(8,"h5",5),e._uU(9,"Consultation transactions TPE "),e.qZA(),e.TgZ(10,"div",1)(11,"div",6)(12,"div",1)(13,"div",7)(14,"div",8),e._uU(15,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(16,"span",9),e._uU(17,"*"),e.qZA()(),e.TgZ(18,"select",10),e.NdJ("change",function(){return i.getAccountsBytiers()})("ngModelChange",function(s){return i.Ref=s}),e.TgZ(19,"option",11),e._uU(20," Choisir soci\xe9t\xe9 "),e.qZA(),e.YNc(21,Ft,2,2,"option",12),e.qZA()(),e.TgZ(22,"div",7)(23,"div",8),e._uU(24,"Choisir un compte "),e.TgZ(25,"span",9),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"select",10),e.NdJ("change",function(){return i.getAccountName()})("ngModelChange",function(s){return i.TypeCompte=s}),e.TgZ(28,"option",11),e._uU(29," Choisir compte "),e.qZA(),e.YNc(30,Pt,2,2,"option",12),e.qZA(),e._UZ(31,"br"),e.qZA(),e.TgZ(32,"div",7)(33,"div",8),e._uU(34,"Libell\xe9s des comptes"),e.qZA(),e._UZ(35,"input",13),e.qZA()()()(),e._UZ(36,"br"),e.TgZ(37,"div",1)(38,"div",14)(39,"div",8),e._uU(40,"Date D\xe9but"),e.TgZ(41,"span",9),e._uU(42,"*"),e.qZA()(),e.TgZ(43,"input",15),e.NdJ("ngModelChange",function(s){return i.startDate=s}),e.qZA()(),e.TgZ(44,"div",14)(45,"div",8),e._uU(46,"Date Fin"),e.TgZ(47,"span",9),e._uU(48,"*"),e.qZA()(),e.TgZ(49,"input",16),e.NdJ("ngModelChange",function(s){return i.EndDate=s}),e.qZA()()(),e.TgZ(50,"div",1),e._UZ(51,"div",17),e.TgZ(52,"div",18)(53,"button",19),e.NdJ("click",function(){return i.voirTPETransactions()}),e._uU(54,"valider"),e.qZA()()()()()()(),e.YNc(55,Jt,4,0,"div",20),e.YNc(56,Vt,4,0,"div",21),e.YNc(57,Lt,16,1,"div",22),e.qZA()(),e.TgZ(58,"div",23)(59,"div",24)(60,"div",25)(61,"div",26)(62,"h5",27)(63,"p"),e._uU(64),e.qZA()()(),e.TgZ(65,"div",28)(66,"button",29),e.NdJ("click",function(){return i.FermerAlert()}),e._uU(67,"Fermer"),e.qZA()()()()(),e.TgZ(68,"div",30)(69,"div",31)(70,"div",32)(71,"div",33)(72,"button",34),e.NdJ("click",function(){return i.ClosePopUp()}),e._uU(73,"Retour"),e.qZA(),e.TgZ(74,"h1",35),e._uU(75," \xa0 \xa0 Image Ch\xe8que Recto\\Verso "),e.qZA()(),e.TgZ(76,"div",36),e._UZ(77,"img",37)(78,"br")(79,"br")(80,"br")(81,"img",38)(82,"br")(83,"br"),e.qZA()()()()),2&t&&(e.xp6(18),e.Q6J("ngModel",i.Ref),e.xp6(3),e.Q6J("ngForOf",i.ListTiers),e.xp6(6),e.Q6J("ngModel",i.TypeCompte),e.xp6(3),e.Q6J("ngForOf",i.list0),e.xp6(5),e.s9C("value",i.AccounName),e.xp6(8),e.s9C("min",i.min),e.s9C("max",i.max),e.Q6J("ngModel",i.startDate),e.xp6(6),e.s9C("min",i.min),e.s9C("max",i.max),e.Q6J("ngModel",i.EndDate),e.xp6(6),e.Q6J("ngIf",0==(null==i.ListTransactions?null:i.ListTransactions.length)&&!i.chargedData),e.xp6(1),e.Q6J("ngIf",i.chargedData),e.xp6(1),e.Q6J("ngIf",(null==i.ListTransactions?null:i.ListTransactions.length)>0),e.xp6(7),e.hij(" ",i.msg," "),e.xp6(13),e.Q6J("src",null==i.retour?null:i.retour.Image_Recto,e.LSH),e.xp6(4),e.Q6J("src",null==i.retour?null:i.retour.Image_Verso,e.LSH))},directives:[l.EJ,l.JJ,l.On,l.YN,l.Kr,c.sg,l.Fj,c.O5],styles:[".spinner-border[_ngcontent-%COMP%]{width:5rem;height:5rem}td[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem}.show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}"]}),n})(),canActivate:[_.a],data:{breadcrumb:{alias:"Transactions TPE"}}},{path:"**",redirectTo:"",pathMatch:"full"}];let Gt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.Bz.forChild(jt)],p.Bz]}),n})(),$t=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[c.ez,Gt,Z.xC,l.u5,l.UX]]}),n})()}}]);
"use strict";(self.webpackChunkDigiCorpV1=self.webpackChunkDigiCorpV1||[]).push([[170],{4170:(Id,ve,H)=>{H.r(ve),H.d(ve,{InitierVirementModule:()=>Nd});var ee=H(9808),re=H(3007),le=H(7656),he=H(8952),d=H(2382),ge=H(7579),be=H(6063);class Fe extends ge.x{constructor(l=1/0,t=1/0,n=be.l){super(),this._bufferSize=l,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,l),this._windowTime=Math.max(1,t)}next(l){const{isStopped:t,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:r,_windowTime:m}=this;t||(n.push(l),!o&&n.push(r.now()+m)),this._trimBuffer(),super.next(l)}_subscribe(l){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(l),{_infiniteTimeWindow:n,_buffer:o}=this,r=o.slice();for(let m=0;m<r.length&&!l.closed;m+=n?1:2)l.next(r[m]);return this._checkFinalizedStatuses(l),t}_trimBuffer(){const{_bufferSize:l,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:o}=this,r=(o?1:2)*l;if(l<1/0&&r<n.length&&n.splice(0,n.length-r),!o){const m=t.now();let a=0;for(let u=1;u<n.length&&n[u]<=m;u+=2)a=u;a&&n.splice(0,a+1)}}}var ie=H(4368),K=H(9758),ue=H(1809),_e=H(5045),fe=H(9280),S=H(2363),e=H(1223),se=H(3290),de=H(520),me=H(9860),ae=H(4900),ce=H(2212);const xe=["fileReader"],Ze=["filefmandat"];function Te(i,l){1&i&&(e.TgZ(0,"div",37)(1,"div",38)(2,"h5",39),e._uU(3,"Initiation Virement multiple"),e.qZA(),e.TgZ(4,"div",40)(5,"div",41)(6,"span",42),e._uU(7,"Loading..."),e.qZA()()()()())}function Ae(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",46)(1,"div",47)(2,"input",48),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).getChosenType()})("ngModelChange",function(o){return e.CHM(t),e.oxw(2).typechoice=o}),e.qZA(),e._uU(3),e.qZA()()}if(2&i){const t=l.$implicit,n=e.oxw(2);e.xp6(2),e.Q6J("value",t)("ngModel",n.typechoice),e.xp6(1),e.hij(" ",t," ")}}function Ce(i,l){if(1&i&&(e.TgZ(0,"option",95),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.Oqu(t.FullName)}}function ye(i,l){if(1&i&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Ve(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,ye,2,1,"div",97),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngIf",n.tiersForm.get("tiers").hasError(t.type)&&(n.tiersForm.get("tiers").dirty||n.tiersForm.get("tiers").touched))}}function Be(i,l){if(1&i&&(e.TgZ(0,"div",96),e.YNc(1,Ve,2,1,"div",36),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.tiers)}}const W=function(i,l){return{"is-invalid":i,"is-valid":l}};function Me(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"form",50),e._UZ(1,"br"),e.TgZ(2,"h5")(3,"i"),e._uU(4,"(Donneur d'ordre)"),e.qZA()(),e.TgZ(5,"div",32)(6,"div",51)(7,"label",52),e._uU(8,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(9,"b",53),e._uU(10,"*"),e.qZA()(),e.TgZ(11,"select",94),e.NdJ("change",function(){return e.CHM(t),e.oxw(3).gettiers()}),e.TgZ(12,"option",55),e._uU(13," Choisir "),e.qZA(),e.YNc(14,Ce,2,2,"option",56),e.qZA(),e.YNc(15,Be,2,1,"div",61),e.qZA()()()}if(2&i){const t=e.oxw(3);let n,o;e.Q6J("formGroup",t.tiersForm),e.xp6(11),e.Q6J("ngClass",e.WLB(4,W,(null==(n=t.tiersForm.get("tiers"))?null:n.touched)&&(null==(n=t.tiersForm.get("tiers"))?null:n.invalid),null==(n=t.tiersForm.get("tiers"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.ListTiers),e.xp6(1),e.Q6J("ngIf",(null==(o=t.tiersForm.get("tiers"))?null:o.touched)&&(null==(o=t.tiersForm.get("tiers"))?null:o.invalid))}}function qe(i,l){if(1&i&&(e.TgZ(0,"option",95),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function Ne(i,l){if(1&i&&(e.TgZ(0,"option",95),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.account_routings[0].scheme),e.xp6(1),e.hij(" ",t.account_routings[0].scheme," ")}}function Ie(i,l){if(1&i&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function we(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Ie,2,1,"div",97),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngIf",n.virementFForm.get("numcpt").hasError(t.type)&&(n.virementFForm.get("numcpt").dirty||n.virementFForm.get("numcpt").touched))}}function ke(i,l){if(1&i&&(e.TgZ(0,"div",96),e.YNc(1,we,2,1,"div",36),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.numcpt)}}function Ue(i,l){if(1&i&&(e.TgZ(0,"div",99)(1,"label",59),e._uU(2,"Libell\xe9 compte"),e.qZA(),e.TgZ(3,"span",103),e._uU(4),e.qZA()()),2&i){const t=e.oxw(4);e.xp6(4),e.Oqu(t.AccountName)}}function Ee(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",99)(2,"label",52),e._uU(3,"Compte \xe0 d\xe9biter"),e.TgZ(4,"b",53),e._uU(5,"*"),e.qZA()(),e.TgZ(6,"select",100),e.NdJ("change",function(){return e.CHM(t),e.oxw(3).getAcc()}),e.TgZ(7,"option",101),e._uU(8," Choisir compte "),e.qZA(),e.YNc(9,Ne,2,2,"option",56),e.qZA(),e.YNc(10,ke,2,1,"div",61),e.qZA(),e.YNc(11,Ue,5,1,"div",102),e.qZA()}if(2&i){const t=e.oxw(3);let n,o;e.xp6(6),e.Q6J("ngClass",e.WLB(4,W,(null==(n=t.virementFForm.get("numcpt"))?null:n.touched)&&(null==(n=t.virementFForm.get("numcpt"))?null:n.invalid),null==(n=t.virementFForm.get("numcpt"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.listCompts),e.xp6(1),e.Q6J("ngIf",(null==(o=t.virementFForm.get("numcpt"))?null:o.touched)&&(null==(o=t.virementFForm.get("numcpt"))?null:o.invalid)),e.xp6(1),e.Q6J("ngIf",t.choseRib)}}function Je(i,l){if(1&i&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Re(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Je,2,1,"div",97),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("mntTot"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("mntTot"))?null:o.dirty)||(null==(o=n.virementFForm.get("mntTot"))?null:o.touched)))}}function Se(i,l){if(1&i&&(e.TgZ(0,"div",96),e.YNc(1,Re,2,1,"div",36),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.mntTot)}}function Oe(i,l){if(1&i&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Le(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Oe,2,1,"div",97),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("motif"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("motif"))?null:o.dirty)||(null==(o=n.virementFForm.get("motif"))?null:o.touched)))}}function Qe(i,l){if(1&i&&(e.TgZ(0,"div",96),e.YNc(1,Le,2,1,"div",36),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.motif)}}function Pe(i,l){if(1&i&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Ye(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Pe,2,1,"div",97),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("reference"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("reference"))?null:o.dirty)||(null==(o=n.virementFForm.get("reference"))?null:o.touched)))}}function De(i,l){if(1&i&&(e.TgZ(0,"div",96),e.YNc(1,Ye,2,1,"div",36),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.reference)}}function je(i,l){if(1&i&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function $e(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,je,2,1,"div",97),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("nomBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("nomBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("nomBenef"))?null:o.touched)))}}function He(i,l){if(1&i&&(e.TgZ(0,"div",96),e.YNc(1,$e,2,1,"div",36),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.nomBenef)}}function Xe(i,l){if(1&i&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function We(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Xe,2,1,"div",97),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("motifbenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("motifbenef"))?null:o.dirty)||(null==(o=n.benefForm.get("motifbenef"))?null:o.touched)))}}function ze(i,l){if(1&i&&(e.TgZ(0,"div",96),e.YNc(1,We,2,1,"div",36),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.motifbenef)}}function Ge(i,l){if(1&i&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Ke(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Ge,2,1,"div",97),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("ribBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("ribBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("ribBenef"))?null:o.touched)))}}function et(i,l){if(1&i&&(e.TgZ(0,"div",96),e.YNc(1,Ke,2,1,"div",36),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.ribBenef)}}function tt(i,l){if(1&i&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function it(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,tt,2,1,"div",97),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("mntBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("mntBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("mntBenef"))?null:o.touched)))}}function nt(i,l){if(1&i&&(e.TgZ(0,"div",96),e.YNc(1,it,2,1,"div",36),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.mntBenef)}}function ot(i,l){if(1&i&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function lt(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,ot,2,1,"div",97),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("refBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("refBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("refBenef"))?null:o.touched)))}}function rt(i,l){if(1&i&&(e.TgZ(0,"div",96),e.YNc(1,lt,2,1,"div",36),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.refBenef)}}function st(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"button",104),e.NdJ("click",function(){const o=e.CHM(t),r=o.$implicit,m=o.index;return e.oxw(3).EditBenef(r,m)}),e._UZ(13,"i",105),e.qZA()(),e.TgZ(14,"td")(15,"button",106),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(3).RemoveBenef(r)}),e._UZ(16,"i",107),e.qZA()()()}if(2&i){const t=l.$implicit,n=e.oxw(3);e.xp6(2),e.AsE("",t.benefFirstName," ",t.benefLastName,""),e.xp6(2),e.Oqu(t.benefAmount),e.xp6(2),e.Oqu(t.numVirement),e.xp6(2),e.Oqu(t.benefMotif),e.xp6(2),e.Oqu(t.benefReference),e.xp6(2),e.Q6J("disabled",n.benefForm.valid)}}function dt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",108),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).showDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Visualiser ",t.fileName,"")}}function mt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",109),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).hideDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Cacher ",t.fileName,"")}}function at(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",106),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).removeFileOrdreForm()}),e._UZ(1,"i",107),e.qZA()}}function ct(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,Me,16,7,"form",49),e.TgZ(2,"form",50)(3,"div",32)(4,"div",51)(5,"label",52),e._uU(6,"S\xe9lectionnez le type de virement"),e.TgZ(7,"b",53),e._uU(8,"*"),e.qZA()(),e.TgZ(9,"select",54)(10,"option",55),e._uU(11," Choisir "),e.qZA(),e.YNc(12,qe,2,2,"option",56),e.qZA()()(),e.YNc(13,Ee,12,7,"div",57),e.TgZ(14,"div",32)(15,"div",58)(16,"label",59),e._uU(17,"Montant total en chiffre"),e.TgZ(18,"b",53),e._uU(19,"*"),e.qZA()(),e.TgZ(20,"input",60),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).getFormatedAmount()}),e.qZA(),e.YNc(21,Se,2,1,"div",61),e.qZA(),e.TgZ(22,"div",58)(23,"label",59),e._uU(24,"Montant introduit"),e.qZA(),e._UZ(25,"input",62),e.qZA(),e.TgZ(26,"div",58)(27,"label",59),e._uU(28,"Motif"),e.TgZ(29,"b",53),e._uU(30,"*"),e.qZA(),e.TgZ(31,"input",63),e.NdJ("click",function(o){return e.CHM(t),e.oxw(2).getMotifCommun(o)}),e.qZA(),e.TgZ(32,"label",64),e._uU(33," Motif commun \xa0\xa0 "),e.qZA()(),e.TgZ(34,"input",65),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(2).getMotif()}),e.qZA(),e.YNc(35,Qe,2,1,"div",61),e.qZA(),e.TgZ(36,"div",58)(37,"label",52),e._uU(38,"R\xe9f\xe9rence"),e.TgZ(39,"b",53),e._uU(40,"*"),e.qZA()(),e.TgZ(41,"input",66),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(2).checkReference()}),e.qZA(),e.YNc(42,De,2,1,"div",61),e.qZA()(),e.TgZ(43,"div",32)(44,"div",51)(45,"label",59),e._uU(46,"Montant format\xe9"),e.qZA(),e._UZ(47,"input",67),e.qZA(),e.TgZ(48,"div",68)(49,"label",59),e._uU(50,"Commentaire"),e.qZA(),e._UZ(51,"textarea",69),e.qZA()(),e.TgZ(52,"div",32)(53,"div",70)(54,"label",59),e._uU(55,"Montant en lettres"),e.qZA(),e._UZ(56,"input",71),e.qZA()(),e._UZ(57,"br"),e.TgZ(58,"h5")(59,"i"),e._uU(60,"(B\xe9n\xe9ficiaire)"),e.qZA()()(),e.TgZ(61,"form",50)(62,"div",32)(63,"div",51)(64,"label",59),e._uU(65,"Nom & Pr\xe9nom / Raison social "),e.TgZ(66,"b",53),e._uU(67,"*"),e.qZA()(),e._UZ(68,"input",72),e.YNc(69,He,2,1,"div",61),e.qZA(),e.TgZ(70,"div",51)(71,"label",59),e._uU(72,"Motif b\xe9n\xe9ficiaire"),e.TgZ(73,"b",73),e._uU(74,"*"),e.qZA()(),e._UZ(75,"input",74),e.YNc(76,ze,2,1,"div",61),e.qZA()(),e.TgZ(77,"div",32)(78,"div",51)(79,"label",59),e._uU(80,"RIB B\xe9n\xe9ficiaire"),e.TgZ(81,"b",53),e._uU(82,"*"),e.qZA()(),e.TgZ(83,"input",75),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(2).ControlRIB()}),e.qZA(),e.YNc(84,et,2,1,"div",61),e.qZA(),e.TgZ(85,"div",51)(86,"label",59),e._uU(87,"Montant"),e.TgZ(88,"b",53),e._uU(89,"*"),e.qZA()(),e._UZ(90,"input",76),e.YNc(91,nt,2,1,"div",61),e.qZA(),e.TgZ(92,"div",51)(93,"label",59),e._uU(94,"R\xe9f\xe9rence"),e.TgZ(95,"b",53),e._uU(96,"*"),e.qZA()(),e.TgZ(97,"input",77),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(2).ControlRef()}),e.qZA(),e.YNc(98,rt,2,1,"div",61),e.qZA()(),e.TgZ(99,"div",32)(100,"div",33)(101,"button",78),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addBenefToTable()}),e._uU(102,"Ajouter b\xe9n\xe9ficiaire"),e._UZ(103,"i",79),e.qZA()()(),e.TgZ(104,"div",32)(105,"div",33)(106,"table",34)(107,"thead")(108,"tr")(109,"th",35),e._uU(110,"Nom & pr\xe9nom b\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(111,"th",35),e._uU(112,"Montant"),e.qZA(),e.TgZ(113,"th",35),e._uU(114,"RIB"),e.qZA(),e.TgZ(115,"th",35),e._uU(116,"Motif"),e.qZA(),e.TgZ(117,"th",35),e._uU(118,"R\xe9f\xe9rence"),e.qZA(),e._UZ(119,"th"),e.qZA()(),e.TgZ(120,"tbody"),e.YNc(121,st,17,7,"tr",36),e.qZA()()()(),e.TgZ(122,"div",32)(123,"div",80)(124,"label",81),e._uU(125,"Joindre ordre de virement "),e._UZ(126,"i",79),e.qZA(),e.TgZ(127,"input",82,83),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).upload(o)}),e.qZA(),e.TgZ(129,"input",84),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(128);return o.value="",o.click()}),e.qZA(),e._UZ(130,"br")(131,"br"),e.TgZ(132,"div"),e._UZ(133,"br"),e.qZA()(),e.TgZ(134,"div",85),e.YNc(135,dt,2,1,"button",86),e.YNc(136,mt,2,1,"button",87),e.qZA(),e.TgZ(137,"div",88),e.YNc(138,at,2,0,"button",89),e.qZA()(),e.TgZ(139,"div",90)(140,"div",33),e._UZ(141,"iframe",91),e.qZA()()(),e.TgZ(142,"div",32)(143,"div",92)(144,"div",80)(145,"button",93),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).initiateVir("F")}),e._uU(146," Enregistrer "),e.qZA()()()()()}if(2&i){const t=e.oxw(2);let n,o,r,m,a,u,_,x,F,f,p,c,v,h,g,A,C;e.xp6(1),e.Q6J("ngIf",!t.onetiers),e.xp6(1),e.Q6J("formGroup",t.virementFForm),e.xp6(7),e.Q6J("ngClass",e.WLB(28,W,(null==(n=t.virementFForm.get("typetransaction"))?null:n.touched)&&(null==(n=t.virementFForm.get("typetransaction"))?null:n.invalid),null==(n=t.virementFForm.get("typetransaction"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.transactiontypes),e.xp6(1),e.Q6J("ngIf",t.choseTiers),e.xp6(7),e.Q6J("ngClass",e.WLB(31,W,(null==(o=t.virementFForm.get("mntTot"))?null:o.touched)&&(null==(o=t.virementFForm.get("mntTot"))?null:o.invalid),null==(o=t.virementFForm.get("mntTot"))?null:o.valid)),e.xp6(1),e.Q6J("ngIf",(null==(r=t.virementFForm.get("mntTot"))?null:r.touched)&&(null==(r=t.virementFForm.get("mntTot"))?null:r.invalid)),e.xp6(13),e.Q6J("ngClass",e.WLB(34,W,(null==(m=t.virementFForm.get("motif"))?null:m.touched)&&(null==(m=t.virementFForm.get("motif"))?null:m.invalid),null==(m=t.virementFForm.get("motif"))?null:m.valid)),e.xp6(1),e.Q6J("ngIf",(null==(a=t.virementFForm.get("motif"))?null:a.touched)&&(null==(a=t.virementFForm.get("motif"))?null:a.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(37,W,(null==(u=t.virementFForm.get("reference"))?null:u.touched)&&(null==(u=t.virementFForm.get("reference"))?null:u.invalid),null==(u=t.virementFForm.get("reference"))?null:u.valid)),e.xp6(1),e.Q6J("ngIf",(null==(_=t.virementFForm.get("reference"))?null:_.touched)&&(null==(_=t.virementFForm.get("reference"))?null:_.invalid)),e.xp6(19),e.Q6J("formGroup",t.benefForm),e.xp6(7),e.Q6J("ngClass",e.WLB(40,W,(null==(x=t.benefForm.get("nomBenef"))?null:x.touched)&&(null==(x=t.benefForm.get("nomBenef"))?null:x.invalid),null==(x=t.benefForm.get("nomBenef"))?null:x.valid)),e.xp6(1),e.Q6J("ngIf",(null==(F=t.benefForm.get("nomBenef"))?null:F.touched)&&(null==(F=t.benefForm.get("nomBenef"))?null:F.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(43,W,(null==(f=t.benefForm.get("motifbenef"))?null:f.touched)&&(null==(f=t.benefForm.get("motifbenef"))?null:f.invalid),null==(f=t.benefForm.get("motifbenef"))?null:f.valid)),e.xp6(1),e.Q6J("ngIf",(null==(p=t.benefForm.get("motifbenef"))?null:p.touched)&&(null==(p=t.benefForm.get("motifbenef"))?null:p.invalid)),e.xp6(7),e.Q6J("ngClass",e.WLB(46,W,(null==(c=t.benefForm.get("ribBenef"))?null:c.touched)&&(null==(c=t.benefForm.get("ribBenef"))?null:c.invalid),null==(c=t.benefForm.get("ribBenef"))?null:c.valid)),e.xp6(1),e.Q6J("ngIf",(null==(v=t.benefForm.get("ribBenef"))?null:v.touched)&&(null==(v=t.benefForm.get("ribBenef"))?null:v.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(49,W,(null==(h=t.benefForm.get("mntBenef"))?null:h.touched)&&(null==(h=t.benefForm.get("mntBenef"))?null:h.invalid),null==(h=t.benefForm.get("mntBenef"))?null:h.valid)),e.xp6(1),e.Q6J("ngIf",(null==(g=t.benefForm.get("mntBenef"))?null:g.touched)&&(null==(g=t.benefForm.get("mntBenef"))?null:g.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(52,W,(null==(A=t.benefForm.get("refBenef"))?null:A.touched)&&(null==(A=t.benefForm.get("refBenef"))?null:A.invalid),null==(A=t.benefForm.get("refBenef"))?null:A.valid)),e.xp6(1),e.Q6J("ngIf",(null==(C=t.benefForm.get("refBenef"))?null:C.touched)&&(null==(C=t.benefForm.get("refBenef"))?null:C.invalid)),e.xp6(3),e.Q6J("disabled",t.benefForm.invalid),e.xp6(20),e.Q6J("ngForOf",t.listBenef),e.xp6(14),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&t.toshow),e.xp6(1),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&!t.toshow),e.xp6(2),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0),e.xp6(7),e.Q6J("disabled",t.tiersForm.invalid||t.virementFForm.invalid||0==t.listBenef.length||!t.checkreferencebenef)}}function ut(i,l){if(1&i&&(e.TgZ(0,"option",95),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.Oqu(t.FullName)}}function _t(i,l){if(1&i&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function ft(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,_t,2,1,"div",97),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngIf",n.tiersForm.get("tiers").hasError(t.type)&&(n.tiersForm.get("tiers").dirty||n.tiersForm.get("tiers").touched))}}function vt(i,l){if(1&i&&(e.TgZ(0,"div",96),e.YNc(1,ft,2,1,"div",36),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.tiers)}}function pt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"form",50)(1,"div",32)(2,"div",51)(3,"label",52),e._uU(4,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(5,"b",53),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"select",94),e.NdJ("change",function(){return e.CHM(t),e.oxw(3).gettiers()}),e.TgZ(8,"option",55),e._uU(9," Choisir "),e.qZA(),e.YNc(10,ut,2,2,"option",56),e.qZA(),e.YNc(11,vt,2,1,"div",61),e.qZA()()()}if(2&i){const t=e.oxw(3);let n,o;e.Q6J("formGroup",t.tiersForm),e.xp6(7),e.Q6J("ngClass",e.WLB(4,W,(null==(n=t.tiersForm.get("tiers"))?null:n.touched)&&(null==(n=t.tiersForm.get("tiers"))?null:n.invalid),null==(n=t.tiersForm.get("tiers"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.ListTiers),e.xp6(1),e.Q6J("ngIf",(null==(o=t.tiersForm.get("tiers"))?null:o.touched)&&(null==(o=t.tiersForm.get("tiers"))?null:o.invalid))}}function ht(i,l){if(1&i&&(e.TgZ(0,"option",95),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function gt(i,l){if(1&i&&(e.TgZ(0,"option",95),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.account_routings[0].scheme),e.xp6(1),e.hij(" ",t.account_routings[0].scheme," ")}}function bt(i,l){if(1&i&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Ft(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,bt,2,1,"div",97),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngIf",n.virementFForm.get("numcpt").hasError(t.type)&&(n.virementFForm.get("numcpt").dirty||n.virementFForm.get("numcpt").touched))}}function xt(i,l){if(1&i&&(e.TgZ(0,"div",96),e.YNc(1,Ft,2,1,"div",36),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.numcpt)}}function Zt(i,l){if(1&i&&(e.TgZ(0,"div",99)(1,"label",59),e._uU(2,"Libell\xe9 compte"),e.qZA(),e.TgZ(3,"span",103),e._uU(4),e.qZA()()),2&i){const t=e.oxw(4);e.xp6(4),e.Oqu(t.AccountName)}}function Tt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",99)(2,"label",52),e._uU(3,"Compte \xe0 d\xe9biter"),e.TgZ(4,"b",53),e._uU(5,"*"),e.qZA()(),e.TgZ(6,"select",100),e.NdJ("change",function(){return e.CHM(t),e.oxw(3).getAcc()}),e.TgZ(7,"option",101),e._uU(8," Choisir compte "),e.qZA(),e.YNc(9,gt,2,2,"option",56),e.qZA(),e.YNc(10,xt,2,1,"div",61),e.qZA(),e.YNc(11,Zt,5,1,"div",102),e.qZA()}if(2&i){const t=e.oxw(3);let n,o;e.xp6(6),e.Q6J("ngClass",e.WLB(4,W,(null==(n=t.virementFForm.get("numcpt"))?null:n.touched)&&(null==(n=t.virementFForm.get("numcpt"))?null:n.invalid),null==(n=t.virementFForm.get("numcpt"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.listCompts),e.xp6(1),e.Q6J("ngIf",(null==(o=t.virementFForm.get("numcpt"))?null:o.touched)&&(null==(o=t.virementFForm.get("numcpt"))?null:o.invalid)),e.xp6(1),e.Q6J("ngIf",t.choseRib)}}function At(i,l){if(1&i&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Ct(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,At,2,1,"div",97),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("mntTot"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("mntTot"))?null:o.dirty)||(null==(o=n.virementFForm.get("mntTot"))?null:o.touched)))}}function yt(i,l){if(1&i&&(e.TgZ(0,"div",96),e.YNc(1,Ct,2,1,"div",36),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.mntTot)}}function Vt(i,l){if(1&i&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Bt(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Vt,2,1,"div",97),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("motif"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("motif"))?null:o.dirty)||(null==(o=n.virementFForm.get("motif"))?null:o.touched)))}}function Mt(i,l){if(1&i&&(e.TgZ(0,"div",96),e.YNc(1,Bt,2,1,"div",36),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.motif)}}function qt(i,l){if(1&i&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Nt(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,qt,2,1,"div",97),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("reference"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("reference"))?null:o.dirty)||(null==(o=n.virementFForm.get("reference"))?null:o.touched)))}}function It(i,l){if(1&i&&(e.TgZ(0,"div",96),e.YNc(1,Nt,2,1,"div",36),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.reference)}}function wt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",106),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).removeCsvBenefFile()}),e._UZ(1,"i",107),e.qZA()}}function kt(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"span"),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"span"),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"span"),e._uU(21),e.qZA()(),e.TgZ(22,"td")(23,"span"),e._uU(24),e.qZA()()()),2&i){const t=l.$implicit;e.xp6(3),e.Oqu(t.NOM),e.xp6(3),e.Oqu(t.MATRICULE),e.xp6(3),e.Oqu(t.NUMPAIEMENT),e.xp6(3),e.Oqu(t.TELBENEF),e.xp6(3),e.Oqu(t.EMAILBENEF),e.xp6(3),e.Oqu(t.MONTANT),e.xp6(3),e.Oqu(t.REFERENCE),e.xp6(3),e.Oqu(t.MOTIF)}}function Ut(i,l){if(1&i&&(e.TgZ(0,"table",127)(1,"thead")(2,"tr")(3,"th"),e._uU(4,"Nom "),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Matricule "),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Num\xe9ro de paiement "),e.qZA(),e.TgZ(9,"th"),e._uU(10,"T\xe9l\xe9phone "),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Email "),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Montant "),e.qZA(),e.TgZ(15,"th"),e._uU(16,"R\xe9f\xe9rence "),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Motif "),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,kt,25,8,"tr",36),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(20),e.Q6J("ngForOf",t.records)}}function Et(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",108),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).showDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Visualiser ",t.fileName,"")}}function Jt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",109),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).hideDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Cacher ",t.fileName,"")}}function Rt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",106),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).removeFileOrdre()}),e._UZ(1,"i",107),e.qZA()}}function St(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"button",110),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).downloadCSVStruct()}),e._UZ(2,"i",111),e._uU(3," T\xe9l\xe9charger Structure CSV"),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"h5")(6,"i"),e._uU(7,"(Donneur d'ordre)"),e.qZA()(),e.YNc(8,pt,12,7,"form",49),e.TgZ(9,"form",50)(10,"div",32)(11,"div",51)(12,"label",52),e._uU(13,"S\xe9lectionnez le type de virement"),e.TgZ(14,"b",53),e._uU(15,"*"),e.qZA()(),e.TgZ(16,"select",54)(17,"option",55),e._uU(18," Choisir "),e.qZA(),e.YNc(19,ht,2,2,"option",56),e.qZA()()(),e.YNc(20,Tt,12,7,"div",57),e.TgZ(21,"div",32)(22,"div",58)(23,"label",59),e._uU(24,"Montant total en chiffre"),e.TgZ(25,"b",53),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"input",60),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).getFormatedAmount()}),e.qZA(),e.YNc(28,yt,2,1,"div",61),e.qZA(),e.TgZ(29,"div",58)(30,"label",59),e._uU(31,"Montant introduit"),e.qZA(),e._UZ(32,"input",62),e.qZA(),e.TgZ(33,"div",58)(34,"label",52),e._uU(35,"Motif"),e.TgZ(36,"b",53),e._uU(37,"*"),e.qZA()(),e._UZ(38,"input",112),e.YNc(39,Mt,2,1,"div",61),e.qZA(),e.TgZ(40,"div",58)(41,"label",52),e._uU(42,"R\xe9f\xe9rence"),e.TgZ(43,"b",53),e._uU(44,"*"),e.qZA()(),e._UZ(45,"input",113),e.YNc(46,It,2,1,"div",61),e.qZA()(),e.TgZ(47,"div",32)(48,"div",51)(49,"label",59),e._uU(50,"Montant format\xe9"),e.qZA(),e._UZ(51,"input",67),e.qZA(),e.TgZ(52,"div",68)(53,"label",59),e._uU(54,"Commentaire"),e.qZA(),e._UZ(55,"textarea",69),e.qZA()(),e.TgZ(56,"div",32)(57,"div",70)(58,"label",59),e._uU(59,"Montant en lettres"),e.qZA(),e._UZ(60,"input",71),e.qZA()(),e._UZ(61,"br"),e.TgZ(62,"h5")(63,"i"),e._uU(64,"(B\xe9n\xe9ficiaire)"),e.qZA()(),e.TgZ(65,"div",32)(66,"div",80)(67,"label",114),e._uU(68,"T\xe9l\xe9charger fichier B\xe9n\xe9ficiaire "),e.qZA(),e.TgZ(69,"input",115,116),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).uploadBenef(o)}),e.qZA(),e.TgZ(71,"input",117),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(70);return o.value="",o.click()}),e.qZA(),e._UZ(72,"br")(73,"br"),e.qZA(),e.TgZ(74,"div",118)(75,"div",119)(76,"span"),e._uU(77),e.qZA()()(),e.TgZ(78,"div",88),e.YNc(79,wt,2,0,"button",89),e.qZA()(),e.TgZ(80,"div",90)(81,"div",120),e.YNc(82,Ut,21,1,"table",121),e.qZA()(),e.TgZ(83,"div",32)(84,"div",80)(85,"label",122),e._uU(86,"Joindre ordre de virement "),e._UZ(87,"i",79),e.qZA(),e.TgZ(88,"input",123,124),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).upload(o)}),e.qZA(),e.TgZ(90,"input",125),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(89);return o.value="",o.click()}),e.qZA(),e._UZ(91,"br")(92,"br"),e.TgZ(93,"div"),e._UZ(94,"br"),e.qZA()(),e.TgZ(95,"div",85),e.YNc(96,Et,2,1,"button",86),e.YNc(97,Jt,2,1,"button",87),e.qZA(),e.TgZ(98,"div",88),e.YNc(99,Rt,2,0,"button",89),e.qZA()(),e.TgZ(100,"div",90)(101,"div",33),e._UZ(102,"iframe",91),e.qZA()()(),e.TgZ(103,"div",32)(104,"div",92)(105,"div",80)(106,"button",126),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).initiateVir("CSV")}),e._uU(107," Enregistrer "),e.qZA()()()()()}if(2&i){const t=e.oxw(2);let n,o,r,m,a,u,_;e.xp6(8),e.Q6J("ngIf",!t.onetiers),e.xp6(1),e.Q6J("formGroup",t.virementFForm),e.xp6(7),e.Q6J("ngClass",e.WLB(18,W,(null==(n=t.virementFForm.get("typetransaction"))?null:n.touched)&&(null==(n=t.virementFForm.get("typetransaction"))?null:n.invalid),null==(n=t.virementFForm.get("typetransaction"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.transactiontypes),e.xp6(1),e.Q6J("ngIf",t.choseTiers),e.xp6(7),e.Q6J("ngClass",e.WLB(21,W,(null==(o=t.virementFForm.get("mntTot"))?null:o.touched)&&(null==(o=t.virementFForm.get("mntTot"))?null:o.invalid),null==(o=t.virementFForm.get("mntTot"))?null:o.valid)),e.xp6(1),e.Q6J("ngIf",(null==(r=t.virementFForm.get("mntTot"))?null:r.touched)&&(null==(r=t.virementFForm.get("mntTot"))?null:r.invalid)),e.xp6(10),e.Q6J("ngClass",e.WLB(24,W,(null==(m=t.virementFForm.get("motif"))?null:m.touched)&&(null==(m=t.virementFForm.get("motif"))?null:m.invalid),null==(m=t.virementFForm.get("motif"))?null:m.valid)),e.xp6(1),e.Q6J("ngIf",(null==(a=t.virementFForm.get("motif"))?null:a.touched)&&(null==(a=t.virementFForm.get("motif"))?null:a.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(27,W,(null==(u=t.virementFForm.get("reference"))?null:u.touched)&&(null==(u=t.virementFForm.get("reference"))?null:u.invalid),null==(u=t.virementFForm.get("reference"))?null:u.valid)),e.xp6(1),e.Q6J("ngIf",(null==(_=t.virementFForm.get("reference"))?null:_.touched)&&(null==(_=t.virementFForm.get("reference"))?null:_.invalid)),e.xp6(31),e.hij(" ",t.fileNameBenef," "),e.xp6(2),e.Q6J("ngIf",(null==t.fileNameBenef?null:t.fileNameBenef.length)>0),e.xp6(3),e.Q6J("ngIf",t.records.length>0),e.xp6(14),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&t.toshow),e.xp6(1),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&!t.toshow),e.xp6(2),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0),e.xp6(7),e.Q6J("disabled",t.tiersForm.invalid||t.virementFForm.invalid)}}function Ot(i,l){if(1&i&&(e.TgZ(0,"option",95),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function Lt(i,l){if(1&i&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Qt(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Lt,2,1,"div",97),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.FMandatForm.get("motif"))?null:o.hasError(t.type))&&((null==(o=n.FMandatForm.get("motif"))?null:o.dirty)||(null==(o=n.FMandatForm.get("motif"))?null:o.touched)))}}function Pt(i,l){if(1&i&&(e.TgZ(0,"div",96),e.YNc(1,Qt,2,1,"div",36),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.motif)}}function Yt(i,l){if(1&i&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Dt(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Yt,2,1,"div",97),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.FMandatForm.get("reference"))?null:o.hasError(t.type))&&((null==(o=n.FMandatForm.get("reference"))?null:o.dirty)||(null==(o=n.FMandatForm.get("reference"))?null:o.touched)))}}function jt(i,l){if(1&i&&(e.TgZ(0,"div",96),e.YNc(1,Dt,2,1,"div",36),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.reference)}}function $t(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",108),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).showDocumentFM()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Visualiser ",t.fileNameBenef,"")}}function Ht(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",109),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).hideDocumentFM()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Cacher ",t.fileNameBenef,"")}}function Xt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",106),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).removeFMBenefFile()}),e._UZ(1,"i",107),e.qZA()}}function Wt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",108),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).showDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Visualiser ",t.fileName,"")}}function zt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",109),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).hideDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Cacher ",t.fileName,"")}}function Gt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",106),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).removeFileOrdreFM()}),e._UZ(1,"i",107),e.qZA()}}function Kt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"form",50)(2,"div",32)(3,"div",51)(4,"label",52),e._uU(5,"S\xe9lectionnez le type de virement"),e.TgZ(6,"b",53),e._uU(7,"*"),e.qZA()(),e.TgZ(8,"select",54)(9,"option",55),e._uU(10," Choisir "),e.qZA(),e.YNc(11,Ot,2,2,"option",56),e.qZA()()(),e.TgZ(12,"div",32)(13,"div",51)(14,"label",52),e._uU(15,"Motif"),e.TgZ(16,"b",53),e._uU(17,"*"),e.qZA()(),e._UZ(18,"input",112),e.YNc(19,Pt,2,1,"div",61),e.qZA(),e.TgZ(20,"div",51)(21,"label",52),e._uU(22,"R\xe9f\xe9rence"),e.TgZ(23,"b",53),e._uU(24,"*"),e.qZA()(),e._UZ(25,"input",113),e.YNc(26,jt,2,1,"div",61),e.qZA(),e.TgZ(27,"div",51)(28,"label",59),e._uU(29,"Commentaire"),e.qZA(),e._UZ(30,"textarea",69),e.qZA()(),e._UZ(31,"br"),e.TgZ(32,"h5")(33,"i"),e._uU(34,"(B\xe9n\xe9ficiaire)"),e.qZA()(),e.TgZ(35,"div",32)(36,"div",80)(37,"label",114),e._uU(38,"T\xe9l\xe9charger fichier B\xe9n\xe9ficiaire "),e.qZA(),e.TgZ(39,"input",128,129),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).uploadBenef(o)}),e.qZA(),e.TgZ(41,"input",117),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(40);return o.value="",o.click()}),e.qZA()(),e.TgZ(42,"div",46),e.YNc(43,$t,2,1,"button",86),e.YNc(44,Ht,2,1,"button",87),e.qZA(),e.TgZ(45,"div",88),e.YNc(46,Xt,2,0,"button",89),e.qZA()(),e.TgZ(47,"div",130)(48,"div",33)(49,"pre"),e._uU(50),e.qZA()()(),e.TgZ(51,"div",32)(52,"div",80)(53,"label",122),e._uU(54,"Joindre ordre de virement "),e._UZ(55,"i",79),e.qZA(),e.TgZ(56,"input",123,131),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).upload(o)}),e.qZA(),e.TgZ(58,"input",125),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(57);return o.value="",o.click()}),e.qZA(),e._UZ(59,"br")(60,"br"),e.TgZ(61,"div"),e._UZ(62,"br"),e.qZA()(),e.TgZ(63,"div",85),e.YNc(64,Wt,2,1,"button",86),e.YNc(65,zt,2,1,"button",87),e.qZA(),e.TgZ(66,"div",88),e.YNc(67,Gt,2,0,"button",89),e.qZA()(),e.TgZ(68,"div",90)(69,"div",33),e._UZ(70,"iframe",91),e.qZA()(),e.TgZ(71,"div",32)(72,"div",92)(73,"div",80)(74,"button",132),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).initiateVir("FM")}),e._uU(75," Enregistrer "),e.qZA()()()()()()}if(2&i){const t=e.oxw(2);let n,o,r,m,a;e.xp6(1),e.Q6J("formGroup",t.FMandatForm),e.xp6(7),e.Q6J("ngClass",e.WLB(15,W,(null==(n=t.FMandatForm.get("typetransaction"))?null:n.touched)&&(null==(n=t.FMandatForm.get("typetransaction"))?null:n.invalid),null==(n=t.FMandatForm.get("typetransaction"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.transactiontypes),e.xp6(7),e.Q6J("ngClass",e.WLB(18,W,(null==(o=t.FMandatForm.get("motif"))?null:o.touched)&&(null==(o=t.FMandatForm.get("motif"))?null:o.invalid),null==(o=t.FMandatForm.get("motif"))?null:o.valid)),e.xp6(1),e.Q6J("ngIf",(null==(r=t.FMandatForm.get("motif"))?null:r.touched)&&(null==(r=t.FMandatForm.get("motif"))?null:r.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(21,W,(null==(m=t.FMandatForm.get("reference"))?null:m.touched)&&(null==(m=t.FMandatForm.get("reference"))?null:m.invalid),null==(m=t.FMandatForm.get("reference"))?null:m.valid)),e.xp6(1),e.Q6J("ngIf",(null==(a=t.FMandatForm.get("reference"))?null:a.touched)&&(null==(a=t.FMandatForm.get("reference"))?null:a.invalid)),e.xp6(17),e.Q6J("ngIf",(null==t.fileNameBenef?null:t.fileNameBenef.length)>0&&t.toshowfm),e.xp6(1),e.Q6J("ngIf",(null==t.fileNameBenef?null:t.fileNameBenef.length)>0&&!t.toshowfm),e.xp6(2),e.Q6J("ngIf",(null==t.fileNameBenef?null:t.fileNameBenef.length)>0),e.xp6(4),e.hij(" ",t.textfileContent," "),e.xp6(14),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&t.toshow),e.xp6(1),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&!t.toshow),e.xp6(2),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0),e.xp6(7),e.Q6J("disabled",t.FMandatForm.invalid)}}function ei(i,l){if(1&i&&(e.TgZ(0,"div",37)(1,"div",38)(2,"h5",39),e._uU(3,"Initiation Virement multiple"),e.qZA(),e.TgZ(4,"fieldset",43),e.YNc(5,Ae,4,3,"div",44),e.qZA(),e.YNc(6,ct,147,55,"div",45),e.YNc(7,St,108,30,"div",45),e.YNc(8,Kt,76,24,"div",45),e.qZA()()),2&i){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.typeData),e.xp6(1),e.Q6J("ngIf",t.isForm),e.xp6(1),e.Q6J("ngIf",t.isCSV),e.xp6(1),e.Q6J("ngIf",t.isFM)}}function ti(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&i){const t=l.$implicit;e.xp6(2),e.hij("",t.Fullname," "),e.xp6(2),e.Oqu(t.Amount),e.xp6(2),e.Oqu(t.NumeroPayement)}}let ii=(()=>{class i{constructor(t,n,o,r,m,a,u){this.BenefServ=t,this.fb=n,this.http=o,this.router=r,this.auth=m,this.VirServ=a,this.opImpService=u,this.records=[],this.transactiontypes=[],this.checkreference=!0,this.textfileContent="",this.virFileModel=new _e.O,this.chargedData=!1,this.PathReportString="",this.checkribbenef=!0,this.checkreferencebenef=!0,this.motifcommun=!1,this.typeData=["Via Formulaire","Via fichier CSV","Via F-mandat"],this.libDevise="DINARS",this.onetiers=!0,this.choseTiers=!1,this.ListTiers=[],this.hasTiersClient=!1,this.listTiers=[],this.benefModel=new K.O,this.listBenef=[],this.benefformModel=new ie.z,this.benefformList=[],this.virementModel=new fe.T,this.validation_messages={numcpt:[{type:"required",message:"Ce champs est obligatoire"}],reference:[{type:"required",message:"Ce champs est obligatoire"},{type:"checkControl",message:"R\xe9f\xe9rence existe d\xe9j\xe0."}],tiers:[{type:"required",message:"Veuillez choisir un tiers"}],mntTot:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Valeur invalide"}],motif:[{type:"required",message:"Ce champs est obligatoire"}],nomBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Ce champ n'accepte que des chiffres et des lettres"}],ribBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Le RIB doit \xeatre compos\xe9 de 20 chiffres"},{type:"checkControl",message:"Veuillez saisir un autre compte"}],mntBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Valeur invalide"}],refBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"checkControl",message:"Veuillez saisir une autre r\xe9f\xe9rence"}],motifbenef:[{type:"required",message:"Ce champs est obligatoire"}]},this.list0=[],this.listCompts=[],this.fileName="",this.mntIntroduit=0,this.createForm()}getTransactionTypes(){this.VirServ.getTransactionTypes(this.token).subscribe(t=>{this.transactiontypes=t})}ngOnInit(){this.chargedData=!0,this.motifcommun=!1,this.istrue=localStorage.getItem("istrue"),this.token=localStorage.getItem("token"),this.cuser=localStorage.getItem("cuser"),this.cuser=this.cuser.toLowerCase(),this.tiersForm.reset(),this.getTransactionTypes(),"true"==this.istrue?(this.isForm=!1,this.isCSV=!1,this.isFM=!1,this.cuser=localStorage.getItem("cuser"),this.auth.getTiersByIdDigital(this.token).subscribe(t=>{this.ListTiers=t,this.chargedData=!1,0==this.ListTiers.length?(this.onetiers=!0,this.choseTiers=!0,this.hasTiersClient=!0):1==this.ListTiers.length?(this.tiersClient=this.ListTiers[0].Referentiel,this.onetiers=!0,this.choseTiers=!0,this.hasTiersClient=!0,this.listTiers.push(this.tiersClient),this.tiersForm.controls.tiers.setValue(this.tiersClient),this.gettiers()):(this.createForm(),(null==this.tiersClient||""==this.tiersClient)&&(this.tiersClient=void 0),null!=this.tiersClient&&(this.hasTiersClient=!0),this.onetiers=!1),console.log(this.choseTiers)},t=>{this.chargedData=!1,-1!=t.indexOf("401")&&this.router.navigate(["/"])})):this.router.navigate(["/"])}createForm(){this.tiersForm=this.fb.group({tiers:["",d.kI.required]}),this.virementFForm=this.fb.group({typetransaction:["",d.kI.required],numcpt:["",d.kI.required],mntTot:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^[0-9,.]*$")])),formattedAmount:new d.NI,amountLetters:new d.NI,mntCalculated:new d.NI,motif:["",d.kI.required],reference:["",d.kI.required],comment:new d.NI,fileCsv:new d.NI,filenameCSV:"",filenameO:"",ordreVirement:new d.NI}),this.benefForm=this.fb.group({nomBenef:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^([A-Za-z0-9 ]*)$")])),ribBenef:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^[0-9]{20}$")])),mntBenef:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^[0-9,.]*$")])),refBenef:["",d.kI.required],motifbenef:["",d.kI.required],ordreVirementBenef:new d.NI,fileNameOrdreF:""}),this.FMandatForm=this.fb.group({motif:["",d.kI.required],typetransaction:["",d.kI.required],reference:["",d.kI.required],comment:new d.NI,fileFmondat:["",d.kI.required],fileNameFM:"",ordreVirement:new d.NI,fileNameOrdreV:""})}getAccountsBytiers(){var t;this.list0=[],this.listCompts=[],this.VirServ.MinimalByRef(this.token,null===(t=this.tiersForm.get("tiers"))||void 0===t?void 0:t.value).subscribe(n=>{this.listCompts=n.accounts;for(var o=0;o<this.listCompts.length;o++)this.list0.push(this.listCompts[o].account_routings[0])},n=>{-1!=n.indexOf("401")&&this.router.navigate(["/"])})}getAcc(){var t;let n=null===(t=this.virementFForm.get("numcpt"))||void 0===t?void 0:t.value,o="";for(var r=0;r<this.listCompts.length;r++)n==this.listCompts[r].account_routings[0].scheme&&(o=this.listCompts[r].id);this.choseRib=!0,this.opImpService.getDataByAccount(this.token,o).subscribe(m=>{this.AccountName=m.fullname.replace("null"," ")},m=>{-1!=m.indexOf("401")&&this.router.navigate(["/"])})}gettiers(){var t;null===(t=this.virementFForm.controls.numcpt)||void 0===t||t.reset(),this.choseRib=!1,this.listTiers=[],this.choseTiers=!0,this.hasTiersClient=!0,this.listTiers.push(this.tiersClient),this.getAccountsBytiers()}getChosenType(t){this.records=[],this.checkreference=!0,this.isForm=!1,this.isCSV=!1,this.isFM=!1,this.listBenef=[],this.mntIntroduit=0,this.choseTiers=!1,1==this.ListTiers.length?this.choseTiers=!0:this.tiersForm.reset(),this.choseRib=!1,this.listBenef=[],this.AccountName="",this.fileName="",this.fileNameBenef="",this.virementFForm.reset(),this.benefForm.reset(),this.FMandatForm.reset(),this.virementFForm.controls.reference.clearValidators(),this.virementFForm.controls.reference.addValidators([d.kI.required]),this.virementFForm.controls.reference.updateValueAndValidity(),this.virementFForm.controls.fileCsv.clearValidators(),this.virementFForm.controls.fileCsv.updateValueAndValidity(),"Via Formulaire"==this.typechoice?this.isForm=!0:"Via fichier CSV"==this.typechoice?(this.virementFForm.controls.fileCsv.setValidators([d.kI.required]),this.virementFForm.controls.fileCsv.updateValueAndValidity(),this.isCSV=!0):this.isFM=!0}getWord(t){this.opImpService.getWordFromAmount(t,this.token,this.libDevise,"MILLIMES").subscribe(n=>{this.virementFForm.controls.amountLetters.setValue(n.body)},n=>{-1!=n.indexOf("401")&&this.router.navigate(["/"])})}getWordByAmount(){var t=this.virementFForm.controls.formattedAmount.value.toString();this.getWord(t)}getFormatedAmount(){this.virementFForm.controls.amountLetters.reset(),this.virementFForm.controls.formattedAmount.reset(),this.valueletters="",this.opImpService.getFormatedAmount("TND",this.virementFForm.controls.mntTot.value,this.token).subscribe(t=>{this.virementFForm.controls.formattedAmount.setValue(t.body),this.getWordByAmount()},t=>{-1!=t.indexOf("401")&&this.router.navigate(["/"])})}ControlRef(){var n,o,r;this.checkreferencebenef=!0,this.benefForm.get("refBenef"),null===(n=this.benefForm.get("refBenef"))||void 0===n||n.updateValueAndValidity(),null===(o=this.benefForm.get("refBenef"))||void 0===o||o.setValidators([d.kI.required]),null===(r=this.benefForm.get("refBenef"))||void 0===r||r.updateValueAndValidity()}ControlRIB(){var t,n,o,r,m;null===(t=this.benefForm.get("ribBenef"))||void 0===t||t.clearValidators(),null===(n=this.benefForm.get("ribBenef"))||void 0===n||n.updateValueAndValidity(),null===(o=this.benefForm.get("ribBenef"))||void 0===o||o.setValidators([d.kI.required,d.kI.pattern("^[0-9]{20}$")]),null===(r=this.benefForm.get("ribBenef"))||void 0===r||r.updateValueAndValidity();let a=null===(m=this.benefForm.get("ribBenef"))||void 0===m?void 0:m.value;if(20==a.length){let u={NumeroCompte:a};null!=a&&null!=a&&""!=a&&this.BenefServ.ControlAccountBenef(u,this.token).subscribe(_=>{var x,F,f,p,c,v,h,g;this.RetourCompte=_,("01"==this.RetourCompte.ResponseCode||"99"==this.RetourCompte.ResponseCode)&&(this.checkribbenef=!1,null===(x=this.benefForm.get("ribBenef"))||void 0===x||x.addValidators([(0,S.b)("ribBenef",this.checkribbenef)]),null===(F=this.benefForm.get("ribBenef"))||void 0===F||F.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="Verifier le  RIB en input !",this.modalButtonLeft="OK",null===(f=document.getElementById("exampleModalLabelProcessedalert"))||void 0===f||f.setAttribute("style","color:red;font-weight:bold;text-align: center;"),null===(p=document.getElementById("btnAlert"))||void 0===p||p.click()),"00"==this.RetourCompte.ResponseCode&&("Active"!=this.RetourCompte.Status?(this.checkribbenef=!1,null===(c=this.benefForm.get("ribBenef"))||void 0===c||c.addValidators([(0,S.b)("ribBenef",this.checkribbenef)]),null===(v=this.benefForm.get("ribBenef"))||void 0===v||v.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="Verifier le  RIB en input !",this.modalButtonLeft="OK",null===(h=document.getElementById("exampleModalLabelProcessedalert"))||void 0===h||h.setAttribute("style","color:red;font-weight:bold;text-align: center;"),null===(g=document.getElementById("btnAlert"))||void 0===g||g.click()):this.checkribbenef=!0)},_=>{console.log("error API"),-1!=_.indexOf("401")&&this.router.navigate(["/"])})}else this.checkribbenef=!0}getMotif(){1==this.motifcommun&&this.benefForm.controls.motifbenef.setValue(this.virementFForm.controls.motif.value)}addBenefToTable(){var t,n,o,r,m,a,u,_,x,F,f;this.checkreferencebenef=!0,null===(t=this.benefForm.get("refBenef"))||void 0===t||t.removeValidators([(0,S.b)("refBenef",this.checkreferencebenef)]),null===(n=this.benefForm.get("refBenef"))||void 0===n||n.updateValueAndValidity(),this.benefModel.benefLastName=this.benefForm.controls.nomBenef.value,this.benefModel.numVirement=this.benefForm.controls.ribBenef.value,this.benefModel.benefAmount=this.benefForm.controls.mntBenef.value,this.benefModel.benefReference=this.benefForm.controls.refBenef.value,this.benefModel.benefMotif=1==this.motifcommun?this.virementFForm.controls.motif.value:this.benefForm.controls.motifbenef.value,this.benefModel.typeVirement="Compte",this.benefModel.benefReference==this.virementFForm.controls.reference.value&&this.listBenef.length>1?(this.modalTitle="Alerte",this.modalBody="La r\xe9f\xe9rence virement ne peut pas \xeatre la m\xeame du b\xe9n\xe9ficiaire",this.modalButtonLeft="OK",this.checkreferencebenef=!1,null===(o=this.benefForm.get("refBenef"))||void 0===o||o.addValidators([(0,S.b)("refBenef",this.checkreferencebenef)]),null===(r=this.benefForm.get("refBenef"))||void 0===r||r.updateValueAndValidity(),null===(m=document.getElementById("btnAlert"))||void 0===m||m.click()):this.listBenef.length>0?this.listBenef.some(p=>p.benefReference===this.benefModel.benefReference)?(this.modalTitle="Alerte",this.modalBody="La r\xe9f\xe9rence du b\xe9n\xe9ficiaire que vous voudrez ajouter "+this.benefModel.benefReference+" existe d\xe9j\xe0",this.modalButtonLeft="OK",this.checkreferencebenef=!1,null===(a=this.benefForm.get("refBenef"))||void 0===a||a.addValidators([(0,S.b)("refBenef",this.checkreferencebenef)]),null===(u=this.benefForm.get("refBenef"))||void 0===u||u.updateValueAndValidity(),null===(_=document.getElementById("btnAlert"))||void 0===_||_.click()):this.listBenef.some(p=>p.benefLastName.toLocaleLowerCase()!=this.benefModel.benefLastName.toLocaleLowerCase())&&this.listBenef.some(p=>p.numVirement==this.benefModel.numVirement)?(this.modalBody="Vous avez d\xe9j\xe0 ins\xe9rer un b\xe9n\xe9ficiaire ayant le num\xe9ro du compte "+this.benefModel.numVirement+" mais avec un nom diff\xe9rent",this.modalButtonLeft="OK",null===(x=document.getElementById("exampleModalLabelProcessedalert"))||void 0===x||x.setAttribute("style","color:blue;font-weight:bold"),null===(F=document.getElementById("btnAlert"))||void 0===F||F.click()):this.listBenef.some(p=>p.benefAmount===this.benefModel.benefAmount)&&this.listBenef.some(p=>p.numVirement===this.benefModel.numVirement)?(this.modalTitle="Rappel",this.modalBody="B\xe9n\xe9ficiaire d\xe9j\xe0 existant",this.modalButtonLeft="Annuler",this.modalButtonRight="OK",null===(f=document.getElementById("btnVerifexist"))||void 0===f||f.click()):(this.listBenef.push(this.benefModel),this.benefModel=new K.O,console.log(this.mntIntroduit),this.benefForm.controls.nomBenef.reset(),this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.mntBenef.reset(),this.benefForm.controls.refBenef.reset(),0==this.motifcommun&&this.benefForm.controls.motifbenef.reset()):(this.listBenef.push(this.benefModel),this.benefModel=new K.O,this.benefForm.controls.nomBenef.reset(),this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.mntBenef.reset(),this.benefForm.controls.refBenef.reset(),0==this.motifcommun&&this.benefForm.controls.motifbenef.reset())}RemoveBenef(t){this.listBenef.splice(t,1)}EditBenef(t,n){this.benefForm.controls.nomBenef.setValue(t.benefLastName),this.benefForm.controls.ribBenef.setValue(t.numVirement),this.benefForm.controls.mntBenef.setValue(t.benefAmount),this.benefForm.controls.refBenef.setValue(t.benefReference),this.benefForm.controls.motifbenef.setValue(t.benefMotif),this.listBenef.splice(n,1)}Ok(){var t;this.listBenef.push(this.benefModel),this.benefModel=new K.O,this.benefForm.controls.nomBenef.reset(),this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.mntBenef.reset(),this.benefForm.controls.refBenef.reset(),0==this.motifcommun&&this.benefForm.controls.motifbenef.reset(),null===(t=document.getElementById("dismissmodal"))||void 0===t||t.click()}checkReference(){var t,n,o;this.checkreference=!0,null===(t=this.virementFForm.get("reference"))||void 0===t||t.clearValidators(),null===(n=this.virementFForm.get("reference"))||void 0===n||n.addValidators(d.kI.required),null===(o=this.virementFForm.get("reference"))||void 0===o||o.updateValueAndValidity()}initiateVir(t){var n,o,r,m,a,u,_,x,F;if(this.chargedData=!0,"F"==t){this.virementModel.benefmultiple=[],this.benefformModel=new ie.z,this.benefformList=[],null===(n=document.getElementById("btninit"))||void 0===n||n.setAttribute("disabled","disabled"),this.virementModel.AccountName=this.AccountName,this.virementModel.Comment=this.virementFForm.controls.comment.value,this.virementModel.Reference=this.virementFForm.controls.reference.value,this.virementModel.CommonCause=1==this.motifcommun?"O":"N",this.virementModel.FileOrdreVirement=this.benefForm.controls.fileNameOrdreF.value;let p=localStorage.getItem("cuser");if(null!=p&&(this.virementModel.RequestUser=p),null==this.nom&&(this.nom=""),""==this.nom)this.virementModel.FileType="";else{let b=null===(o=this.nom)||void 0===o?void 0:o.indexOf("."),T=null===(r=this.nom)||void 0===r?void 0:r.substr(b+1);this.virementModel.FileType=T}this.virementModel.FileName=this.nom;let c=new Date;console.log(c);let v=c.getMonth()+1,h=c.getDate(),g=c.getFullYear(),A=c.getHours(),C=c.getMinutes(),R=c.getSeconds();this.virementModel.IdTransaction=v.toString()+h.toString()+this.virementModel.Reference+g.toString().substring(2)+R.toString()+C.toString()+A.toString(),this.virementModel.OrderingCustomerAccount=this.virementFForm.controls.numcpt.value,this.virementModel.Reason=this.virementFForm.controls.motif.value,this.virementModel.TotalAmount=this.virementFForm.controls.mntTot.value,this.virementModel.TransactionType=this.virementFForm.controls.typetransaction.value,this.virementModel.sourcetype="FM";for(var f=0;f<this.listBenef.length;f++)this.benefformModel.Amount=this.listBenef[f].benefAmount,this.benefformModel.Fullname=this.listBenef[f].benefLastName,this.benefformModel.Currency="788",this.benefformModel.MeanOfPayment="01",this.benefformModel.PaymentNumber=this.listBenef[f].numVirement,this.benefformModel.Reason=this.listBenef[f].benefMotif,this.benefformModel.Reference=this.listBenef[f].benefReference,this.benefformList.push(this.benefformModel),this.benefformModel=new ie.z;this.virementModel.benefmultiple=this.benefformList,this.VirServ.createtransactionbenefmultiple(this.virementModel,this.token).subscribe(b=>{var T,s,Z,y,V,B,M,q,N,I,w,k,U,E,J;this.reponseIV=b,"00"==this.reponseIV.ResponseCode?(this.msgAlert="Virement enregistr\xe9 avec succ\xe8s.",null!=document.getElementById("exampleModalLabelProcessed")&&(null===(T=document.getElementById("exampleModalLabelProcessed"))||void 0===T||T.setAttribute("style","color:green;font-weight:bold")),null===(s=document.getElementById("btnalertPopfresh"))||void 0===s||s.click()):"01"==this.reponseIV.ResponseCode?(this.msgAlert="V\xe9rifier vos entr\xe9es",null===(Z=document.getElementById("exampleModalLabelProcessedpop"))||void 0===Z||Z.setAttribute("style","color:blue;font-weight:bold"),null===(y=document.getElementById("btnalertPop"))||void 0===y||y.click()):"11"==this.reponseIV.ResponseCode?(this.virementFForm.controls.mntCalculated.setValue(null==b?void 0:b.Status),this.msgAlert="La somme totale saisie n'est pas \xe9gale \xe0 celle du total b\xe9n\xe9ficiaire ("+(null==b?void 0:b.Status)+")",null===(V=document.getElementById("exampleModalLabelProcessedpop"))||void 0===V||V.setAttribute("style","color:red;font-weight:bold"),null===(B=document.getElementById("btnalertPop"))||void 0===B||B.click()):"02"==this.reponseIV.ResponseCode?(this.msgAlert="Veuillez r\xe9essayer plus tard (acc\xe8s)",null===(M=document.getElementById("exampleModalLabelProcessedpop"))||void 0===M||M.setAttribute("style","color:blue;font-weight:bold"),null===(q=document.getElementById("btnalertPop"))||void 0===q||q.click()):"05"==this.reponseIV.ResponseCode?(this.checkreference=!1,null===(N=this.virementFForm.get("reference"))||void 0===N||N.addValidators([(0,S.b)("reference",this.checkreference)]),null===(I=this.virementFForm.get("reference"))||void 0===I||I.updateValueAndValidity(),this.msgAlert="R\xe9f\xe9rence "+this.virementFForm.controls.reference.value+" existe d\xe9j\xe0.",null===(w=document.getElementById("exampleModalLabelProcessedpop"))||void 0===w||w.setAttribute("style","color:blue;font-weight:bold"),null===(k=document.getElementById("btnalertPop"))||void 0===k||k.click()):(this.msgAlert="Merci de r\xe9essayer plus tard",null===(U=document.getElementById("exampleModalLabelProcessedpop"))||void 0===U||U.setAttribute("style","color:blue;font-weight:bold"),null===(E=document.getElementById("btnalertPop"))||void 0===E||E.click()),null===(J=document.getElementById("btninit"))||void 0===J||J.removeAttribute("disabled"),this.chargedData=!1},b=>{var T;this.chargedData=!1,null===(T=document.getElementById("btninit"))||void 0===T||T.removeAttribute("disabled"),-1!=b.indexOf("401")&&this.router.navigate(["/"])})}else if("CSV"==t){null===(m=document.getElementById("btncsv"))||void 0===m||m.setAttribute("disabled","disabled"),this.virFileModel.FichierCsvFmandat="02",this.virFileModel.OrderingCustomerAccount=this.virementFForm.controls.numcpt.value,this.virFileModel.FileName=this.fileNameBenef,this.virFileModel.Base64=this.virementFForm.controls.filenameCSV.value,this.virFileModel.Comment=this.virementFForm.controls.comment.value,this.virFileModel.Reason=this.virementFForm.controls.motif.value,this.virFileModel.MontantTotal=this.virementFForm.controls.mntTot.value,this.virFileModel.MontantIntroduit=this.virementFForm.controls.mntCalculated.value,this.virFileModel.MontantFormate=this.virementFForm.controls.formattedAmount.value,this.virFileModel.MontantLettre=this.virementFForm.controls.amountLetters.value;let p=localStorage.getItem("cuser");if(null!=p&&(this.virFileModel.RequestUser=p),null==this.nom&&(this.nom=""),""==this.nom)this.virFileModel.FileType="";else{let b=null===(a=this.nom)||void 0===a?void 0:a.indexOf("."),T=null===(u=this.nom)||void 0===u?void 0:u.substr(b+1);this.virFileModel.FileType=T}this.virFileModel.Reference=this.virementFForm.controls.reference.value,this.virFileModel.TransactionType=this.virementFForm.controls.typetransaction.value,this.virFileModel.FileOrdreVirement=this.virementFForm.controls.filenameO.value;let c=new Date;console.log(c);let v=c.getMonth()+1,h=c.getDate(),g=c.getFullYear(),A=c.getHours(),C=c.getMinutes(),R=c.getSeconds();this.virFileModel.IdTransaction=v.toString()+h.toString()+this.virFileModel.Reference+g.toString().substring(2)+R.toString()+C.toString()+A.toString(),this.VirServ.InitiationbyFmandatCsv(this.virFileModel,this.token).subscribe(b=>{var T,s,Z,y,V,B,M,q,N,I,w,k,U,E,J,O,L,Q,P,Y;if(this.RetourCompte=b,this.chargedData=!1,null===(T=document.getElementById("btncsv"))||void 0===T||T.removeAttribute("disabled"),"00"==(null==b?void 0:b.OK))this.msgAlert="Virement enregistr\xe9 avec succ\xe8s",null===(s=document.getElementById("exampleModalLabelProcessed"))||void 0===s||s.setAttribute("style","color:green;font-weight:bold"),null===(Z=document.getElementById("btnalertPopfresh"))||void 0===Z||Z.click();else if((null===(y=this.RetourCompte)||void 0===y?void 0:y.length)>0)this.doublons=b,this.msgAlert="Virement enregistr\xe9 avec succ\xe8s. N.B: Des doublons ont \xe9t\xe9 d\xe9tect\xe9s au niveau du fichier.",null===(V=document.getElementById("exampleModalLabelProcessedpopdoublons"))||void 0===V||V.setAttribute("style","color:blue;font-weight:bold"),null===(B=document.getElementById("btnalertPopdoublons"))||void 0===B||B.click(),this.virementFForm.controls.fileCsv.reset();else if("07"==(null==b?void 0:b.StatusCode))this.virementFForm.controls.mntCalculated.setValue(null==b?void 0:b.CalculatedAmount),this.msgAlert="Le montant introduit n'est pas \xe9gale \xe0 la somme des montants dans le fichier ("+(null==b?void 0:b.CalculatedAmount)+")",null===(M=document.getElementById("exampleModalLabelProcessedpop"))||void 0===M||M.setAttribute("style","color:blue;font-weight:bold"),null===(q=document.getElementById("btnalertPop"))||void 0===q||q.click();else if("10"==(null==b?void 0:b.StatusCode))this.msgAlert="Le num\xe9ro de carte "+(null==b?void 0:b.Ref)+" est invalide",null===(N=document.getElementById("exampleModalLabelProcessedpop"))||void 0===N||N.setAttribute("style","color:blue;font-weight:bold"),this.virementFForm.controls.fileCsv.reset(),null===(I=document.getElementById("btnalertPop"))||void 0===I||I.click();else if("11"==(null==b?void 0:b.StatusCode)){let D=null==b?void 0:b.Ref;1==this.countSubstring(null==b?void 0:b.Ref,",")&&(D=null==b?void 0:b.Ref.replace(",","")),this.msgAlert="Votre demande \xe0 \xe9t\xe9 bien enregistr\xe9. N.B: Le(s) num\xe9ro(s) de paiement suivant(s) est/sont \xe9rron\xe9(s): "+D,null===(w=document.getElementById("exampleModalLabelProcessed"))||void 0===w||w.setAttribute("style","color:blue;font-weight:bold"),this.virementFForm.controls.fileCsv.reset(),null===(k=document.getElementById("btnalertPopfresh"))||void 0===k||k.click()}else"12"==(null==b?void 0:b.ResponseCode)?(this.msgAlert="R\xe9f\xe9rence existante",null===(U=document.getElementById("exampleModalLabelProcessedpop"))||void 0===U||U.setAttribute("style","color:blue;font-weight:bold"),null===(E=document.getElementById("btnalertPop"))||void 0===E||E.click()):"05"==(null==b?void 0:b.ResponseCode)?(this.msgAlert="Identifiant virement existe",null===(J=document.getElementById("exampleModalLabelProcessedpop"))||void 0===J||J.setAttribute("style","color:blue;font-weight:bold"),null===(O=document.getElementById("btnalertPop"))||void 0===O||O.click()):"Fichier erron\xe9"==(null==b?void 0:b.OBP2)?(this.msgAlert="Fichier erron\xe9",null===(L=document.getElementById("exampleModalLabelProcessedpop"))||void 0===L||L.setAttribute("style","color:red;font-weight:bold"),this.virementFForm.controls.fileCsv.reset(),null===(Q=document.getElementById("btnalertPop"))||void 0===Q||Q.click()):(this.msgAlert="Veuillez r\xe9essayer plus tard",null===(P=document.getElementById("exampleModalLabelProcessed"))||void 0===P||P.setAttribute("style","color:blue;font-weight:bold"),null===(Y=document.getElementById("btnalertPopfresh"))||void 0===Y||Y.click())},b=>{var T;this.chargedData=!1,null===(T=document.getElementById("btncsv"))||void 0===T||T.removeAttribute("disabled"),-1!=b.indexOf("401")&&this.router.navigate(["/"])})}else{null===(_=document.getElementById("btnfm"))||void 0===_||_.setAttribute("disabled","disabled"),this.virFileModel.FileName=this.fileNameBenef,this.virFileModel.Base64=this.FMandatForm.controls.fileNameFM.value;let p=null===(x=this.nom)||void 0===x?void 0:x.indexOf("."),c=null===(F=this.nom)||void 0===F?void 0:F.substr(p+1);this.virFileModel.FileType=c;let v=localStorage.getItem("cuser");null!=v&&(this.virFileModel.RequestUser=v),this.virFileModel.Reference=this.FMandatForm.controls.reference.value,this.virFileModel.TransactionType=this.FMandatForm.controls.typetransaction.value,this.virFileModel.FileOrdreVirement=this.FMandatForm.controls.fileNameOrdreV.value,this.virFileModel.Comment=this.FMandatForm.controls.comment.value,this.virFileModel.Reason=this.FMandatForm.controls.motif.value,this.virFileModel.FichierCsvFmandat="01";let h=new Date;console.log(h);let g=h.getMonth()+1,A=h.getDate(),C=h.getFullYear(),R=h.getHours(),b=h.getMinutes(),T=h.getSeconds();this.virFileModel.IdTransaction=g.toString()+A.toString()+this.virFileModel.Reference+C.toString().substring(2)+T.toString()+b.toString()+R.toString(),this.VirServ.InitiationbyFmandatCsv(this.virFileModel,this.token).subscribe(s=>{var Z,y,V,B,M,q,N,I,w,k,U,E,J,O,L,Q,P,Y,D,j,$,te;if(this.chargedData=!1,this.RetourCompte=s,null===(Z=document.getElementById("btnfm"))||void 0===Z||Z.removeAttribute("disabled"),"00"==(null==s?void 0:s.OK))this.msgAlert="Virement enregistr\xe9 avec succ\xe8s",null===(y=document.getElementById("exampleModalLabelProcessed"))||void 0===y||y.setAttribute("style","color:green;font-weight:bold"),null===(V=document.getElementById("btnalertPopfresh"))||void 0===V||V.click();else if((null===(B=this.RetourCompte)||void 0===B?void 0:B.length)>0)this.doublons=s,this.msgAlert="Virement enregistr\xe9 avec succ\xe8s. N.B: Des doublons ont \xe9t\xe9 d\xe9tect\xe9s au niveau du fichier.",null===(M=document.getElementById("exampleModalLabelProcessedpopdoublons"))||void 0===M||M.setAttribute("style","color:blue;font-weight:bold"),null===(q=document.getElementById("btnalertPopdoublons"))||void 0===q||q.click();else if("07"==(null==s?void 0:s.StatusCode))this.virementFForm.controls.mntCalculated.setValue(null==s?void 0:s.CalculatedAmount),this.msgAlert="Le montant introduit n'est pas \xe9gale \xe0 la somme des montants dans le fichier ("+(null==s?void 0:s.CalculatedAmount)+")",null===(N=document.getElementById("exampleModalLabelProcessedpop"))||void 0===N||N.setAttribute("style","color:blue;font-weight:bold"),null===(I=document.getElementById("btnalertPop"))||void 0===I||I.click();else if("05"==(null==s?void 0:s.ResponseCode))this.msgAlert="Identifiant virement existe",null===(w=document.getElementById("exampleModalLabelProcessedpop"))||void 0===w||w.setAttribute("style","color:blue;font-weight:bold"),null===(k=document.getElementById("btnalertPop"))||void 0===k||k.click();else if("12"==(null==s?void 0:s.ResponseCode))this.msgAlert="R\xe9f\xe9rence virement existe",null===(U=document.getElementById("exampleModalLabelProcessedpop"))||void 0===U||U.setAttribute("style","color:blue;font-weight:bold"),null===(E=document.getElementById("btnalertPop"))||void 0===E||E.click();else if("Fichier erron\xe9"==(null==s?void 0:s.OBP2))this.msgAlert="Fichier erron\xe9",null===(J=document.getElementById("exampleModalLabelProcessedpop"))||void 0===J||J.setAttribute("style","color:red;font-weight:bold"),null===(O=document.getElementById("alertPop"))||void 0===O||O.setAttribute("class","modal fade  show"),null===(L=document.getElementById("btnalertPop"))||void 0===L||L.click();else if("Forbidden"==(null==s?void 0:s.Status))this.msgAlert="Vous n'\xeates pas autoris\xe9 \xe0 d\xe9biter le compte existant dans le fichier choisi.",null===(Q=document.getElementById("exampleModalLabelProcessedpop"))||void 0===Q||Q.setAttribute("style","color:red;font-weight:bold"),null===(P=document.getElementById("alertPop"))||void 0===P||P.setAttribute("class","modal fade  show"),null===(Y=document.getElementById("btnalertPop"))||void 0===Y||Y.click();else if("11"==(null==s?void 0:s.StatusCode)){let ne=null==s?void 0:s.Ref;1==this.countSubstring(null==s?void 0:s.Ref,",")&&(ne=null==s?void 0:s.Ref.replace(",","")),this.msgAlert="Votre demande \xe0 \xe9t\xe9 bien enregistr\xe9. N.B: Le(s) num\xe9ro(s) de paiement suivant(s) est/sont \xe9rron\xe9(s): "+ne,null===(D=document.getElementById("exampleModalLabelProcessed"))||void 0===D||D.setAttribute("style","color:blue;font-weight:bold"),this.virementFForm.controls.fileCsv.reset(),null===(j=document.getElementById("btnalertPopfresh"))||void 0===j||j.click()}else this.msgAlert="Veuillez r\xe9essayer plus tard",null===($=document.getElementById("exampleModalLabelProcessed"))||void 0===$||$.setAttribute("style","color:blue;font-weight:bold"),null===(te=document.getElementById("btnalertPopfresh"))||void 0===te||te.click()},s=>{var Z;this.chargedData=!1,null===(Z=document.getElementById("btnfm"))||void 0===Z||Z.removeAttribute("disabled"),-1!=s.indexOf("401")&&this.router.navigate(["/"])})}}countSubstring(t,n){let o=0,r=0;for(;r<t.length&&(r=t.indexOf(n,r),-1!==r);)o++,r+=n.length;return o}uploadBenef(t){var n,o;this.fileNameBenef="",this.textfileContent="",this.records=[],t.target.files&&t.target.files[0]&&(this.isCSV?-1==t.target.files[0].type.toString().indexOf("csv")?(this.modalTitle="Alerte",this.modalBody="Veuillez choisir un document type CSV",this.modalButtonLeft="Fermer",null===(n=document.getElementById("btnAlert"))||void 0===n||n.click(),this.FMandatForm.controls.fileCsv.reset()):this.uploadListener(t):this.isFM&&(-1==t.target.files[0].type.toString().indexOf("plain")?(this.modalTitle="Alerte",this.modalBody="Veuillez choisir un document type text/plain",this.modalButtonLeft="Fermer",null===(o=document.getElementById("btnAlert"))||void 0===o||o.click(),this.FMandatForm.controls.fileFmondat.reset()):this.uploadbeneffile(t)))}isValidCSVFile(t){return t.name.endsWith(".csv")}removeFMBenefFile(){this.FMandatForm.controls.fileFmondat.reset(),this.FMandatForm.controls.fileNameFM.reset(),this.fileNameBenef="",this.textfileContent="",this.hideDocumentFM()}removeFileOrdreForm(){this.benefForm.controls.ordreVirementBenef.reset(),this.fileName="",this.hideDocument()}removeFileOrdreFM(){this.FMandatForm.controls.ordreVirement.reset(),this.FMandatForm.controls.fileNameOrdreV.reset(),this.fileName="",this.PathReportString="",this.hideDocument()}removeFileOrdre(){this.virementFForm.controls.ordreVirement.reset(),this.virementFForm.controls.filenameO.reset(),this.fileName="",this.hideDocument()}test1(){}removeCsvBenefFile(){this.virementFForm.controls.fileCsv.reset(),this.virementFForm.controls.filenameCSV.reset(),this.fileNameBenef="",this.records=[]}getDataRecordsArrayFromCSVFile(t,n){var o,r,m,a,u,_,x,F;let f=[];for(let p=1;p<t.length;p++){let c=t[p].split(";");if(c.length==n){let v=new ue.t;v.NOM=null===(o=c[0])||void 0===o?void 0:o.trim(),v.MATRICULE=null===(r=c[1])||void 0===r?void 0:r.trim(),v.NUMPAIEMENT=null===(m=c[2])||void 0===m?void 0:m.trim(),v.TELBENEF=null===(a=c[3])||void 0===a?void 0:a.trim(),v.EMAILBENEF=null===(u=c[4])||void 0===u?void 0:u.trim(),v.MONTANT=null===(_=c[5])||void 0===_?void 0:_.trim(),v.REFERENCE=null===(x=c[6])||void 0===x?void 0:x.trim(),v.MOTIF=null===(F=c[7])||void 0===F?void 0:F.trim(),f.push(v)}}return f}getHeaderArray(t){let n=t[0].split(","),o=[];for(let r=0;r<n.length;r++)o.push(n[r]);return o}uploadListener(t){let o=t.srcElement.files;if(this.fileNameBenef=t.target.files[0].name,this.isValidCSVFile(o[0])){var r=new FileReader;r.onload=a=>{this.filePath=a.target.result;var u=this.filePath.toString().replace("data:application/vnd.ms-excel;base64,","");this.base=u.replace("data:text/csv;base64,",""),this.virementFForm.controls.filenameCSV.setValue(this.base)},r.readAsDataURL(t.target.files[0]),this.uploadListener2(t),r.onerror=function(){console.log("error is occured while reading file!")}}else alert("Please import valid .csv file."),this.fileReset()}uploadListener2(t){let o=t.srcElement.files;if(this.fileNameBenef=t.target.files[0].name,this.isValidCSVFile(o[0])){let r=t.target,m=new FileReader;m.readAsText(r.files[0]),m.onload=a=>{let _=m.result.split(/\r\n|\n/),x=this.getHeaderArray(_),F=_[0].split(";");console.log(x),this.records=this.getDataRecordsArrayFromCSVFile(_,F.length)},m.onerror=function(){console.log("error is occured while reading file!")}}else alert("Please import valid .csv file."),this.fileReset()}uploadbeneffile(t){this.hideDocumentFM();var n=new FileReader;this.fileNameBenef=t.target.files[0].name;let o=this;o.textfileContent="",n.onload=r=>{null!=n.result&&(o.textfileContent=n.result);let a,m=r.target;null!=m&&(a=m.result),null!=a&&(this.base=window.btoa(unescape(encodeURIComponent(a.toString())))),this.FMandatForm.controls.fileNameFM.setValue(this.base)},this.nom=t.target.files[0].name,n.readAsText(t.target.files[0]),this.toshowfm=!0}convertFile(t){const n=new Fe(1),o=new FileReader;return o.readAsBinaryString(t),o.onload=r=>{let a,m=r.target;null!=m&&(a=m.result),null!=a&&n.next(btoa(a.toString()))},n}upload(t){var n,o;this.fileName="",this.PathReportString="";let r=document.getElementById("ifrm");if(null!=r&&(r.style.display="none"),t.target.files&&t.target.files[0])if(-1!=t.target.files[0].type.toString().indexOf("image")||-1!=t.target.files[0].type.toString().indexOf("pdf")){console.log("image or pdf");var m=new FileReader;this.fileName=t.target.files[0].name,m.onload=a=>{this.filePath=a.target.result,console.log(this.filePath);var u=this.filePath.toString().indexOf(",");this.base=this.filePath.toString().substr(u+1,this.filePath.toString().length),this.isFM?this.FMandatForm.controls.fileNameOrdreV.setValue(this.base):this.isCSV?this.virementFForm.controls.filenameO.setValue(this.base):this.benefForm.controls.fileNameOrdreF.setValue(this.base),this.PathReportString=this.filePath,this.toshow=!0},console.log(t.target.files[0].name),this.nom=t.target.files[0].name,m.readAsDataURL(t.target.files[0])}else console.log("not image nor pdf"),this.modalTitle="Alerte",this.modalBody="Veuillez choisir un document type image ou bien PDF",this.modalButtonLeft="Fermer",null===(n=document.getElementById("exampleModalLabelProcessedalert"))||void 0===n||n.setAttribute("style","color:blue;font-weight:bold"),null===(o=document.getElementById("btnAlert"))||void 0===o||o.click()}fileReset(){this.csvReader.nativeElement.value="",this.records=[]}showDocument(){var t;this.toshow=!1,(this.PathReportString.toLowerCase().includes("tiff")||this.PathReportString.toLowerCase().includes("tif"))&&(this.PathReportString=this.PathReportString.replace("tiff","png"),this.PathReportString=this.PathReportString.replace("tif","png")),null===(t=document.getElementById("ifrm"))||void 0===t||t.setAttribute("src",this.PathReportString);let n=document.getElementById("ifrm");null!=n&&(n.style.display="block")}hideDocument(){var t;this.toshow=!0,null===(t=document.getElementById("ifrm"))||void 0===t||t.removeAttribute("src");let n=document.getElementById("ifrm");null!=n&&(n.style.display="none")}test(){}getMotifCommun(t){if(this.benefForm.controls.motifbenef.reset(),this.motifcommun=null==t?void 0:t.target.checked,1==(null==t?void 0:t.target.checked)){var n=document.getElementById("motifbenef");document.getElementById("motifopt").style.display="none",n.disabled=!0,this.benefForm.controls.motifbenef.clearValidators(),this.benefForm.controls.motifbenef.updateValueAndValidity(),this.benefForm.controls.motifbenef.setValue(this.virementFForm.controls.motif.value)}else this.benefForm.controls.motifbenef.addValidators(d.kI.required),this.benefForm.controls.motifbenef.updateValueAndValidity(),n=document.getElementById("motifbenef"),document.getElementById("motifopt").style.display="inline",n.disabled=!1}showDocumentFM(){this.toshowfm=!1;let t=document.getElementById("framefm");null!=t&&(t.style.display="block")}hideDocumentFM(){this.toshowfm=!0;let t=document.getElementById("framefm");null!=t&&(t.style.display="none")}FermerAlertAvecRefresh(){var t;null===(t=document.getElementById("alertPopfresh"))||void 0===t||t.setAttribute("class","modal fade  hide"),location.reload()}FermerAlert(){var t;null===(t=document.getElementById("alertPop"))||void 0===t||t.setAttribute("class","modal fade  hide")}downloadCSVStruct(){this.VirServ.DownloadF("vm",this.token).subscribe(t=>{this.FileStructure=t.body;const n=`data:application/csv;base64,${this.FileStructure}`,o=document.createElement("a");o.href=n,o.download="StructureVM.csv",o.click()},t=>{this.chargedData=!1,-1!=t.indexOf("401")&&this.router.navigate(["/"])})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(se.I),e.Y36(d.qu),e.Y36(de.eN),e.Y36(le.F0),e.Y36(me.r),e.Y36(ae.t),e.Y36(ce.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-virement-multiple"]],viewQuery:function(t,n){if(1&t&&(e.Gf(xe,5),e.Gf(Ze,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.csvReader=o.first),e.iGM(o=e.CRH())&&(n.filefmandat=o.first)}},decls:77,vars:13,consts:[["class","card",4,"ngIf"],["id","verticalycentered","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"width","fit-content !important"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","id","dismissmodal","data-bs-dismiss","modal",1,"btn","btn-secondary",2,"margin-right","auto"],["type","button","id","btnright",1,"btn","btn-primary",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#alertPopfresh","id","btnalertPopfresh",1,"btn","btn-primary",2,"display","none"],["id","alertPopfresh","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content",2,"place-items","center"],[1,"modal-header",2,"border-bottom","0"],["id","exampleModalLabelProcessed",1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#alertPop","id","btnalertPop",1,"btn","btn-primary",2,"display","none"],["id","alertPop","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["id","exampleModalLabelProcessedpop",1,"modal-title"],["id","alert","tabindex","-1",1,"modal","fade"],[1,"modal-header",2,"align-self","center"],["id","exampleModalLabelProcessedalert",1,"modal-body"],[1,"modal-footer",2,"align-self","center"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","btnVerifexist","data-bs-toggle","modal","data-bs-target","#verticalycentered","hidden",""],["id","btnAlert","data-bs-toggle","modal","data-bs-target","#alert","hidden",""],["type","button","data-bs-toggle","modal","data-bs-target","#alertPopdoublons","id","btnalertPopdoublons",1,"btn","btn-primary",2,"display","none"],["id","alertPopdoublons","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog","modal-lg"],["id","exampleModalLabelProcessedpopdoublons",1,"modal-title"],[1,"row","pt-2"],[1,"col-12"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-lg-12","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"row","mb-3",2,"place-content","center"],["class","col-3",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-3"],[1,"form-check"],["type","radio",1,"form-check-input",3,"value","ngModel","change","ngModelChange"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"col-sm-12","col-lg-4","col-md-4"],[1,"col-6","col-form-label"],[2,"color","red"],["name","typetransaction","formControlName","typetransaction","required","",1,"form-select",3,"ngClass"],["selected","","disabled","","value",""],[3,"value",4,"ngFor","ngForOf"],["class","row pt-2",4,"ngIf"],[1,"col-sm-12","col-lg-3","col-md-6"],[1,"col-12","col-form-label"],["autocomplete","off","type","text","name","mntTot","formControlName","mntTot",1,"form-control",3,"ngClass","change"],["class","alert alert-danger",4,"ngIf"],["formControlName","mntCalculated","disabled","",1,"col-12","other","form-control"],["type","checkbox","id","motifcommunid",1,"form-check-input",2,"float","right",3,"click"],["for","motifcommunid",1,"form-check-label",2,"float","right"],["autocomplete","off","type","text","name","motif","formControlName","motif",1,"form-control",3,"ngClass","keyup"],["autocomplete","off","type","text","name","reference","formControlName","reference",1,"form-control",3,"ngClass","keyup"],["formControlName","formattedAmount","disabled","",1,"col-12","other","form-control"],[1,"col-sm-12","col-lg-8","col-md-8"],["autocomplete","off","type","text","name","motif","formControlName","comment","rows","1",1,"form-control"],[1,"col-sm-12","col-lg-12","col-md-12"],["formControlName","amountLetters","disabled","",1,"col-12","other","form-control"],["autocomplete","off","type","text","name","nomBenef","formControlName","nomBenef",1,"form-control",3,"ngClass"],["id","motifopt",2,"color","red"],["id","motifbenef","autocomplete","off","type","text","name","motifbenef","formControlName","motifbenef",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","ribBenef","formControlName","ribBenef",1,"form-control",3,"ngClass","keyup"],["autocomplete","off","type","text","name","mntBenef","formControlName","mntBenef",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","refBenef","formControlName","refBenef",1,"form-control",3,"ngClass","keyup"],["type","button","id","btnAdd",1,"btn","btn-primary",3,"disabled","click"],[1,"bi","bi-plus"],[1,"col-4"],["for","declarationB",1,"label-file"],["type","file",2,"visibility","hidden",3,"change"],["fileordre",""],["id","declarationB","formControlName","ordreVirementBenef",1,"input-file",3,"click"],[1,"col-3","text-left"],["class","btn btn-primary btn-md btnFile",3,"click",4,"ngIf"],["class","btn btn-warning btn-md btnFile",3,"disabled","click",4,"ngIf"],[1,"col-1"],["type","button","class","btn btn-danger ",3,"click",4,"ngIf"],[1,"row"],["id","ifrm",2,"width","inherit","height","1000px","display","none"],[1,"col-12",2,"text-align","-webkit-right"],["id","btninit",1,"btn","btn-primary","btn-md",3,"disabled","click"],["name","tiers","formControlName","tiers","required","",1,"form-select",3,"ngClass","change"],[3,"value"],[1,"alert","alert-danger"],["style","font-size:12px",4,"ngIf"],[2,"font-size","12px"],[1,"col-sm-12","col-lg-6","col-md-6"],["name","numcpt","formControlName","numcpt","required","",1,"form-select",3,"ngClass","change"],["Value","","hidden","","selected",""],["class","col-sm-12 col-lg-6 col-md-6 ",4,"ngIf"],[1,"col-12","other","form-control"],["type","button",1,"btn","btn-dark",3,"disabled","click"],[1,"bi","bi-pencil-square"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],[1,"btn","btn-primary","btn-md","btnFile",3,"click"],[1,"btn","btn-warning","btn-md","btnFile",3,"disabled","click"],["type","button",1,"btn","btn-primary",2,"float","right",3,"click"],[1,"bi","bi-download"],["autocomplete","off","type","text","name","motif","formControlName","motif",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","reference","formControlName","reference",1,"form-control",3,"ngClass"],["for","declarationBenef",1,"label-file"],["formControlName","fileCsv","type","file",2,"visibility","hidden",3,"change"],["fileReader",""],["id","declarationBenef",1,"input-file",3,"click"],[1,"col-6"],[1,"col-6","text-left"],[1,"pt-2"],["class","table table-bordered",4,"ngIf"],["for","declaration",1,"label-file"],["formControlName","ordreVirement","type","file",2,"visibility","hidden",3,"change"],["fileordrecsv",""],["id","declaration",1,"input-file",3,"click"],["id","btncsv",1,"btn","btn-primary","btn-md",3,"disabled","click"],[1,"table","table-bordered"],["formControlName","fileFmondat","type","file",2,"visibility","hidden",3,"change"],["filefmandat",""],["id","framefm",1,"row","pt-2",2,"display","none"],["fileordreVfm",""],["id","btnfm",1,"btn","btn-primary","btn-md",3,"disabled","click"]],template:function(t,n){1&t&&(e.YNc(0,Te,8,0,"div",0),e.YNc(1,ei,9,4,"div",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5",5),e._uU(7),e.qZA(),e._UZ(8,"button",6),e.qZA(),e.TgZ(9,"div",7),e._uU(10),e.qZA(),e.TgZ(11,"div",8)(12,"button",9),e._uU(13),e.qZA(),e.TgZ(14,"button",10),e.NdJ("click",function(){return n.Ok()}),e._uU(15),e.qZA()()()()(),e._UZ(16,"button",11),e.TgZ(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"h5",16)(22,"p"),e._uU(23),e.qZA()()(),e.TgZ(24,"div",8)(25,"button",17),e.NdJ("click",function(){return n.FermerAlertAvecRefresh()}),e._uU(26,"Fermer"),e.qZA()()()()(),e._UZ(27,"button",18),e.TgZ(28,"div",19)(29,"div",13)(30,"div",14)(31,"div",15)(32,"h5",20)(33,"p"),e._uU(34),e.qZA()()(),e.TgZ(35,"div",8)(36,"button",17),e.NdJ("click",function(){return n.FermerAlert()}),e._uU(37,"Fermer"),e.qZA()()()()(),e.TgZ(38,"div",21)(39,"div",2)(40,"div",3)(41,"div",22)(42,"h5",5),e._uU(43),e.qZA()(),e.TgZ(44,"div",23),e._uU(45),e.qZA(),e.TgZ(46,"div",24)(47,"button",25),e._uU(48),e.qZA()()()()(),e._UZ(49,"button",26)(50,"button",27)(51,"button",28),e.TgZ(52,"div",29)(53,"div",30)(54,"div",14)(55,"div",15)(56,"h5",31)(57,"p"),e._uU(58),e.qZA()()(),e.TgZ(59,"div",7)(60,"div",32)(61,"div",33)(62,"table",34)(63,"thead")(64,"tr")(65,"th",35),e._uU(66,"Nom & pr\xe9nom b\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(67,"th",35),e._uU(68,"Montant"),e.qZA(),e.TgZ(69,"th",35),e._uU(70,"Num\xe9ro du paiement"),e.qZA(),e._UZ(71,"th"),e.qZA()(),e.TgZ(72,"tbody"),e.YNc(73,ti,7,3,"tr",36),e.qZA()()()()(),e.TgZ(74,"div",8)(75,"button",17),e.NdJ("click",function(){return n.FermerAlertAvecRefresh()}),e._uU(76,"Fermer"),e.qZA()()()()()),2&t&&(e.Q6J("ngIf",n.chargedData),e.xp6(1),e.Q6J("ngIf",!n.chargedData),e.xp6(6),e.Oqu(n.modalTitle),e.xp6(3),e.hij(" ",n.modalBody," "),e.xp6(3),e.Oqu(n.modalButtonLeft),e.xp6(2),e.Oqu(n.modalButtonRight),e.xp6(8),e.hij(" ",n.msgAlert," "),e.xp6(11),e.hij(" ",n.msgAlert," "),e.xp6(9),e.Oqu(n.modalTitle),e.xp6(2),e.hij(" ",n.modalBody," "),e.xp6(3),e.Oqu(n.modalButtonLeft),e.xp6(10),e.hij(" ",n.msgAlert," "),e.xp6(15),e.Q6J("ngForOf",n.doublons))},directives:[ee.O5,ee.sg,d._,d.Fj,d.JJ,d.On,d._Y,d.JL,d.sg,d.EJ,d.u,d.Q7,ee.mk,d.YN,d.Kr],styles:[".other[_ngcontent-%COMP%]{background-color:#e7e7e7;color:#000}.show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}.label-file[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;cursor:pointer;background-color:#27597a;color:#fff;font-weight:700;height:auto;border-radius:5px;padding:6px 10px 10px}.label-file[_ngcontent-%COMP%]:hover{color:#fff;background-color:#007bff}.input-file[_ngcontent-%COMP%]{display:none}.btnFile[_ngcontent-%COMP%]{width:-webkit-fill-available}"]}),i})();const ni=["fileReader"],oi=["filefmandat"];function li(i,l){1&i&&(e.TgZ(0,"div",39)(1,"div",40)(2,"h5",41),e._uU(3,"Initiation Virement Salaire"),e.qZA(),e.TgZ(4,"div",42)(5,"div",43)(6,"span",44),e._uU(7,"Loading..."),e.qZA()()()()())}function ri(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",48)(1,"div",49)(2,"input",50),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).getChosenType()})("ngModelChange",function(o){return e.CHM(t),e.oxw(2).typechoice=o}),e.qZA(),e._uU(3),e.qZA()()}if(2&i){const t=l.$implicit,n=e.oxw(2);e.xp6(2),e.Q6J("value",t)("ngModel",n.typechoice),e.xp6(1),e.hij(" ",t," ")}}function si(i,l){if(1&i&&(e.TgZ(0,"option",100),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.Oqu(t.FullName)}}function di(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function mi(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,di,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngIf",n.tiersForm.get("tiers").hasError(t.type)&&(n.tiersForm.get("tiers").dirty||n.tiersForm.get("tiers").touched))}}function ai(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,mi,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.tiers)}}const X=function(i,l){return{"is-invalid":i,"is-valid":l}};function ci(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"form",52)(1,"div",34)(2,"div",65)(3,"label",63),e._uU(4,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(5,"b",56),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"select",99),e.NdJ("change",function(){return e.CHM(t),e.oxw(3).gettiers()}),e.TgZ(8,"option",78),e._uU(9," Choisir "),e.qZA(),e.YNc(10,si,2,2,"option",79),e.qZA(),e.YNc(11,ai,2,1,"div",58),e.qZA()()()}if(2&i){const t=e.oxw(3);let n,o;e.Q6J("formGroup",t.tiersForm),e.xp6(7),e.Q6J("ngClass",e.WLB(4,X,(null==(n=t.tiersForm.get("tiers"))?null:n.touched)&&(null==(n=t.tiersForm.get("tiers"))?null:n.invalid),null==(n=t.tiersForm.get("tiers"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.ListTiers),e.xp6(1),e.Q6J("ngIf",(null==(o=t.tiersForm.get("tiers"))?null:o.touched)&&(null==(o=t.tiersForm.get("tiers"))?null:o.invalid))}}function ui(i,l){if(1&i&&(e.TgZ(0,"option",100),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.account_routings[0].scheme),e.xp6(1),e.hij(" ",t.account_routings[0].scheme," ")}}function _i(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function fi(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,_i,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngIf",n.virementFForm.get("numcpt").hasError(t.type)&&(n.virementFForm.get("numcpt").dirty||n.virementFForm.get("numcpt").touched))}}function vi(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,fi,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.numcpt)}}function pi(i,l){if(1&i&&(e.TgZ(0,"div",104)(1,"label",55),e._uU(2,"Libell\xe9 compte"),e.qZA(),e.TgZ(3,"span",108),e._uU(4),e.qZA()()),2&i){const t=e.oxw(4);e.xp6(4),e.Oqu(t.AccountName)}}function hi(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",104)(2,"label",63),e._uU(3,"Compte \xe0 d\xe9biter"),e.TgZ(4,"b",56),e._uU(5,"*"),e.qZA()(),e.TgZ(6,"select",105),e.NdJ("change",function(){return e.CHM(t),e.oxw(3).getAcc()}),e.TgZ(7,"option",106),e._uU(8," Choisir compte "),e.qZA(),e.YNc(9,ui,2,2,"option",79),e.qZA(),e.YNc(10,vi,2,1,"div",58),e.qZA(),e.YNc(11,pi,5,1,"div",107),e.qZA()}if(2&i){const t=e.oxw(3);let n,o;e.xp6(6),e.Q6J("ngClass",e.WLB(4,X,(null==(n=t.virementFForm.get("numcpt"))?null:n.touched)&&(null==(n=t.virementFForm.get("numcpt"))?null:n.invalid),null==(n=t.virementFForm.get("numcpt"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.listCompts),e.xp6(1),e.Q6J("ngIf",(null==(o=t.virementFForm.get("numcpt"))?null:o.touched)&&(null==(o=t.virementFForm.get("numcpt"))?null:o.invalid)),e.xp6(1),e.Q6J("ngIf",t.choseRib)}}function gi(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function bi(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,gi,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("mntTot"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("mntTot"))?null:o.dirty)||(null==(o=n.virementFForm.get("mntTot"))?null:o.touched)))}}function Fi(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,bi,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.mntTot)}}function xi(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Zi(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,xi,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("motif"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("motif"))?null:o.dirty)||(null==(o=n.virementFForm.get("motif"))?null:o.touched)))}}function Ti(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,Zi,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.motif)}}function Ai(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Ci(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Ai,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("reference"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("reference"))?null:o.dirty)||(null==(o=n.virementFForm.get("reference"))?null:o.touched)))}}function yi(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,Ci,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.reference)}}function Vi(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Bi(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Vi,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("nomBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("nomBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("nomBenef"))?null:o.touched)))}}function Mi(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,Bi,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.nomBenef)}}function qi(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Ni(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,qi,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("prenomBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("prenomBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("prenomBenef"))?null:o.touched)))}}function Ii(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,Ni,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.prenomBenef)}}function wi(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function ki(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,wi,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("refBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("refBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("refBenef"))?null:o.touched)))}}function Ui(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,ki,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.refBenef)}}function Ei(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Ji(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Ei,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("motifbenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("motifbenef"))?null:o.dirty)||(null==(o=n.benefForm.get("motifbenef"))?null:o.touched)))}}function Ri(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,Ji,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.motifbenef)}}function Si(i,l){if(1&i&&(e.TgZ(0,"option",100),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function Oi(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Li(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Oi,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);e.xp6(1),e.Q6J("ngIf",n.benefForm.get("typeVir").hasError(t.type)&&(n.benefForm.get("typeVir").dirty||n.benefForm.get("typeVir").touched))}}function Qi(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,Li,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.typeVir)}}function Pi(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Yi(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Pi,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("ribBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("ribBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("ribBenef"))?null:o.touched)))}}function Di(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,Yi,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.ribBenef)}}function ji(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",76)(1,"label",55),e._uU(2,"RIB"),e.TgZ(3,"b",56),e._uU(4,"*"),e.qZA()(),e.TgZ(5,"input",109),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(3).ControlRIB()}),e.qZA(),e.YNc(6,Di,2,1,"div",58),e.qZA()}if(2&i){const t=e.oxw(3);let n,o;e.xp6(5),e.Q6J("ngClass",e.WLB(2,X,(null==(n=t.benefForm.get("ribBenef"))?null:n.touched)&&(null==(n=t.benefForm.get("ribBenef"))?null:n.invalid),null==(n=t.benefForm.get("ribBenef"))?null:n.valid)),e.xp6(1),e.Q6J("ngIf",(null==(o=t.benefForm.get("ribBenef"))?null:o.touched)&&(null==(o=t.benefForm.get("ribBenef"))?null:o.invalid))}}function $i(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Hi(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,$i,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("cardBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("cardBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("cardBenef"))?null:o.touched)))}}function Xi(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,Hi,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.cardBenef)}}function Wi(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",76)(1,"label",55),e._uU(2,"N\xb0 Carte"),e.TgZ(3,"b",56),e._uU(4,"*"),e.qZA()(),e.TgZ(5,"input",110),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(3).ControlCarte()}),e.qZA(),e.YNc(6,Xi,2,1,"div",58),e.qZA()}if(2&i){const t=e.oxw(3);let n,o;e.xp6(5),e.Q6J("ngClass",e.WLB(2,X,(null==(n=t.benefForm.get("cardBenef"))?null:n.touched)&&(null==(n=t.benefForm.get("cardBenef"))?null:n.invalid),null==(n=t.benefForm.get("cardBenef"))?null:n.valid)),e.xp6(1),e.Q6J("ngIf",(null==(o=t.benefForm.get("cardBenef"))?null:o.touched)&&(null==(o=t.benefForm.get("cardBenef"))?null:o.invalid))}}function zi(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Gi(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,zi,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("mntBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("mntBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("mntBenef"))?null:o.touched)))}}function Ki(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,Gi,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.mntBenef)}}function en(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function tn(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,en,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("referenceB"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("referenceB"))?null:o.dirty)||(null==(o=n.benefForm.get("referenceB"))?null:o.touched)))}}function nn(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,tn,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.referenceB)}}function on(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"button",111),e.NdJ("click",function(){const o=e.CHM(t),r=o.$implicit,m=o.index;return e.oxw(3).EditBenef(r,m)}),e._UZ(15,"i",112),e.qZA()(),e.TgZ(16,"td")(17,"button",113),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(3).RemoveBenef(r)}),e._UZ(18,"i",114),e.qZA()()()}if(2&i){const t=l.$implicit,n=e.oxw(3);e.xp6(2),e.AsE("",t.benefFirstName," ",t.benefLastName,""),e.xp6(2),e.Oqu(t.benefReference),e.xp6(2),e.Oqu(t.benefAmount),e.xp6(2),e.Oqu(t.benefIdentity),e.xp6(2),e.Oqu(t.numVirement),e.xp6(2),e.Oqu(t.benefMotif),e.xp6(2),e.Q6J("disabled",n.benefForm.valid)}}function ln(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",115),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).showDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Visualiser ",t.fileName,"")}}function rn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",116),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).hideDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Cacher ",t.fileName,"")}}function sn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",113),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).removeFileOrdreForm()}),e._UZ(1,"i",114),e.qZA()}}function dn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e._UZ(1,"br"),e.TgZ(2,"h5")(3,"i"),e._uU(4,"(Donneur d'ordre)"),e.qZA()(),e.YNc(5,ci,12,7,"form",51),e.TgZ(6,"form",52),e.YNc(7,hi,12,7,"div",53),e.TgZ(8,"div",34)(9,"div",54)(10,"label",55),e._uU(11,"Montant total en chiffre"),e.TgZ(12,"b",56),e._uU(13,"*"),e.qZA()(),e.TgZ(14,"input",57),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).getFormatedAmount()}),e.qZA(),e.YNc(15,Fi,2,1,"div",58),e.qZA(),e.TgZ(16,"div",54)(17,"label",55),e._uU(18,"Montant introduit"),e.qZA(),e._UZ(19,"input",59),e.qZA(),e.TgZ(20,"div",54)(21,"label",55),e._uU(22,"Motif"),e.TgZ(23,"b",56),e._uU(24,"*"),e.qZA(),e.TgZ(25,"input",60),e.NdJ("click",function(o){return e.CHM(t),e.oxw(2).getMotifCommun(o)}),e.qZA(),e.TgZ(26,"label",61),e._uU(27," Motif commun \xa0\xa0 "),e.qZA()(),e.TgZ(28,"input",62),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(2).getMotif()}),e.qZA(),e.YNc(29,Ti,2,1,"div",58),e.qZA(),e.TgZ(30,"div",54)(31,"label",63),e._uU(32,"R\xe9f\xe9rence"),e.TgZ(33,"b",56),e._uU(34,"*"),e.qZA()(),e.TgZ(35,"input",64),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(2).checkReference()}),e.qZA(),e.YNc(36,yi,2,1,"div",58),e.qZA()(),e.TgZ(37,"div",34)(38,"div",65)(39,"label",55),e._uU(40,"Montant format\xe9"),e.qZA(),e._UZ(41,"input",66),e.qZA(),e.TgZ(42,"div",67)(43,"label",55),e._uU(44,"Commentaire"),e.qZA(),e._UZ(45,"textarea",68),e.qZA()(),e.TgZ(46,"div",34)(47,"div",69)(48,"label",55),e._uU(49,"Montant en lettres"),e.qZA(),e._UZ(50,"input",70),e.qZA()(),e._UZ(51,"br"),e.TgZ(52,"h5")(53,"i"),e._uU(54,"(B\xe9n\xe9ficiaire)"),e.qZA()()(),e.TgZ(55,"form",52)(56,"div",34)(57,"div",54)(58,"label",55),e._uU(59,"Nom B\xe9n\xe9ficiaire"),e.TgZ(60,"b",56),e._uU(61,"*"),e.qZA()(),e._UZ(62,"input",71),e.YNc(63,Mi,2,1,"div",58),e.qZA(),e.TgZ(64,"div",54)(65,"label",55),e._uU(66,"Pr\xe9nom B\xe9n\xe9ficiaire"),e.TgZ(67,"b",56),e._uU(68,"*"),e.qZA()(),e._UZ(69,"input",72),e.YNc(70,Ii,2,1,"div",58),e.qZA(),e.TgZ(71,"div",54)(72,"label",55),e._uU(73,"Matricule"),e.TgZ(74,"b",56),e._uU(75,"*"),e.qZA()(),e.TgZ(76,"input",73),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(2).controlMatricule()}),e.qZA(),e.YNc(77,Ui,2,1,"div",58),e.qZA(),e.TgZ(78,"div",54)(79,"label",55),e._uU(80,"Motif b\xe9n\xe9ficiaire"),e.TgZ(81,"b",74),e._uU(82,"*"),e.qZA()(),e._UZ(83,"input",75),e.YNc(84,Ri,2,1,"div",58),e.qZA()(),e.TgZ(85,"div",34)(86,"div",76)(87,"label",63),e._uU(88,"Type de virement"),e.TgZ(89,"b",56),e._uU(90,"*"),e.qZA()(),e.TgZ(91,"select",77),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).getTypeVirement()}),e.TgZ(92,"option",78),e._uU(93," Choisir "),e.qZA(),e.YNc(94,Si,2,2,"option",79),e.qZA(),e.YNc(95,Qi,2,1,"div",58),e.qZA(),e.YNc(96,ji,7,5,"div",80),e.YNc(97,Wi,7,5,"div",80),e.TgZ(98,"div",76)(99,"label",55),e._uU(100,"Montant"),e.TgZ(101,"b",56),e._uU(102,"*"),e.qZA()(),e._UZ(103,"input",81),e.YNc(104,Ki,2,1,"div",58),e.qZA(),e.TgZ(105,"div",76)(106,"label",55),e._uU(107,"R\xe9f\xe9rence"),e.TgZ(108,"b",56),e._uU(109,"*"),e.qZA()(),e.TgZ(110,"input",82),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(2).controlRefBenef()}),e.qZA(),e.YNc(111,nn,2,1,"div",58),e.qZA()(),e.TgZ(112,"div",34)(113,"div",35)(114,"button",83),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addBenefToTable()}),e._uU(115,"Ajouter b\xe9n\xe9ficiaire"),e._UZ(116,"i",84),e.qZA()()(),e.TgZ(117,"div",34)(118,"div",35)(119,"table",36)(120,"thead")(121,"tr")(122,"th",37),e._uU(123,"Nom & pr\xe9nom b\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(124,"th",37),e._uU(125,"R\xe9f\xe9rence B\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(126,"th",37),e._uU(127,"Montant"),e.qZA(),e.TgZ(128,"th",37),e._uU(129,"Matricule"),e.qZA(),e.TgZ(130,"th",37),e._uU(131,"RIB / N\xb0 Carte"),e.qZA(),e.TgZ(132,"th",37),e._uU(133,"Motif b\xe9n\xe9ficiaire"),e.qZA(),e._UZ(134,"th"),e.qZA()(),e.TgZ(135,"tbody"),e.YNc(136,on,19,8,"tr",38),e.qZA()()()(),e.TgZ(137,"div",34)(138,"div",85)(139,"label",86),e._uU(140,"Joindre ordre de virement "),e._UZ(141,"i",84),e.qZA(),e.TgZ(142,"input",87,88),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).upload(o)}),e.qZA(),e.TgZ(144,"input",89),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(143);return o.value="",o.click()}),e.qZA(),e._UZ(145,"br")(146,"br"),e.TgZ(147,"div"),e._UZ(148,"br"),e.qZA()(),e.TgZ(149,"div",90),e.YNc(150,ln,2,1,"button",91),e.YNc(151,rn,2,1,"button",92),e.qZA(),e.TgZ(152,"div",93),e.YNc(153,sn,2,0,"button",94),e.qZA()(),e.TgZ(154,"div",95)(155,"div",35),e._UZ(156,"iframe",96),e.qZA()()(),e.TgZ(157,"div",34)(158,"div",97)(159,"div",85)(160,"button",98),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).initiateVir("F")}),e._uU(161," Enregistrer "),e.qZA()()()()()}if(2&i){const t=e.oxw(2);let n,o,r,m,a,u,_,x,F,f,p,c,v,h,g,A,C,R,b,T;e.xp6(5),e.Q6J("ngIf",!t.onetiers),e.xp6(1),e.Q6J("formGroup",t.virementFForm),e.xp6(1),e.Q6J("ngIf",t.choseTiers),e.xp6(7),e.Q6J("ngClass",e.WLB(33,X,(null==(n=t.virementFForm.get("mntTot"))?null:n.touched)&&(null==(n=t.virementFForm.get("mntTot"))?null:n.invalid),null==(n=t.virementFForm.get("mntTot"))?null:n.valid)),e.xp6(1),e.Q6J("ngIf",(null==(o=t.virementFForm.get("mntTot"))?null:o.touched)&&(null==(o=t.virementFForm.get("mntTot"))?null:o.invalid)),e.xp6(13),e.Q6J("ngClass",e.WLB(36,X,(null==(r=t.virementFForm.get("motif"))?null:r.touched)&&(null==(r=t.virementFForm.get("motif"))?null:r.invalid),null==(r=t.virementFForm.get("motif"))?null:r.valid)),e.xp6(1),e.Q6J("ngIf",(null==(m=t.virementFForm.get("motif"))?null:m.touched)&&(null==(m=t.virementFForm.get("motif"))?null:m.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(39,X,(null==(a=t.virementFForm.get("reference"))?null:a.touched)&&(null==(a=t.virementFForm.get("reference"))?null:a.invalid),null==(a=t.virementFForm.get("reference"))?null:a.valid)),e.xp6(1),e.Q6J("ngIf",(null==(u=t.virementFForm.get("reference"))?null:u.touched)&&(null==(u=t.virementFForm.get("reference"))?null:u.invalid)),e.xp6(19),e.Q6J("formGroup",t.benefForm),e.xp6(7),e.Q6J("ngClass",e.WLB(42,X,(null==(_=t.benefForm.get("nomBenef"))?null:_.touched)&&(null==(_=t.benefForm.get("nomBenef"))?null:_.invalid),null==(_=t.benefForm.get("nomBenef"))?null:_.valid)),e.xp6(1),e.Q6J("ngIf",(null==(x=t.benefForm.get("nomBenef"))?null:x.touched)&&(null==(x=t.benefForm.get("nomBenef"))?null:x.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(45,X,(null==(F=t.benefForm.get("prenomBenef"))?null:F.touched)&&(null==(F=t.benefForm.get("prenomBenef"))?null:F.invalid),null==(F=t.benefForm.get("prenomBenef"))?null:F.valid)),e.xp6(1),e.Q6J("ngIf",(null==(f=t.benefForm.get("prenomBenef"))?null:f.touched)&&(null==(f=t.benefForm.get("prenomBenef"))?null:f.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(48,X,(null==(p=t.benefForm.get("refBenef"))?null:p.touched)&&(null==(p=t.benefForm.get("refBenef"))?null:p.invalid),null==(p=t.benefForm.get("refBenef"))?null:p.valid)),e.xp6(1),e.Q6J("ngIf",(null==(c=t.benefForm.get("refBenef"))?null:c.touched)&&(null==(c=t.benefForm.get("refBenef"))?null:c.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(51,X,(null==(v=t.benefForm.get("motifbenef"))?null:v.touched)&&(null==(v=t.benefForm.get("motifbenef"))?null:v.invalid),null==(v=t.benefForm.get("motifbenef"))?null:v.valid)),e.xp6(1),e.Q6J("ngIf",(null==(h=t.benefForm.get("motifbenef"))?null:h.touched)&&(null==(h=t.benefForm.get("motifbenef"))?null:h.invalid)),e.xp6(7),e.Q6J("ngClass",e.WLB(54,X,(null==(g=t.benefForm.get("typeVir"))?null:g.touched)&&(null==(g=t.benefForm.get("typeVir"))?null:g.invalid),null==(g=t.benefForm.get("typeVir"))?null:g.valid)),e.xp6(3),e.Q6J("ngForOf",t.listTypeVir),e.xp6(1),e.Q6J("ngIf",(null==(A=t.benefForm.get("typeVir"))?null:A.touched)&&(null==(A=t.benefForm.get("typeVir"))?null:A.invalid)),e.xp6(1),e.Q6J("ngIf",t.isRib),e.xp6(1),e.Q6J("ngIf",t.isCard),e.xp6(6),e.Q6J("ngClass",e.WLB(57,X,(null==(C=t.benefForm.get("mntBenef"))?null:C.touched)&&(null==(C=t.benefForm.get("mntBenef"))?null:C.invalid),null==(C=t.benefForm.get("mntBenef"))?null:C.valid)),e.xp6(1),e.Q6J("ngIf",(null==(R=t.benefForm.get("mntBenef"))?null:R.touched)&&(null==(R=t.benefForm.get("mntBenef"))?null:R.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(60,X,(null==(b=t.benefForm.get("referenceB"))?null:b.touched)&&(null==(b=t.benefForm.get("referenceB"))?null:b.invalid),null==(b=t.benefForm.get("referenceB"))?null:b.valid)),e.xp6(1),e.Q6J("ngIf",(null==(T=t.benefForm.get("referenceB"))?null:T.touched)&&(null==(T=t.benefForm.get("referenceB"))?null:T.invalid)),e.xp6(3),e.Q6J("disabled",t.benefForm.invalid),e.xp6(22),e.Q6J("ngForOf",t.listBenef),e.xp6(14),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&t.toshow),e.xp6(1),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&!t.toshow),e.xp6(2),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0),e.xp6(7),e.Q6J("disabled",t.tiersForm.invalid||t.virementFForm.invalid||0==t.listBenef.length)}}function mn(i,l){if(1&i&&(e.TgZ(0,"option",100),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.Oqu(t.FullName)}}function an(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function cn(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,an,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngIf",n.tiersForm.get("tiers").hasError(t.type)&&(n.tiersForm.get("tiers").dirty||n.tiersForm.get("tiers").touched))}}function un(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,cn,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.tiers)}}function _n(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"form",52)(1,"div",34)(2,"div",65)(3,"label",63),e._uU(4,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(5,"b",56),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"select",99),e.NdJ("change",function(){return e.CHM(t),e.oxw(3).gettiers()}),e.TgZ(8,"option",78),e._uU(9," Choisir "),e.qZA(),e.YNc(10,mn,2,2,"option",79),e.qZA(),e.YNc(11,un,2,1,"div",58),e.qZA()()()}if(2&i){const t=e.oxw(3);let n,o;e.Q6J("formGroup",t.tiersForm),e.xp6(7),e.Q6J("ngClass",e.WLB(4,X,(null==(n=t.tiersForm.get("tiers"))?null:n.touched)&&(null==(n=t.tiersForm.get("tiers"))?null:n.invalid),null==(n=t.tiersForm.get("tiers"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.ListTiers),e.xp6(1),e.Q6J("ngIf",(null==(o=t.tiersForm.get("tiers"))?null:o.touched)&&(null==(o=t.tiersForm.get("tiers"))?null:o.invalid))}}function fn(i,l){if(1&i&&(e.TgZ(0,"option",100),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.account_routings[0].scheme),e.xp6(1),e.hij(" ",t.account_routings[0].scheme," ")}}function vn(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function pn(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,vn,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngIf",n.virementFForm.get("numcpt").hasError(t.type)&&(n.virementFForm.get("numcpt").dirty||n.virementFForm.get("numcpt").touched))}}function hn(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,pn,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.numcpt)}}function gn(i,l){if(1&i&&(e.TgZ(0,"div",104)(1,"label",55),e._uU(2,"Libell\xe9 compte"),e.qZA(),e.TgZ(3,"span",108),e._uU(4),e.qZA()()),2&i){const t=e.oxw(4);e.xp6(4),e.Oqu(t.AccountName)}}function bn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",104)(2,"label",63),e._uU(3,"Compte \xe0 d\xe9biter"),e.TgZ(4,"b",56),e._uU(5,"*"),e.qZA()(),e.TgZ(6,"select",105),e.NdJ("change",function(){return e.CHM(t),e.oxw(3).getAcc()}),e.TgZ(7,"option",106),e._uU(8," Choisir compte "),e.qZA(),e.YNc(9,fn,2,2,"option",79),e.qZA(),e.YNc(10,hn,2,1,"div",58),e.qZA(),e.YNc(11,gn,5,1,"div",107),e.qZA()}if(2&i){const t=e.oxw(3);let n,o;e.xp6(6),e.Q6J("ngClass",e.WLB(4,X,(null==(n=t.virementFForm.get("numcpt"))?null:n.touched)&&(null==(n=t.virementFForm.get("numcpt"))?null:n.invalid),null==(n=t.virementFForm.get("numcpt"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.listCompts),e.xp6(1),e.Q6J("ngIf",(null==(o=t.virementFForm.get("numcpt"))?null:o.touched)&&(null==(o=t.virementFForm.get("numcpt"))?null:o.invalid)),e.xp6(1),e.Q6J("ngIf",t.choseRib)}}function Fn(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function xn(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Fn,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("mntTot"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("mntTot"))?null:o.dirty)||(null==(o=n.virementFForm.get("mntTot"))?null:o.touched)))}}function Zn(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,xn,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.mntTot)}}function Tn(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function An(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Tn,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("motif"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("motif"))?null:o.dirty)||(null==(o=n.virementFForm.get("motif"))?null:o.touched)))}}function Cn(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,An,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.motif)}}function yn(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Vn(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,yn,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("reference"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("reference"))?null:o.dirty)||(null==(o=n.virementFForm.get("reference"))?null:o.touched)))}}function Bn(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,Vn,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.reference)}}function Mn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",113),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).removeCsvBenefFile()}),e._UZ(1,"i",114),e.qZA()}}function qn(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"span"),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"span"),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"span"),e._uU(21),e.qZA()(),e.TgZ(22,"td")(23,"span"),e._uU(24),e.qZA()()()),2&i){const t=l.$implicit;e.xp6(3),e.Oqu(t.NOM),e.xp6(3),e.Oqu(t.MATRICULE),e.xp6(3),e.Oqu(t.NUMPAIEMENT),e.xp6(3),e.Oqu(t.TELBENEF),e.xp6(3),e.Oqu(t.EMAILBENEF),e.xp6(3),e.Oqu(t.MONTANT),e.xp6(3),e.Oqu(t.REFERENCE),e.xp6(3),e.Oqu(t.MOTIF)}}function Nn(i,l){if(1&i&&(e.TgZ(0,"table",134)(1,"thead")(2,"tr")(3,"th"),e._uU(4,"Nom "),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Matricule "),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Num\xe9ro de paiement "),e.qZA(),e.TgZ(9,"th"),e._uU(10,"T\xe9l\xe9phone "),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Email "),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Montant "),e.qZA(),e.TgZ(15,"th"),e._uU(16,"R\xe9f\xe9rence "),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Motif "),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,qn,25,8,"tr",38),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(20),e.Q6J("ngForOf",t.records)}}function In(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",115),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).showDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Visualiser ",t.fileName,"")}}function wn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",116),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).hideDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Cacher ",t.fileName,"")}}function kn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",113),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).removeFileOrdre()}),e._UZ(1,"i",114),e.qZA()}}function Un(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"button",117),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).downloadCSVStruct()}),e._UZ(2,"i",118),e._uU(3," T\xe9l\xe9charger Structure CSV"),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"h5")(6,"i"),e._uU(7,"(Donneur d'ordre)"),e.qZA()(),e.YNc(8,_n,12,7,"form",51),e.TgZ(9,"form",52),e.YNc(10,bn,12,7,"div",53),e.TgZ(11,"div",34)(12,"div",54)(13,"label",55),e._uU(14,"Montant total en chiffre"),e.TgZ(15,"b",56),e._uU(16,"*"),e.qZA()(),e.TgZ(17,"input",57),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).getFormatedAmount()}),e.qZA(),e.YNc(18,Zn,2,1,"div",58),e.qZA(),e.TgZ(19,"div",54)(20,"label",55),e._uU(21,"Montant introduit"),e.qZA(),e._UZ(22,"input",59),e.qZA(),e.TgZ(23,"div",54)(24,"label",63),e._uU(25,"Motif"),e.TgZ(26,"b",56),e._uU(27,"*"),e.qZA()(),e._UZ(28,"input",119),e.YNc(29,Cn,2,1,"div",58),e.qZA(),e.TgZ(30,"div",54)(31,"label",63),e._uU(32,"R\xe9f\xe9rence"),e.TgZ(33,"b",56),e._uU(34,"*"),e.qZA()(),e._UZ(35,"input",120),e.YNc(36,Bn,2,1,"div",58),e.qZA()(),e.TgZ(37,"div",34)(38,"div",65)(39,"label",55),e._uU(40,"Montant format\xe9"),e.qZA(),e._UZ(41,"input",66),e.qZA(),e.TgZ(42,"div",67)(43,"label",55),e._uU(44,"Commentaire"),e.qZA(),e._UZ(45,"textarea",68),e.qZA()(),e.TgZ(46,"div",34)(47,"div",69)(48,"label",55),e._uU(49,"Montant en lettres"),e.qZA(),e._UZ(50,"input",70),e.qZA()(),e._UZ(51,"br"),e.TgZ(52,"h5")(53,"i"),e._uU(54,"(B\xe9n\xe9ficiaire)"),e.qZA()(),e.TgZ(55,"div",34)(56,"div",85)(57,"label",121),e._uU(58,"T\xe9l\xe9charger fichier B\xe9n\xe9ficiaire "),e.qZA(),e.TgZ(59,"input",122,123),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).uploadBenef(o)}),e.qZA(),e.TgZ(61,"input",124),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(60);return o.value="",o.click()}),e.qZA(),e._UZ(62,"br")(63,"br"),e.qZA(),e.TgZ(64,"div",125)(65,"div",126)(66,"span"),e._uU(67),e.qZA()()(),e.TgZ(68,"div",93),e.YNc(69,Mn,2,0,"button",94),e.qZA()(),e.TgZ(70,"div",95)(71,"div",127),e.YNc(72,Nn,21,1,"table",128),e.qZA()(),e.TgZ(73,"div",34)(74,"div",85)(75,"label",129),e._uU(76,"Joindre ordre de virement "),e._UZ(77,"i",84),e.qZA(),e.TgZ(78,"input",130,131),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).upload(o)}),e.qZA(),e.TgZ(80,"input",132),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(79);return o.value="",o.click()}),e.qZA(),e._UZ(81,"br")(82,"br"),e.TgZ(83,"div"),e._UZ(84,"br"),e.qZA()(),e.TgZ(85,"div",90),e.YNc(86,In,2,1,"button",91),e.YNc(87,wn,2,1,"button",92),e.qZA(),e.TgZ(88,"div",93),e.YNc(89,kn,2,0,"button",94),e.qZA()(),e.TgZ(90,"div",95)(91,"div",35),e._UZ(92,"iframe",96),e.qZA()()(),e.TgZ(93,"div",34)(94,"div",97)(95,"div",85)(96,"button",133),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).initiateVir("CSV")}),e._uU(97," Enregistrer "),e.qZA()()()()()}if(2&i){const t=e.oxw(2);let n,o,r,m,a,u;e.xp6(8),e.Q6J("ngIf",!t.onetiers),e.xp6(1),e.Q6J("formGroup",t.virementFForm),e.xp6(1),e.Q6J("ngIf",t.choseTiers),e.xp6(7),e.Q6J("ngClass",e.WLB(16,X,(null==(n=t.virementFForm.get("mntTot"))?null:n.touched)&&(null==(n=t.virementFForm.get("mntTot"))?null:n.invalid),null==(n=t.virementFForm.get("mntTot"))?null:n.valid)),e.xp6(1),e.Q6J("ngIf",(null==(o=t.virementFForm.get("mntTot"))?null:o.touched)&&(null==(o=t.virementFForm.get("mntTot"))?null:o.invalid)),e.xp6(10),e.Q6J("ngClass",e.WLB(19,X,(null==(r=t.virementFForm.get("motif"))?null:r.touched)&&(null==(r=t.virementFForm.get("motif"))?null:r.invalid),null==(r=t.virementFForm.get("motif"))?null:r.valid)),e.xp6(1),e.Q6J("ngIf",(null==(m=t.virementFForm.get("motif"))?null:m.touched)&&(null==(m=t.virementFForm.get("motif"))?null:m.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(22,X,(null==(a=t.virementFForm.get("reference"))?null:a.touched)&&(null==(a=t.virementFForm.get("reference"))?null:a.invalid),null==(a=t.virementFForm.get("reference"))?null:a.valid)),e.xp6(1),e.Q6J("ngIf",(null==(u=t.virementFForm.get("reference"))?null:u.touched)&&(null==(u=t.virementFForm.get("reference"))?null:u.invalid)),e.xp6(31),e.hij(" ",t.fileNameBenef," "),e.xp6(2),e.Q6J("ngIf",(null==t.fileNameBenef?null:t.fileNameBenef.length)>0),e.xp6(3),e.Q6J("ngIf",t.records.length>0),e.xp6(14),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&t.toshow),e.xp6(1),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&!t.toshow),e.xp6(2),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0),e.xp6(7),e.Q6J("disabled",t.tiersForm.invalid||t.virementFForm.invalid)}}function En(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Jn(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,En,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.FMandatForm.get("motif"))?null:o.hasError(t.type))&&((null==(o=n.FMandatForm.get("motif"))?null:o.dirty)||(null==(o=n.FMandatForm.get("motif"))?null:o.touched)))}}function Rn(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,Jn,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.motif)}}function Sn(i,l){if(1&i&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function On(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Sn,2,1,"div",102),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.FMandatForm.get("reference"))?null:o.hasError(t.type))&&((null==(o=n.FMandatForm.get("reference"))?null:o.dirty)||(null==(o=n.FMandatForm.get("reference"))?null:o.touched)))}}function Ln(i,l){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,On,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.reference)}}function Qn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",115),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).showDocumentFM()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Visualiser ",t.fileNameBenef,"")}}function Pn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",116),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).hideDocumentFM()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Cacher ",t.fileNameBenef,"")}}function Yn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",113),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).removeFMBenefFile()}),e._UZ(1,"i",114),e.qZA()}}function Dn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",115),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).showDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Visualiser ",t.fileName,"")}}function jn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",116),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).hideDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Cacher ",t.fileName,"")}}function $n(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",113),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).removeFileOrdreFM()}),e._UZ(1,"i",114),e.qZA()}}function Hn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"form",52)(2,"div",34)(3,"div",65)(4,"label",63),e._uU(5,"Motif"),e.TgZ(6,"b",56),e._uU(7,"*"),e.qZA()(),e._UZ(8,"input",119),e.YNc(9,Rn,2,1,"div",58),e.qZA(),e.TgZ(10,"div",65)(11,"label",63),e._uU(12,"R\xe9f\xe9rence"),e.TgZ(13,"b",56),e._uU(14,"*"),e.qZA()(),e._UZ(15,"input",120),e.YNc(16,Ln,2,1,"div",58),e.qZA(),e.TgZ(17,"div",65)(18,"label",55),e._uU(19,"Commentaire"),e.qZA(),e._UZ(20,"textarea",68),e.qZA()(),e._UZ(21,"br"),e.TgZ(22,"h5")(23,"i"),e._uU(24,"(B\xe9n\xe9ficiaire)"),e.qZA()(),e.TgZ(25,"div",34)(26,"div",85)(27,"label",121),e._uU(28,"T\xe9l\xe9charger fichier B\xe9n\xe9ficiaire "),e.qZA(),e.TgZ(29,"input",135,136),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).uploadBenef(o)}),e.qZA(),e.TgZ(31,"input",137),e.NdJ("click",function(){return e.CHM(t),e.MAs(30).click()}),e.qZA()(),e.TgZ(32,"div",48),e.YNc(33,Qn,2,1,"button",91),e.YNc(34,Pn,2,1,"button",92),e.qZA(),e.TgZ(35,"div",93),e.YNc(36,Yn,2,0,"button",94),e.qZA()(),e.TgZ(37,"div",138)(38,"div",35)(39,"pre"),e._uU(40),e.qZA()()(),e._UZ(41,"br"),e.TgZ(42,"div",34)(43,"div",85)(44,"label",129),e._uU(45,"Joindre ordre de virement "),e._UZ(46,"i",84),e.qZA(),e.TgZ(47,"input",130,139),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).upload(o)}),e.qZA(),e.TgZ(49,"input",132),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(48);return o.value="",o.click()}),e.qZA(),e._UZ(50,"br")(51,"br"),e.TgZ(52,"div"),e._UZ(53,"br"),e.qZA()(),e.TgZ(54,"div",90),e.YNc(55,Dn,2,1,"button",91),e.YNc(56,jn,2,1,"button",92),e.qZA(),e.TgZ(57,"div",93),e.YNc(58,$n,2,0,"button",94),e.qZA()(),e.TgZ(59,"div",95)(60,"div",35),e._UZ(61,"iframe",96),e.qZA()(),e.TgZ(62,"div",34)(63,"div",97)(64,"div",85)(65,"button",140),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).initiateVir("FM")}),e._uU(66," Enregistrer "),e.qZA()()()()()()}if(2&i){const t=e.oxw(2);let n,o,r,m;e.xp6(1),e.Q6J("formGroup",t.FMandatForm),e.xp6(7),e.Q6J("ngClass",e.WLB(13,X,(null==(n=t.FMandatForm.get("motif"))?null:n.touched)&&(null==(n=t.FMandatForm.get("motif"))?null:n.invalid),null==(n=t.FMandatForm.get("motif"))?null:n.valid)),e.xp6(1),e.Q6J("ngIf",(null==(o=t.FMandatForm.get("motif"))?null:o.touched)&&(null==(o=t.FMandatForm.get("motif"))?null:o.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(16,X,(null==(r=t.FMandatForm.get("reference"))?null:r.touched)&&(null==(r=t.FMandatForm.get("reference"))?null:r.invalid),null==(r=t.FMandatForm.get("reference"))?null:r.valid)),e.xp6(1),e.Q6J("ngIf",(null==(m=t.FMandatForm.get("reference"))?null:m.touched)&&(null==(m=t.FMandatForm.get("reference"))?null:m.invalid)),e.xp6(17),e.Q6J("ngIf",(null==t.fileNameBenef?null:t.fileNameBenef.length)>0&&t.toshowfm),e.xp6(1),e.Q6J("ngIf",(null==t.fileNameBenef?null:t.fileNameBenef.length)>0&&!t.toshowfm),e.xp6(2),e.Q6J("ngIf",(null==t.fileNameBenef?null:t.fileNameBenef.length)>0),e.xp6(4),e.hij(" ",t.textfileContent," "),e.xp6(15),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&t.toshow),e.xp6(1),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&!t.toshow),e.xp6(2),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0),e.xp6(7),e.Q6J("disabled",t.FMandatForm.invalid)}}function Xn(i,l){if(1&i&&(e.TgZ(0,"div",39)(1,"div",40)(2,"h5",41),e._uU(3,"Initiation Virement Salaire"),e.qZA(),e.TgZ(4,"fieldset",45),e.YNc(5,ri,4,3,"div",46),e.qZA(),e.YNc(6,dn,162,63,"div",47),e.YNc(7,Un,98,25,"div",47),e.YNc(8,Hn,67,19,"div",47),e.qZA()()),2&i){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.typeData),e.xp6(1),e.Q6J("ngIf",t.isForm),e.xp6(1),e.Q6J("ngIf",t.isCSV),e.xp6(1),e.Q6J("ngIf",t.isFM)}}function Wn(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&i){const t=l.$implicit;e.xp6(2),e.hij("",t.Fullname," "),e.xp6(2),e.Oqu(t.Amount),e.xp6(2),e.Oqu(t.NumeroPayement)}}let zn=(()=>{class i{constructor(t,n,o,r,m,a,u){this.BenefServ=t,this.fb=n,this.http=o,this.router=r,this.auth=m,this.VirServ=a,this.opImpService=u,this.checkreference=!0,this.benefformModel=new ie.z,this.benefformList=[],this.virementModel=new fe.T,this.records=[],this.virFileModel=new _e.O,this.textfileContent="",this.PathReportString="",this.chargedData=!1,this.checkreferencebenef=!0,this.checkCardBenef=!0,this.checkribbenef=!0,this.motifcommun=!1,this.listTypeVir=["Carte","Compte"],this.typeData=["Via Formulaire","Via fichier CSV","Via F-mandat"],this.libDevise="DINARS",this.onetiers=!0,this.choseTiers=!1,this.ListTiers=[],this.hasTiersClient=!1,this.listTiers=[],this.benefModel=new K.O,this.listBenef=[],this.validation_messages={numcpt:[{type:"required",message:"Ce champs est obligatoire"}],tiers:[{type:"required",message:"Veuillez choisir un tiers"}],mntTot:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Valeur invalide"}],motif:[{type:"required",message:"Ce champs est obligatoire"}],nomBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Ce champ n'accepte pas des chiffres"}],prenomBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Ce champ n'accepte pas des chiffres"}],ribBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Le RIB doit \xeatre compos\xe9 de 20 chiffres"},{type:"checkControl",message:"Veuillez saisir un autre compte"}],cardBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Le n\xb0 de carte doit \xeatre compos\xe9 de 16 chiffres"},{type:"checkControl",message:"Veuillez saisir une autre carte"}],mntBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Valeur invalide"}],refBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"checkControl",message:"Veuillez saisir une autre r\xe9f\xe9rence"}],motifbenef:[{type:"required",message:"Ce champs est obligatoire"}],reference:[{type:"required",message:"Ce champs est obligatoire"},{type:"checkControl",message:"R\xe9f\xe9rence existe d\xe9j\xe0."}],referenceB:[{type:"required",message:"Ce champs est obligatoire"},{type:"checkControl",message:"Veuillez saisir une autre r\xe9f\xe9rence"}]},this.list0=[],this.listCompts=[],this.mntIntroduit=0,this.createForm()}ngOnInit(){this.chargedData=!0,this.motifcommun=!1,this.istrue=localStorage.getItem("istrue"),this.token=localStorage.getItem("token"),this.cuser=localStorage.getItem("cuser"),this.cuser=this.cuser.toLowerCase(),this.tiersForm.reset(),"true"==this.istrue?(this.isForm=!1,this.isCSV=!1,this.isFM=!1,this.cuser=localStorage.getItem("cuser"),this.auth.getTiersByIdDigital(this.token).subscribe(t=>{this.ListTiers=t,this.chargedData=!1,0==this.ListTiers.length?(this.onetiers=!0,this.choseTiers=!0,this.hasTiersClient=!0):1==this.ListTiers.length?(this.tiersClient=this.ListTiers[0].Referentiel,this.onetiers=!0,this.choseTiers=!0,this.hasTiersClient=!0,this.listTiers.push(this.tiersClient),this.tiersForm.controls.tiers.setValue(this.tiersClient),this.gettiers()):(this.createForm(),(null==this.tiersClient||""==this.tiersClient)&&(this.tiersClient=void 0),null!=this.tiersClient&&(this.hasTiersClient=!0),this.onetiers=!1)},t=>{this.chargedData=!1,-1!=t.indexOf("401")&&this.router.navigate(["/"])})):this.router.navigate(["/"])}checkReference(){var t,n,o;this.checkreference=!0,null===(t=this.virementFForm.get("reference"))||void 0===t||t.clearValidators(),null===(n=this.virementFForm.get("reference"))||void 0===n||n.addValidators(d.kI.required),null===(o=this.virementFForm.get("reference"))||void 0===o||o.updateValueAndValidity()}createForm(){this.tiersForm=this.fb.group({tiers:["",d.kI.required]}),this.virementFForm=this.fb.group({numcpt:["",d.kI.required],mntTot:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^[0-9,.]*$")])),formattedAmount:new d.NI,amountLetters:new d.NI,mntCalculated:new d.NI,motif:["",d.kI.required],comment:new d.NI,fileCsv:new d.NI,ordreVirement:new d.NI,filenameO:"",filenameCSV:"",reference:["",d.kI.required]}),this.benefForm=this.fb.group({nomBenef:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^([a-zA-Z ]*)$")])),prenomBenef:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^([a-zA-Z ]*)$")])),ribBenef:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^[0-9]{20}$")])),cardBenef:new d.NI,mntBenef:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^[0-9,.]*$")])),referenceB:["",d.kI.required],refBenef:["",d.kI.required],motifbenef:["",d.kI.required],ordreVirementBenef:new d.NI,fileNameOrdreF:"",typeVir:["",d.kI.required]}),this.FMandatForm=this.fb.group({motif:["",d.kI.required],reference:["",d.kI.required],comment:new d.NI,fileNameFM:["",d.kI.required],fileFmondat:"",ordreVirement:new d.NI,fileNameOrdreV:""})}countSubstring(t,n){let o=0,r=0;for(;r<t.length&&(r=t.indexOf(n,r),-1!==r);)o++,r+=n.length;return o}getAccountsBytiers(){var t;this.list0=[],this.listCompts=[],this.VirServ.MinimalByRef(this.token,null===(t=this.tiersForm.get("tiers"))||void 0===t?void 0:t.value).subscribe(n=>{this.listCompts=n.accounts;for(var o=0;o<this.listCompts.length;o++)this.list0.push(this.listCompts[o].account_routings[0])},n=>{-1!=n.indexOf("401")&&this.router.navigate(["/"])})}getAcc(){var t;let n=null===(t=this.virementFForm.get("numcpt"))||void 0===t?void 0:t.value,o="";for(var r=0;r<this.listCompts.length;r++)n==this.listCompts[r].account_routings[0].scheme&&(o=this.listCompts[r].id);this.choseRib=!0,this.opImpService.getDataByAccount(this.token,o).subscribe(m=>{this.AccountName=m.fullname.replace("null"," ")},m=>{-1!=m.indexOf("401")&&this.router.navigate(["/"])})}gettiers(){var t;null===(t=this.virementFForm.controls.numcpt)||void 0===t||t.reset(),this.choseRib=!1,this.listTiers=[],this.choseTiers=!0,this.hasTiersClient=!0,this.listTiers.push(this.tiersClient),this.getAccountsBytiers()}getChosenType(t){this.isForm=!1,this.records=[],this.isCSV=!1,this.isFM=!1,this.listBenef=[],this.choseRib=!1,this.mntIntroduit=0,this.choseTiers=!1,1==this.ListTiers.length?this.choseTiers=!0:this.tiersForm.reset(),this.AccountName="",this.fileName="",this.fileNameBenef="",this.virementFForm.reset(),this.benefForm.reset(),this.FMandatForm.reset(),this.virementFForm.controls.reference.clearValidators(),this.virementFForm.controls.reference.addValidators([d.kI.required]),this.virementFForm.controls.reference.updateValueAndValidity(),this.virementFForm.controls.fileCsv.clearValidators(),this.virementFForm.controls.fileCsv.updateValueAndValidity(),"Via Formulaire"==this.typechoice?this.isForm=!0:"Via fichier CSV"==this.typechoice?(this.virementFForm.controls.fileCsv.setValidators([d.kI.required]),this.virementFForm.controls.fileCsv.updateValueAndValidity(),this.isCSV=!0):this.isFM=!0}getWord(t){this.opImpService.getWordFromAmount(t,this.token,this.libDevise,"MILLIMES").subscribe(n=>{this.virementFForm.controls.amountLetters.setValue(n.body)},n=>{-1!=n.indexOf("401")&&this.router.navigate(["/"])})}getWordByAmount(){var t=this.virementFForm.controls.formattedAmount.value.toString();this.getWord(t)}getFormatedAmount(){this.virementFForm.controls.amountLetters.reset(),this.virementFForm.controls.formattedAmount.reset(),this.valueletters="",this.opImpService.getFormatedAmount("TND",this.virementFForm.controls.mntTot.value,this.token).subscribe(t=>{this.virementFForm.controls.formattedAmount.setValue(t.body),this.getWordByAmount()},t=>{-1!=t.indexOf("401")&&this.router.navigate(["/"])})}getMotif(){1==this.motifcommun&&this.benefForm.controls.motifbenef.setValue(this.virementFForm.controls.motif.value)}addBenefToTable(){var t,n,o,r,m,a,u,_,x,F,f,p,c,v;this.benefModel.benefFirstName=this.benefForm.controls.prenomBenef.value,this.benefModel.benefLastName=this.benefForm.controls.nomBenef.value;let h=this.benefModel.benefFirstName+" "+this.benefModel.benefLastName;this.benefModel.benefAmount=this.benefForm.controls.mntBenef.value,this.benefModel.benefReference=this.benefForm.controls.referenceB.value,this.benefModel.benefMotif=1==this.motifcommun?this.virementFForm.controls.motif.value:this.benefForm.controls.motifbenef.value,this.benefModel.benefIdentity=this.benefForm.controls.refBenef.value,this.benefModel.typeVirement=this.benefForm.controls.typeVir.value,"Carte"==this.benefModel.typeVirement?this.benefModel.numVirement=this.benefForm.controls.cardBenef.value:"Compte"==this.benefModel.typeVirement&&(this.benefModel.numVirement=this.benefForm.controls.ribBenef.value),this.benefModel.benefReference==this.virementFForm.controls.reference.value?(this.modalBody="La r\xe9f\xe9rence virement ne peut pas \xeatre la m\xeame du b\xe9n\xe9ficiaire",this.modalButtonLeft="OK",this.checkreferencebenef=!1,null===(t=document.getElementById("exampleModalLabelProcessedalert"))||void 0===t||t.setAttribute("style","color:blue;font-weight:bold"),null===(n=this.benefForm.get("referenceB"))||void 0===n||n.addValidators([(0,S.b)("referenceB",this.checkreferencebenef)]),null===(o=this.benefForm.get("referenceB"))||void 0===o||o.updateValueAndValidity(),null===(r=document.getElementById("btnAlert"))||void 0===r||r.click()):this.listBenef.length>0?this.listBenef.some(g=>g.benefReference.toLocaleLowerCase()===this.benefModel.benefReference.toLocaleLowerCase())?(this.modalTitle="Alerte",this.modalBody="La r\xe9f\xe9rence du b\xe9n\xe9ficiaire que vous voudrez ajouter "+this.benefModel.benefReference+" existe d\xe9j\xe0",this.modalButtonLeft="OK",this.checkreferencebenef=!1,null===(m=document.getElementById("exampleModalLabelProcessedalert"))||void 0===m||m.setAttribute("style","color:blue;font-weight:bold"),null===(a=this.benefForm.get("referenceB"))||void 0===a||a.addValidators([(0,S.b)("referenceB",this.checkreferencebenef)]),null===(u=this.benefForm.get("referenceB"))||void 0===u||u.updateValueAndValidity(),null===(_=document.getElementById("btnAlert"))||void 0===_||_.click()):this.listBenef.some(g=>g.benefFirstName.toLocaleLowerCase()+" "+g.benefLastName.toLocaleLowerCase()!=h)?this.listBenef.some(g=>g.benefIdentity.toLocaleLowerCase()==this.benefModel.benefIdentity.toLocaleLowerCase())?(this.modalBody="Vous avez d\xe9j\xe0 ins\xe9rer un b\xe9n\xe9ficiaire ayant la matricule "+this.benefModel.benefIdentity+" mais avec un nom diff\xe9rent",this.modalButtonLeft="OK",null===(x=document.getElementById("exampleModalLabelProcessedalert"))||void 0===x||x.setAttribute("style","color:blue;font-weight:bold"),null===(F=document.getElementById("btnAlert"))||void 0===F||F.click()):this.listBenef.some(g=>g.numVirement==this.benefModel.numVirement)?(this.modalBody="Vous avez d\xe9j\xe0 ins\xe9rer un b\xe9n\xe9ficiaire ayant le num\xe9ro du paiement "+this.benefModel.numVirement+" mais avec un nom diff\xe9rent",this.modalButtonLeft="OK",null===(f=document.getElementById("exampleModalLabelProcessedalert"))||void 0===f||f.setAttribute("style","color:blue;font-weight:bold"),null===(p=document.getElementById("btnAlert"))||void 0===p||p.click()):this.listBenef.some(g=>g.benefAmount===this.benefModel.benefAmount)&&this.listBenef.some(g=>g.numVirement===this.benefModel.numVirement)?(this.modalTitle="Rappel",this.modalBody="B\xe9n\xe9ficiaire d\xe9j\xe0 existant",this.modalButtonLeft="Annuler",this.modalButtonRight="OK",null===(c=document.getElementById("btnVerifexist"))||void 0===c||c.click()):(this.listBenef.push(this.benefModel),this.isCard=!1,this.isRib=!1,this.benefModel=new K.O,this.benefForm.controls.prenomBenef.reset(),this.benefForm.controls.nomBenef.reset(),this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.mntBenef.reset(),this.benefForm.controls.refBenef.reset(),0==this.motifcommun&&this.benefForm.controls.motifbenef.reset(),this.benefForm.controls.typeVir.reset(),this.benefForm.controls.cardBenef.reset(),this.benefForm.controls.referenceB.reset()):this.listBenef.some(g=>g.benefAmount===this.benefModel.benefAmount)&&this.listBenef.some(g=>g.numVirement===this.benefModel.numVirement)?(this.modalTitle="Rappel",this.modalBody="B\xe9n\xe9ficiaire d\xe9j\xe0 existant",this.modalButtonLeft="Annuler",this.modalButtonRight="OK",null===(v=document.getElementById("btnVerifexist"))||void 0===v||v.click()):(this.listBenef.push(this.benefModel),this.isCard=!1,this.isRib=!1,this.benefModel=new K.O,this.benefForm.controls.prenomBenef.reset(),this.benefForm.controls.nomBenef.reset(),this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.mntBenef.reset(),this.benefForm.controls.refBenef.reset(),0==this.motifcommun&&this.benefForm.controls.motifbenef.reset(),this.benefForm.controls.typeVir.reset(),this.benefForm.controls.cardBenef.reset(),this.benefForm.controls.referenceB.reset()):(this.listBenef.push(this.benefModel),this.benefModel=new K.O,this.isCard=!1,this.isRib=!1,this.benefForm.controls.prenomBenef.reset(),this.benefForm.controls.nomBenef.reset(),this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.mntBenef.reset(),this.benefForm.controls.refBenef.reset(),0==this.motifcommun&&this.benefForm.controls.motifbenef.reset(),this.benefForm.controls.typeVir.reset(),this.benefForm.controls.cardBenef.reset(),this.benefForm.controls.referenceB.reset())}controlMatricule(){var t,n,o,r;null===(t=this.benefForm.get("refBenef"))||void 0===t||t.clearValidators(),null===(n=this.benefForm.get("refBenef"))||void 0===n||n.updateValueAndValidity(),null===(o=this.benefForm.get("refBenef"))||void 0===o||o.setValidators([d.kI.required]),null===(r=this.benefForm.get("refBenef"))||void 0===r||r.updateValueAndValidity()}RemoveBenef(t){this.listBenef.splice(t,1)}EditBenef(t,n){this.benefForm.controls.nomBenef.setValue(t.benefLastName),this.benefForm.controls.prenomBenef.setValue(t.benefFirstName),this.benefForm.controls.ribBenef.setValue(t.numVirement),this.benefForm.controls.mntBenef.setValue(t.benefAmount),this.benefForm.controls.refBenef.setValue(t.benefIdentity),this.benefForm.controls.motifbenef.setValue(t.benefMotif),this.benefForm.controls.referenceB.setValue(t.benefReference),this.benefForm.controls.typeVir.setValue(t.typeVirement),"Carte"==t.typeVirement?(this.isCard=!0,this.isRib=!1,this.benefForm.controls.cardBenef.setValue(t.numVirement)):"Compte"==t.typeVirement&&(this.isCard=!1,this.isRib=!0,this.benefForm.controls.ribBenef.setValue(t.numVirement)),this.listBenef.splice(n,1)}Ok(){var t;this.listBenef.push(this.benefModel),this.benefModel=new K.O,this.benefForm.controls.prenomBenef.reset(),this.benefForm.controls.nomBenef.reset(),this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.mntBenef.reset(),this.benefForm.controls.refBenef.reset(),0==this.motifcommun&&this.benefForm.controls.motifbenef.reset(),this.benefForm.controls.typeVir.reset(),this.benefForm.controls.cardBenef.reset(),this.benefForm.controls.referenceB.reset(),null===(t=document.getElementById("dismissmodal"))||void 0===t||t.click()}initiateVir(t){var n,o,r,m,a,u,_,x,F;if(this.chargedData=!0,"F"==t){this.virementModel.benefmultiple=[],this.benefformModel=new ie.z,this.benefformList=[],null===(n=document.getElementById("btninit"))||void 0===n||n.setAttribute("disabled","disabled"),this.virementModel.AccountName=this.AccountName,this.virementModel.Comment=this.virementFForm.controls.comment.value,this.virementModel.Reference=this.virementFForm.controls.reference.value,this.virementModel.CommonCause=1==this.motifcommun?"O":"N",this.virementModel.FileOrdreVirement=this.benefForm.controls.fileNameOrdreF.value;let p=localStorage.getItem("cuser");if(null!=p&&(this.virementModel.RequestUser=p),null==this.nom&&(this.nom=""),""==this.nom)this.virementModel.FileType="";else{let b=null===(o=this.nom)||void 0===o?void 0:o.indexOf("."),T=null===(r=this.nom)||void 0===r?void 0:r.substr(b+1);this.virementModel.FileType=T}this.virementModel.FileName=this.nom;let c=new Date;console.log(c);let v=c.getMonth()+1,h=c.getDate(),g=c.getFullYear(),A=c.getHours(),C=c.getMinutes(),R=c.getSeconds();this.virementModel.IdTransaction=v.toString()+h.toString()+this.virementModel.Reference+g.toString().substring(2)+R.toString()+C.toString()+A.toString(),this.virementModel.OrderingCustomerAccount=this.virementFForm.controls.numcpt.value,this.virementModel.Reason=this.virementFForm.controls.motif.value,this.virementModel.TotalAmount=this.virementFForm.controls.mntTot.value,this.virementModel.TransactionType="Virement Salaire",this.virementModel.sourcetype="FS";for(var f=0;f<this.listBenef.length;f++)this.benefformModel.Amount=this.listBenef[f].benefAmount,this.benefformModel.Fullname=this.listBenef[f].benefFirstName+" "+this.listBenef[f].benefLastName,this.benefformModel.benefFirstName=this.listBenef[f].benefFirstName,this.benefformModel.benefLastName=this.listBenef[f].benefLastName,this.benefformModel.Currency="788",this.benefformModel.PaymentNumber=this.listBenef[f].numVirement,this.benefformModel.MeanOfPayment=16==this.benefformModel.PaymentNumber.length?"02":"01",this.benefformModel.Reason=this.listBenef[f].benefMotif,this.benefformModel.Reference=this.listBenef[f].benefReference,this.benefformModel.IdBenef=this.listBenef[f].benefIdentity,this.benefformList.push(this.benefformModel),this.benefformModel=new ie.z;this.virementModel.benefmultiple=this.benefformList,this.VirServ.createtransactionbenefmultiple(this.virementModel,this.token).subscribe(b=>{var T,s,Z,y,V,B,M,q,N,I,w,k,U,E,J;this.reponseIV=b,"00"==this.reponseIV.ResponseCode?(this.msgAlert="Virement enregistr\xe9 avec succ\xe8s.",null!=document.getElementById("exampleModalLabelProcessed")&&(null===(T=document.getElementById("exampleModalLabelProcessed"))||void 0===T||T.setAttribute("style","color:green;font-weight:bold")),null===(s=document.getElementById("btnalertPopfresh"))||void 0===s||s.click()):"01"==this.reponseIV.ResponseCode?(this.msgAlert="V\xe9rifier vos entr\xe9es",null===(Z=document.getElementById("exampleModalLabelProcessedpop"))||void 0===Z||Z.setAttribute("style","color:blue;font-weight:bold"),null===(y=document.getElementById("btnalertPop"))||void 0===y||y.click()):"02"==this.reponseIV.ResponseCode?(this.msgAlert="Veuillez r\xe9essayer plus tard (acc\xe8s)",null===(V=document.getElementById("exampleModalLabelProcessedpop"))||void 0===V||V.setAttribute("style","color:blue;font-weight:bold"),null===(B=document.getElementById("btnalertPop"))||void 0===B||B.click()):"05"==this.reponseIV.ResponseCode?(this.checkreference=!1,null===(M=this.virementFForm.get("reference"))||void 0===M||M.addValidators([(0,S.b)("reference",this.checkreference)]),null===(q=this.virementFForm.get("reference"))||void 0===q||q.updateValueAndValidity(),this.msgAlert="R\xe9f\xe9rence "+this.virementFForm.controls.reference.value+" existe d\xe9j\xe0.",null===(N=document.getElementById("exampleModalLabelProcessedpop"))||void 0===N||N.setAttribute("style","color:blue;font-weight:bold"),null===(I=document.getElementById("btnalertPop"))||void 0===I||I.click()):"11"==this.reponseIV.ResponseCode?(this.virementFForm.controls.mntCalculated.setValue(null==b?void 0:b.Status),this.msgAlert="La somme totale saisie n'est pas \xe9gale \xe0 celle du total b\xe9n\xe9ficiaire ("+(null==b?void 0:b.Status)+")",null===(w=document.getElementById("exampleModalLabelProcessedpop"))||void 0===w||w.setAttribute("style","color:red;font-weight:bold"),null===(k=document.getElementById("btnalertPop"))||void 0===k||k.click()):(this.msgAlert="Merci de r\xe9essayer plus tard",null===(U=document.getElementById("exampleModalLabelProcessedpop"))||void 0===U||U.setAttribute("style","color:blue;font-weight:bold"),null===(E=document.getElementById("btnalertPop"))||void 0===E||E.click()),null===(J=document.getElementById("btninit"))||void 0===J||J.removeAttribute("disabled"),this.chargedData=!1},b=>{var T;this.chargedData=!1,null===(T=document.getElementById("btninit"))||void 0===T||T.removeAttribute("disabled"),-1!=b.indexOf("401")&&this.router.navigate(["/"])})}else if("CSV"==t){null===(m=document.getElementById("btncsv"))||void 0===m||m.setAttribute("disabled","disabled"),this.virFileModel.FichierCsvFmandat="02",this.virFileModel.OrderingCustomerAccount=this.virementFForm.controls.numcpt.value,this.virFileModel.FileName=this.fileNameBenef,this.virFileModel.Base64=this.virementFForm.controls.filenameCSV.value,this.virFileModel.Comment=this.virementFForm.controls.comment.value,this.virFileModel.Reason=this.virementFForm.controls.motif.value,this.virFileModel.MontantTotal=this.virementFForm.controls.mntTot.value,this.virFileModel.MontantIntroduit=this.virementFForm.controls.mntCalculated.value,this.virFileModel.MontantFormate=this.virementFForm.controls.formattedAmount.value,this.virFileModel.MontantLettre=this.virementFForm.controls.amountLetters.value;let p=localStorage.getItem("cuser");null!=p&&(this.virFileModel.RequestUser=p);let c=null===(a=this.nom)||void 0===a?void 0:a.indexOf("."),v=null===(u=this.nom)||void 0===u?void 0:u.substr(c+1);this.virFileModel.FileType=v,this.virFileModel.Reference=this.virementFForm.controls.reference.value,this.virFileModel.TransactionType="Virement Salaire",this.virFileModel.FileOrdreVirement=this.virementFForm.controls.filenameO.value;let h=new Date;console.log(h);let g=h.getMonth()+1,A=h.getDate(),C=h.getFullYear(),R=h.getHours(),b=h.getMinutes(),T=h.getSeconds();this.virFileModel.IdTransaction=g.toString()+A.toString()+this.virFileModel.Reference+C.toString().substring(2)+T.toString()+b.toString()+R.toString(),this.VirServ.InitiationbyFmandatCsv(this.virFileModel,this.token).subscribe(s=>{var Z,y,V,B,M,q,N,I,w,k,U,E,J,O,L,Q,P,Y,D,j;if(this.chargedData=!1,this.RetourCompte=s,null===(Z=document.getElementById("btncsv"))||void 0===Z||Z.removeAttribute("disabled"),"00"==(null==s?void 0:s.OK))this.msgAlert="Virement enregistr\xe9 avec succ\xe8s",null===(y=document.getElementById("exampleModalLabelProcessed"))||void 0===y||y.setAttribute("style","color:green;font-weight:bold"),null===(V=document.getElementById("btnalertPopfresh"))||void 0===V||V.click();else if((null===(B=this.RetourCompte)||void 0===B?void 0:B.length)>0)this.doublons=s,this.msgAlert="Virement enregistr\xe9 avec succ\xe8s. N.B: Des doublons ont \xe9t\xe9 d\xe9tect\xe9s au niveau du fichier.",null===(M=document.getElementById("exampleModalLabelProcessedpopdoublons"))||void 0===M||M.setAttribute("style","color:blue;font-weight:bold"),null===(q=document.getElementById("btnalertPopdoublons"))||void 0===q||q.click(),this.virementFForm.controls.fileCsv.reset();else if("07"==(null==s?void 0:s.StatusCode))this.virementFForm.controls.mntCalculated.setValue(null==s?void 0:s.CalculatedAmount),this.msgAlert="Le montant introduit n'est pas \xe9gale \xe0 la somme des montants dans le fichier ("+(null==s?void 0:s.CalculatedAmount)+")",null===(N=document.getElementById("exampleModalLabelProcessedpop"))||void 0===N||N.setAttribute("style","color:blue;font-weight:bold"),null===(I=document.getElementById("btnalertPop"))||void 0===I||I.click();else if("05"==(null==s?void 0:s.ResponseCode))this.msgAlert="Identifiant virement existe",null===(w=document.getElementById("exampleModalLabelProcessedpop"))||void 0===w||w.setAttribute("style","color:blue;font-weight:bold"),null===(k=document.getElementById("btnalertPop"))||void 0===k||k.click();else if("10"==(null==s?void 0:s.StatusCode))this.msgAlert="Le num\xe9ro de carte "+(null==s?void 0:s.Ref)+" est invalide",null===(U=document.getElementById("exampleModalLabelProcessedpop"))||void 0===U||U.setAttribute("style","color:blue;font-weight:bold"),this.virementFForm.controls.fileCsv.reset(),null===(E=document.getElementById("btnalertPop"))||void 0===E||E.click();else if("11"==(null==s?void 0:s.StatusCode)){let $=null==s?void 0:s.Ref;1==this.countSubstring(null==s?void 0:s.Ref,",")&&($=null==s?void 0:s.Ref.replace(",","")),this.msgAlert="Votre demande \xe0 \xe9t\xe9 bien enregistr\xe9. N.B: Le(s) num\xe9ro(s) de paiement suivant(s) est/sont \xe9rron\xe9(s): "+$,null===(J=document.getElementById("exampleModalLabelProcessed"))||void 0===J||J.setAttribute("style","color:blue;font-weight:bold"),this.virementFForm.controls.fileCsv.reset(),null===(O=document.getElementById("btnalertPopfresh"))||void 0===O||O.click()}else"12"==(null==s?void 0:s.StatusCode)?(this.msgAlert="R\xe9f\xe9rence existante",null===(L=document.getElementById("exampleModalLabelProcessedpop"))||void 0===L||L.setAttribute("style","color:blue;font-weight:bold"),null===(Q=document.getElementById("btnalertPop"))||void 0===Q||Q.click()):"Fichier erron\xe9"==(null==s?void 0:s.OBP2)?(this.msgAlert="Fichier erron\xe9",null===(P=document.getElementById("exampleModalLabelProcessedpop"))||void 0===P||P.setAttribute("style","color:red;font-weight:bold"),this.virementFForm.controls.fileCsv.reset(),null===(Y=document.getElementById("btnalertPop"))||void 0===Y||Y.click()):(this.msgAlert="Veuillez r\xe9essayer plus tard",null===(D=document.getElementById("exampleModalLabelProcessed"))||void 0===D||D.setAttribute("style","color:blue;font-weight:bold"),null===(j=document.getElementById("btnalertPopfresh"))||void 0===j||j.click())},s=>{var Z;this.chargedData=!1,null===(Z=document.getElementById("btncsv"))||void 0===Z||Z.setAttribute("disabled","disabled"),-1!=s.indexOf("401")&&this.router.navigate(["/"])})}else{null===(_=document.getElementById("btnfm"))||void 0===_||_.setAttribute("disabled","disabled"),this.virFileModel.FileName=this.fileNameBenef,this.virFileModel.Base64=this.FMandatForm.controls.fileNameFM.value;let p=null===(x=this.nom)||void 0===x?void 0:x.indexOf("."),c=null===(F=this.nom)||void 0===F?void 0:F.substr(p+1);this.virFileModel.FileType=c;let v=localStorage.getItem("cuser");null!=v&&(this.virFileModel.RequestUser=v),this.virFileModel.Reference=this.FMandatForm.controls.reference.value,this.virFileModel.TransactionType="Virement Salaire",this.virFileModel.FileOrdreVirement=this.FMandatForm.controls.fileNameOrdreV.value,this.virFileModel.Comment=this.FMandatForm.controls.comment.value,this.virFileModel.Reason=this.FMandatForm.controls.motif.value,this.virFileModel.FichierCsvFmandat="01";let h=new Date;console.log(h);let g=h.getMonth()+1,A=h.getDate(),C=h.getFullYear(),R=h.getHours(),b=h.getMinutes(),T=h.getSeconds();this.virFileModel.IdTransaction=g.toString()+A.toString()+this.virFileModel.Reference+C.toString().substring(2)+T.toString()+b.toString()+R.toString(),this.VirServ.InitiationbyFmandatCsv(this.virFileModel,this.token).subscribe(s=>{var Z,y,V,B,M,q,N,I,w,k,U,E,J,O,L,Q,P,Y,D,j,$,te;if(this.chargedData=!1,this.RetourCompte=s,null===(Z=document.getElementById("btnfm"))||void 0===Z||Z.removeAttribute("disabled"),"00"==(null==s?void 0:s.OK))this.msgAlert="Virement enregistr\xe9 avec succ\xe8s",null===(y=document.getElementById("exampleModalLabelProcessed"))||void 0===y||y.setAttribute("style","color:green;font-weight:bold"),null===(V=document.getElementById("btnalertPopfresh"))||void 0===V||V.click();else if((null===(B=this.RetourCompte)||void 0===B?void 0:B.length)>0)this.doublons=s,this.msgAlert="Virement enregistr\xe9 avec succ\xe8s. N.B: Des doublons ont \xe9t\xe9 d\xe9tect\xe9s au niveau du fichier.",null===(M=document.getElementById("exampleModalLabelProcessedpopdoublons"))||void 0===M||M.setAttribute("style","color:blue;font-weight:bold"),null===(q=document.getElementById("btnalertPopdoublons"))||void 0===q||q.click();else if("07"==(null==s?void 0:s.StatusCode))this.virementFForm.controls.mntCalculated.setValue(null==s?void 0:s.CalculatedAmount),this.msgAlert="Le montant introduit n'est pas \xe9gale \xe0 la somme des montants dans le fichier ("+(null==s?void 0:s.CalculatedAmount)+")",null===(N=document.getElementById("exampleModalLabelProcessedpop"))||void 0===N||N.setAttribute("style","color:blue;font-weight:bold"),null===(I=document.getElementById("btnalertPop"))||void 0===I||I.click();else if("05"==(null==s?void 0:s.ResponseCode))this.msgAlert="Identifiant virement existe",null===(w=document.getElementById("exampleModalLabelProcessedpop"))||void 0===w||w.setAttribute("style","color:blue;font-weight:bold"),null===(k=document.getElementById("btnalertPop"))||void 0===k||k.click();else if("12"==(null==s?void 0:s.ResponseCode))this.msgAlert="R\xe9f\xe9rence virement existe",null===(U=document.getElementById("exampleModalLabelProcessedpop"))||void 0===U||U.setAttribute("style","color:blue;font-weight:bold"),null===(E=document.getElementById("btnalertPop"))||void 0===E||E.click();else if("Fichier erron\xe9"==(null==s?void 0:s.OBP2))this.msgAlert="Fichier erron\xe9",null===(J=document.getElementById("exampleModalLabelProcessedpop"))||void 0===J||J.setAttribute("style","color:red;font-weight:bold"),null===(O=document.getElementById("alertPop"))||void 0===O||O.setAttribute("class","modal fade  show"),null===(L=document.getElementById("btnalertPop"))||void 0===L||L.click();else if("Forbidden"==(null==s?void 0:s.Status))this.msgAlert="Vous n'\xeates pas autoris\xe9 \xe0 d\xe9biter le compte existant dans le fichier choisi.",null===(Q=document.getElementById("exampleModalLabelProcessedpop"))||void 0===Q||Q.setAttribute("style","color:red;font-weight:bold"),null===(P=document.getElementById("alertPop"))||void 0===P||P.setAttribute("class","modal fade  show"),null===(Y=document.getElementById("btnalertPop"))||void 0===Y||Y.click();else if("11"==(null==s?void 0:s.StatusCode)){let ne=null==s?void 0:s.Ref;1==this.countSubstring(null==s?void 0:s.Ref,",")&&(ne=null==s?void 0:s.Ref.replace(",","")),this.msgAlert="Votre demande \xe0 \xe9t\xe9 bien enregistr\xe9. N.B: Le(s) num\xe9ro(s) de paiement suivant(s) est/sont \xe9rron\xe9(s): "+ne,null===(D=document.getElementById("exampleModalLabelProcessed"))||void 0===D||D.setAttribute("style","color:blue;font-weight:bold"),this.virementFForm.controls.fileCsv.reset(),null===(j=document.getElementById("btnalertPopfresh"))||void 0===j||j.click()}else this.msgAlert="Veuillez r\xe9essayer plus tard",null===($=document.getElementById("exampleModalLabelProcessed"))||void 0===$||$.setAttribute("style","color:blue;font-weight:bold"),null===(te=document.getElementById("btnalertPopfresh"))||void 0===te||te.click()},s=>{var Z;this.chargedData=!1,null===(Z=document.getElementById("btnfm"))||void 0===Z||Z.removeAttribute("disabled"),-1!=s.indexOf("401")&&this.router.navigate(["/"])})}}FermerAlertAvecRefresh(){var t;null===(t=document.getElementById("alertPopfresh"))||void 0===t||t.setAttribute("class","modal fade  hide"),location.reload()}uploadBenef(t){var n,o;console.log("hey"),this.fileNameBenef="",this.textfileContent="",this.records=[],t.target.files&&t.target.files[0]&&(this.isCSV?-1==t.target.files[0].type.toString().indexOf("csv")?(this.modalTitle="Alerte",this.modalBody="Veuillez choisir un document type CSV",this.modalButtonLeft="Fermer",null===(n=document.getElementById("btnAlert"))||void 0===n||n.click(),this.FMandatForm.controls.fileCsv.reset()):this.uploadListener(t):this.isFM&&(-1==t.target.files[0].type.toString().indexOf("plain")?(this.modalTitle="Alerte",this.modalBody="Veuillez choisir un document type text/plain",this.modalButtonLeft="Fermer",null===(o=document.getElementById("btnAlert"))||void 0===o||o.click(),this.FMandatForm.controls.fileFmondat.reset()):this.uploadbeneffile(t)))}removeFMBenefFile(){this.FMandatForm.controls.fileFmondat.reset(),this.FMandatForm.controls.fileNameFM.reset(),this.fileNameBenef="",this.textfileContent="",this.hideDocumentFM()}removeFileOrdreForm(){this.benefForm.controls.ordreVirementBenef.reset(),this.fileName="",this.hideDocument()}removeFileOrdreFM(){this.FMandatForm.controls.ordreVirement.reset(),this.FMandatForm.controls.fileNameOrdreV.reset(),this.fileName="",this.PathReportString="",this.hideDocument()}removeFileOrdre(){this.virementFForm.controls.ordreVirement.reset(),this.virementFForm.controls.filenameO.reset(),this.fileName="",this.hideDocument()}removeCsvBenefFile(){this.virementFForm.controls.fileCsv.reset(),this.virementFForm.controls.filenameCSV.reset(),this.fileNameBenef="",this.records=[]}uploadbeneffile(t){this.hideDocumentFM();var n=new FileReader;this.fileNameBenef=t.target.files[0].name,this.filefmandat=this.fileNameBenef;let o=this;o.textfileContent="",n.onload=r=>{null!=n.result&&(o.textfileContent=n.result);let a,m=r.target;null!=m&&(a=m.result),null!=a&&(this.base=window.btoa(unescape(encodeURIComponent(a.toString())))),this.FMandatForm.controls.fileNameFM.setValue(this.base)},this.nom=t.target.files[0].name,n.readAsText(t.target.files[0]),this.toshowfm=!0}upload(t){var n;this.fileName="",this.PathReportString="";let o=document.getElementById("ifrm");if(null!=o&&(o.style.display="none"),t.target.files&&t.target.files[0])if(-1!=t.target.files[0].type.toString().indexOf("image")||-1!=t.target.files[0].type.toString().indexOf("pdf")){console.log("image or pdf");var r=new FileReader;this.fileName=t.target.files[0].name,r.onload=m=>{this.filePath=m.target.result;var a=this.filePath.toString().indexOf(",");this.base=this.filePath.toString().substr(a+1,this.filePath.toString().length),this.isFM?this.FMandatForm.controls.fileNameOrdreV.setValue(this.base):this.isCSV?this.virementFForm.controls.filenameO.setValue(this.base):this.benefForm.controls.fileNameOrdreF.setValue(this.base),this.PathReportString=this.filePath,this.toshow=!0},this.nom=t.target.files[0].name,r.readAsDataURL(t.target.files[0])}else console.log("not image nor pdf"),this.modalTitle="Alerte",this.modalBody="Veuillez choisir un document type image ou bien PDF",this.modalButtonLeft="Fermer",null===(n=document.getElementById("btnAlert"))||void 0===n||n.click()}test(){}getTypeVirement(){this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.cardBenef.reset(),this.benefForm.controls.ribBenef.clearValidators(),this.benefForm.controls.cardBenef.clearValidators(),this.benefForm.controls.ribBenef.updateValueAndValidity(),this.benefForm.controls.cardBenef.updateValueAndValidity(),this.isCard=!1,this.isRib=!1,"carte"==this.benefForm.controls.typeVir.value.toLowerCase()?(this.benefForm.controls.cardBenef.setValidators([d.kI.required,d.kI.pattern("^[0-9]{16}$")]),this.isCard=!0):"compte"==this.benefForm.controls.typeVir.value.toLowerCase()&&(this.benefForm.controls.ribBenef.setValidators([d.kI.required,d.kI.pattern("^[0-9]{20}$")]),this.isRib=!0),this.benefForm.controls.ribBenef.updateValueAndValidity(),this.benefForm.controls.cardBenef.updateValueAndValidity()}getMotifCommun(t){if(this.benefForm.controls.motifbenef.reset(),this.motifcommun=null==t?void 0:t.target.checked,1==(null==t?void 0:t.target.checked)){var n=document.getElementById("motifbenef");document.getElementById("motifopt").style.display="none",n.disabled=!0,this.benefForm.controls.motifbenef.clearValidators(),this.benefForm.controls.motifbenef.updateValueAndValidity(),this.benefForm.controls.motifbenef.setValue(this.virementFForm.controls.motif.value)}else this.benefForm.controls.motifbenef.addValidators(d.kI.required),this.benefForm.controls.motifbenef.updateValueAndValidity(),n=document.getElementById("motifbenef"),document.getElementById("motifopt").style.display="inline",n.disabled=!1}isValidCSVFile(t){return t.name.endsWith(".csv")}getDataRecordsArrayFromCSVFile(t,n){var o,r,m,a,u,_,x,F;let f=[];for(let p=1;p<t.length;p++){let c=t[p].split(";");if(c.length==n){let v=new ue.t;v.NOM=null===(o=c[0])||void 0===o?void 0:o.trim(),v.MATRICULE=null===(r=c[1])||void 0===r?void 0:r.trim(),v.NUMPAIEMENT=null===(m=c[2])||void 0===m?void 0:m.trim(),v.TELBENEF=null===(a=c[3])||void 0===a?void 0:a.trim(),v.EMAILBENEF=null===(u=c[4])||void 0===u?void 0:u.trim(),v.MONTANT=null===(_=c[5])||void 0===_?void 0:_.trim(),v.REFERENCE=null===(x=c[6])||void 0===x?void 0:x.trim(),v.MOTIF=null===(F=c[7])||void 0===F?void 0:F.trim(),f.push(v)}}return f}getHeaderArray(t){let n=t[0].split(","),o=[];for(let r=0;r<n.length;r++)o.push(n[r]);return o}uploadListener(t){let o=t.srcElement.files;if(this.fileNameBenef=t.target.files[0].name,this.isValidCSVFile(o[0])){var r=new FileReader;r.onload=a=>{this.filePath=a.target.result;var u=this.filePath.toString().replace("data:application/vnd.ms-excel;base64,","");this.base=u.replace("data:text/csv;base64,",""),this.virementFForm.controls.filenameCSV.setValue(this.base)},r.readAsDataURL(t.target.files[0]),this.uploadListener2(t),r.onerror=function(){console.log("error is occured while reading file!")}}else alert("Please import valid .csv file."),this.fileReset()}uploadListener2(t){let o=t.srcElement.files;if(this.fileNameBenef=t.target.files[0].name,this.isValidCSVFile(o[0])){let r=t.target,m=new FileReader;m.readAsText(r.files[0]),m.onload=a=>{let _=m.result.split(/\r\n|\n/),x=this.getHeaderArray(_),F=_[0].split(";");console.log(x),this.records=this.getDataRecordsArrayFromCSVFile(_,F.length)},m.onerror=function(){console.log("error is occured while reading file!")}}else alert("Please import valid .csv file."),this.fileReset()}fileReset(){this.csvReader.nativeElement.value="",this.records=[]}ControlRIB(){var t,n,o,r,m;null===(t=this.benefForm.get("ribBenef"))||void 0===t||t.clearValidators(),null===(n=this.benefForm.get("ribBenef"))||void 0===n||n.updateValueAndValidity(),null===(o=this.benefForm.get("ribBenef"))||void 0===o||o.setValidators([d.kI.required,d.kI.pattern("^[0-9]{20}$")]),null===(r=this.benefForm.get("ribBenef"))||void 0===r||r.updateValueAndValidity();let a=null===(m=this.benefForm.get("ribBenef"))||void 0===m?void 0:m.value;if(20==a.length){let u={NumeroCompte:a};null!=a&&null!=a&&""!=a&&this.BenefServ.ControlAccountBenef(u,this.token).subscribe(_=>{var x,F,f,p,c,v,h,g;this.RetourCompte=_,("01"==this.RetourCompte.ResponseCode||"99"==this.RetourCompte.ResponseCode)&&(this.checkribbenef=!1,null===(x=this.benefForm.get("ribBenef"))||void 0===x||x.addValidators([(0,S.b)("ribBenef",this.checkribbenef)]),null===(F=this.benefForm.get("ribBenef"))||void 0===F||F.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="V\xe9rifier le  RIB en input !",this.modalButtonLeft="OK",null===(f=document.getElementById("exampleModalLabelProcessedalert"))||void 0===f||f.setAttribute("style","color:red;font-weight:bold;text-align: center;"),null===(p=document.getElementById("btnAlert"))||void 0===p||p.click()),"00"==this.RetourCompte.ResponseCode&&("Active"!=this.RetourCompte.Status?(this.checkribbenef=!1,null===(c=this.benefForm.get("ribBenef"))||void 0===c||c.addValidators([(0,S.b)("ribBenef",this.checkribbenef)]),null===(v=this.benefForm.get("ribBenef"))||void 0===v||v.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="Verifier le  RIB en input !",this.modalButtonLeft="OK",null===(h=document.getElementById("exampleModalLabelProcessedalert"))||void 0===h||h.setAttribute("style","color:red;font-weight:bold;text-align: center;"),null===(g=document.getElementById("btnAlert"))||void 0===g||g.click()):this.checkribbenef=!0)},_=>{console.log("error API"),-1!=_.indexOf("401")&&this.router.navigate(["/"])})}else this.checkribbenef=!0}controlRefBenef(){var t,n,o,r;null===(t=this.benefForm.get("referenceB"))||void 0===t||t.clearValidators(),null===(n=this.benefForm.get("referenceB"))||void 0===n||n.updateValueAndValidity(),null===(o=this.benefForm.get("referenceB"))||void 0===o||o.setValidators([d.kI.required]),null===(r=this.benefForm.get("referenceB"))||void 0===r||r.updateValueAndValidity()}ControlCarte(){var t,n,o,r,m;null===(t=this.benefForm.get("cardBenef"))||void 0===t||t.clearValidators(),null===(n=this.benefForm.get("cardBenef"))||void 0===n||n.updateValueAndValidity(),null===(o=this.benefForm.get("cardBenef"))||void 0===o||o.setValidators([d.kI.required,d.kI.pattern("^[0-9]{16}$")]),null===(r=this.benefForm.get("cardBenef"))||void 0===r||r.updateValueAndValidity();let a=null===(m=this.benefForm.get("cardBenef"))||void 0===m?void 0:m.value;if(16==a.length){let u={cardNumber:a};null!=a&&null!=a&&""!=a&&this.BenefServ.ControlCardBenef(u,this.token).subscribe(_=>{var x,F,f,p,c,v,h,g,A;this.RetourCompte=_,("01"==this.RetourCompte.CodeResponse||"99"==this.RetourCompte.CodeResponse||"04"==this.RetourCompte.CodeResponse)&&(this.checkCardBenef=!1,null===(x=this.benefForm.get("cardBenef"))||void 0===x||x.addValidators([(0,S.b)("cardBenef",this.checkCardBenef)]),null===(F=this.benefForm.get("cardBenef"))||void 0===F||F.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="Verifier la carte en input !",this.modalButtonLeft="OK",null===(f=document.getElementById("btnAlert"))||void 0===f||f.click()),"00"==this.RetourCompte.CodeResponse&&("Delivered"!=this.RetourCompte.Status?(this.checkCardBenef=!1,null===(p=this.benefForm.get("cardBenef"))||void 0===p||p.addValidators([(0,S.b)("cardBenef",this.checkCardBenef)]),null===(c=this.benefForm.get("cardBenef"))||void 0===c||c.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="Carte Non Valide !",this.modalButtonLeft="OK",null===(v=document.getElementById("btnAlert"))||void 0===v||v.click()):"Delivered"==this.RetourCompte.Status&&("PFBB13"==this.RetourCompte.CardCode||"PFBB14"==this.RetourCompte.CardCode?this.checkCardBenef=!0:(this.checkCardBenef=!1,null===(h=this.benefForm.get("cardBenef"))||void 0===h||h.addValidators([(0,S.b)("cardBenef",this.checkCardBenef)]),null===(g=this.benefForm.get("cardBenef"))||void 0===g||g.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="Type Carte Non Valide !",this.modalButtonLeft="OK",null===(A=document.getElementById("btnAlert"))||void 0===A||A.click())))},_=>{console.log("error API"),-1!=_.indexOf("401")&&this.router.navigate(["/"])})}}showDocument(){var t;(this.PathReportString.toLowerCase().includes("tiff")||this.PathReportString.toLowerCase().includes("tif"))&&(this.PathReportString=this.PathReportString.replace("tiff","png"),this.PathReportString=this.PathReportString.replace("tif","png")),this.toshow=!1,null===(t=document.getElementById("ifrm"))||void 0===t||t.setAttribute("src",this.PathReportString);let n=document.getElementById("ifrm");null!=n&&(n.style.display="block")}hideDocument(){var t;this.toshow=!0,null===(t=document.getElementById("ifrm"))||void 0===t||t.removeAttribute("src");let n=document.getElementById("ifrm");null!=n&&(n.style.display="none")}showDocumentFM(){this.toshowfm=!1;let t=document.getElementById("framefm");null!=t&&(t.style.display="block")}hideDocumentFM(){this.toshowfm=!0;let t=document.getElementById("framefm");null!=t&&(t.style.display="none")}FermerAlert(){var t;null===(t=document.getElementById("alertPop"))||void 0===t||t.setAttribute("class","modal fade  hide")}downloadCSVStruct(){this.VirServ.DownloadF("vm",this.token).subscribe(t=>{this.FileStructure=t.body;const n=`data:application/csv;base64,${this.FileStructure}`,o=document.createElement("a");o.href=n,o.download="StructureVM.csv",o.click()},t=>{this.chargedData=!1,-1!=t.indexOf("401")&&this.router.navigate(["/"])})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(se.I),e.Y36(d.qu),e.Y36(de.eN),e.Y36(le.F0),e.Y36(me.r),e.Y36(ae.t),e.Y36(ce.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-virement-salaire"]],viewQuery:function(t,n){if(1&t&&(e.Gf(ni,5),e.Gf(oi,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.csvReader=o.first),e.iGM(o=e.CRH())&&(n.filefmandat=o.first)}},decls:77,vars:13,consts:[["class","card",4,"ngIf"],["id","verticalycentered","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"width","fit-content !important"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","id","dismissmodal","data-bs-dismiss","modal",1,"btn","btn-secondary",2,"margin-right","auto"],["type","button","id","btnright",1,"btn","btn-primary",3,"click"],["id","alert","tabindex","-1",1,"modal","fade"],[1,"modal-header",2,"align-self","center"],["id","exampleModalLabelProcessedalert",1,"modal-body"],[1,"modal-footer",2,"align-self","center"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-toggle","modal","data-bs-target","#alertPop","id","btnalertPop",1,"btn","btn-primary",2,"display","none"],["id","alertPop","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content",2,"place-items","center"],[1,"modal-header",2,"border-bottom","0"],["id","exampleModalLabelProcessedpop",1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#alertPopfresh","id","btnalertPopfresh",1,"btn","btn-primary",2,"display","none"],["id","alertPopfresh","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],[1,"modal-header",2,"border-bottom","0 !important"],["id","exampleModalLabelProcessed",1,"modal-title",2,"color","rgb(7, 7, 7)"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["id","btnVerifexist","data-bs-toggle","modal","data-bs-target","#verticalycentered","hidden",""],["id","btnAlert","data-bs-toggle","modal","data-bs-target","#alert","hidden",""],["type","button","data-bs-toggle","modal","data-bs-target","#alertPopdoublons","id","btnalertPopdoublons",1,"btn","btn-primary",2,"display","none"],["id","alertPopdoublons","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog","modal-lg"],["id","exampleModalLabelProcessedpopdoublons",1,"modal-title"],[1,"row","pt-2"],[1,"col-12"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-lg-12","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"row","mb-3",2,"place-content","center"],["class","col-3",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-3"],[1,"form-check"],["type","radio",1,"form-check-input",3,"value","ngModel","change","ngModelChange"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["class","row pt-2",4,"ngIf"],[1,"col-sm-12","col-lg-3","col-md-6"],[1,"col-12","col-form-label"],[2,"color","red"],["autocomplete","off","type","text","name","mntTot","formControlName","mntTot",1,"form-control",3,"ngClass","change"],["class","alert alert-danger",4,"ngIf"],["formControlName","mntCalculated","disabled","",1,"col-12","other","form-control"],["type","checkbox","id","motifcommunid",1,"form-check-input",2,"float","right",3,"click"],["for","motifcommunid",1,"form-check-label",2,"float","right"],["autocomplete","off","type","text","name","motif","formControlName","motif",1,"form-control",3,"ngClass","keyup"],[1,"col-6","col-form-label"],["autocomplete","off","type","text","name","reference","formControlName","reference",1,"form-control",3,"ngClass","keyup"],[1,"col-sm-12","col-lg-4","col-md-4"],["formControlName","formattedAmount","disabled","",1,"col-12","other","form-control"],[1,"col-sm-12","col-lg-8","col-md-8"],["autocomplete","off","type","text","name","motif","formControlName","comment","rows","1",1,"form-control"],[1,"col-sm-12","col-lg-12","col-md-12"],["formControlName","amountLetters","disabled","",1,"col-12","other","form-control"],["autocomplete","off","type","text","name","nomBenef","formControlName","nomBenef",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","prenomBenef","formControlName","prenomBenef",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","refBenef","formControlName","refBenef",1,"form-control",3,"ngClass","keyup"],["id","motifopt",2,"color","red"],["id","motifbenef","autocomplete","off","type","text","name","motifbenef","formControlName","motifbenef",1,"form-control",3,"ngClass"],[1,"col-sm-12","col-lg-3","col-md-4"],["name","typeVir","formControlName","typeVir","required","",1,"form-select",3,"ngClass","change"],["selected","","disabled","","value",""],[3,"value",4,"ngFor","ngForOf"],["class","col-sm-12 col-lg-3 col-md-4 ",4,"ngIf"],["autocomplete","off","type","text","name","mntBenef","formControlName","mntBenef",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","referenceB","formControlName","referenceB",1,"form-control",3,"ngClass","keyup"],["type","button","id","btnAdd",1,"btn","btn-primary",3,"disabled","click"],[1,"bi","bi-plus"],[1,"col-4"],["for","declarationB",1,"label-file"],["formControlName","ordreVirementBenef","type","file",2,"visibility","hidden",3,"change"],["fileordre",""],["id","declarationB",1,"input-file",3,"click"],[1,"col-3","text-left"],["class","btn btn-primary btn-md btnFile",3,"click",4,"ngIf"],["class","btn btn-warning btn-md btnFile",3,"disabled","click",4,"ngIf"],[1,"col-1"],["type","button","class","btn btn-danger ",3,"click",4,"ngIf"],[1,"row"],["id","ifrm",2,"width","inherit","height","1000px","display","none"],[1,"col-12",2,"text-align","-webkit-right"],["id","btninit",1,"btn","btn-primary","btn-md",3,"disabled","click"],["name","tiers","formControlName","tiers","required","",1,"form-select",3,"ngClass","change"],[3,"value"],[1,"alert","alert-danger"],["style","font-size:12px",4,"ngIf"],[2,"font-size","12px"],[1,"col-sm-12","col-lg-6","col-md-6"],["name","numcpt","formControlName","numcpt","required","",1,"form-select",3,"ngClass","change"],["Value","","hidden","","selected",""],["class","col-sm-12 col-lg-6 col-md-6 ",4,"ngIf"],[1,"col-12","other","form-control"],["autocomplete","off","type","text","name","ribBenef","formControlName","ribBenef",1,"form-control",3,"ngClass","keyup"],["autocomplete","off","type","text","name","cardBenef","formControlName","cardBenef",1,"form-control",3,"ngClass","keyup"],["type","button",1,"btn","btn-dark",3,"disabled","click"],[1,"bi","bi-pencil-square"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],[1,"btn","btn-primary","btn-md","btnFile",3,"click"],[1,"btn","btn-warning","btn-md","btnFile",3,"disabled","click"],["type","button",1,"btn","btn-primary",2,"float","right",3,"click"],[1,"bi","bi-download"],["autocomplete","off","type","text","name","motif","formControlName","motif",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","reference","formControlName","reference",1,"form-control",3,"ngClass"],["for","declarationBenef",1,"label-file"],["formControlName","fileCsv","type","file",2,"visibility","hidden",3,"change"],["fileReader",""],["id","declarationBenef",1,"input-file",3,"click"],[1,"col-6"],[1,"col-6","text-left"],[1,"pt-2"],["class","table table-bordered",4,"ngIf"],["for","declaration",1,"label-file"],["formControlName","ordreVirement","type","file",2,"visibility","hidden",3,"change"],["fileordrecsv",""],["id","declaration",1,"input-file",3,"click"],["id","btncsv",1,"btn","btn-primary","btn-md",3,"disabled","click"],[1,"table","table-bordered"],["type","file",2,"visibility","hidden",3,"change"],["filefmandat",""],["formControlName","fileNameFM","id","declarationBenef",1,"input-file",3,"click"],["id","framefm",1,"row","pt-2",2,"display","none"],["fileordreVfm",""],["id","btnfm",1,"btn","btn-primary","btn-md",3,"disabled","click"]],template:function(t,n){1&t&&(e.YNc(0,li,8,0,"div",0),e.YNc(1,Xn,9,4,"div",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5",5),e._uU(7),e.qZA(),e._UZ(8,"button",6),e.qZA(),e.TgZ(9,"div",7),e._uU(10),e.qZA(),e.TgZ(11,"div",8)(12,"button",9),e._uU(13),e.qZA(),e.TgZ(14,"button",10),e.NdJ("click",function(){return n.Ok()}),e._uU(15),e.qZA()()()()(),e.TgZ(16,"div",11)(17,"div",2)(18,"div",3)(19,"div",12)(20,"h5",5),e._uU(21),e.qZA()(),e.TgZ(22,"div",13),e._uU(23),e.qZA(),e.TgZ(24,"div",14)(25,"button",15),e._uU(26),e.qZA()()()()(),e._UZ(27,"button",16),e.TgZ(28,"div",17)(29,"div",18)(30,"div",19)(31,"div",20)(32,"h5",21)(33,"p"),e._uU(34),e.qZA()()(),e.TgZ(35,"div",8)(36,"button",22),e.NdJ("click",function(){return n.FermerAlert()}),e._uU(37,"Fermer"),e.qZA()()()()(),e._UZ(38,"button",23),e.TgZ(39,"div",24)(40,"div",18)(41,"div",19)(42,"div",25)(43,"h5",26)(44,"p"),e._uU(45),e.qZA()()(),e.TgZ(46,"div",8)(47,"button",27),e.NdJ("click",function(){return n.FermerAlertAvecRefresh()}),e._uU(48,"Fermer"),e.qZA()()()()(),e._UZ(49,"button",28)(50,"button",29)(51,"button",30),e.TgZ(52,"div",31)(53,"div",32)(54,"div",19)(55,"div",20)(56,"h5",33)(57,"p"),e._uU(58),e.qZA()()(),e.TgZ(59,"div",7)(60,"div",34)(61,"div",35)(62,"table",36)(63,"thead")(64,"tr")(65,"th",37),e._uU(66,"Nom & pr\xe9nom b\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(67,"th",37),e._uU(68,"Montant"),e.qZA(),e.TgZ(69,"th",37),e._uU(70,"Num\xe9ro du paiement"),e.qZA(),e._UZ(71,"th"),e.qZA()(),e.TgZ(72,"tbody"),e.YNc(73,Wn,7,3,"tr",38),e.qZA()()()()(),e.TgZ(74,"div",8)(75,"button",22),e.NdJ("click",function(){return n.FermerAlertAvecRefresh()}),e._uU(76,"Fermer"),e.qZA()()()()()),2&t&&(e.Q6J("ngIf",n.chargedData),e.xp6(1),e.Q6J("ngIf",!n.chargedData),e.xp6(6),e.Oqu(n.modalTitle),e.xp6(3),e.hij(" ",n.modalBody," "),e.xp6(3),e.Oqu(n.modalButtonLeft),e.xp6(2),e.Oqu(n.modalButtonRight),e.xp6(6),e.Oqu(n.modalTitle),e.xp6(2),e.hij(" ",n.modalBody," "),e.xp6(3),e.Oqu(n.modalButtonLeft),e.xp6(8),e.hij(" ",n.msgAlert," "),e.xp6(11),e.hij(" ",n.msgAlert," "),e.xp6(13),e.hij(" ",n.msgAlert," "),e.xp6(15),e.Q6J("ngForOf",n.doublons))},directives:[ee.O5,ee.sg,d._,d.Fj,d.JJ,d.On,d._Y,d.JL,d.sg,d.EJ,d.u,d.Q7,ee.mk,d.YN,d.Kr],styles:[".other[_ngcontent-%COMP%]{background-color:#e7e7e7;color:#000}.show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}.label-file[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;cursor:pointer;background-color:#27597a;color:#fff;font-weight:700;height:auto;border-radius:5px;padding:6px 10px 10px}.label-file[_ngcontent-%COMP%]:hover{color:#fff;background-color:#007bff}.input-file[_ngcontent-%COMP%]{display:none}.btnFile[_ngcontent-%COMP%]{width:-webkit-fill-available}"]}),i})();class pe{constructor(){this.app="",this.IdTransaction="",this.OrderingCustomerAccount="",this.Fullname="",this.MeanOfPayment="",this.PaymentNumber="",this.Amount="",this.Currency="",this.Reason="",this.Reference="",this.Comment="",this.FileType="",this.FileName="",this.FileOrdreVirement="",this.RequestUser="",this.TransactionType="",this.AccountName="",this.pkhash="",this.Date="",this.source_type=""}}var Gn=H(2313);function Kn(i,l){1&i&&(e.TgZ(0,"div",16)(1,"div",17)(2,"span",18),e._uU(3,"Loading..."),e.qZA()()())}function eo(i,l){if(1&i&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function to(i,l){if(1&i&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.hij(" ",t.FullName," ")}}function io(i,l){if(1&i&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function no(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,io,2,1,"div",61),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);e.xp6(1),e.Q6J("ngIf",n.FormVirFile.get("Tiers").hasError(t.type)&&(n.FormVirFile.get("Tiers").dirty||n.FormVirFile.get("Tiers").touched))}}function oo(i,l){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,no,2,1,"div",60),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.Tiers)}}const oe=function(i,l){return{"is-invalid":i,"is-valid":l}};function lo(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",31),e._uU(2,"Soci\xe9t\xe9"),e.qZA(),e.TgZ(3,"select",58),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).getAccountsBytiers()}),e.TgZ(4,"option",33),e._uU(5," Choisir soci\xe9t\xe9 "),e.qZA(),e.YNc(6,to,2,2,"option",26),e.qZA(),e.YNc(7,oo,2,1,"div",34),e.qZA()}if(2&i){const t=e.oxw(2);let n,o;e.xp6(3),e.Q6J("ngClass",e.WLB(3,oe,(null==(n=t.FormVirFile.get("Tiers"))?null:n.touched)&&(null==(n=t.FormVirFile.get("Tiers"))?null:n.invalid),null==(n=t.FormVirFile.get("Tiers"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.ListTiers),e.xp6(1),e.Q6J("ngIf",(null==(o=t.FormVirFile.get("Tiers"))?null:o.touched)&&(null==(o=t.FormVirFile.get("Tiers"))?null:o.invalid))}}function ro(i,l){if(1&i&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.hij(" ",t.FullName," ")}}function so(i,l){if(1&i&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function mo(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,so,2,1,"div",61),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);e.xp6(1),e.Q6J("ngIf",n.FormVirFile.get("Tiers").hasError(t.type)&&(n.FormVirFile.get("Tiers").dirty||n.FormVirFile.get("Tiers").touched))}}function ao(i,l){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,mo,2,1,"div",60),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.Tiers)}}function co(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",31),e._uU(2,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(3,"span",23),e._uU(4,"*"),e.qZA()(),e.TgZ(5,"select",58),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).getAccountsBytiers()}),e.TgZ(6,"option",33),e._uU(7," Choisir soci\xe9t\xe9 "),e.qZA(),e.YNc(8,ro,2,2,"option",26),e.qZA(),e.YNc(9,ao,2,1,"div",34),e.qZA()}if(2&i){const t=e.oxw(2);let n,o;e.xp6(5),e.Q6J("ngClass",e.WLB(4,oe,(null==(n=t.FormVirFile.get("Tiers"))?null:n.touched)&&(null==(n=t.FormVirFile.get("Tiers"))?null:n.invalid),null==(n=t.FormVirFile.get("Tiers"))?null:n.valid)),e.uIk("disabled",!0),e.xp6(3),e.Q6J("ngForOf",t.ListTiers),e.xp6(1),e.Q6J("ngIf",(null==(o=t.FormVirFile.get("Tiers"))?null:o.touched)&&(null==(o=t.FormVirFile.get("Tiers"))?null:o.invalid))}}function uo(i,l){if(1&i&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.scheme),e.xp6(1),e.hij(" ",t.scheme," ")}}function _o(i,l){if(1&i&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function fo(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,_o,2,1,"div",61),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.FormVirFile.get("TypeCompteVir").hasError(t.type)&&(n.FormVirFile.get("TypeCompteVir").dirty||n.FormVirFile.get("TypeCompteVir").touched))}}function vo(i,l){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,fo,2,1,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.TypeCompteVir)}}function po(i,l){if(1&i&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function ho(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,po,2,1,"div",61),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.FormVirFile.get("Montant").hasError(t.type)&&(n.FormVirFile.get("Montant").dirty||n.FormVirFile.get("Montant").touched))}}function go(i,l){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,ho,2,1,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.Montant)}}function bo(i,l){if(1&i&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Fo(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,bo,2,1,"div",61),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.FormVirFile.get("Motif").hasError(t.type)&&(n.FormVirFile.get("Motif").dirty||n.FormVirFile.get("Motif").touched))}}function xo(i,l){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,Fo,2,1,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.Motif)}}function Zo(i,l){if(1&i&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function To(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Zo,2,1,"div",61),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);e.xp6(1),e.Q6J("ngIf",n.FormVirFile.get("Reference").hasError(t.type)&&(n.FormVirFile.get("Reference").dirty||n.FormVirFile.get("Reference").touched))}}function Ao(i,l){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,To,2,1,"div",60),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.Reference)}}function Co(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",31),e._uU(2,"R\xe9ference (non modifiable)"),e.TgZ(3,"span",23),e._uU(4,"*"),e.qZA()(),e.TgZ(5,"input",63),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(2).checkReference()}),e.qZA(),e.YNc(6,Ao,2,1,"div",34),e.qZA()}if(2&i){const t=e.oxw(2);let n,o;e.xp6(5),e.Q6J("ngClass",e.WLB(2,oe,(null==(n=t.FormVirFile.get("Reference"))?null:n.touched)&&(null==(n=t.FormVirFile.get("Reference"))?null:n.invalid),null==(n=t.FormVirFile.get("Reference"))?null:n.valid)),e.xp6(1),e.Q6J("ngIf",(null==(o=t.FormVirFile.get("Reference"))?null:o.touched)&&(null==(o=t.FormVirFile.get("Reference"))?null:o.invalid))}}function yo(i,l){1&i&&(e.TgZ(0,"div",30)(1,"div",31),e._uU(2,"R\xe9ference (non modifiable)"),e.TgZ(3,"span",23),e._uU(4,"*"),e.qZA()(),e._UZ(5,"input",64),e.qZA())}function Vo(i,l){if(1&i&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Bo(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Vo,2,1,"div",61),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.FormVirFile.get("NomBenef").hasError(t.type)&&(n.FormVirFile.get("NomBenef").dirty||n.FormVirFile.get("NomBenef").touched))}}function Mo(i,l){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,Bo,2,1,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.NomBenef)}}function qo(i,l){if(1&i&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function No(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,qo,2,1,"div",61),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.FormVirFile.get("RibBenef").hasError(t.type)&&(n.FormVirFile.get("RibBenef").dirty||n.FormVirFile.get("RibBenef").touched))}}function Io(i,l){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,No,2,1,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.RibBenef)}}function wo(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).showDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.hij("Visualiser ",t.fileName,"")}}function ko(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",66),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).hideDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.hij("Cacher ",t.fileName,"")}}function Uo(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",67),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).removeFileOrdre()}),e._UZ(1,"i",68),e.qZA()}}function Eo(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",69)(1,"div",70)(2,"button",71),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).InitierVirement()}),e._uU(3,"Enregistrer"),e.qZA()()()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("disabled",!t.FormVirFile.valid||!t.checkCompte)}}function Jo(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",69)(1,"div",70)(2,"button",72),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).ModifierVirement()}),e._uU(3,"Modifier et enregistrer"),e.qZA()()()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("disabled",!t.FormVirFile.valid||!t.checkCompte)}}function Ro(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"form",19)(1,"div",20)(2,"div",21)(3,"label",22),e._uU(4,"S\xe9lectionnez le type de virement"),e.TgZ(5,"b",23),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"select",24)(8,"option",25),e._uU(9," Choisir "),e.qZA(),e.YNc(10,eo,2,2,"option",26),e.qZA()()(),e._UZ(11,"br"),e.TgZ(12,"div",27)(13,"h5")(14,"i"),e._uU(15,"(Donneur d'ordre)"),e.qZA()()(),e._UZ(16,"br"),e.TgZ(17,"div",27)(18,"div",28)(19,"div",27),e.YNc(20,lo,8,6,"div",29),e.YNc(21,co,10,7,"div",29),e.TgZ(22,"div",30)(23,"div",31),e._uU(24,"Choisir un compte "),e.TgZ(25,"span",23),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"select",32),e.NdJ("change",function(){return e.CHM(t),e.oxw().getAccountName()}),e.TgZ(28,"option",33),e._uU(29," Choisir compte "),e.qZA(),e.YNc(30,uo,2,2,"option",26),e.qZA(),e.YNc(31,vo,2,1,"div",34),e.qZA(),e.TgZ(32,"div",30)(33,"div",31),e._uU(34,"Libell\xe9s des comptes"),e.TgZ(35,"span",23),e._uU(36,"*"),e.qZA()(),e._UZ(37,"input",35),e.qZA()()()(),e._UZ(38,"br"),e.TgZ(39,"div",27)(40,"div",28)(41,"div",27)(42,"div",30)(43,"div",31),e._uU(44,"Montant"),e.TgZ(45,"span",23),e._uU(46,"*"),e.qZA()(),e.TgZ(47,"input",36),e.NdJ("change",function(){return e.CHM(t),e.oxw().getFormatedAmount()}),e.qZA(),e.YNc(48,go,2,1,"div",34),e.qZA(),e.TgZ(49,"div",30)(50,"div",31),e._uU(51,"Motif"),e.TgZ(52,"span",23),e._uU(53,"*"),e.qZA()(),e._UZ(54,"input",37),e.YNc(55,xo,2,1,"div",34),e.qZA(),e.YNc(56,Co,7,5,"div",29),e.YNc(57,yo,6,0,"div",29),e.qZA()()(),e._UZ(58,"br"),e.TgZ(59,"div",27)(60,"div",28)(61,"div",27)(62,"div",30)(63,"div",31),e._uU(64,"Montant format\xe9 "),e.qZA(),e._UZ(65,"input",38),e.qZA(),e.TgZ(66,"div",39)(67,"div",31),e._uU(68,"Commentaire (Facultatif)"),e.qZA(),e._UZ(69,"textarea",40),e.qZA()()()(),e._UZ(70,"br"),e.TgZ(71,"div",27)(72,"div",28)(73,"div",31),e._uU(74,"Montant en lettres "),e.qZA(),e._UZ(75,"input",41),e.qZA()(),e._UZ(76,"br"),e.TgZ(77,"div",27)(78,"h5")(79,"i"),e._uU(80,"(B\xe9n\xe9ficiaire)"),e.qZA()(),e._UZ(81,"br")(82,"br"),e.TgZ(83,"div",27)(84,"div",28)(85,"div",27)(86,"div",30)(87,"div",31),e._uU(88,"Nom & pr\xe9nom / Raison social"),e.TgZ(89,"span",23),e._uU(90,"*"),e.qZA()(),e._UZ(91,"input",42),e.YNc(92,Mo,2,1,"div",34),e.qZA(),e.TgZ(93,"div",30)(94,"div",31),e._uU(95,"RIB B\xe9n\xe9ficiaire"),e.TgZ(96,"span",23),e._uU(97,"*"),e.qZA()(),e.TgZ(98,"input",43),e.NdJ("keyup",function(){return e.CHM(t),e.oxw().ControlRIB()}),e.qZA(),e.YNc(99,Io,2,1,"div",34),e.qZA()()()()(),e._UZ(100,"br"),e.TgZ(101,"div",27)(102,"div",44)(103,"label",45),e._uU(104,"Joindre ordre de virement "),e._UZ(105,"i",46),e.qZA(),e.TgZ(106,"input",47,48),e.NdJ("change",function(o){return e.CHM(t),e.oxw().upload(o)}),e.qZA(),e.TgZ(108,"input",49),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(107);return o.value="",o.click()}),e.qZA(),e._UZ(109,"br")(110,"br"),e.qZA(),e.TgZ(111,"div",50),e.YNc(112,wo,2,1,"button",51),e.YNc(113,ko,2,1,"button",52),e.qZA(),e.TgZ(114,"div",53),e.YNc(115,Uo,2,0,"button",54),e.qZA()(),e.TgZ(116,"div",27)(117,"div",28),e._UZ(118,"iframe",55),e.qZA()(),e.YNc(119,Eo,4,1,"div",56),e.YNc(120,Jo,4,1,"div",56),e.qZA()}if(2&i){const t=e.oxw();let n,o,r,m,a,u,_,x,F,f,p;e.Q6J("formGroup",t.FormVirFile),e.xp6(7),e.Q6J("ngClass",e.WLB(24,oe,(null==(n=t.FormVirFile.get("typetransaction"))?null:n.touched)&&(null==(n=t.FormVirFile.get("typetransaction"))?null:n.invalid),null==(n=t.FormVirFile.get("typetransaction"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.transactiontypes),e.xp6(10),e.Q6J("ngIf","Modified"!=t.status),e.xp6(1),e.Q6J("ngIf","Modified"==t.status),e.xp6(6),e.Q6J("ngClass",e.WLB(27,oe,(null==(o=t.FormVirFile.get("TypeCompteVir"))?null:o.touched)&&(null==(o=t.FormVirFile.get("TypeCompteVir"))?null:o.invalid),null==(o=t.FormVirFile.get("TypeCompteVir"))?null:o.valid)),e.xp6(3),e.Q6J("ngForOf",t.list0),e.xp6(1),e.Q6J("ngIf",(null==(r=t.FormVirFile.get("TypeCompteVir"))?null:r.touched)&&(null==(r=t.FormVirFile.get("TypeCompteVir"))?null:r.invalid)),e.xp6(6),e.s9C("value",t.AccounName),e.xp6(10),e.Q6J("ngClass",e.WLB(30,oe,(null==(m=t.FormVirFile.get("Montant"))?null:m.touched)&&(null==(m=t.FormVirFile.get("Montant"))?null:m.invalid),null==(m=t.FormVirFile.get("Montant"))?null:m.valid)),e.xp6(1),e.Q6J("ngIf",(null==(a=t.FormVirFile.get("Montant"))?null:a.touched)&&(null==(a=t.FormVirFile.get("Montant"))?null:a.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(33,oe,(null==(u=t.FormVirFile.get("Motif"))?null:u.touched)&&(null==(u=t.FormVirFile.get("Motif"))?null:u.invalid),null==(u=t.FormVirFile.get("Motif"))?null:u.valid)),e.xp6(1),e.Q6J("ngIf",(null==(_=t.FormVirFile.get("Motif"))?null:_.touched)&&(null==(_=t.FormVirFile.get("Motif"))?null:_.invalid)),e.xp6(1),e.Q6J("ngIf","Modified"!=t.status),e.xp6(1),e.Q6J("ngIf","Modified"==t.status),e.xp6(34),e.Q6J("ngClass",e.WLB(36,oe,(null==(x=t.FormVirFile.get("NomBenef"))?null:x.touched)&&(null==(x=t.FormVirFile.get("NomBenef"))?null:x.invalid),null==(x=t.FormVirFile.get("NomBenef"))?null:x.valid)),e.xp6(1),e.Q6J("ngIf",(null==(F=t.FormVirFile.get("NomBenef"))?null:F.touched)&&(null==(F=t.FormVirFile.get("NomBenef"))?null:F.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(39,oe,(null==(f=t.FormVirFile.get("RibBenef"))?null:f.touched)&&(null==(f=t.FormVirFile.get("RibBenef"))?null:f.invalid)||!t.checkCompte,null==(f=t.FormVirFile.get("RibBenef"))?null:f.valid)),e.xp6(1),e.Q6J("ngIf",(null==(p=t.FormVirFile.get("RibBenef"))?null:p.touched)&&(null==(p=t.FormVirFile.get("RibBenef"))?null:p.invalid)),e.xp6(13),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&t.toshow),e.xp6(1),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&!t.toshow),e.xp6(2),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0),e.xp6(4),e.Q6J("ngIf","Modified"!=t.status),e.xp6(1),e.Q6J("ngIf","Modified"==t.status)}}const Oo=["fileReader"],Lo=["filefmandat"];function Qo(i,l){1&i&&(e.TgZ(0,"div",39)(1,"div",40)(2,"h5",41),e._uU(3,"Initiation autre virement"),e.qZA(),e.TgZ(4,"div",42)(5,"div",43)(6,"span",44),e._uU(7,"Loading..."),e.qZA()()()()())}function Po(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",48)(1,"div",49)(2,"input",50),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).getChosenType()})("ngModelChange",function(o){return e.CHM(t),e.oxw(2).typechoice=o}),e.qZA(),e._uU(3),e.qZA()()}if(2&i){const t=l.$implicit,n=e.oxw(2);e.xp6(2),e.Q6J("value",t)("ngModel",n.typechoice),e.xp6(1),e.hij(" ",t," ")}}function Yo(i,l){if(1&i&&(e.TgZ(0,"option",101),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.Oqu(t.FullName)}}function Do(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function jo(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Do,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngIf",n.tiersForm.get("tiers").hasError(t.type)&&(n.tiersForm.get("tiers").dirty||n.tiersForm.get("tiers").touched))}}function $o(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,jo,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.tiers)}}const z=function(i,l){return{"is-invalid":i,"is-valid":l}};function Ho(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"form",52)(1,"div",34)(2,"div",65)(3,"label",63),e._uU(4,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(5,"b",56),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"select",99),e.NdJ("change",function(){return e.CHM(t),e.oxw(3).gettiers()}),e.TgZ(8,"option",78),e._uU(9," Choisir "),e.qZA(),e.YNc(10,Yo,2,2,"option",100),e.qZA(),e.YNc(11,$o,2,1,"div",58),e.qZA()()()}if(2&i){const t=e.oxw(3);let n,o;e.Q6J("formGroup",t.tiersForm),e.xp6(7),e.Q6J("ngClass",e.WLB(4,z,(null==(n=t.tiersForm.get("tiers"))?null:n.touched)&&(null==(n=t.tiersForm.get("tiers"))?null:n.invalid),null==(n=t.tiersForm.get("tiers"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.ListTiers),e.xp6(1),e.Q6J("ngIf",(null==(o=t.tiersForm.get("tiers"))?null:o.touched)&&(null==(o=t.tiersForm.get("tiers"))?null:o.invalid))}}function Xo(i,l){if(1&i&&(e.TgZ(0,"option",101),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.account_routings[0].scheme),e.xp6(1),e.hij(" ",t.account_routings[0].scheme," ")}}function Wo(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function zo(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Wo,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngIf",n.virementFForm.get("numcpt").hasError(t.type)&&(n.virementFForm.get("numcpt").dirty||n.virementFForm.get("numcpt").touched))}}function Go(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,zo,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.numcpt)}}function Ko(i,l){if(1&i&&(e.TgZ(0,"div",105)(1,"label",55),e._uU(2,"Libell\xe9 compte"),e.qZA(),e.TgZ(3,"span",109),e._uU(4),e.qZA()()),2&i){const t=e.oxw(4);e.xp6(4),e.Oqu(t.AccountName)}}function el(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",105)(2,"label",63),e._uU(3,"Compte \xe0 d\xe9biter"),e.TgZ(4,"b",56),e._uU(5,"*"),e.qZA()(),e.TgZ(6,"select",106),e.NdJ("change",function(){return e.CHM(t),e.oxw(3).getAcc()}),e.TgZ(7,"option",107),e._uU(8," Choisir compte "),e.qZA(),e.YNc(9,Xo,2,2,"option",100),e.qZA(),e.YNc(10,Go,2,1,"div",58),e.qZA(),e.YNc(11,Ko,5,1,"div",108),e.qZA()}if(2&i){const t=e.oxw(3);let n,o;e.xp6(6),e.Q6J("ngClass",e.WLB(4,z,(null==(n=t.virementFForm.get("numcpt"))?null:n.touched)&&(null==(n=t.virementFForm.get("numcpt"))?null:n.invalid),null==(n=t.virementFForm.get("numcpt"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.listCompts),e.xp6(1),e.Q6J("ngIf",(null==(o=t.virementFForm.get("numcpt"))?null:o.touched)&&(null==(o=t.virementFForm.get("numcpt"))?null:o.invalid)),e.xp6(1),e.Q6J("ngIf",t.choseRib)}}function tl(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function il(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,tl,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("mntTot"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("mntTot"))?null:o.dirty)||(null==(o=n.virementFForm.get("mntTot"))?null:o.touched)))}}function nl(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,il,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.mntTot)}}function ol(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function ll(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,ol,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("motif"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("motif"))?null:o.dirty)||(null==(o=n.virementFForm.get("motif"))?null:o.touched)))}}function rl(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,ll,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.motif)}}function sl(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function dl(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,sl,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("reference"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("reference"))?null:o.dirty)||(null==(o=n.virementFForm.get("reference"))?null:o.touched)))}}function ml(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,dl,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.reference)}}function al(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function cl(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,al,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("nomBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("nomBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("nomBenef"))?null:o.touched)))}}function ul(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,cl,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.nomBenef)}}function _l(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function fl(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,_l,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("prenomBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("prenomBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("prenomBenef"))?null:o.touched)))}}function vl(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,fl,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.prenomBenef)}}function pl(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function hl(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,pl,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("refBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("refBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("refBenef"))?null:o.touched)))}}function gl(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,hl,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.refBenef)}}function bl(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Fl(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,bl,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("motifbenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("motifbenef"))?null:o.dirty)||(null==(o=n.benefForm.get("motifbenef"))?null:o.touched)))}}function xl(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,Fl,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.motifbenef)}}function Zl(i,l){if(1&i&&(e.TgZ(0,"option",110),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t),e.Q6J("disabled","Wallet"==t),e.xp6(1),e.Oqu(t)}}function Tl(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Al(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Tl,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);e.xp6(1),e.Q6J("ngIf",n.benefForm.get("typeVir").hasError(t.type)&&(n.benefForm.get("typeVir").dirty||n.benefForm.get("typeVir").touched))}}function Cl(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,Al,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.typeVir)}}function yl(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Vl(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,yl,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("ribBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("ribBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("ribBenef"))?null:o.touched)))}}function Bl(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,Vl,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.ribBenef)}}function Ml(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",76)(1,"label",55),e._uU(2,"RIB"),e.TgZ(3,"b",56),e._uU(4,"*"),e.qZA()(),e.TgZ(5,"input",111),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(3).ControlRIB()}),e.qZA(),e.YNc(6,Bl,2,1,"div",58),e.qZA()}if(2&i){const t=e.oxw(3);let n,o;e.xp6(5),e.Q6J("ngClass",e.WLB(2,z,(null==(n=t.benefForm.get("ribBenef"))?null:n.touched)&&(null==(n=t.benefForm.get("ribBenef"))?null:n.invalid),null==(n=t.benefForm.get("ribBenef"))?null:n.valid)),e.xp6(1),e.Q6J("ngIf",(null==(o=t.benefForm.get("ribBenef"))?null:o.touched)&&(null==(o=t.benefForm.get("ribBenef"))?null:o.invalid))}}function ql(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Nl(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,ql,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("cardBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("cardBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("cardBenef"))?null:o.touched)))}}function Il(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,Nl,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.cardBenef)}}function wl(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",76)(1,"label",55),e._uU(2,"N\xb0 Carte"),e.TgZ(3,"b",56),e._uU(4,"*"),e.qZA()(),e.TgZ(5,"input",112),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(3).ControlCarte()}),e.qZA(),e.YNc(6,Il,2,1,"div",58),e.qZA()}if(2&i){const t=e.oxw(3);let n,o;e.xp6(5),e.Q6J("ngClass",e.WLB(2,z,(null==(n=t.benefForm.get("cardBenef"))?null:n.touched)&&(null==(n=t.benefForm.get("cardBenef"))?null:n.invalid),null==(n=t.benefForm.get("cardBenef"))?null:n.valid)),e.xp6(1),e.Q6J("ngIf",(null==(o=t.benefForm.get("cardBenef"))?null:o.touched)&&(null==(o=t.benefForm.get("cardBenef"))?null:o.invalid))}}function kl(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Ul(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,kl,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("mntBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("mntBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("mntBenef"))?null:o.touched)))}}function El(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,Ul,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.mntBenef)}}function Jl(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Rl(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Jl,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("referenceB"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("referenceB"))?null:o.dirty)||(null==(o=n.benefForm.get("referenceB"))?null:o.touched)))}}function Sl(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,Rl,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.referenceB)}}function Ol(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"button",113),e.NdJ("click",function(){const o=e.CHM(t),r=o.$implicit,m=o.index;return e.oxw(3).EditBenef(r,m)}),e._UZ(15,"i",114),e.qZA()(),e.TgZ(16,"td")(17,"button",115),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(3).RemoveBenef(r)}),e._UZ(18,"i",116),e.qZA()()()}if(2&i){const t=l.$implicit,n=e.oxw(3);e.xp6(2),e.AsE("",t.benefFirstName," ",t.benefLastName,""),e.xp6(2),e.Oqu(t.benefReference),e.xp6(2),e.Oqu(t.benefAmount),e.xp6(2),e.Oqu(t.benefIdentity),e.xp6(2),e.Oqu(t.numVirement),e.xp6(2),e.Oqu(t.benefMotif),e.xp6(2),e.Q6J("disabled",n.benefForm.valid)}}function Ll(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",117),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).showDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Visualiser ",t.fileName,"")}}function Ql(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",118),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).hideDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Cacher ",t.fileName,"")}}function Pl(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",115),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).removeFileOrdreForm()}),e._UZ(1,"i",116),e.qZA()}}function Yl(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e._UZ(1,"br"),e.TgZ(2,"h5")(3,"i"),e._uU(4,"(Donneur d'ordre)"),e.qZA()(),e.YNc(5,Ho,12,7,"form",51),e.TgZ(6,"form",52),e.YNc(7,el,12,7,"div",53),e.TgZ(8,"div",34)(9,"div",54)(10,"label",55),e._uU(11,"Montant total en chiffre"),e.TgZ(12,"b",56),e._uU(13,"*"),e.qZA()(),e.TgZ(14,"input",57),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).getFormatedAmount()}),e.qZA(),e.YNc(15,nl,2,1,"div",58),e.qZA(),e.TgZ(16,"div",54)(17,"label",55),e._uU(18,"Montant introduit"),e.qZA(),e._UZ(19,"input",59),e.qZA(),e.TgZ(20,"div",54)(21,"label",55),e._uU(22,"Motif"),e.TgZ(23,"b",56),e._uU(24,"*"),e.qZA(),e.TgZ(25,"input",60),e.NdJ("click",function(o){return e.CHM(t),e.oxw(2).getMotifCommun(o)}),e.qZA(),e.TgZ(26,"label",61),e._uU(27," Motif commun \xa0\xa0 "),e.qZA()(),e.TgZ(28,"input",62),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(2).getMotif()}),e.qZA(),e.YNc(29,rl,2,1,"div",58),e.qZA(),e.TgZ(30,"div",54)(31,"label",63),e._uU(32,"R\xe9f\xe9rence"),e.TgZ(33,"b",56),e._uU(34,"*"),e.qZA()(),e.TgZ(35,"input",64),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(2).checkReference()}),e.qZA(),e.YNc(36,ml,2,1,"div",58),e.qZA()(),e.TgZ(37,"div",34)(38,"div",65)(39,"label",55),e._uU(40,"Montant format\xe9"),e.qZA(),e._UZ(41,"input",66),e.qZA(),e.TgZ(42,"div",67)(43,"label",55),e._uU(44,"Commentaire"),e.qZA(),e._UZ(45,"textarea",68),e.qZA()(),e.TgZ(46,"div",34)(47,"div",69)(48,"label",55),e._uU(49,"Montant en lettres"),e.qZA(),e._UZ(50,"input",70),e.qZA()(),e._UZ(51,"br"),e.TgZ(52,"h5")(53,"i"),e._uU(54,"(B\xe9n\xe9ficiaire)"),e.qZA()()(),e.TgZ(55,"form",52)(56,"div",34)(57,"div",54)(58,"label",55),e._uU(59,"Nom B\xe9n\xe9ficiaire"),e.TgZ(60,"b",56),e._uU(61,"*"),e.qZA()(),e._UZ(62,"input",71),e.YNc(63,ul,2,1,"div",58),e.qZA(),e.TgZ(64,"div",54)(65,"label",55),e._uU(66,"Pr\xe9nom B\xe9n\xe9ficiaire"),e.TgZ(67,"b",56),e._uU(68,"*"),e.qZA()(),e._UZ(69,"input",72),e.YNc(70,vl,2,1,"div",58),e.qZA(),e.TgZ(71,"div",54)(72,"label",55),e._uU(73,"Matricule"),e.qZA(),e.TgZ(74,"input",73),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(2).controlMatricule()}),e.qZA(),e.YNc(75,gl,2,1,"div",58),e.qZA(),e.TgZ(76,"div",54)(77,"label",55),e._uU(78,"Motif b\xe9n\xe9ficiaire"),e.TgZ(79,"b",74),e._uU(80,"*"),e.qZA()(),e._UZ(81,"input",75),e.YNc(82,xl,2,1,"div",58),e.qZA()(),e.TgZ(83,"div",34)(84,"div",76)(85,"label",63),e._uU(86,"Type de virement"),e.TgZ(87,"b",56),e._uU(88,"*"),e.qZA()(),e.TgZ(89,"select",77),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).getTypeVirement()}),e.TgZ(90,"option",78),e._uU(91," Choisir "),e.qZA(),e.YNc(92,Zl,2,3,"option",79),e.qZA(),e.YNc(93,Cl,2,1,"div",58),e.qZA(),e.YNc(94,Ml,7,5,"div",80),e.YNc(95,wl,7,5,"div",80),e.TgZ(96,"div",76)(97,"label",55),e._uU(98,"Montant"),e.TgZ(99,"b",56),e._uU(100,"*"),e.qZA()(),e._UZ(101,"input",81),e.YNc(102,El,2,1,"div",58),e.qZA(),e.TgZ(103,"div",76)(104,"label",55),e._uU(105,"R\xe9f\xe9rence"),e.TgZ(106,"b",56),e._uU(107,"*"),e.qZA()(),e.TgZ(108,"input",82),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(2).controlRefBenef()}),e.qZA(),e.YNc(109,Sl,2,1,"div",58),e.qZA()(),e.TgZ(110,"div",34)(111,"div",35)(112,"button",83),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addBenefToTable()}),e._uU(113,"Ajouter b\xe9n\xe9ficiaire"),e._UZ(114,"i",84),e.qZA()()(),e.TgZ(115,"div",34)(116,"div",35)(117,"table",36)(118,"thead")(119,"tr")(120,"th",37),e._uU(121,"Nom & pr\xe9nom b\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(122,"th",37),e._uU(123,"R\xe9f\xe9rence B\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(124,"th",37),e._uU(125,"Montant"),e.qZA(),e.TgZ(126,"th",37),e._uU(127,"Matricule"),e.qZA(),e.TgZ(128,"th",37),e._uU(129,"RIB / N\xb0 Carte"),e.qZA(),e.TgZ(130,"th",37),e._uU(131,"Motif b\xe9n\xe9ficiaire"),e.qZA(),e._UZ(132,"th"),e.qZA()(),e.TgZ(133,"tbody"),e.YNc(134,Ol,19,8,"tr",38),e.qZA()()()(),e.TgZ(135,"div",34)(136,"div",85)(137,"label",86),e._uU(138,"Joindre ordre de virement "),e._UZ(139,"i",84),e.qZA(),e.TgZ(140,"input",87,88),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).upload(o)}),e.qZA(),e.TgZ(142,"input",89),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(141);return o.value="",o.click()}),e.qZA(),e._UZ(143,"br")(144,"br"),e.TgZ(145,"div"),e._UZ(146,"br"),e.qZA()(),e.TgZ(147,"div",90),e.YNc(148,Ll,2,1,"button",91),e.YNc(149,Ql,2,1,"button",92),e.qZA(),e.TgZ(150,"div",93),e.YNc(151,Pl,2,0,"button",94),e.qZA()(),e.TgZ(152,"div",95)(153,"div",35),e._UZ(154,"iframe",96),e.qZA()()(),e.TgZ(155,"div",34)(156,"div",97)(157,"div",85)(158,"button",98),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).initiateVir("F")}),e._uU(159," Enregistrer "),e.qZA()()()()()}if(2&i){const t=e.oxw(2);let n,o,r,m,a,u,_,x,F,f,p,c,v,h,g,A,C,R,b;e.xp6(5),e.Q6J("ngIf",!t.onetiers),e.xp6(1),e.Q6J("formGroup",t.virementFForm),e.xp6(1),e.Q6J("ngIf",t.choseTiers),e.xp6(7),e.Q6J("ngClass",e.WLB(32,z,(null==(n=t.virementFForm.get("mntTot"))?null:n.touched)&&(null==(n=t.virementFForm.get("mntTot"))?null:n.invalid),null==(n=t.virementFForm.get("mntTot"))?null:n.valid)),e.xp6(1),e.Q6J("ngIf",(null==(o=t.virementFForm.get("mntTot"))?null:o.touched)&&(null==(o=t.virementFForm.get("mntTot"))?null:o.invalid)),e.xp6(13),e.Q6J("ngClass",e.WLB(35,z,(null==(r=t.virementFForm.get("motif"))?null:r.touched)&&(null==(r=t.virementFForm.get("motif"))?null:r.invalid),null==(r=t.virementFForm.get("motif"))?null:r.valid)),e.xp6(1),e.Q6J("ngIf",(null==(m=t.virementFForm.get("motif"))?null:m.touched)&&(null==(m=t.virementFForm.get("motif"))?null:m.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(38,z,(null==(a=t.virementFForm.get("reference"))?null:a.touched)&&(null==(a=t.virementFForm.get("reference"))?null:a.invalid),null==(a=t.virementFForm.get("reference"))?null:a.valid)),e.xp6(1),e.Q6J("ngIf",(null==(u=t.virementFForm.get("reference"))?null:u.touched)&&(null==(u=t.virementFForm.get("reference"))?null:u.invalid)),e.xp6(19),e.Q6J("formGroup",t.benefForm),e.xp6(7),e.Q6J("ngClass",e.WLB(41,z,(null==(_=t.benefForm.get("nomBenef"))?null:_.touched)&&(null==(_=t.benefForm.get("nomBenef"))?null:_.invalid),null==(_=t.benefForm.get("nomBenef"))?null:_.valid)),e.xp6(1),e.Q6J("ngIf",(null==(x=t.benefForm.get("nomBenef"))?null:x.touched)&&(null==(x=t.benefForm.get("nomBenef"))?null:x.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(44,z,(null==(F=t.benefForm.get("prenomBenef"))?null:F.touched)&&(null==(F=t.benefForm.get("prenomBenef"))?null:F.invalid),null==(F=t.benefForm.get("prenomBenef"))?null:F.valid)),e.xp6(1),e.Q6J("ngIf",(null==(f=t.benefForm.get("prenomBenef"))?null:f.touched)&&(null==(f=t.benefForm.get("prenomBenef"))?null:f.invalid)),e.xp6(5),e.Q6J("ngIf",(null==(p=t.benefForm.get("refBenef"))?null:p.touched)&&(null==(p=t.benefForm.get("refBenef"))?null:p.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(47,z,(null==(c=t.benefForm.get("motifbenef"))?null:c.touched)&&(null==(c=t.benefForm.get("motifbenef"))?null:c.invalid),null==(c=t.benefForm.get("motifbenef"))?null:c.valid)),e.xp6(1),e.Q6J("ngIf",(null==(v=t.benefForm.get("motifbenef"))?null:v.touched)&&(null==(v=t.benefForm.get("motifbenef"))?null:v.invalid)),e.xp6(7),e.Q6J("ngClass",e.WLB(50,z,(null==(h=t.benefForm.get("typeVir"))?null:h.touched)&&(null==(h=t.benefForm.get("typeVir"))?null:h.invalid),null==(h=t.benefForm.get("typeVir"))?null:h.valid)),e.xp6(3),e.Q6J("ngForOf",t.listTypeVir),e.xp6(1),e.Q6J("ngIf",(null==(g=t.benefForm.get("typeVir"))?null:g.touched)&&(null==(g=t.benefForm.get("typeVir"))?null:g.invalid)),e.xp6(1),e.Q6J("ngIf",t.isRib),e.xp6(1),e.Q6J("ngIf",t.isCard),e.xp6(6),e.Q6J("ngClass",e.WLB(53,z,(null==(A=t.benefForm.get("mntBenef"))?null:A.touched)&&(null==(A=t.benefForm.get("mntBenef"))?null:A.invalid),null==(A=t.benefForm.get("mntBenef"))?null:A.valid)),e.xp6(1),e.Q6J("ngIf",(null==(C=t.benefForm.get("mntBenef"))?null:C.touched)&&(null==(C=t.benefForm.get("mntBenef"))?null:C.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(56,z,(null==(R=t.benefForm.get("referenceB"))?null:R.touched)&&(null==(R=t.benefForm.get("referenceB"))?null:R.invalid),null==(R=t.benefForm.get("referenceB"))?null:R.valid)),e.xp6(1),e.Q6J("ngIf",(null==(b=t.benefForm.get("referenceB"))?null:b.touched)&&(null==(b=t.benefForm.get("referenceB"))?null:b.invalid)),e.xp6(3),e.Q6J("disabled",t.benefForm.invalid),e.xp6(22),e.Q6J("ngForOf",t.listBenef),e.xp6(14),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&t.toshow),e.xp6(1),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&!t.toshow),e.xp6(2),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0),e.xp6(7),e.Q6J("disabled",t.tiersForm.invalid||t.virementFForm.invalid||0==t.listBenef.length)}}function Dl(i,l){if(1&i&&(e.TgZ(0,"option",101),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.Oqu(t.FullName)}}function jl(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function $l(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,jl,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngIf",n.tiersForm.get("tiers").hasError(t.type)&&(n.tiersForm.get("tiers").dirty||n.tiersForm.get("tiers").touched))}}function Hl(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,$l,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.tiers)}}function Xl(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"form",52)(1,"div",34)(2,"div",65)(3,"label",63),e._uU(4,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(5,"b",56),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"select",99),e.NdJ("change",function(){return e.CHM(t),e.oxw(3).gettiers()}),e.TgZ(8,"option",78),e._uU(9," Choisir "),e.qZA(),e.YNc(10,Dl,2,2,"option",100),e.qZA(),e.YNc(11,Hl,2,1,"div",58),e.qZA()()()}if(2&i){const t=e.oxw(3);let n,o;e.Q6J("formGroup",t.tiersForm),e.xp6(7),e.Q6J("ngClass",e.WLB(4,z,(null==(n=t.tiersForm.get("tiers"))?null:n.touched)&&(null==(n=t.tiersForm.get("tiers"))?null:n.invalid),null==(n=t.tiersForm.get("tiers"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.ListTiers),e.xp6(1),e.Q6J("ngIf",(null==(o=t.tiersForm.get("tiers"))?null:o.touched)&&(null==(o=t.tiersForm.get("tiers"))?null:o.invalid))}}function Wl(i,l){if(1&i&&(e.TgZ(0,"option",101),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.account_routings[0].scheme),e.xp6(1),e.hij(" ",t.account_routings[0].scheme," ")}}function zl(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Gl(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,zl,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngIf",n.virementFForm.get("numcpt").hasError(t.type)&&(n.virementFForm.get("numcpt").dirty||n.virementFForm.get("numcpt").touched))}}function Kl(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,Gl,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.numcpt)}}function er(i,l){if(1&i&&(e.TgZ(0,"div",105)(1,"label",55),e._uU(2,"Libell\xe9 compte"),e.qZA(),e.TgZ(3,"span",109),e._uU(4),e.qZA()()),2&i){const t=e.oxw(4);e.xp6(4),e.Oqu(t.AccountName)}}function tr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",105)(2,"label",63),e._uU(3,"Compte \xe0 d\xe9biter"),e.TgZ(4,"b",56),e._uU(5,"*"),e.qZA()(),e.TgZ(6,"select",106),e.NdJ("change",function(){return e.CHM(t),e.oxw(3).getAcc()}),e.TgZ(7,"option",107),e._uU(8," Choisir compte "),e.qZA(),e.YNc(9,Wl,2,2,"option",100),e.qZA(),e.YNc(10,Kl,2,1,"div",58),e.qZA(),e.YNc(11,er,5,1,"div",108),e.qZA()}if(2&i){const t=e.oxw(3);let n,o;e.xp6(6),e.Q6J("ngClass",e.WLB(4,z,(null==(n=t.virementFForm.get("numcpt"))?null:n.touched)&&(null==(n=t.virementFForm.get("numcpt"))?null:n.invalid),null==(n=t.virementFForm.get("numcpt"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.listCompts),e.xp6(1),e.Q6J("ngIf",(null==(o=t.virementFForm.get("numcpt"))?null:o.touched)&&(null==(o=t.virementFForm.get("numcpt"))?null:o.invalid)),e.xp6(1),e.Q6J("ngIf",t.choseRib)}}function ir(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function nr(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,ir,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("mntTot"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("mntTot"))?null:o.dirty)||(null==(o=n.virementFForm.get("mntTot"))?null:o.touched)))}}function or(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,nr,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.mntTot)}}function lr(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function rr(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,lr,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("motif"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("motif"))?null:o.dirty)||(null==(o=n.virementFForm.get("motif"))?null:o.touched)))}}function sr(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,rr,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.motif)}}function dr(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function mr(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,dr,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("reference"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("reference"))?null:o.dirty)||(null==(o=n.virementFForm.get("reference"))?null:o.touched)))}}function ar(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,mr,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.reference)}}function cr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",115),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).removeCsvBenefFile()}),e._UZ(1,"i",116),e.qZA()}}function ur(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"span"),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"span"),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"span"),e._uU(21),e.qZA()(),e.TgZ(22,"td")(23,"span"),e._uU(24),e.qZA()()()),2&i){const t=l.$implicit;e.xp6(3),e.Oqu(t.NOM),e.xp6(3),e.Oqu(t.MATRICULE),e.xp6(3),e.Oqu(t.NUMPAIEMENT),e.xp6(3),e.Oqu(t.TELBENEF),e.xp6(3),e.Oqu(t.EMAILBENEF),e.xp6(3),e.Oqu(t.MONTANT),e.xp6(3),e.Oqu(t.REFERENCE),e.xp6(3),e.Oqu(t.MOTIF)}}function _r(i,l){if(1&i&&(e.TgZ(0,"table",136)(1,"thead")(2,"tr")(3,"th"),e._uU(4,"Nom "),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Matricule "),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Num\xe9ro de paiement "),e.qZA(),e.TgZ(9,"th"),e._uU(10,"T\xe9l\xe9phone "),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Email "),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Montant "),e.qZA(),e.TgZ(15,"th"),e._uU(16,"R\xe9f\xe9rence "),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Motif "),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,ur,25,8,"tr",38),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(20),e.Q6J("ngForOf",t.records)}}function fr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",117),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).showDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Visualiser ",t.fileName,"")}}function vr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",118),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).hideDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Cacher ",t.fileName,"")}}function pr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",115),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).removeFileOrdre()}),e._UZ(1,"i",116),e.qZA()}}function hr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"button",119),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).downloadCSVStruct()}),e._UZ(2,"i",120),e._uU(3," T\xe9l\xe9charger Structure CSV"),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"h5")(6,"i"),e._uU(7,"(Donneur d'ordre)"),e.qZA()(),e.YNc(8,Xl,12,7,"form",51),e.TgZ(9,"form",52),e.YNc(10,tr,12,7,"div",53),e.TgZ(11,"div",34)(12,"div",54)(13,"label",55),e._uU(14,"Montant total en chiffre"),e.TgZ(15,"b",56),e._uU(16,"*"),e.qZA()(),e.TgZ(17,"input",57),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).getFormatedAmount()}),e.qZA(),e.YNc(18,or,2,1,"div",58),e.qZA(),e.TgZ(19,"div",54)(20,"label",55),e._uU(21,"Montant introduit"),e.qZA(),e._UZ(22,"input",59),e.qZA(),e.TgZ(23,"div",54)(24,"label",63),e._uU(25,"Motif"),e.TgZ(26,"b",56),e._uU(27,"*"),e.qZA()(),e._UZ(28,"input",121),e.YNc(29,sr,2,1,"div",58),e.qZA(),e.TgZ(30,"div",54)(31,"label",63),e._uU(32,"R\xe9f\xe9rence"),e.TgZ(33,"b",56),e._uU(34,"*"),e.qZA()(),e._UZ(35,"input",122),e.YNc(36,ar,2,1,"div",58),e.qZA()(),e.TgZ(37,"div",34)(38,"div",65)(39,"label",55),e._uU(40,"Montant format\xe9"),e.qZA(),e._UZ(41,"input",66),e.qZA(),e.TgZ(42,"div",67)(43,"label",55),e._uU(44,"Commentaire"),e.qZA(),e._UZ(45,"textarea",68),e.qZA()(),e.TgZ(46,"div",34)(47,"div",69)(48,"label",55),e._uU(49,"Montant en lettres"),e.qZA(),e._UZ(50,"input",70),e.qZA()(),e._UZ(51,"br"),e.TgZ(52,"h5")(53,"i"),e._uU(54,"(B\xe9n\xe9ficiaire)"),e.qZA()(),e.TgZ(55,"div",34)(56,"div",85)(57,"label",123),e._uU(58,"T\xe9l\xe9charger fichier B\xe9n\xe9ficiaire "),e.qZA(),e.TgZ(59,"input",124,125),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).uploadBenef(o)}),e.qZA(),e.TgZ(61,"input",126),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(60);return o.value="",o.click()}),e.qZA(),e._UZ(62,"br")(63,"br"),e.qZA(),e.TgZ(64,"div",127)(65,"div",128)(66,"span"),e._uU(67),e.qZA()()(),e.TgZ(68,"div",93),e.YNc(69,cr,2,0,"button",94),e.qZA()(),e.TgZ(70,"div",95)(71,"div",129),e.YNc(72,_r,21,1,"table",130),e.qZA()(),e.TgZ(73,"div",34)(74,"div",85)(75,"label",131),e._uU(76,"Joindre ordre de virement "),e._UZ(77,"i",84),e.qZA(),e.TgZ(78,"input",132,133),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).upload(o)}),e.qZA(),e.TgZ(80,"input",134),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(79);return o.value="",o.click()}),e.qZA(),e._UZ(81,"br")(82,"br"),e.TgZ(83,"div"),e._UZ(84,"br"),e.qZA()(),e.TgZ(85,"div",90),e.YNc(86,fr,2,1,"button",91),e.YNc(87,vr,2,1,"button",92),e.qZA(),e.TgZ(88,"div",93),e.YNc(89,pr,2,0,"button",94),e.qZA()(),e.TgZ(90,"div",95)(91,"div",35),e._UZ(92,"iframe",96),e.qZA()()(),e.TgZ(93,"div",34)(94,"div",97)(95,"div",85)(96,"button",135),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).initiateVir("CSV")}),e._uU(97," Enregistrer "),e.qZA()()()()()}if(2&i){const t=e.oxw(2);let n,o,r,m,a,u;e.xp6(8),e.Q6J("ngIf",!t.onetiers),e.xp6(1),e.Q6J("formGroup",t.virementFForm),e.xp6(1),e.Q6J("ngIf",t.choseTiers),e.xp6(7),e.Q6J("ngClass",e.WLB(16,z,(null==(n=t.virementFForm.get("mntTot"))?null:n.touched)&&(null==(n=t.virementFForm.get("mntTot"))?null:n.invalid),null==(n=t.virementFForm.get("mntTot"))?null:n.valid)),e.xp6(1),e.Q6J("ngIf",(null==(o=t.virementFForm.get("mntTot"))?null:o.touched)&&(null==(o=t.virementFForm.get("mntTot"))?null:o.invalid)),e.xp6(10),e.Q6J("ngClass",e.WLB(19,z,(null==(r=t.virementFForm.get("motif"))?null:r.touched)&&(null==(r=t.virementFForm.get("motif"))?null:r.invalid),null==(r=t.virementFForm.get("motif"))?null:r.valid)),e.xp6(1),e.Q6J("ngIf",(null==(m=t.virementFForm.get("motif"))?null:m.touched)&&(null==(m=t.virementFForm.get("motif"))?null:m.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(22,z,(null==(a=t.virementFForm.get("reference"))?null:a.touched)&&(null==(a=t.virementFForm.get("reference"))?null:a.invalid),null==(a=t.virementFForm.get("reference"))?null:a.valid)),e.xp6(1),e.Q6J("ngIf",(null==(u=t.virementFForm.get("reference"))?null:u.touched)&&(null==(u=t.virementFForm.get("reference"))?null:u.invalid)),e.xp6(31),e.hij(" ",t.fileNameBenef," "),e.xp6(2),e.Q6J("ngIf",(null==t.fileNameBenef?null:t.fileNameBenef.length)>0),e.xp6(3),e.Q6J("ngIf",t.records.length>0),e.xp6(14),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&t.toshow),e.xp6(1),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&!t.toshow),e.xp6(2),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0),e.xp6(7),e.Q6J("disabled",t.tiersForm.invalid||t.virementFForm.invalid)}}function gr(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function br(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,gr,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.FMandatForm.get("motif"))?null:o.hasError(t.type))&&((null==(o=n.FMandatForm.get("motif"))?null:o.dirty)||(null==(o=n.FMandatForm.get("motif"))?null:o.touched)))}}function Fr(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,br,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.motif)}}function xr(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Zr(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,xr,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.FMandatForm.get("reference"))?null:o.hasError(t.type))&&((null==(o=n.FMandatForm.get("reference"))?null:o.dirty)||(null==(o=n.FMandatForm.get("reference"))?null:o.touched)))}}function Tr(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,Zr,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.reference)}}function Ar(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",117),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).showDocumentFM()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Visualiser ",t.fileNameBenef,"")}}function Cr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",118),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).hideDocumentFM()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Cacher ",t.fileNameBenef,"")}}function yr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",115),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).removeFMBenefFile()}),e._UZ(1,"i",116),e.qZA()}}function Vr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",117),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).showDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Visualiser ",t.fileName,"")}}function Br(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",118),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).hideDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Cacher ",t.fileName,"")}}function Mr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",115),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).removeFileOrdreFM()}),e._UZ(1,"i",116),e.qZA()}}function qr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"form",52)(2,"div",34)(3,"div",65)(4,"label",63),e._uU(5,"Motif"),e.TgZ(6,"b",56),e._uU(7,"*"),e.qZA()(),e._UZ(8,"input",121),e.YNc(9,Fr,2,1,"div",58),e.qZA(),e.TgZ(10,"div",65)(11,"label",63),e._uU(12,"R\xe9f\xe9rence"),e.TgZ(13,"b",56),e._uU(14,"*"),e.qZA()(),e._UZ(15,"input",122),e.YNc(16,Tr,2,1,"div",58),e.qZA(),e.TgZ(17,"div",65)(18,"label",55),e._uU(19,"Commentaire"),e.qZA(),e._UZ(20,"textarea",68),e.qZA()(),e._UZ(21,"br"),e.TgZ(22,"h5")(23,"i"),e._uU(24,"(B\xe9n\xe9ficiaire)"),e.qZA()(),e.TgZ(25,"div",34)(26,"div",85)(27,"label",123),e._uU(28,"T\xe9l\xe9charger fichier B\xe9n\xe9ficiaire "),e.qZA(),e.TgZ(29,"input",137,138),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).uploadBenef(o)}),e.qZA(),e.TgZ(31,"input",139),e.NdJ("click",function(){return e.CHM(t),e.MAs(30).click()}),e.qZA()(),e.TgZ(32,"div",48),e.YNc(33,Ar,2,1,"button",91),e.YNc(34,Cr,2,1,"button",92),e.qZA(),e.TgZ(35,"div",93),e.YNc(36,yr,2,0,"button",94),e.qZA()(),e.TgZ(37,"div",140)(38,"div",35)(39,"pre"),e._uU(40),e.qZA()()(),e._UZ(41,"br"),e.TgZ(42,"div",34)(43,"div",85)(44,"label",131),e._uU(45,"Joindre ordre de virement "),e._UZ(46,"i",84),e.qZA(),e.TgZ(47,"input",132,141),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).upload(o)}),e.qZA(),e.TgZ(49,"input",134),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(48);return o.value="",o.click()}),e.qZA(),e._UZ(50,"br")(51,"br"),e.TgZ(52,"div"),e._UZ(53,"br"),e.qZA()(),e.TgZ(54,"div",90),e.YNc(55,Vr,2,1,"button",91),e.YNc(56,Br,2,1,"button",92),e.qZA(),e.TgZ(57,"div",93),e.YNc(58,Mr,2,0,"button",94),e.qZA()(),e.TgZ(59,"div",95)(60,"div",35),e._UZ(61,"iframe",96),e.qZA()(),e.TgZ(62,"div",34)(63,"div",97)(64,"div",85)(65,"button",142),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).initiateVir("FM")}),e._uU(66," Enregistrer "),e.qZA()()()()()()}if(2&i){const t=e.oxw(2);let n,o,r,m;e.xp6(1),e.Q6J("formGroup",t.FMandatForm),e.xp6(7),e.Q6J("ngClass",e.WLB(13,z,(null==(n=t.FMandatForm.get("motif"))?null:n.touched)&&(null==(n=t.FMandatForm.get("motif"))?null:n.invalid),null==(n=t.FMandatForm.get("motif"))?null:n.valid)),e.xp6(1),e.Q6J("ngIf",(null==(o=t.FMandatForm.get("motif"))?null:o.touched)&&(null==(o=t.FMandatForm.get("motif"))?null:o.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(16,z,(null==(r=t.FMandatForm.get("reference"))?null:r.touched)&&(null==(r=t.FMandatForm.get("reference"))?null:r.invalid),null==(r=t.FMandatForm.get("reference"))?null:r.valid)),e.xp6(1),e.Q6J("ngIf",(null==(m=t.FMandatForm.get("reference"))?null:m.touched)&&(null==(m=t.FMandatForm.get("reference"))?null:m.invalid)),e.xp6(17),e.Q6J("ngIf",(null==t.fileNameBenef?null:t.fileNameBenef.length)>0&&t.toshowfm),e.xp6(1),e.Q6J("ngIf",(null==t.fileNameBenef?null:t.fileNameBenef.length)>0&&!t.toshowfm),e.xp6(2),e.Q6J("ngIf",(null==t.fileNameBenef?null:t.fileNameBenef.length)>0),e.xp6(4),e.hij(" ",t.textfileContent," "),e.xp6(15),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&t.toshow),e.xp6(1),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&!t.toshow),e.xp6(2),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0),e.xp6(7),e.Q6J("disabled",t.FMandatForm.invalid)}}function Nr(i,l){if(1&i&&(e.TgZ(0,"div",39)(1,"div",40)(2,"h5",41),e._uU(3,"Initiation autre virement"),e.qZA(),e.TgZ(4,"fieldset",45),e.YNc(5,Po,4,3,"div",46),e.qZA(),e.YNc(6,Yl,160,59,"div",47),e.YNc(7,hr,98,25,"div",47),e.YNc(8,qr,67,19,"div",47),e.qZA()()),2&i){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.typeData),e.xp6(1),e.Q6J("ngIf",t.isForm),e.xp6(1),e.Q6J("ngIf",t.isCSV),e.xp6(1),e.Q6J("ngIf",t.isFM)}}function Ir(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&i){const t=l.$implicit;e.xp6(2),e.hij("",t.Fullname," "),e.xp6(2),e.Oqu(t.Amount),e.xp6(2),e.Oqu(t.NumeroPayement)}}const kr=["fileReader"],Ur=["filefmandat"];function Er(i,l){1&i&&(e.TgZ(0,"div",39)(1,"div",40)(2,"h5",41),e._uU(3,"Initiation virement xpress"),e.qZA(),e.TgZ(4,"div",42)(5,"div",43)(6,"span",44),e._uU(7,"Loading..."),e.qZA()()()()())}function Jr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",48)(1,"div",49)(2,"input",50),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).getChosenType()})("ngModelChange",function(o){return e.CHM(t),e.oxw(2).typechoice=o}),e.qZA(),e._uU(3),e.qZA()()}if(2&i){const t=l.$implicit,n=e.oxw(2);e.xp6(2),e.Q6J("value",t)("ngModel",n.typechoice),e.xp6(1),e.hij(" ",t," ")}}function Rr(i,l){if(1&i&&(e.TgZ(0,"option",101),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.Oqu(t.FullName)}}function Sr(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Or(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Sr,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngIf",n.tiersForm.get("tiers").hasError(t.type)&&(n.tiersForm.get("tiers").dirty||n.tiersForm.get("tiers").touched))}}function Lr(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,Or,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.tiers)}}const G=function(i,l){return{"is-invalid":i,"is-valid":l}};function Qr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"form",52)(1,"div",34)(2,"div",65)(3,"label",63),e._uU(4,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(5,"b",56),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"select",99),e.NdJ("change",function(){return e.CHM(t),e.oxw(3).gettiers()}),e.TgZ(8,"option",78),e._uU(9," Choisir "),e.qZA(),e.YNc(10,Rr,2,2,"option",100),e.qZA(),e.YNc(11,Lr,2,1,"div",58),e.qZA()()()}if(2&i){const t=e.oxw(3);let n,o;e.Q6J("formGroup",t.tiersForm),e.xp6(7),e.Q6J("ngClass",e.WLB(4,G,(null==(n=t.tiersForm.get("tiers"))?null:n.touched)&&(null==(n=t.tiersForm.get("tiers"))?null:n.invalid),null==(n=t.tiersForm.get("tiers"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.ListTiers),e.xp6(1),e.Q6J("ngIf",(null==(o=t.tiersForm.get("tiers"))?null:o.touched)&&(null==(o=t.tiersForm.get("tiers"))?null:o.invalid))}}function Pr(i,l){if(1&i&&(e.TgZ(0,"option",101),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.account_routings[0].scheme),e.xp6(1),e.hij(" ",t.account_routings[0].scheme," ")}}function Yr(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Dr(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Yr,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngIf",n.virementFForm.get("numcpt").hasError(t.type)&&(n.virementFForm.get("numcpt").dirty||n.virementFForm.get("numcpt").touched))}}function jr(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,Dr,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.numcpt)}}function $r(i,l){if(1&i&&(e.TgZ(0,"div",105)(1,"label",55),e._uU(2,"Libell\xe9 compte"),e.qZA(),e.TgZ(3,"span",109),e._uU(4),e.qZA()()),2&i){const t=e.oxw(4);e.xp6(4),e.Oqu(t.AccountName)}}function Hr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",105)(2,"label",63),e._uU(3,"Compte \xe0 d\xe9biter"),e.TgZ(4,"b",56),e._uU(5,"*"),e.qZA()(),e.TgZ(6,"select",106),e.NdJ("change",function(){return e.CHM(t),e.oxw(3).getAcc()}),e.TgZ(7,"option",107),e._uU(8," Choisir compte "),e.qZA(),e.YNc(9,Pr,2,2,"option",100),e.qZA(),e.YNc(10,jr,2,1,"div",58),e.qZA(),e.YNc(11,$r,5,1,"div",108),e.qZA()}if(2&i){const t=e.oxw(3);let n,o;e.xp6(6),e.Q6J("ngClass",e.WLB(4,G,(null==(n=t.virementFForm.get("numcpt"))?null:n.touched)&&(null==(n=t.virementFForm.get("numcpt"))?null:n.invalid),null==(n=t.virementFForm.get("numcpt"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.listCompts),e.xp6(1),e.Q6J("ngIf",(null==(o=t.virementFForm.get("numcpt"))?null:o.touched)&&(null==(o=t.virementFForm.get("numcpt"))?null:o.invalid)),e.xp6(1),e.Q6J("ngIf",t.choseRib)}}function Xr(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Wr(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Xr,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("mntTot"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("mntTot"))?null:o.dirty)||(null==(o=n.virementFForm.get("mntTot"))?null:o.touched)))}}function zr(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,Wr,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.mntTot)}}function Gr(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Kr(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Gr,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("motif"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("motif"))?null:o.dirty)||(null==(o=n.virementFForm.get("motif"))?null:o.touched)))}}function es(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,Kr,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.motif)}}function ts(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function is(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,ts,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("reference"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("reference"))?null:o.dirty)||(null==(o=n.virementFForm.get("reference"))?null:o.touched)))}}function ns(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,is,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.reference)}}function os(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function ls(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,os,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("nomBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("nomBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("nomBenef"))?null:o.touched)))}}function rs(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,ls,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.nomBenef)}}function ss(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function ds(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,ss,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("prenomBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("prenomBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("prenomBenef"))?null:o.touched)))}}function ms(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,ds,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.prenomBenef)}}function as(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function cs(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,as,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("refBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("refBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("refBenef"))?null:o.touched)))}}function us(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,cs,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.refBenef)}}function _s(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function fs(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,_s,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("motifbenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("motifbenef"))?null:o.dirty)||(null==(o=n.benefForm.get("motifbenef"))?null:o.touched)))}}function vs(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,fs,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.motifbenef)}}function ps(i,l){if(1&i&&(e.TgZ(0,"option",110),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t),e.Q6J("disabled","Wallet"==t),e.xp6(1),e.Oqu(t)}}function hs(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function gs(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,hs,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);e.xp6(1),e.Q6J("ngIf",n.benefForm.get("typeVir").hasError(t.type)&&(n.benefForm.get("typeVir").dirty||n.benefForm.get("typeVir").touched))}}function bs(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,gs,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.typeVir)}}function Fs(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function xs(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Fs,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("ribBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("ribBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("ribBenef"))?null:o.touched)))}}function Zs(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,xs,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.ribBenef)}}function Ts(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",76)(1,"label",55),e._uU(2,"RIB"),e.TgZ(3,"b",56),e._uU(4,"*"),e.qZA()(),e.TgZ(5,"input",111),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(3).ControlRIB()}),e.qZA(),e.YNc(6,Zs,2,1,"div",58),e.qZA()}if(2&i){const t=e.oxw(3);let n,o;e.xp6(5),e.Q6J("ngClass",e.WLB(2,G,(null==(n=t.benefForm.get("ribBenef"))?null:n.touched)&&(null==(n=t.benefForm.get("ribBenef"))?null:n.invalid),null==(n=t.benefForm.get("ribBenef"))?null:n.valid)),e.xp6(1),e.Q6J("ngIf",(null==(o=t.benefForm.get("ribBenef"))?null:o.touched)&&(null==(o=t.benefForm.get("ribBenef"))?null:o.invalid))}}function As(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Cs(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,As,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("cardBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("cardBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("cardBenef"))?null:o.touched)))}}function ys(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,Cs,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.cardBenef)}}function Vs(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",76)(1,"label",55),e._uU(2,"N\xb0 Carte"),e.TgZ(3,"b",56),e._uU(4,"*"),e.qZA()(),e.TgZ(5,"input",112),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(3).ControlCarte()}),e.qZA(),e.YNc(6,ys,2,1,"div",58),e.qZA()}if(2&i){const t=e.oxw(3);let n,o;e.xp6(5),e.Q6J("ngClass",e.WLB(2,G,(null==(n=t.benefForm.get("cardBenef"))?null:n.touched)&&(null==(n=t.benefForm.get("cardBenef"))?null:n.invalid),null==(n=t.benefForm.get("cardBenef"))?null:n.valid)),e.xp6(1),e.Q6J("ngIf",(null==(o=t.benefForm.get("cardBenef"))?null:o.touched)&&(null==(o=t.benefForm.get("cardBenef"))?null:o.invalid))}}function Bs(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Ms(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Bs,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("mntBenef"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("mntBenef"))?null:o.dirty)||(null==(o=n.benefForm.get("mntBenef"))?null:o.touched)))}}function qs(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,Ms,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.mntBenef)}}function Ns(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Is(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Ns,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.benefForm.get("referenceB"))?null:o.hasError(t.type))&&((null==(o=n.benefForm.get("referenceB"))?null:o.dirty)||(null==(o=n.benefForm.get("referenceB"))?null:o.touched)))}}function ws(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,Is,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.referenceB)}}function ks(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"button",113),e.NdJ("click",function(){const o=e.CHM(t),r=o.$implicit,m=o.index;return e.oxw(3).EditBenef(r,m)}),e._UZ(15,"i",114),e.qZA()(),e.TgZ(16,"td")(17,"button",115),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(3).RemoveBenef(r)}),e._UZ(18,"i",116),e.qZA()()()}if(2&i){const t=l.$implicit,n=e.oxw(3);e.xp6(2),e.AsE("",t.benefFirstName," ",t.benefLastName,""),e.xp6(2),e.Oqu(t.benefReference),e.xp6(2),e.Oqu(t.benefAmount),e.xp6(2),e.Oqu(t.benefIdentity),e.xp6(2),e.Oqu(t.numVirement),e.xp6(2),e.Oqu(t.benefMotif),e.xp6(2),e.Q6J("disabled",n.benefForm.valid)}}function Us(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",117),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).showDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Visualiser ",t.fileName,"")}}function Es(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",118),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).hideDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Cacher ",t.fileName,"")}}function Js(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",115),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).removeFileOrdreForm()}),e._UZ(1,"i",116),e.qZA()}}function Rs(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e._UZ(1,"br"),e.TgZ(2,"h5")(3,"i"),e._uU(4,"(Donneur d'ordre)"),e.qZA()(),e.YNc(5,Qr,12,7,"form",51),e.TgZ(6,"form",52),e.YNc(7,Hr,12,7,"div",53),e.TgZ(8,"div",34)(9,"div",54)(10,"label",55),e._uU(11,"Montant total en chiffre"),e.TgZ(12,"b",56),e._uU(13,"*"),e.qZA()(),e.TgZ(14,"input",57),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).getFormatedAmount()}),e.qZA(),e.YNc(15,zr,2,1,"div",58),e.qZA(),e.TgZ(16,"div",54)(17,"label",55),e._uU(18,"Montant introduit"),e.qZA(),e._UZ(19,"input",59),e.qZA(),e.TgZ(20,"div",54)(21,"label",55),e._uU(22,"Motif"),e.TgZ(23,"b",56),e._uU(24,"*"),e.qZA(),e.TgZ(25,"input",60),e.NdJ("click",function(o){return e.CHM(t),e.oxw(2).getMotifCommun(o)}),e.qZA(),e.TgZ(26,"label",61),e._uU(27," Motif commun \xa0\xa0 "),e.qZA()(),e.TgZ(28,"input",62),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(2).getMotif()}),e.qZA(),e.YNc(29,es,2,1,"div",58),e.qZA(),e.TgZ(30,"div",54)(31,"label",63),e._uU(32,"R\xe9f\xe9rence"),e.TgZ(33,"b",56),e._uU(34,"*"),e.qZA()(),e.TgZ(35,"input",64),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(2).checkReference()}),e.qZA(),e.YNc(36,ns,2,1,"div",58),e.qZA()(),e.TgZ(37,"div",34)(38,"div",65)(39,"label",55),e._uU(40,"Montant format\xe9"),e.qZA(),e._UZ(41,"input",66),e.qZA(),e.TgZ(42,"div",67)(43,"label",55),e._uU(44,"Commentaire"),e.qZA(),e._UZ(45,"textarea",68),e.qZA()(),e.TgZ(46,"div",34)(47,"div",69)(48,"label",55),e._uU(49,"Montant en lettres"),e.qZA(),e._UZ(50,"input",70),e.qZA()(),e._UZ(51,"br"),e.TgZ(52,"h5")(53,"i"),e._uU(54,"(B\xe9n\xe9ficiaire)"),e.qZA()()(),e.TgZ(55,"form",52)(56,"div",34)(57,"div",54)(58,"label",55),e._uU(59,"Nom B\xe9n\xe9ficiaire"),e.TgZ(60,"b",56),e._uU(61,"*"),e.qZA()(),e._UZ(62,"input",71),e.YNc(63,rs,2,1,"div",58),e.qZA(),e.TgZ(64,"div",54)(65,"label",55),e._uU(66,"Pr\xe9nom B\xe9n\xe9ficiaire"),e.TgZ(67,"b",56),e._uU(68,"*"),e.qZA()(),e._UZ(69,"input",72),e.YNc(70,ms,2,1,"div",58),e.qZA(),e.TgZ(71,"div",54)(72,"label",55),e._uU(73,"Matricule"),e.qZA(),e.TgZ(74,"input",73),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(2).controlMatricule()}),e.qZA(),e.YNc(75,us,2,1,"div",58),e.qZA(),e.TgZ(76,"div",54)(77,"label",55),e._uU(78,"Motif b\xe9n\xe9ficiaire"),e.TgZ(79,"b",74),e._uU(80,"*"),e.qZA()(),e._UZ(81,"input",75),e.YNc(82,vs,2,1,"div",58),e.qZA()(),e.TgZ(83,"div",34)(84,"div",76)(85,"label",63),e._uU(86,"Type de virement"),e.TgZ(87,"b",56),e._uU(88,"*"),e.qZA()(),e.TgZ(89,"select",77),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).getTypeVirement()}),e.TgZ(90,"option",78),e._uU(91," Choisir "),e.qZA(),e.YNc(92,ps,2,3,"option",79),e.qZA(),e.YNc(93,bs,2,1,"div",58),e.qZA(),e.YNc(94,Ts,7,5,"div",80),e.YNc(95,Vs,7,5,"div",80),e.TgZ(96,"div",76)(97,"label",55),e._uU(98,"Montant"),e.TgZ(99,"b",56),e._uU(100,"*"),e.qZA()(),e._UZ(101,"input",81),e.YNc(102,qs,2,1,"div",58),e.qZA(),e.TgZ(103,"div",76)(104,"label",55),e._uU(105,"R\xe9f\xe9rence"),e.TgZ(106,"b",56),e._uU(107,"*"),e.qZA()(),e.TgZ(108,"input",82),e.NdJ("keyup",function(){return e.CHM(t),e.oxw(2).controlRefBenef()}),e.qZA(),e.YNc(109,ws,2,1,"div",58),e.qZA()(),e.TgZ(110,"div",34)(111,"div",35)(112,"button",83),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addBenefToTable()}),e._uU(113,"Ajouter b\xe9n\xe9ficiaire"),e._UZ(114,"i",84),e.qZA()()(),e.TgZ(115,"div",34)(116,"div",35)(117,"table",36)(118,"thead")(119,"tr")(120,"th",37),e._uU(121,"Nom & pr\xe9nom b\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(122,"th",37),e._uU(123,"R\xe9f\xe9rence B\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(124,"th",37),e._uU(125,"Montant"),e.qZA(),e.TgZ(126,"th",37),e._uU(127,"Matricule"),e.qZA(),e.TgZ(128,"th",37),e._uU(129,"RIB / N\xb0 Carte"),e.qZA(),e.TgZ(130,"th",37),e._uU(131,"Motif b\xe9n\xe9ficiaire"),e.qZA(),e._UZ(132,"th"),e.qZA()(),e.TgZ(133,"tbody"),e.YNc(134,ks,19,8,"tr",38),e.qZA()()()(),e.TgZ(135,"div",34)(136,"div",85)(137,"label",86),e._uU(138,"Joindre ordre de virement "),e._UZ(139,"i",84),e.qZA(),e.TgZ(140,"input",87,88),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).upload(o)}),e.qZA(),e.TgZ(142,"input",89),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(141);return o.value="",o.click()}),e.qZA(),e._UZ(143,"br")(144,"br"),e.TgZ(145,"div"),e._UZ(146,"br"),e.qZA()(),e.TgZ(147,"div",90),e.YNc(148,Us,2,1,"button",91),e.YNc(149,Es,2,1,"button",92),e.qZA(),e.TgZ(150,"div",93),e.YNc(151,Js,2,0,"button",94),e.qZA()(),e.TgZ(152,"div",95)(153,"div",35),e._UZ(154,"iframe",96),e.qZA()()(),e.TgZ(155,"div",34)(156,"div",97)(157,"div",85)(158,"button",98),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).initiateVir("F")}),e._uU(159," Enregistrer "),e.qZA()()()()()}if(2&i){const t=e.oxw(2);let n,o,r,m,a,u,_,x,F,f,p,c,v,h,g,A,C,R,b;e.xp6(5),e.Q6J("ngIf",!t.onetiers),e.xp6(1),e.Q6J("formGroup",t.virementFForm),e.xp6(1),e.Q6J("ngIf",t.choseTiers),e.xp6(7),e.Q6J("ngClass",e.WLB(32,G,(null==(n=t.virementFForm.get("mntTot"))?null:n.touched)&&(null==(n=t.virementFForm.get("mntTot"))?null:n.invalid),null==(n=t.virementFForm.get("mntTot"))?null:n.valid)),e.xp6(1),e.Q6J("ngIf",(null==(o=t.virementFForm.get("mntTot"))?null:o.touched)&&(null==(o=t.virementFForm.get("mntTot"))?null:o.invalid)),e.xp6(13),e.Q6J("ngClass",e.WLB(35,G,(null==(r=t.virementFForm.get("motif"))?null:r.touched)&&(null==(r=t.virementFForm.get("motif"))?null:r.invalid),null==(r=t.virementFForm.get("motif"))?null:r.valid)),e.xp6(1),e.Q6J("ngIf",(null==(m=t.virementFForm.get("motif"))?null:m.touched)&&(null==(m=t.virementFForm.get("motif"))?null:m.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(38,G,(null==(a=t.virementFForm.get("reference"))?null:a.touched)&&(null==(a=t.virementFForm.get("reference"))?null:a.invalid),null==(a=t.virementFForm.get("reference"))?null:a.valid)),e.xp6(1),e.Q6J("ngIf",(null==(u=t.virementFForm.get("reference"))?null:u.touched)&&(null==(u=t.virementFForm.get("reference"))?null:u.invalid)),e.xp6(19),e.Q6J("formGroup",t.benefForm),e.xp6(7),e.Q6J("ngClass",e.WLB(41,G,(null==(_=t.benefForm.get("nomBenef"))?null:_.touched)&&(null==(_=t.benefForm.get("nomBenef"))?null:_.invalid),null==(_=t.benefForm.get("nomBenef"))?null:_.valid)),e.xp6(1),e.Q6J("ngIf",(null==(x=t.benefForm.get("nomBenef"))?null:x.touched)&&(null==(x=t.benefForm.get("nomBenef"))?null:x.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(44,G,(null==(F=t.benefForm.get("prenomBenef"))?null:F.touched)&&(null==(F=t.benefForm.get("prenomBenef"))?null:F.invalid),null==(F=t.benefForm.get("prenomBenef"))?null:F.valid)),e.xp6(1),e.Q6J("ngIf",(null==(f=t.benefForm.get("prenomBenef"))?null:f.touched)&&(null==(f=t.benefForm.get("prenomBenef"))?null:f.invalid)),e.xp6(5),e.Q6J("ngIf",(null==(p=t.benefForm.get("refBenef"))?null:p.touched)&&(null==(p=t.benefForm.get("refBenef"))?null:p.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(47,G,(null==(c=t.benefForm.get("motifbenef"))?null:c.touched)&&(null==(c=t.benefForm.get("motifbenef"))?null:c.invalid),null==(c=t.benefForm.get("motifbenef"))?null:c.valid)),e.xp6(1),e.Q6J("ngIf",(null==(v=t.benefForm.get("motifbenef"))?null:v.touched)&&(null==(v=t.benefForm.get("motifbenef"))?null:v.invalid)),e.xp6(7),e.Q6J("ngClass",e.WLB(50,G,(null==(h=t.benefForm.get("typeVir"))?null:h.touched)&&(null==(h=t.benefForm.get("typeVir"))?null:h.invalid),null==(h=t.benefForm.get("typeVir"))?null:h.valid)),e.xp6(3),e.Q6J("ngForOf",t.listTypeVir),e.xp6(1),e.Q6J("ngIf",(null==(g=t.benefForm.get("typeVir"))?null:g.touched)&&(null==(g=t.benefForm.get("typeVir"))?null:g.invalid)),e.xp6(1),e.Q6J("ngIf",t.isRib),e.xp6(1),e.Q6J("ngIf",t.isCard),e.xp6(6),e.Q6J("ngClass",e.WLB(53,G,(null==(A=t.benefForm.get("mntBenef"))?null:A.touched)&&(null==(A=t.benefForm.get("mntBenef"))?null:A.invalid),null==(A=t.benefForm.get("mntBenef"))?null:A.valid)),e.xp6(1),e.Q6J("ngIf",(null==(C=t.benefForm.get("mntBenef"))?null:C.touched)&&(null==(C=t.benefForm.get("mntBenef"))?null:C.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(56,G,(null==(R=t.benefForm.get("referenceB"))?null:R.touched)&&(null==(R=t.benefForm.get("referenceB"))?null:R.invalid),null==(R=t.benefForm.get("referenceB"))?null:R.valid)),e.xp6(1),e.Q6J("ngIf",(null==(b=t.benefForm.get("referenceB"))?null:b.touched)&&(null==(b=t.benefForm.get("referenceB"))?null:b.invalid)),e.xp6(3),e.Q6J("disabled",t.benefForm.invalid),e.xp6(22),e.Q6J("ngForOf",t.listBenef),e.xp6(14),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&t.toshow),e.xp6(1),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&!t.toshow),e.xp6(2),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0),e.xp6(7),e.Q6J("disabled",t.tiersForm.invalid||t.virementFForm.invalid||0==t.listBenef.length)}}function Ss(i,l){if(1&i&&(e.TgZ(0,"option",101),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.Referentiel),e.xp6(1),e.Oqu(t.FullName)}}function Os(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function Ls(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Os,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngIf",n.tiersForm.get("tiers").hasError(t.type)&&(n.tiersForm.get("tiers").dirty||n.tiersForm.get("tiers").touched))}}function Qs(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,Ls,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.tiers)}}function Ps(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"form",52)(1,"div",34)(2,"div",65)(3,"label",63),e._uU(4,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(5,"b",56),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"select",99),e.NdJ("change",function(){return e.CHM(t),e.oxw(3).gettiers()}),e.TgZ(8,"option",78),e._uU(9," Choisir "),e.qZA(),e.YNc(10,Ss,2,2,"option",100),e.qZA(),e.YNc(11,Qs,2,1,"div",58),e.qZA()()()}if(2&i){const t=e.oxw(3);let n,o;e.Q6J("formGroup",t.tiersForm),e.xp6(7),e.Q6J("ngClass",e.WLB(4,G,(null==(n=t.tiersForm.get("tiers"))?null:n.touched)&&(null==(n=t.tiersForm.get("tiers"))?null:n.invalid),null==(n=t.tiersForm.get("tiers"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.ListTiers),e.xp6(1),e.Q6J("ngIf",(null==(o=t.tiersForm.get("tiers"))?null:o.touched)&&(null==(o=t.tiersForm.get("tiers"))?null:o.invalid))}}function Ys(i,l){if(1&i&&(e.TgZ(0,"option",101),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.account_routings[0].scheme),e.xp6(1),e.hij(" ",t.account_routings[0].scheme," ")}}function Ds(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function js(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Ds,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngIf",n.virementFForm.get("numcpt").hasError(t.type)&&(n.virementFForm.get("numcpt").dirty||n.virementFForm.get("numcpt").touched))}}function $s(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,js,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.numcpt)}}function Hs(i,l){if(1&i&&(e.TgZ(0,"div",105)(1,"label",55),e._uU(2,"Libell\xe9 compte"),e.qZA(),e.TgZ(3,"span",109),e._uU(4),e.qZA()()),2&i){const t=e.oxw(4);e.xp6(4),e.Oqu(t.AccountName)}}function Xs(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",105)(2,"label",63),e._uU(3,"Compte \xe0 d\xe9biter"),e.TgZ(4,"b",56),e._uU(5,"*"),e.qZA()(),e.TgZ(6,"select",106),e.NdJ("change",function(){return e.CHM(t),e.oxw(3).getAcc()}),e.TgZ(7,"option",107),e._uU(8," Choisir compte "),e.qZA(),e.YNc(9,Ys,2,2,"option",100),e.qZA(),e.YNc(10,$s,2,1,"div",58),e.qZA(),e.YNc(11,Hs,5,1,"div",108),e.qZA()}if(2&i){const t=e.oxw(3);let n,o;e.xp6(6),e.Q6J("ngClass",e.WLB(4,G,(null==(n=t.virementFForm.get("numcpt"))?null:n.touched)&&(null==(n=t.virementFForm.get("numcpt"))?null:n.invalid),null==(n=t.virementFForm.get("numcpt"))?null:n.valid)),e.xp6(3),e.Q6J("ngForOf",t.listCompts),e.xp6(1),e.Q6J("ngIf",(null==(o=t.virementFForm.get("numcpt"))?null:o.touched)&&(null==(o=t.virementFForm.get("numcpt"))?null:o.invalid)),e.xp6(1),e.Q6J("ngIf",t.choseRib)}}function Ws(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function zs(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Ws,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("mntTot"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("mntTot"))?null:o.dirty)||(null==(o=n.virementFForm.get("mntTot"))?null:o.touched)))}}function Gs(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,zs,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.mntTot)}}function Ks(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function ed(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Ks,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("motif"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("motif"))?null:o.dirty)||(null==(o=n.virementFForm.get("motif"))?null:o.touched)))}}function td(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,ed,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.motif)}}function id(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function nd(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,id,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.virementFForm.get("reference"))?null:o.hasError(t.type))&&((null==(o=n.virementFForm.get("reference"))?null:o.dirty)||(null==(o=n.virementFForm.get("reference"))?null:o.touched)))}}function od(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,nd,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.reference)}}function ld(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",115),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).removeCsvBenefFile()}),e._UZ(1,"i",116),e.qZA()}}function rd(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"span"),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"span"),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"span"),e._uU(21),e.qZA()(),e.TgZ(22,"td")(23,"span"),e._uU(24),e.qZA()()()),2&i){const t=l.$implicit;e.xp6(3),e.Oqu(t.NOM),e.xp6(3),e.Oqu(t.MATRICULE),e.xp6(3),e.Oqu(t.NUMPAIEMENT),e.xp6(3),e.Oqu(t.TELBENEF),e.xp6(3),e.Oqu(t.EMAILBENEF),e.xp6(3),e.Oqu(t.MONTANT),e.xp6(3),e.Oqu(t.REFERENCE),e.xp6(3),e.Oqu(t.MOTIF)}}function sd(i,l){if(1&i&&(e.TgZ(0,"table",136)(1,"thead")(2,"tr")(3,"th"),e._uU(4,"Nom "),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Matricule "),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Num\xe9ro de paiement "),e.qZA(),e.TgZ(9,"th"),e._uU(10,"T\xe9l\xe9phone "),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Email "),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Montant "),e.qZA(),e.TgZ(15,"th"),e._uU(16,"R\xe9f\xe9rence "),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Motif "),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,rd,25,8,"tr",38),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(20),e.Q6J("ngForOf",t.records)}}function dd(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",117),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).showDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Visualiser ",t.fileName,"")}}function md(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",118),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).hideDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Cacher ",t.fileName,"")}}function ad(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",115),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).removeFileOrdre()}),e._UZ(1,"i",116),e.qZA()}}function cd(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"button",119),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).downloadCSVStruct()}),e._UZ(2,"i",120),e._uU(3," T\xe9l\xe9charger Structure CSV"),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"h5")(6,"i"),e._uU(7,"(Donneur d'ordre)"),e.qZA()(),e.YNc(8,Ps,12,7,"form",51),e.TgZ(9,"form",52),e.YNc(10,Xs,12,7,"div",53),e.TgZ(11,"div",34)(12,"div",54)(13,"label",55),e._uU(14,"Montant total en chiffre"),e.TgZ(15,"b",56),e._uU(16,"*"),e.qZA()(),e.TgZ(17,"input",57),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).getFormatedAmount()}),e.qZA(),e.YNc(18,Gs,2,1,"div",58),e.qZA(),e.TgZ(19,"div",54)(20,"label",55),e._uU(21,"Montant introduit"),e.qZA(),e._UZ(22,"input",59),e.qZA(),e.TgZ(23,"div",54)(24,"label",63),e._uU(25,"Motif"),e.TgZ(26,"b",56),e._uU(27,"*"),e.qZA()(),e._UZ(28,"input",121),e.YNc(29,td,2,1,"div",58),e.qZA(),e.TgZ(30,"div",54)(31,"label",63),e._uU(32,"R\xe9f\xe9rence"),e.TgZ(33,"b",56),e._uU(34,"*"),e.qZA()(),e._UZ(35,"input",122),e.YNc(36,od,2,1,"div",58),e.qZA()(),e.TgZ(37,"div",34)(38,"div",65)(39,"label",55),e._uU(40,"Montant format\xe9"),e.qZA(),e._UZ(41,"input",66),e.qZA(),e.TgZ(42,"div",67)(43,"label",55),e._uU(44,"Commentaire"),e.qZA(),e._UZ(45,"textarea",68),e.qZA()(),e.TgZ(46,"div",34)(47,"div",69)(48,"label",55),e._uU(49,"Montant en lettres"),e.qZA(),e._UZ(50,"input",70),e.qZA()(),e._UZ(51,"br"),e.TgZ(52,"h5")(53,"i"),e._uU(54,"(B\xe9n\xe9ficiaire)"),e.qZA()(),e.TgZ(55,"div",34)(56,"div",85)(57,"label",123),e._uU(58,"T\xe9l\xe9charger fichier B\xe9n\xe9ficiaire "),e.qZA(),e.TgZ(59,"input",124,125),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).uploadBenef(o)}),e.qZA(),e.TgZ(61,"input",126),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(60);return o.value="",o.click()}),e.qZA(),e._UZ(62,"br")(63,"br"),e.qZA(),e.TgZ(64,"div",127)(65,"div",128)(66,"span"),e._uU(67),e.qZA()()(),e.TgZ(68,"div",93),e.YNc(69,ld,2,0,"button",94),e.qZA()(),e.TgZ(70,"div",95)(71,"div",129),e.YNc(72,sd,21,1,"table",130),e.qZA()(),e.TgZ(73,"div",34)(74,"div",85)(75,"label",131),e._uU(76,"Joindre ordre de virement "),e._UZ(77,"i",84),e.qZA(),e.TgZ(78,"input",132,133),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).upload(o)}),e.qZA(),e.TgZ(80,"input",134),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(79);return o.value="",o.click()}),e.qZA(),e._UZ(81,"br")(82,"br"),e.TgZ(83,"div"),e._UZ(84,"br"),e.qZA()(),e.TgZ(85,"div",90),e.YNc(86,dd,2,1,"button",91),e.YNc(87,md,2,1,"button",92),e.qZA(),e.TgZ(88,"div",93),e.YNc(89,ad,2,0,"button",94),e.qZA()(),e.TgZ(90,"div",95)(91,"div",35),e._UZ(92,"iframe",96),e.qZA()()(),e.TgZ(93,"div",34)(94,"div",97)(95,"div",85)(96,"button",135),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).initiateVir("CSV")}),e._uU(97," Enregistrer "),e.qZA()()()()()}if(2&i){const t=e.oxw(2);let n,o,r,m,a,u;e.xp6(8),e.Q6J("ngIf",!t.onetiers),e.xp6(1),e.Q6J("formGroup",t.virementFForm),e.xp6(1),e.Q6J("ngIf",t.choseTiers),e.xp6(7),e.Q6J("ngClass",e.WLB(16,G,(null==(n=t.virementFForm.get("mntTot"))?null:n.touched)&&(null==(n=t.virementFForm.get("mntTot"))?null:n.invalid),null==(n=t.virementFForm.get("mntTot"))?null:n.valid)),e.xp6(1),e.Q6J("ngIf",(null==(o=t.virementFForm.get("mntTot"))?null:o.touched)&&(null==(o=t.virementFForm.get("mntTot"))?null:o.invalid)),e.xp6(10),e.Q6J("ngClass",e.WLB(19,G,(null==(r=t.virementFForm.get("motif"))?null:r.touched)&&(null==(r=t.virementFForm.get("motif"))?null:r.invalid),null==(r=t.virementFForm.get("motif"))?null:r.valid)),e.xp6(1),e.Q6J("ngIf",(null==(m=t.virementFForm.get("motif"))?null:m.touched)&&(null==(m=t.virementFForm.get("motif"))?null:m.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(22,G,(null==(a=t.virementFForm.get("reference"))?null:a.touched)&&(null==(a=t.virementFForm.get("reference"))?null:a.invalid),null==(a=t.virementFForm.get("reference"))?null:a.valid)),e.xp6(1),e.Q6J("ngIf",(null==(u=t.virementFForm.get("reference"))?null:u.touched)&&(null==(u=t.virementFForm.get("reference"))?null:u.invalid)),e.xp6(31),e.hij(" ",t.fileNameBenef," "),e.xp6(2),e.Q6J("ngIf",(null==t.fileNameBenef?null:t.fileNameBenef.length)>0),e.xp6(3),e.Q6J("ngIf",t.records.length>0),e.xp6(14),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&t.toshow),e.xp6(1),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&!t.toshow),e.xp6(2),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0),e.xp6(7),e.Q6J("disabled",t.tiersForm.invalid||t.virementFForm.invalid)}}function ud(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function _d(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,ud,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.FMandatForm.get("motif"))?null:o.hasError(t.type))&&((null==(o=n.FMandatForm.get("motif"))?null:o.dirty)||(null==(o=n.FMandatForm.get("motif"))?null:o.touched)))}}function fd(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,_d,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.motif)}}function vd(i,l){if(1&i&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message,"")}}function pd(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,vd,2,1,"div",103),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(4);let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.FMandatForm.get("reference"))?null:o.hasError(t.type))&&((null==(o=n.FMandatForm.get("reference"))?null:o.dirty)||(null==(o=n.FMandatForm.get("reference"))?null:o.touched)))}}function hd(i,l){if(1&i&&(e.TgZ(0,"div",102),e.YNc(1,pd,2,1,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.validation_messages.reference)}}function gd(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",117),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).showDocumentFM()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Visualiser ",t.fileNameBenef,"")}}function bd(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",118),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).hideDocumentFM()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Cacher ",t.fileNameBenef,"")}}function Fd(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",115),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).removeFMBenefFile()}),e._UZ(1,"i",116),e.qZA()}}function xd(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",117),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).showDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Visualiser ",t.fileName,"")}}function Zd(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",118),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).hideDocument()}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("Cacher ",t.fileName,"")}}function Td(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",115),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).removeFileOrdreFM()}),e._UZ(1,"i",116),e.qZA()}}function Ad(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"form",52)(2,"div",34)(3,"div",65)(4,"label",63),e._uU(5,"Motif"),e.TgZ(6,"b",56),e._uU(7,"*"),e.qZA()(),e._UZ(8,"input",121),e.YNc(9,fd,2,1,"div",58),e.qZA(),e.TgZ(10,"div",65)(11,"label",63),e._uU(12,"R\xe9f\xe9rence"),e.TgZ(13,"b",56),e._uU(14,"*"),e.qZA()(),e._UZ(15,"input",122),e.YNc(16,hd,2,1,"div",58),e.qZA(),e.TgZ(17,"div",65)(18,"label",55),e._uU(19,"Commentaire"),e.qZA(),e._UZ(20,"textarea",68),e.qZA()(),e._UZ(21,"br"),e.TgZ(22,"h5")(23,"i"),e._uU(24,"(B\xe9n\xe9ficiaire)"),e.qZA()(),e.TgZ(25,"div",34)(26,"div",85)(27,"label",123),e._uU(28,"T\xe9l\xe9charger fichier B\xe9n\xe9ficiaire "),e.qZA(),e.TgZ(29,"input",137,138),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).uploadBenef(o)}),e.qZA(),e.TgZ(31,"input",139),e.NdJ("click",function(){return e.CHM(t),e.MAs(30).click()}),e.qZA()(),e.TgZ(32,"div",48),e.YNc(33,gd,2,1,"button",91),e.YNc(34,bd,2,1,"button",92),e.qZA(),e.TgZ(35,"div",93),e.YNc(36,Fd,2,0,"button",94),e.qZA()(),e.TgZ(37,"div",140)(38,"div",35)(39,"pre"),e._uU(40),e.qZA()()(),e._UZ(41,"br"),e.TgZ(42,"div",34)(43,"div",85)(44,"label",131),e._uU(45,"Joindre ordre de virement "),e._UZ(46,"i",84),e.qZA(),e.TgZ(47,"input",132,141),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).upload(o)}),e.qZA(),e.TgZ(49,"input",134),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(48);return o.value="",o.click()}),e.qZA(),e._UZ(50,"br")(51,"br"),e.TgZ(52,"div"),e._UZ(53,"br"),e.qZA()(),e.TgZ(54,"div",90),e.YNc(55,xd,2,1,"button",91),e.YNc(56,Zd,2,1,"button",92),e.qZA(),e.TgZ(57,"div",93),e.YNc(58,Td,2,0,"button",94),e.qZA()(),e.TgZ(59,"div",95)(60,"div",35),e._UZ(61,"iframe",96),e.qZA()(),e.TgZ(62,"div",34)(63,"div",97)(64,"div",85)(65,"button",142),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).initiateVir("FM")}),e._uU(66," Enregistrer "),e.qZA()()()()()()}if(2&i){const t=e.oxw(2);let n,o,r,m;e.xp6(1),e.Q6J("formGroup",t.FMandatForm),e.xp6(7),e.Q6J("ngClass",e.WLB(13,G,(null==(n=t.FMandatForm.get("motif"))?null:n.touched)&&(null==(n=t.FMandatForm.get("motif"))?null:n.invalid),null==(n=t.FMandatForm.get("motif"))?null:n.valid)),e.xp6(1),e.Q6J("ngIf",(null==(o=t.FMandatForm.get("motif"))?null:o.touched)&&(null==(o=t.FMandatForm.get("motif"))?null:o.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(16,G,(null==(r=t.FMandatForm.get("reference"))?null:r.touched)&&(null==(r=t.FMandatForm.get("reference"))?null:r.invalid),null==(r=t.FMandatForm.get("reference"))?null:r.valid)),e.xp6(1),e.Q6J("ngIf",(null==(m=t.FMandatForm.get("reference"))?null:m.touched)&&(null==(m=t.FMandatForm.get("reference"))?null:m.invalid)),e.xp6(17),e.Q6J("ngIf",(null==t.fileNameBenef?null:t.fileNameBenef.length)>0&&t.toshowfm),e.xp6(1),e.Q6J("ngIf",(null==t.fileNameBenef?null:t.fileNameBenef.length)>0&&!t.toshowfm),e.xp6(2),e.Q6J("ngIf",(null==t.fileNameBenef?null:t.fileNameBenef.length)>0),e.xp6(4),e.hij(" ",t.textfileContent," "),e.xp6(15),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&t.toshow),e.xp6(1),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0&&!t.toshow),e.xp6(2),e.Q6J("ngIf",(null==t.fileName?null:t.fileName.length)>0),e.xp6(7),e.Q6J("disabled",t.FMandatForm.invalid)}}function Cd(i,l){if(1&i&&(e.TgZ(0,"div",39)(1,"div",40)(2,"h5",41),e._uU(3,"Initiation virement xpress"),e.qZA(),e.TgZ(4,"fieldset",45),e.YNc(5,Jr,4,3,"div",46),e.qZA(),e.YNc(6,Rs,160,59,"div",47),e.YNc(7,cd,98,25,"div",47),e.YNc(8,Ad,67,19,"div",47),e.qZA()()),2&i){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.typeData),e.xp6(1),e.Q6J("ngIf",t.isForm),e.xp6(1),e.Q6J("ngIf",t.isCSV),e.xp6(1),e.Q6J("ngIf",t.isFM)}}function yd(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&i){const t=l.$implicit;e.xp6(2),e.hij("",t.Fullname," "),e.xp6(2),e.Oqu(t.Amount),e.xp6(2),e.Oqu(t.NumeroPayement)}}const Bd=[{path:"",component:he.B},{path:"virement-unitaire",component:(()=>{class i{constructor(t,n,o,r,m,a,u,_){this.sanitizer=t,this.BenefServ=n,this.fb=o,this.http=r,this.router=m,this.VirServ=a,this.auth=u,this.OpImp=_,this.modelVirForUpdate=new pe,this.transactiontypes=[],this.chargedData=!1,this.cuser="",this.msgAlert="",this.reponseIV="",this.libDevise="DINARS",this.list0=[],this.ListTiers=[],this.onetiers=!0,this.listTiers=[],this.listCompts=[],this.fileName="",this.checkCompte=!0,this.checkreference=!0,this.validation_messages={pays:[{type:"required",message:"Ce champs est obligatoire"}],tiers:[{type:"required",message:"Veuillez choisir un tiers"}],typecompte:[{type:"required",message:"Veuillez choisir un type du compte"}],Tiers:[{type:"required",message:"Veuillez choisir une soci\xe9t\xe9"}],TypeCompteVir:[{type:"required",message:"Veuillez choisir un num\xe9ro de compte"}],Montant:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Valeur invalide"}],Motif:[{type:"required",message:"Veuillez saisir un motif"}],Reference:[{type:"required",message:"Veuillez saisir une r\xe9f\xe9rence de virement"},{type:"checkControl",message:"R\xe9f\xe9rence existe d\xe9j\xe0."}],NomBenef:[{type:"required",message:"Veuillez saisir le nom du b\xe9n\xe9ficiaire"},{type:"pattern",message:"Ce champ n'accepte que des chiffres et des lettres"}],PrenomBenef:[{type:"required",message:"Veuillez saisir le pr\xe9nom du b\xe9n\xe9ficiaire"},{type:"pattern",message:"Ce champ n'accepte pas des chiffres"}],RibBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"le Rib doit etre sur 20 chiffres"},{type:"checkControl",message:"Veuillez saisir un autre compte"}]},this.VirUnit=new pe,this.VirFileForm()}ngOnInit(){this.chargedData=!0,this.token=localStorage.getItem("token"),this.getTransactionTypes(),this.auth.getTiersByIdDigital(this.token).subscribe(t=>{if(this.ListTiers=t,this.chargedData=!1,0==this.ListTiers.length&&(this.onetiers=!0),1==this.ListTiers.length&&(this.tiersClient=this.ListTiers[0].Referentiel,this.onetiers=!0,this.listTiers.push(this.tiersClient),console.log("only one")),this.status=localStorage.getItem("statusVirement"),"Modified"==this.status){this.chargedData=!0;let n=localStorage.getItem("Vir");null!=n&&(this.VirDetails=JSON.parse(n)),this.FormVirFile.controls.Tiers.setValue(this.VirDetails.OrderingCustomerRef),this.FormVirFile.controls.Montant.setValue(this.VirDetails.Amount),this.FormVirFile.controls.Reference.setValue(this.VirDetails.Reference),this.FormVirFile.controls.Motif.setValue(this.VirDetails.Reason),this.FormVirFile.controls.commentaire.setValue(this.VirDetails.Comment),this.VirDetails.BeneffList.length>0&&(this.FormVirFile.controls.NomBenef.setValue(this.VirDetails.BeneffList[0].FullName),this.FormVirFile.controls.RibBenef.setValue(this.VirDetails.BeneffList[0].Account)),this.VirDetails.BeneffListInvalid.length>0&&(this.FormVirFile.controls.NomBenef.setValue(this.VirDetails.BeneffListInvalid[0].FullName),this.FormVirFile.controls.RibBenef.setValue(this.VirDetails.BeneffListInvalid[0].Account)),this.modelVirForUpdate.pkhash=this.VirDetails.Pkhash,this.getFormatedAmount(),this.getAccountsBytiersForUpdate(),this.getFileByTransaction()}},t=>{console.log("error API"),this.chargedData=!1,-1!=t.indexOf("401")&&this.router.navigate(["/"])})}getTransactionTypes(){this.VirServ.getTransactionTypes(this.token).subscribe(t=>{this.transactiontypes=t})}getAccountsBytiers(){var t,o;this.list0=[],null===(t=this.FormVirFile.controls.TypeCompteVir)||void 0===t||t.reset(),this.FormVirFile.get("Tiers"),this.VirServ.MinimalByRef(this.token,null===(o=this.FormVirFile.get("Tiers"))||void 0===o?void 0:o.value).subscribe(m=>{this.listCompts=m.accounts;for(var a=0;a<this.listCompts.length;a++)this.list0.push(this.listCompts[a].account_routings[0])},m=>{console.log("error API"),-1!=m.indexOf("401")&&this.router.navigate(["/"])})}getAccountsBytiersForUpdate(){var n;this.list0=[],this.FormVirFile.get("Tiers"),this.VirServ.MinimalByRef(this.token,null===(n=this.FormVirFile.get("Tiers"))||void 0===n?void 0:n.value).subscribe(r=>{this.listCompts=r.accounts;for(var m=0;m<this.listCompts.length;m++)this.list0.push(this.listCompts[m].account_routings[0]);for(this.FormVirFile.controls.TypeCompteVir.setValue(this.VirDetails.OrderingCustomerAccount),m=0;m<this.listCompts.length;m++)this.VirDetails.OrderingCustomerAccount==this.listCompts[m].account_routings[0].scheme&&(this.pk=this.listCompts[m].id),this.getAccountName();this.chargedData=!1},r=>{console.log("error API"),-1!=r.indexOf("401")&&this.router.navigate(["/"])})}getAccountName(){var t;this.AccNum=null===(t=this.FormVirFile.get("TypeCompteVir"))||void 0===t?void 0:t.value;for(var n=0;n<this.listCompts.length;n++)this.AccNum==this.listCompts[n].account_routings[0].scheme&&(this.pk=this.listCompts[n].id);this.OpImp.getDataByAccount(this.token,this.pk).subscribe(o=>{this.AccounName=o.fullname},o=>{console.log("error API"),-1!=o.indexOf("401")&&this.router.navigate(["/"])})}VirFileForm(){this.FormVirFile=this.fb.group({LibelleCpt:new d.NI,Tiers:new d.NI("",d.kI.required),typetransaction:new d.NI("",d.kI.required),TypeCompteVir:new d.NI("",d.kI.required),Montant:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^[0-9,.]*$")])),Motif:new d.NI("",d.kI.required),Reference:new d.NI("",d.kI.compose([d.kI.required])),MntFormate:new d.NI,MntLettre:new d.NI,commentaire:new d.NI,NomBenef:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^([A-Za-z0-9 ]*)$")])),fileup:new d.NI,RibBenef:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^[0-9]{20}$")]))})}upload(t){var n,o;this.fileName="",this.PathReportString="";let r=document.getElementById("ifrm");if(null!=r&&(r.style.display="none"),t.target.files&&t.target.files[0])if(-1!=t.target.files[0].type.toString().indexOf("image")||-1!=t.target.files[0].type.toString().indexOf("pdf")){console.log("image or pdf");var m=new FileReader;this.fileName=t.target.files[0].name,m.onload=a=>{this.filePath=a.target.result;var u=this.filePath.toString().indexOf(",");this.base=this.filePath.toString().substr(u+1,this.filePath.toString().length),this.PathReportString=this.filePath,this.base64update=this.filePath,this.toshow=!0},this.nom=t.target.files[0].name,m.readAsDataURL(t.target.files[0])}else console.log("not image nor pdf"),this.msgAlert="Veuillez choisir un document type image ou bien PDF",null===(n=document.getElementById("exampleModalLabelProcessedpop"))||void 0===n||n.setAttribute("style","color:red;font-weight:bold"),null===(o=document.getElementById("btnalertPop"))||void 0===o||o.click()}showDocument(){var t;this.toshow=!1,(this.PathReportString.includes("tiff")||this.PathReportString.includes("tif"))&&(this.PathReportString=this.PathReportString.replace("tiff","png"),this.PathReportString=this.PathReportString.replace("tif","png")),null===(t=document.getElementById("ifrm"))||void 0===t||t.setAttribute("src",this.PathReportString);let n=document.getElementById("ifrm");null!=n&&(n.style.display="block")}hideDocument(){var t;this.toshow=!0,null===(t=document.getElementById("ifrm"))||void 0===t||t.removeAttribute("src");let n=document.getElementById("ifrm");null!=n&&(n.style.display="none")}getWord(t){this.OpImp.getWordFromAmount(t,this.token,this.libDevise,"MILLIMES").subscribe(n=>{this.FormVirFile.controls.MntLettre.setValue(n.body)},n=>{console.log("error API"),-1!=n.indexOf("401")&&this.router.navigate(["/"])})}getWordByAmount(){var t=this.FormVirFile.controls.MntFormate.value.toString();this.getWord(t)}getFormatedAmount(){this.FormVirFile.controls.MntLettre.reset(),this.FormVirFile.controls.MntFormate.reset(),this.valueletters="",this.OpImp.getFormatedAmount("TND",this.FormVirFile.controls.Montant.value,this.token).subscribe(t=>{this.FormVirFile.controls.MntFormate.setValue(t.body),this.getWordByAmount()},t=>{console.log("error API"),-1!=t.indexOf("401")&&this.router.navigate(["/"])})}getFileByTransaction(){this.VirServ.GetFileByTransaction({pkhash:this.VirDetails.Pkhash},this.token).subscribe(n=>{var o,r,m;this.reponseIV=n,this.PathReportString=null===(o=this.reponseIV)||void 0===o?void 0:o.Files[0].base64,this.chargedData=!1,this.base64update=null==n?void 0:n.Files[0].base64,this.toshow=!0,this.fileName=null===(r=this.reponseIV)||void 0===r?void 0:r.Files[0].FileName,this.filenameUpdate=null===(m=this.reponseIV)||void 0===m?void 0:m.Files[0].FileName,this.PathReportString=this.fileName.toLowerCase().includes("pdf")?"data:application/pdf;base64,"+this.PathReportString:"data:image/png;base64,"+this.PathReportString},n=>{this.chargedData=!1,console.log("error API"),-1!=n.indexOf("401")&&this.router.navigate(["/"])})}r(){return this.FormVirFile.controls}test(){}InitierVirement(){var t,n,o,r,m,a,u;this.chargedData=!0,null===(t=document.getElementById("btninit"))||void 0===t||t.setAttribute("disabled","disabled"),this.checkreference=!0,null===(n=this.FormVirFile.get("Reference"))||void 0===n||n.removeValidators([(0,S.b)("Reference",this.checkreference)]),null===(o=this.FormVirFile.get("Reference"))||void 0===o||o.updateValueAndValidity(),this.VirUnit.AccountName=this.AccounName;let _=new Date;console.log(_);let x=_.getMonth()+1,F=_.getDate(),f=_.getFullYear(),p=_.getHours(),c=_.getMinutes(),v=_.getSeconds();this.VirUnit.TransactionType="Virement Unitaire",this.VirUnit.OrderingCustomerAccount=this.FormVirFile.controls.TypeCompteVir.value,this.VirUnit.Amount=this.FormVirFile.controls.Montant.value,this.VirUnit.Reason=this.FormVirFile.controls.Motif.value,this.VirUnit.Reference=this.FormVirFile.controls.Reference.value,this.VirUnit.source_type=this.FormVirFile.controls.typetransaction.value,this.VirUnit.IdTransaction=x.toString()+F.toString()+this.VirUnit.Reference+f.toString().substring(2)+v.toString()+c.toString()+p.toString(),this.VirUnit.Comment=this.FormVirFile.controls.commentaire.value,this.VirUnit.Fullname=this.FormVirFile.controls.NomBenef.value,this.VirUnit.PaymentNumber=this.FormVirFile.controls.RibBenef.value,this.VirUnit.MeanOfPayment="01",this.VirUnit.Currency="788",null!=this.filePath&&((null===(r=this.filePath)||void 0===r?void 0:r.toLowerCase().includes("tiff"))||this.filePath.toLowerCase().includes("tif"))?(this.VirUnit.FileOrdreVirement=this.filePath.replace("tiff","png").replace("tif","png"),this.nom=this.nom.toLowerCase().replace("tiff","png").replace("tif","png")):this.VirUnit.FileOrdreVirement=this.filePath,this.VirUnit.FileName=this.nom,this.cuser=null===(m=localStorage.getItem("cuser"))||void 0===m?void 0:m.toUpperCase(),this.VirUnit.RequestUser=this.cuser;let h=null===(a=this.nom)||void 0===a?void 0:a.indexOf("."),g=null===(u=this.nom)||void 0===u?void 0:u.substr(h+1);this.VirUnit.FileType=g,this.VirServ.createtransaction(this.VirUnit,this.token).subscribe(A=>{var C,R,b,T,s,Z,y,V,B,M,q;null===(C=document.getElementById("btninit"))||void 0===C||C.removeAttribute("disabled"),this.reponseIV=A,this.chargedData=!1,"00"==this.reponseIV.ResponseCode?(this.msgAlert="Virement enregistr\xe9 avec succ\xe8s.",null!=document.getElementById("exampleModalLabelProcessed")&&(null===(R=document.getElementById("exampleModalLabelProcessed"))||void 0===R||R.setAttribute("style","color:green;font-weight:bold")),null===(b=document.getElementById("btnalertPopfresh"))||void 0===b||b.click()):"01"==this.reponseIV.ResponseCode?(this.msgAlert="V\xe9rifier vos entr\xe9es",null===(T=document.getElementById("exampleModalLabelProcessedpop"))||void 0===T||T.setAttribute("style","color:blue;font-weight:bold"),null===(s=document.getElementById("btnalertPop"))||void 0===s||s.click()):"05"==this.reponseIV.ResponseCode?(this.checkreference=!1,null===(Z=this.FormVirFile.get("Reference"))||void 0===Z||Z.addValidators([(0,S.b)("Reference",this.checkreference)]),null===(y=this.FormVirFile.get("Reference"))||void 0===y||y.updateValueAndValidity(),this.msgAlert="R\xe9f\xe9rence "+this.FormVirFile.controls.Reference.value+" existe d\xe9j\xe0.",null===(V=document.getElementById("exampleModalLabelProcessedpop"))||void 0===V||V.setAttribute("style","color:blue;font-weight:bold"),null===(B=document.getElementById("btnalertPop"))||void 0===B||B.click()):(this.msgAlert="Merci de r\xe9essayer plus tard",null===(M=document.getElementById("exampleModalLabelProcessedpop"))||void 0===M||M.setAttribute("style","color:blue;font-weight:bold"),null===(q=document.getElementById("btnalertPop"))||void 0===q||q.click())},A=>{var C;console.log("error API"),this.chargedData=!1,null===(C=document.getElementById("btninit"))||void 0===C||C.removeAttribute("disabled"),-1!=A.indexOf("401")&&this.router.navigate(["/"])})}FermerAlert(){var t;null===(t=document.getElementById("alertPop"))||void 0===t||t.setAttribute("class","modal fade  hide")}FermerAlertAvecRefresh(){var t;null===(t=document.getElementById("alertPopfresh"))||void 0===t||t.setAttribute("class","modal fade  hide"),location.reload()}testdate(){let t=new Date;console.log(t);let n=t.getMonth(),o=t.getDate(),r=t.getFullYear(),m=t.getHours(),a=t.getMinutes(),u=t.getSeconds();console.log(n+" /"+o+" /"+r.toString().substring(2)+" / /"+m+" /"+a+" /"+u)}ControlRIB(){var t,n,o,r,m;null===(t=this.FormVirFile.get("RibBenef"))||void 0===t||t.clearValidators(),null===(n=this.FormVirFile.get("RibBenef"))||void 0===n||n.updateValueAndValidity(),null===(o=this.FormVirFile.get("RibBenef"))||void 0===o||o.setValidators([d.kI.required,d.kI.pattern("^[0-9]{20}$")]),null===(r=this.FormVirFile.get("RibBenef"))||void 0===r||r.updateValueAndValidity();let a=null===(m=this.FormVirFile.get("RibBenef"))||void 0===m?void 0:m.value;if(20==a.length){let u={NumeroCompte:a};null!=a&&null!=a&&""!=a&&this.BenefServ.ControlAccountBenef(u,this.token).subscribe(_=>{var x,F,f,p,c,v,h,g;this.RetourCompte=_,("01"==this.RetourCompte.ResponseCode||"99"==this.RetourCompte.ResponseCode)&&(this.checkCompte=!1,null===(x=this.FormVirFile.get("RibBenef"))||void 0===x||x.addValidators([(0,S.b)("RibBenef",this.checkCompte)]),null===(F=this.FormVirFile.get("RibBenef"))||void 0===F||F.updateValueAndValidity(),this.msgAlert="V\xe9rifier le RIB en input !",null===(f=document.getElementById("exampleModalLabelProcessedpop"))||void 0===f||f.setAttribute("style","color:red;font-weight:bold"),null===(p=document.getElementById("btnalertPop"))||void 0===p||p.click()),"00"==this.RetourCompte.ResponseCode&&("Active"!=this.RetourCompte.Status?(this.checkCompte=!1,null===(c=this.FormVirFile.get("RibBenef"))||void 0===c||c.addValidators([(0,S.b)("RibBenef",this.checkCompte)]),null===(v=this.FormVirFile.get("RibBenef"))||void 0===v||v.updateValueAndValidity(),this.msgAlert="Compte Non Valide !",null===(h=document.getElementById("exampleModalLabelProcessedpop"))||void 0===h||h.setAttribute("style","color:red;font-weight:bold"),null===(g=document.getElementById("btnalertPop"))||void 0===g||g.click()):this.checkCompte=!0)},_=>{console.log("error API"),-1!=_.indexOf("401")&&this.router.navigate(["/"])})}else this.checkCompte=!0}checkReference(){var t,n,o;this.checkreference=!0,null===(t=this.FormVirFile.get("Reference"))||void 0===t||t.clearValidators(),null===(n=this.FormVirFile.get("Reference"))||void 0===n||n.addValidators(d.kI.required),null===(o=this.FormVirFile.get("Reference"))||void 0===o||o.updateValueAndValidity()}ModifierVirement(){var t,n,o,r;this.chargedData=!0,null===(t=document.getElementById("btnmodif"))||void 0===t||t.setAttribute("disabled","disabled");let m=null===(n=this.nom)||void 0===n?void 0:n.indexOf("."),a=null===(o=this.nom)||void 0===o?void 0:o.substr(m+1),u=localStorage.getItem("cuser");null!=u&&(this.modelVirForUpdate.RequestUser=u),this.modelVirForUpdate.OrderingCustomerAccount=this.FormVirFile.controls.TypeCompteVir.value,this.modelVirForUpdate.AccountName=this.AccounName,this.modelVirForUpdate.Fullname=this.FormVirFile.controls.NomBenef.value,this.modelVirForUpdate.MeanOfPayment="01",this.modelVirForUpdate.PaymentNumber=this.FormVirFile.controls.RibBenef.value,this.modelVirForUpdate.Amount=this.FormVirFile.controls.Montant.value,this.modelVirForUpdate.Reason=this.FormVirFile.controls.Motif.value,this.modelVirForUpdate.Reference=this.VirDetails.Reference,this.modelVirForUpdate.FileName=this.filenameUpdate,this.modelVirForUpdate.Comment=this.FormVirFile.controls.commentaire.value,this.modelVirForUpdate.FileOrdreVirement=this.base64update,this.modelVirForUpdate.FileType=a,this.modelVirForUpdate.Date=this.VirDetails.Date,console.group(this.modelVirForUpdate),null===(r=document.getElementById("btnmodif"))||void 0===r||r.removeAttribute("disabled"),this.VirServ.updateTransaction(this.modelVirForUpdate,this.token).subscribe(_=>{var x,F,f,p,c;null===(x=document.getElementById("btnmodif"))||void 0===x||x.removeAttribute("disabled"),this.RetourCompte=_,this.chargedData=!1,"00"==this.RetourCompte.OBP?(localStorage.removeItem("statusVirement"),localStorage.removeItem("Vir"),this.msgAlert="Virement modifi\xe9 avec succ\xe8s.",null===(F=document.getElementById("exampleModalLabelProcessed"))||void 0===F||F.setAttribute("style","color:green;font-weight:bold"),null===(f=document.getElementById("btnalertPopfresh"))||void 0===f||f.click()):(this.msgAlert="Veuillez r\xe9essayer ult\xe9rieurement.",null===(p=document.getElementById("exampleModalLabelProcessed"))||void 0===p||p.setAttribute("style","color:blue;font-weight:bold"),null===(c=document.getElementById("btnalertPopfresh"))||void 0===c||c.click())},_=>{console.log("error API"),this.chargedData=!1,-1!=_.indexOf("401")&&this.router.navigate(["/"])})}removeFileOrdre(){this.FormVirFile.controls.fileup.reset(),this.fileName="",this.hideDocument()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Gn.H7),e.Y36(se.I),e.Y36(d.qu),e.Y36(de.eN),e.Y36(le.F0),e.Y36(ae.t),e.Y36(me.r),e.Y36(ce.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-virement-unitaire"]],decls:28,vars:4,consts:[[1,"card"],["id","divfichier1",1,"card-body"],[1,"card-title",2,"text-align","center"],["class","col-lg-12 text-center",4,"ngIf"],[3,"formGroup",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#alertPopfresh","id","btnalertPopfresh",1,"btn","btn-primary",2,"display","none"],["id","alertPopfresh","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content",2,"place-items","center"],[1,"modal-header",2,"border-bottom","0 !important"],["id","exampleModalLabelProcessed",1,"modal-title"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#alertPop","id","btnalertPop",1,"btn","btn-primary",2,"display","none"],["id","alertPop","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["id","exampleModalLabelProcessedpop",1,"modal-title"],[1,"col-lg-12","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[3,"formGroup"],[1,"row","pt-2"],[1,"col-sm-12","col-lg-4","col-md-4"],[1,"col-6","col-form-label"],[2,"color","red"],["name","typetransaction","formControlName","typetransaction","required","",1,"form-select",3,"ngClass"],["selected","","disabled","","value",""],[3,"value",4,"ngFor","ngForOf"],[1,"row"],[1,"col-12"],["class","col-4",4,"ngIf"],[1,"col-4"],[1,"font-weight-bold","TitleMobile",2,"text-align","initial"],["name","origin_country","formControlName","TypeCompteVir",1,"custom-select","form-control",3,"ngClass","change"],["Value","","hidden","","selected",""],["class","alert alert-danger",4,"ngIf"],["formControlName","LibelleCpt","disabled","",1,"custom-select","form-control",3,"value"],["formControlName","Montant",1,"custom-select","form-control",3,"ngClass","change"],["formControlName","Motif",1,"custom-select","form-control",3,"ngClass"],["formControlName","MntFormate","disabled","",1,"custom-select","form-control"],[1,"col-8"],["formControlName","commentaire","rows","1",1,"custom-select","form-control"],["formControlName","MntLettre","disabled","",1,"custom-select","form-control"],["formControlName","NomBenef",1,"custom-select","form-control",3,"ngClass"],["formControlName","RibBenef",1,"custom-select","form-control",3,"ngClass","keyup"],[1,"col-3"],["for","declaration",1,"label-file"],[1,"bi","bi-plus"],["type","file",2,"visibility","hidden",3,"change"],["fileordre",""],["id","declaration","formControlName","fileup",1,"input-file",3,"click"],[1,"col-3","text-left"],["class","btn btn-primary btn-md btnFile",3,"click",4,"ngIf"],["class","btn btn-warning btn-md btnFile",3,"disabled","click",4,"ngIf"],[1,"col-1"],["type","button","class","btn btn-danger ",3,"click",4,"ngIf"],["id","ifrm",2,"width","inherit","height","1000px","display","none"],["class","row pt-3 text-left",4,"ngIf"],[3,"value"],["name","origin_country","formControlName","Tiers",1,"custom-select","form-control",3,"ngClass","change"],[1,"alert","alert-danger"],[4,"ngFor","ngForOf"],["style","font-size:12px",4,"ngIf"],[2,"font-size","12px"],["formControlName","Reference",1,"custom-select","form-control",3,"ngClass","keyup"],["formControlName","Reference","disabled","",1,"custom-select","form-control"],[1,"btn","btn-primary","btn-md","btnFile",3,"click"],[1,"btn","btn-warning","btn-md","btnFile",3,"disabled","click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],[1,"row","pt-3","text-left"],[1,"col-lg-3","col-md-3","col-3",2,"margin-left","auto","width","fit-content"],["id","btninit",1,"btn","btn-primary","btn-md",3,"disabled","click"],["id","btnmodif",1,"btn","btn-primary","btn-md",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3,"Initiation virement unitaire"),e.qZA(),e.YNc(4,Kn,4,0,"div",3),e.YNc(5,Ro,121,42,"form",4),e.qZA()(),e._UZ(6,"button",5),e.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"h5",10)(12,"p"),e._uU(13),e.qZA()()(),e.TgZ(14,"div",11)(15,"button",12),e.NdJ("click",function(){return n.FermerAlertAvecRefresh()}),e._uU(16,"Fermer"),e.qZA()()()()(),e._UZ(17,"button",13),e.TgZ(18,"div",14)(19,"div",7)(20,"div",8)(21,"div",9)(22,"h5",15)(23,"p"),e._uU(24),e.qZA()()(),e.TgZ(25,"div",11)(26,"button",12),e.NdJ("click",function(){return n.FermerAlert()}),e._uU(27,"Fermer"),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",n.chargedData),e.xp6(1),e.Q6J("ngIf",!n.chargedData),e.xp6(8),e.hij(" ",n.msgAlert," "),e.xp6(11),e.hij(" ",n.msgAlert," "))},directives:[ee.O5,d._Y,d.JL,d.sg,d.EJ,d.JJ,d.u,d.Q7,ee.mk,d.YN,d.Kr,ee.sg,d.Fj],styles:[".input-file[_ngcontent-%COMP%]{display:none}.label-file[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;cursor:pointer;background-color:#27597a;color:#fff;font-weight:700;height:auto;border-radius:5px;padding:6px 10px 10px}.label-file[_ngcontent-%COMP%]:hover{color:#fff;background-color:#007bff}.show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}.btnFile[_ngcontent-%COMP%]{width:-webkit-fill-available}"]}),i})(),canActivate:[re.a],data:{breadcrumb:{alias:"Virement unitaire"}}},{path:"virement-multiple",component:ii,canActivate:[re.a],data:{breadcrumb:{alias:"Virement multiple"}}},{path:"virement-salaire",component:zn,canActivate:[re.a],data:{breadcrumb:{alias:"Virement salaire"}}},{path:"autre-virement",component:(()=>{class i{constructor(t,n,o,r,m,a,u){this.BenefServ=t,this.fb=n,this.http=o,this.router=r,this.auth=m,this.VirServ=a,this.opImpService=u,this.checkreference=!0,this.benefformModel=new ie.z,this.benefformList=[],this.virementModel=new fe.T,this.records=[],this.virFileModel=new _e.O,this.textfileContent="",this.PathReportString="",this.chargedData=!1,this.checkreferencebenef=!0,this.checkCardBenef=!0,this.checkribbenef=!0,this.motifcommun=!1,this.listTypeVir=["Carte","Compte","Wallet"],this.typeData=["Via Formulaire","Via fichier CSV","Via F-mandat"],this.libDevise="DINARS",this.onetiers=!0,this.choseTiers=!1,this.ListTiers=[],this.hasTiersClient=!1,this.listTiers=[],this.benefModel=new K.O,this.listBenef=[],this.validation_messages={numcpt:[{type:"required",message:"Ce champs est obligatoire"}],tiers:[{type:"required",message:"Veuillez choisir un tiers"}],mntTot:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Valeur invalide"}],motif:[{type:"required",message:"Ce champs est obligatoire"}],nomBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Ce champ n'accepte pas des chiffres"}],prenomBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Ce champ n'accepte pas des chiffres"}],ribBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Le RIB doit \xeatre compos\xe9 de 20 chiffres"},{type:"checkControl",message:"Veuillez saisir un autre compte"}],cardBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Le n\xb0 de carte doit \xeatre compos\xe9 de 16 chiffres"},{type:"checkControl",message:"Veuillez saisir une autre carte"}],mntBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Valeur invalide"}],refBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"checkControl",message:"Veuillez saisir une autre r\xe9f\xe9rence"}],motifbenef:[{type:"required",message:"Ce champs est obligatoire"}],reference:[{type:"required",message:"Ce champs est obligatoire"},{type:"checkControl",message:"R\xe9f\xe9rence existe d\xe9j\xe0."}],referenceB:[{type:"required",message:"Ce champs est obligatoire"},{type:"checkControl",message:"Veuillez saisir une autre r\xe9f\xe9rence"}]},this.list0=[],this.listCompts=[],this.mntIntroduit=0,this.createForm()}ngOnInit(){this.chargedData=!0,this.motifcommun=!1,this.istrue=localStorage.getItem("istrue"),this.token=localStorage.getItem("token"),this.cuser=localStorage.getItem("cuser"),this.cuser=this.cuser.toLowerCase(),this.tiersForm.reset(),"true"==this.istrue?(this.isForm=!1,this.isCSV=!1,this.isFM=!1,this.cuser=localStorage.getItem("cuser"),this.auth.getTiersByIdDigital(this.token).subscribe(t=>{this.ListTiers=t,this.chargedData=!1,0==this.ListTiers.length?(this.onetiers=!0,this.choseTiers=!0,this.hasTiersClient=!0):1==this.ListTiers.length?(this.tiersClient=this.ListTiers[0].Referentiel,this.onetiers=!0,this.choseTiers=!0,this.hasTiersClient=!0,this.listTiers.push(this.tiersClient),this.tiersForm.controls.tiers.setValue(this.tiersClient),this.gettiers()):(this.createForm(),(null==this.tiersClient||""==this.tiersClient)&&(this.tiersClient=void 0),null!=this.tiersClient&&(this.hasTiersClient=!0),this.onetiers=!1)},t=>{this.chargedData=!1,-1!=t.indexOf("401")&&this.router.navigate(["/"])})):this.router.navigate(["/"])}checkReference(){var t,n,o;this.checkreference=!0,null===(t=this.virementFForm.get("reference"))||void 0===t||t.clearValidators(),null===(n=this.virementFForm.get("reference"))||void 0===n||n.addValidators(d.kI.required),null===(o=this.virementFForm.get("reference"))||void 0===o||o.updateValueAndValidity()}createForm(){this.tiersForm=this.fb.group({tiers:["",d.kI.required]}),this.virementFForm=this.fb.group({numcpt:["",d.kI.required],mntTot:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^[0-9,.]*$")])),formattedAmount:new d.NI,amountLetters:new d.NI,mntCalculated:new d.NI,motif:["",d.kI.required],comment:new d.NI,fileCsv:new d.NI,ordreVirement:new d.NI,filenameO:"",filenameCSV:"",reference:["",d.kI.required]}),this.benefForm=this.fb.group({nomBenef:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^([a-zA-Z ]*)$")])),prenomBenef:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^([a-zA-Z ]*)$")])),ribBenef:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^[0-9]{20}$")])),cardBenef:new d.NI,mntBenef:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^[0-9,.]*$")])),referenceB:["",d.kI.required],refBenef:new d.NI,motifbenef:["",d.kI.required],ordreVirementBenef:new d.NI,fileNameOrdreF:"",typeVir:["",d.kI.required]}),this.FMandatForm=this.fb.group({motif:["",d.kI.required],reference:["",d.kI.required],comment:new d.NI,fileNameFM:["",d.kI.required],fileFmondat:"",ordreVirement:new d.NI,fileNameOrdreV:""})}countSubstring(t,n){let o=0,r=0;for(;r<t.length&&(r=t.indexOf(n,r),-1!==r);)o++,r+=n.length;return o}getAccountsBytiers(){var t;this.list0=[],this.listCompts=[],this.VirServ.MinimalByRef(this.token,null===(t=this.tiersForm.get("tiers"))||void 0===t?void 0:t.value).subscribe(n=>{this.listCompts=n.accounts;for(var o=0;o<this.listCompts.length;o++)this.list0.push(this.listCompts[o].account_routings[0])},n=>{-1!=n.indexOf("401")&&this.router.navigate(["/"])})}getAcc(){var t;let n=null===(t=this.virementFForm.get("numcpt"))||void 0===t?void 0:t.value,o="";for(var r=0;r<this.listCompts.length;r++)n==this.listCompts[r].account_routings[0].scheme&&(o=this.listCompts[r].id);this.choseRib=!0,this.opImpService.getDataByAccount(this.token,o).subscribe(m=>{this.AccountName=m.fullname.replace("null"," ")},m=>{-1!=m.indexOf("401")&&this.router.navigate(["/"])})}gettiers(){var t;null===(t=this.virementFForm.controls.numcpt)||void 0===t||t.reset(),this.choseRib=!1,this.listTiers=[],this.choseTiers=!0,this.hasTiersClient=!0,this.listTiers.push(this.tiersClient),this.getAccountsBytiers()}getChosenType(t){this.isForm=!1,this.records=[],this.isCSV=!1,this.isFM=!1,this.listBenef=[],this.choseRib=!1,this.mntIntroduit=0,this.choseTiers=!1,1==this.ListTiers.length?this.choseTiers=!0:this.tiersForm.reset(),this.AccountName="",this.fileName="",this.fileNameBenef="",this.virementFForm.reset(),this.benefForm.reset(),this.FMandatForm.reset(),this.virementFForm.controls.reference.clearValidators(),this.virementFForm.controls.reference.addValidators([d.kI.required]),this.virementFForm.controls.reference.updateValueAndValidity(),this.virementFForm.controls.fileCsv.clearValidators(),this.virementFForm.controls.fileCsv.updateValueAndValidity(),"Via Formulaire"==this.typechoice?this.isForm=!0:"Via fichier CSV"==this.typechoice?(this.virementFForm.controls.fileCsv.setValidators([d.kI.required]),this.virementFForm.controls.fileCsv.updateValueAndValidity(),this.isCSV=!0):this.isFM=!0}getWord(t){this.opImpService.getWordFromAmount(t,this.token,this.libDevise,"MILLIMES").subscribe(n=>{this.virementFForm.controls.amountLetters.setValue(n.body)},n=>{-1!=n.indexOf("401")&&this.router.navigate(["/"])})}getWordByAmount(){var t=this.virementFForm.controls.formattedAmount.value.toString();this.getWord(t)}getFormatedAmount(){this.virementFForm.controls.amountLetters.reset(),this.virementFForm.controls.formattedAmount.reset(),this.valueletters="",this.opImpService.getFormatedAmount("TND",this.virementFForm.controls.mntTot.value,this.token).subscribe(t=>{this.virementFForm.controls.formattedAmount.setValue(t.body),this.getWordByAmount()},t=>{-1!=t.indexOf("401")&&this.router.navigate(["/"])})}getMotif(){1==this.motifcommun&&this.benefForm.controls.motifbenef.setValue(this.virementFForm.controls.motif.value)}addBenefToTable(){var t,n,o,r,m,a,u,_,x,F,f,p,c,v;this.benefModel.benefFirstName=this.benefForm.controls.prenomBenef.value,this.benefModel.benefLastName=this.benefForm.controls.nomBenef.value;let h=this.benefModel.benefFirstName+" "+this.benefModel.benefLastName;console.log(h),this.benefModel.benefAmount=this.benefForm.controls.mntBenef.value,this.benefModel.benefReference=this.benefForm.controls.referenceB.value,this.benefModel.benefMotif=1==this.motifcommun?this.virementFForm.controls.motif.value:this.benefForm.controls.motifbenef.value,this.benefModel.benefIdentity=this.benefForm.controls.refBenef.value,this.benefModel.typeVirement=this.benefForm.controls.typeVir.value,"Carte"==this.benefModel.typeVirement?this.benefModel.numVirement=this.benefForm.controls.cardBenef.value:"Compte"==this.benefModel.typeVirement&&(this.benefModel.numVirement=this.benefForm.controls.ribBenef.value),this.benefModel.benefReference==this.virementFForm.controls.reference.value?(this.modalBody="La r\xe9f\xe9rence virement ne peut pas \xeatre la m\xeame du b\xe9n\xe9ficiaire",this.modalButtonLeft="OK",this.checkreferencebenef=!1,null===(t=document.getElementById("exampleModalLabelProcessedalert"))||void 0===t||t.setAttribute("style","color:blue;font-weight:bold"),null===(n=this.benefForm.get("referenceB"))||void 0===n||n.addValidators([(0,S.b)("referenceB",this.checkreferencebenef)]),null===(o=this.benefForm.get("referenceB"))||void 0===o||o.updateValueAndValidity(),null===(r=document.getElementById("btnAlert"))||void 0===r||r.click()):this.listBenef.length>0?this.listBenef.some(g=>g.benefReference.toLocaleLowerCase()===this.benefModel.benefReference.toLocaleLowerCase())?(this.modalTitle="Alerte",this.modalBody="La r\xe9f\xe9rence du b\xe9n\xe9ficiaire que vous voudrez ajouter "+this.benefModel.benefReference+" existe d\xe9j\xe0",this.modalButtonLeft="OK",this.checkreferencebenef=!1,null===(m=document.getElementById("exampleModalLabelProcessedalert"))||void 0===m||m.setAttribute("style","color:blue;font-weight:bold"),null===(a=this.benefForm.get("referenceB"))||void 0===a||a.addValidators([(0,S.b)("referenceB",this.checkreferencebenef)]),null===(u=this.benefForm.get("referenceB"))||void 0===u||u.updateValueAndValidity(),null===(_=document.getElementById("btnAlert"))||void 0===_||_.click()):this.listBenef.some(g=>g.benefFirstName.toLocaleLowerCase()+" "+g.benefLastName.toLocaleLowerCase()!=h)?this.listBenef.some(g=>g.benefIdentity.toLocaleLowerCase()==this.benefModel.benefIdentity.toLocaleLowerCase())?(this.modalBody="Vous avez d\xe9j\xe0 ins\xe9rer un b\xe9n\xe9ficiaire ayant la matricule "+this.benefModel.benefIdentity+" mais avec un nom diff\xe9rent",this.modalButtonLeft="OK",null===(x=document.getElementById("exampleModalLabelProcessedalert"))||void 0===x||x.setAttribute("style","color:blue;font-weight:bold"),null===(F=document.getElementById("btnAlert"))||void 0===F||F.click()):this.listBenef.some(g=>g.numVirement==this.benefModel.numVirement)?(this.modalBody="Vous avez d\xe9j\xe0 ins\xe9rer un b\xe9n\xe9ficiaire ayant le num\xe9ro du paiement "+this.benefModel.numVirement+" mais avec un nom diff\xe9rent",this.modalButtonLeft="OK",null===(f=document.getElementById("exampleModalLabelProcessedalert"))||void 0===f||f.setAttribute("style","color:blue;font-weight:bold"),null===(p=document.getElementById("btnAlert"))||void 0===p||p.click()):this.listBenef.some(g=>g.benefAmount===this.benefModel.benefAmount)&&this.listBenef.some(g=>g.numVirement===this.benefModel.numVirement)?(this.modalTitle="Rappel",this.modalBody="B\xe9n\xe9ficiaire d\xe9j\xe0 existant",this.modalButtonLeft="Annuler",this.modalButtonRight="OK",null===(c=document.getElementById("btnVerifexist"))||void 0===c||c.click()):(this.listBenef.push(this.benefModel),this.isCard=!1,this.isRib=!1,this.benefModel=new K.O,this.benefForm.controls.prenomBenef.reset(),this.benefForm.controls.nomBenef.reset(),this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.mntBenef.reset(),this.benefForm.controls.refBenef.reset(),0==this.motifcommun&&this.benefForm.controls.motifbenef.reset(),this.benefForm.controls.typeVir.reset(),this.benefForm.controls.cardBenef.reset(),this.benefForm.controls.referenceB.reset()):this.listBenef.some(g=>g.benefAmount===this.benefModel.benefAmount)&&this.listBenef.some(g=>g.numVirement===this.benefModel.numVirement)?(this.modalTitle="Rappel",this.modalBody="B\xe9n\xe9ficiaire d\xe9j\xe0 existant",this.modalButtonLeft="Annuler",this.modalButtonRight="OK",null===(v=document.getElementById("btnVerifexist"))||void 0===v||v.click()):(this.listBenef.push(this.benefModel),this.isCard=!1,this.isRib=!1,this.benefModel=new K.O,this.benefForm.controls.prenomBenef.reset(),this.benefForm.controls.nomBenef.reset(),this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.mntBenef.reset(),this.benefForm.controls.refBenef.reset(),0==this.motifcommun&&this.benefForm.controls.motifbenef.reset(),this.benefForm.controls.typeVir.reset(),this.benefForm.controls.cardBenef.reset(),this.benefForm.controls.referenceB.reset()):(this.listBenef.push(this.benefModel),this.benefModel=new K.O,this.isCard=!1,this.isRib=!1,this.benefForm.controls.prenomBenef.reset(),this.benefForm.controls.nomBenef.reset(),this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.mntBenef.reset(),this.benefForm.controls.refBenef.reset(),0==this.motifcommun&&this.benefForm.controls.motifbenef.reset(),this.benefForm.controls.typeVir.reset(),this.benefForm.controls.cardBenef.reset(),this.benefForm.controls.referenceB.reset())}controlMatricule(){var t,n;null===(t=this.benefForm.get("refBenef"))||void 0===t||t.clearValidators(),null===(n=this.benefForm.get("refBenef"))||void 0===n||n.updateValueAndValidity()}RemoveBenef(t){this.listBenef.splice(t,1)}EditBenef(t,n){this.benefForm.controls.nomBenef.setValue(t.benefLastName),this.benefForm.controls.prenomBenef.setValue(t.benefFirstName),this.benefForm.controls.ribBenef.setValue(t.numVirement),this.benefForm.controls.mntBenef.setValue(t.benefAmount),this.benefForm.controls.refBenef.setValue(t.benefIdentity),this.benefForm.controls.motifbenef.setValue(t.benefMotif),this.benefForm.controls.referenceB.setValue(t.benefReference),this.benefForm.controls.typeVir.setValue(t.typeVirement),"Carte"==t.typeVirement?(this.isCard=!0,this.isRib=!1,this.benefForm.controls.cardBenef.setValue(t.numVirement)):"Compte"==t.typeVirement&&(this.isCard=!1,this.isRib=!0,this.benefForm.controls.ribBenef.setValue(t.numVirement)),this.listBenef.splice(n,1)}Ok(){var t;this.listBenef.push(this.benefModel),this.benefModel=new K.O,this.benefForm.controls.prenomBenef.reset(),this.benefForm.controls.nomBenef.reset(),this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.mntBenef.reset(),this.benefForm.controls.refBenef.reset(),0==this.motifcommun&&this.benefForm.controls.motifbenef.reset(),this.benefForm.controls.typeVir.reset(),this.benefForm.controls.cardBenef.reset(),this.benefForm.controls.referenceB.reset(),null===(t=document.getElementById("dismissmodal"))||void 0===t||t.click()}initiateVir(t){var n,o,r,m,a,u,_,x,F;if(this.chargedData=!0,"F"==t){this.virementModel.benefmultiple=[],this.benefformModel=new ie.z,this.benefformList=[],null===(n=document.getElementById("btninit"))||void 0===n||n.setAttribute("disabled","disabled"),this.virementModel.AccountName=this.AccountName,this.virementModel.Comment=this.virementFForm.controls.comment.value,this.virementModel.Reference=this.virementFForm.controls.reference.value,this.virementModel.CommonCause=1==this.motifcommun?"O":"N",this.virementModel.FileOrdreVirement=this.benefForm.controls.fileNameOrdreF.value;let p=localStorage.getItem("cuser");if(null!=p&&(this.virementModel.RequestUser=p),null==this.nom&&(this.nom=""),""==this.nom)this.virementModel.FileType="";else{let b=null===(o=this.nom)||void 0===o?void 0:o.indexOf("."),T=null===(r=this.nom)||void 0===r?void 0:r.substr(b+1);this.virementModel.FileType=T}this.virementModel.FileName=this.nom;let c=new Date;console.log(c);let v=c.getMonth()+1,h=c.getDate(),g=c.getFullYear(),A=c.getHours(),C=c.getMinutes(),R=c.getSeconds();this.virementModel.IdTransaction=v.toString()+h.toString()+this.virementModel.Reference+g.toString().substring(2)+R.toString()+C.toString()+A.toString(),this.virementModel.OrderingCustomerAccount=this.virementFForm.controls.numcpt.value,this.virementModel.Reason=this.virementFForm.controls.motif.value,this.virementModel.TotalAmount=this.virementFForm.controls.mntTot.value,this.virementModel.TransactionType="Autre Virement",this.virementModel.sourcetype="FS";for(var f=0;f<this.listBenef.length;f++)this.benefformModel.Amount=this.listBenef[f].benefAmount,this.benefformModel.Fullname=this.listBenef[f].benefFirstName+" "+this.listBenef[f].benefLastName,this.benefformModel.benefFirstName=this.listBenef[f].benefFirstName,this.benefformModel.benefLastName=this.listBenef[f].benefLastName,this.benefformModel.Currency="788",this.benefformModel.PaymentNumber=this.listBenef[f].numVirement,this.benefformModel.MeanOfPayment=16==this.benefformModel.PaymentNumber.length?"02":"01",this.benefformModel.Reason=this.listBenef[f].benefMotif,this.benefformModel.Reference=this.listBenef[f].benefReference,this.benefformModel.IdBenef=this.listBenef[f].benefIdentity,this.benefformList.push(this.benefformModel),this.benefformModel=new ie.z;this.virementModel.benefmultiple=this.benefformList,this.VirServ.createtransactionbenefmultiple(this.virementModel,this.token).subscribe(b=>{var T,s,Z,y,V,B,M,q,N,I,w,k,U,E,J;this.reponseIV=b,"00"==this.reponseIV.ResponseCode?(this.msgAlert="Virement enregistr\xe9 avec succ\xe8s.",null!=document.getElementById("exampleModalLabelProcessed")&&(null===(T=document.getElementById("exampleModalLabelProcessed"))||void 0===T||T.setAttribute("style","color:green;font-weight:bold")),null===(s=document.getElementById("btnalertPopfresh"))||void 0===s||s.click()):"01"==this.reponseIV.ResponseCode?(this.msgAlert="V\xe9rifier vos entr\xe9es",null===(Z=document.getElementById("exampleModalLabelProcessedpop"))||void 0===Z||Z.setAttribute("style","color:blue;font-weight:bold"),null===(y=document.getElementById("btnalertPop"))||void 0===y||y.click()):"11"==this.reponseIV.ResponseCode?(this.virementFForm.controls.mntCalculated.setValue(null==b?void 0:b.Status),this.msgAlert="La somme totale saisie n'est pas \xe9gale \xe0 celle du total b\xe9n\xe9ficiaire ("+(null==b?void 0:b.Status)+")",null===(V=document.getElementById("exampleModalLabelProcessedpop"))||void 0===V||V.setAttribute("style","color:red;font-weight:bold"),null===(B=document.getElementById("btnalertPop"))||void 0===B||B.click()):"02"==this.reponseIV.ResponseCode?(this.msgAlert="Veuillez r\xe9essayer plus tard (acc\xe8s)",null===(M=document.getElementById("exampleModalLabelProcessedpop"))||void 0===M||M.setAttribute("style","color:blue;font-weight:bold"),null===(q=document.getElementById("btnalertPop"))||void 0===q||q.click()):"05"==this.reponseIV.ResponseCode?(this.checkreference=!1,null===(N=this.virementFForm.get("reference"))||void 0===N||N.addValidators([(0,S.b)("reference",this.checkreference)]),null===(I=this.virementFForm.get("reference"))||void 0===I||I.updateValueAndValidity(),this.msgAlert="R\xe9f\xe9rence "+this.virementFForm.controls.reference.value+" existe d\xe9j\xe0.",null===(w=document.getElementById("exampleModalLabelProcessedpop"))||void 0===w||w.setAttribute("style","color:blue;font-weight:bold"),null===(k=document.getElementById("btnalertPop"))||void 0===k||k.click()):(this.msgAlert="Merci de r\xe9essayer plus tard",null===(U=document.getElementById("exampleModalLabelProcessedpop"))||void 0===U||U.setAttribute("style","color:blue;font-weight:bold"),null===(E=document.getElementById("btnalertPop"))||void 0===E||E.click()),null===(J=document.getElementById("btninit"))||void 0===J||J.removeAttribute("disabled"),this.chargedData=!1},b=>{var T;this.chargedData=!1,null===(T=document.getElementById("btninit"))||void 0===T||T.removeAttribute("disabled"),-1!=b.indexOf("401")&&this.router.navigate(["/"])})}else if("CSV"==t){null===(m=document.getElementById("btncsv"))||void 0===m||m.setAttribute("disabled","disabled"),this.virFileModel.FichierCsvFmandat="02",this.virFileModel.OrderingCustomerAccount=this.virementFForm.controls.numcpt.value,this.virFileModel.FileName=this.fileNameBenef,this.virFileModel.Base64=this.virementFForm.controls.filenameCSV.value,this.virFileModel.Comment=this.virementFForm.controls.comment.value,this.virFileModel.Reason=this.virementFForm.controls.motif.value,this.virFileModel.MontantTotal=this.virementFForm.controls.mntTot.value,this.virFileModel.MontantIntroduit=this.virementFForm.controls.mntCalculated.value,this.virFileModel.MontantFormate=this.virementFForm.controls.formattedAmount.value,this.virFileModel.MontantLettre=this.virementFForm.controls.amountLetters.value;let p=localStorage.getItem("cuser");null!=p&&(this.virFileModel.RequestUser=p);let c=null===(a=this.nom)||void 0===a?void 0:a.indexOf("."),v=null===(u=this.nom)||void 0===u?void 0:u.substr(c+1);this.virFileModel.FileType=v,this.virFileModel.Reference=this.virementFForm.controls.reference.value,this.virFileModel.TransactionType="Virement Salaire",this.virFileModel.FileOrdreVirement=this.virementFForm.controls.filenameO.value;let h=new Date;console.log(h);let g=h.getMonth()+1,A=h.getDate(),C=h.getFullYear(),R=h.getHours(),b=h.getMinutes(),T=h.getSeconds();this.virFileModel.IdTransaction=g.toString()+A.toString()+this.virFileModel.Reference+C.toString().substring(2)+T.toString()+b.toString()+R.toString(),console.log(this.virFileModel),this.VirServ.InitiationbyFmandatCsv(this.virFileModel,this.token).subscribe(s=>{var Z,y,V,B,M,q,N,I,w,k,U,E,J,O,L,Q,P,Y,D,j;if(this.chargedData=!1,this.RetourCompte=s,null===(Z=document.getElementById("btncsv"))||void 0===Z||Z.removeAttribute("disabled"),"00"==(null==s?void 0:s.OK))this.msgAlert="Virement enregistr\xe9 avec succ\xe8s",null===(y=document.getElementById("exampleModalLabelProcessed"))||void 0===y||y.setAttribute("style","color:green;font-weight:bold"),null===(V=document.getElementById("btnalertPopfresh"))||void 0===V||V.click();else if((null===(B=this.RetourCompte)||void 0===B?void 0:B.length)>0)this.doublons=s,this.msgAlert="Virement enregistr\xe9 avec succ\xe8s. N.B: Des doublons ont \xe9t\xe9 d\xe9tect\xe9s au niveau du fichier.",null===(M=document.getElementById("exampleModalLabelProcessedpopdoublons"))||void 0===M||M.setAttribute("style","color:blue;font-weight:bold"),null===(q=document.getElementById("btnalertPopdoublons"))||void 0===q||q.click(),this.virementFForm.controls.fileCsv.reset();else if("07"==(null==s?void 0:s.StatusCode))this.virementFForm.controls.mntCalculated.setValue(null==s?void 0:s.CalculatedAmount),this.msgAlert="Le montant introduit n'est pas \xe9gale \xe0 la somme des montants dans le fichier ("+(null==s?void 0:s.CalculatedAmount)+")",null===(N=document.getElementById("exampleModalLabelProcessedpop"))||void 0===N||N.setAttribute("style","color:blue;font-weight:bold"),null===(I=document.getElementById("btnalertPop"))||void 0===I||I.click();else if("05"==(null==s?void 0:s.ResponseCode))this.msgAlert="Identifiant virement existe",null===(w=document.getElementById("exampleModalLabelProcessedpop"))||void 0===w||w.setAttribute("style","color:blue;font-weight:bold"),null===(k=document.getElementById("btnalertPop"))||void 0===k||k.click();else if("10"==(null==s?void 0:s.StatusCode))this.msgAlert="Le num\xe9ro de carte "+(null==s?void 0:s.Ref)+" est invalide",null===(U=document.getElementById("exampleModalLabelProcessedpop"))||void 0===U||U.setAttribute("style","color:blue;font-weight:bold"),this.virementFForm.controls.fileCsv.reset(),null===(E=document.getElementById("btnalertPop"))||void 0===E||E.click();else if("11"==(null==s?void 0:s.StatusCode)){let $=null==s?void 0:s.Ref;1==this.countSubstring(null==s?void 0:s.Ref,",")&&($=null==s?void 0:s.Ref.replace(",","")),this.msgAlert="Votre demande \xe0 \xe9t\xe9 bien enregistr\xe9. N.B: Le(s) num\xe9ro(s) de paiement suivant(s) est/sont \xe9rron\xe9(s): "+$,null===(J=document.getElementById("exampleModalLabelProcessed"))||void 0===J||J.setAttribute("style","color:blue;font-weight:bold"),this.virementFForm.controls.fileCsv.reset(),null===(O=document.getElementById("btnalertPopfresh"))||void 0===O||O.click()}else"12"==(null==s?void 0:s.ResponseCode)?(this.msgAlert="R\xe9f\xe9rence existante",null===(L=document.getElementById("exampleModalLabelProcessedpop"))||void 0===L||L.setAttribute("style","color:blue;font-weight:bold"),null===(Q=document.getElementById("btnalertPop"))||void 0===Q||Q.click()):"Fichier erron\xe9"==(null==s?void 0:s.OBP2)?(this.msgAlert="Fichier erron\xe9",null===(P=document.getElementById("exampleModalLabelProcessedpop"))||void 0===P||P.setAttribute("style","color:red;font-weight:bold"),this.virementFForm.controls.fileCsv.reset(),null===(Y=document.getElementById("btnalertPop"))||void 0===Y||Y.click()):(this.msgAlert="Veuillez r\xe9essayer plus tard",null===(D=document.getElementById("exampleModalLabelProcessed"))||void 0===D||D.setAttribute("style","color:blue;font-weight:bold"),null===(j=document.getElementById("btnalertPopfresh"))||void 0===j||j.click())},s=>{var Z;this.chargedData=!1,null===(Z=document.getElementById("btncsv"))||void 0===Z||Z.setAttribute("disabled","disabled"),-1!=s.indexOf("401")&&this.router.navigate(["/"])})}else{null===(_=document.getElementById("btnfm"))||void 0===_||_.setAttribute("disabled","disabled"),this.virFileModel.FileName=this.fileNameBenef,this.virFileModel.Base64=this.FMandatForm.controls.fileNameFM.value;let p=null===(x=this.nom)||void 0===x?void 0:x.indexOf("."),c=null===(F=this.nom)||void 0===F?void 0:F.substr(p+1);this.virFileModel.FileType=c;let v=localStorage.getItem("cuser");null!=v&&(this.virFileModel.RequestUser=v),this.virFileModel.Reference=this.FMandatForm.controls.reference.value,this.virFileModel.TransactionType="Virement Salaire",this.virFileModel.FileOrdreVirement=this.FMandatForm.controls.fileNameOrdreV.value,this.virFileModel.Comment=this.FMandatForm.controls.comment.value,this.virFileModel.Reason=this.FMandatForm.controls.motif.value,this.virFileModel.FichierCsvFmandat="01";let h=new Date;console.log(h);let g=h.getMonth()+1,A=h.getDate(),C=h.getFullYear(),R=h.getHours(),b=h.getMinutes(),T=h.getSeconds();this.virFileModel.IdTransaction=g.toString()+A.toString()+this.virFileModel.Reference+C.toString().substring(2)+T.toString()+b.toString()+R.toString(),this.VirServ.InitiationbyFmandatCsv(this.virFileModel,this.token).subscribe(s=>{var Z,y,V,B,M,q,N,I,w,k,U,E,J,O,L,Q,P,Y,D,j,$,te;if(this.chargedData=!1,this.RetourCompte=s,null===(Z=document.getElementById("btnfm"))||void 0===Z||Z.removeAttribute("disabled"),"00"==(null==s?void 0:s.OK))this.msgAlert="Virement enregistr\xe9 avec succ\xe8s",null===(y=document.getElementById("exampleModalLabelProcessed"))||void 0===y||y.setAttribute("style","color:green;font-weight:bold"),null===(V=document.getElementById("btnalertPopfresh"))||void 0===V||V.click();else if((null===(B=this.RetourCompte)||void 0===B?void 0:B.length)>0)this.doublons=s,this.msgAlert="Virement enregistr\xe9 avec succ\xe8s. N.B: Des doublons ont \xe9t\xe9 d\xe9tect\xe9s au niveau du fichier.",null===(M=document.getElementById("exampleModalLabelProcessedpopdoublons"))||void 0===M||M.setAttribute("style","color:blue;font-weight:bold"),null===(q=document.getElementById("btnalertPopdoublons"))||void 0===q||q.click();else if("07"==(null==s?void 0:s.StatusCode))this.virementFForm.controls.mntCalculated.setValue(null==s?void 0:s.CalculatedAmount),this.msgAlert="Le montant introduit n'est pas \xe9gale \xe0 la somme des montants dans le fichier ("+(null==s?void 0:s.CalculatedAmount)+")",null===(N=document.getElementById("exampleModalLabelProcessedpop"))||void 0===N||N.setAttribute("style","color:blue;font-weight:bold"),null===(I=document.getElementById("btnalertPop"))||void 0===I||I.click();else if("05"==(null==s?void 0:s.ResponseCode))this.msgAlert="Identifiant virement existe",null===(w=document.getElementById("exampleModalLabelProcessedpop"))||void 0===w||w.setAttribute("style","color:blue;font-weight:bold"),null===(k=document.getElementById("btnalertPop"))||void 0===k||k.click();else if("12"==(null==s?void 0:s.ResponseCode))this.msgAlert="R\xe9f\xe9rence virement existe",null===(U=document.getElementById("exampleModalLabelProcessedpop"))||void 0===U||U.setAttribute("style","color:blue;font-weight:bold"),null===(E=document.getElementById("btnalertPop"))||void 0===E||E.click();else if("11"==(null==s?void 0:s.StatusCode)){let ne=null==s?void 0:s.Ref;1==this.countSubstring(null==s?void 0:s.Ref,",")&&(ne=null==s?void 0:s.Ref.replace(",","")),this.msgAlert="Votre demande \xe0 \xe9t\xe9 bien enregistr\xe9. N.B: Le(s) num\xe9ro(s) de paiement suivant(s) est/sont \xe9rron\xe9(s): "+ne,null===(J=document.getElementById("exampleModalLabelProcessed"))||void 0===J||J.setAttribute("style","color:blue;font-weight:bold"),this.virementFForm.controls.fileCsv.reset(),null===(O=document.getElementById("btnalertPopfresh"))||void 0===O||O.click()}else"Fichier erron\xe9"==(null==s?void 0:s.OBP2)?(this.msgAlert="Fichier erron\xe9",null===(L=document.getElementById("exampleModalLabelProcessedpop"))||void 0===L||L.setAttribute("style","color:red;font-weight:bold"),null===(Q=document.getElementById("alertPop"))||void 0===Q||Q.setAttribute("class","modal fade  show"),null===(P=document.getElementById("btnalertPop"))||void 0===P||P.click()):"Forbidden"==(null==s?void 0:s.Status)?(this.msgAlert="Vous n'\xeates pas autoris\xe9 \xe0 d\xe9biter le compte existant dans le fichier choisi.",null===(Y=document.getElementById("exampleModalLabelProcessedpop"))||void 0===Y||Y.setAttribute("style","color:red;font-weight:bold"),null===(D=document.getElementById("alertPop"))||void 0===D||D.setAttribute("class","modal fade  show"),null===(j=document.getElementById("btnalertPop"))||void 0===j||j.click()):(this.msgAlert="Veuillez r\xe9essayer plus tard",null===($=document.getElementById("exampleModalLabelProcessed"))||void 0===$||$.setAttribute("style","color:blue;font-weight:bold"),null===(te=document.getElementById("btnalertPopfresh"))||void 0===te||te.click())},s=>{var Z;this.chargedData=!1,null===(Z=document.getElementById("btnfm"))||void 0===Z||Z.removeAttribute("disabled"),-1!=s.indexOf("401")&&this.router.navigate(["/"])})}}FermerAlertAvecRefresh(){var t;null===(t=document.getElementById("alertPopfresh"))||void 0===t||t.setAttribute("class","modal fade  hide"),location.reload()}uploadBenef(t){var n,o;this.fileNameBenef="",this.textfileContent="",this.records=[],t.target.files&&t.target.files[0]&&(this.isCSV?-1==t.target.files[0].type.toString().indexOf("csv")?(this.modalTitle="Alerte",this.modalBody="Veuillez choisir un document type CSV",this.modalButtonLeft="Fermer",null===(n=document.getElementById("btnAlert"))||void 0===n||n.click(),this.FMandatForm.controls.fileCsv.reset()):this.uploadListener(t):this.isFM&&(-1==t.target.files[0].type.toString().indexOf("plain")?(this.modalTitle="Alerte",this.modalBody="Veuillez choisir un document type text/plain",this.modalButtonLeft="Fermer",null===(o=document.getElementById("btnAlert"))||void 0===o||o.click(),this.FMandatForm.controls.fileFmondat.reset()):this.uploadbeneffile(t)))}removeFMBenefFile(){this.FMandatForm.controls.fileFmondat.reset(),this.FMandatForm.controls.fileNameFM.reset(),this.fileNameBenef="",this.textfileContent="",this.hideDocumentFM()}removeFileOrdreForm(){this.benefForm.controls.ordreVirementBenef.reset(),this.fileName="",this.hideDocument()}removeFileOrdreFM(){this.FMandatForm.controls.ordreVirement.reset(),this.FMandatForm.controls.fileNameOrdreV.reset(),this.fileName="",this.PathReportString="",this.hideDocument()}removeFileOrdre(){this.virementFForm.controls.ordreVirement.reset(),this.virementFForm.controls.filenameO.reset(),this.fileName="",this.hideDocument()}removeCsvBenefFile(){this.virementFForm.controls.fileCsv.reset(),this.virementFForm.controls.filenameCSV.reset(),this.fileNameBenef="",this.records=[]}uploadbeneffile(t){this.hideDocumentFM();var n=new FileReader;this.fileNameBenef=t.target.files[0].name,this.filefmandat=this.fileNameBenef;let o=this;o.textfileContent="",console.log(this.fileNameBenef),n.onload=r=>{null!=n.result&&(o.textfileContent=n.result);let a,m=r.target;null!=m&&(a=m.result),null!=a&&(this.base=btoa(a.toString())),this.FMandatForm.controls.fileNameFM.setValue(this.base)},this.nom=t.target.files[0].name,n.readAsText(t.target.files[0]),this.toshowfm=!0}upload(t){var n;this.fileName="",this.PathReportString="";let o=document.getElementById("ifrm");if(null!=o&&(o.style.display="none"),t.target.files&&t.target.files[0])if(-1!=t.target.files[0].type.toString().indexOf("image")||-1!=t.target.files[0].type.toString().indexOf("pdf")){console.log("image or pdf");var r=new FileReader;this.fileName=t.target.files[0].name,r.onload=m=>{this.filePath=m.target.result;var a=this.filePath.toString().indexOf(",");this.base=this.filePath.toString().substr(a+1,this.filePath.toString().length),this.isFM?this.FMandatForm.controls.fileNameOrdreV.setValue(this.base):this.isCSV?this.virementFForm.controls.filenameO.setValue(this.base):this.benefForm.controls.fileNameOrdreF.setValue(this.base),this.PathReportString=this.filePath,this.toshow=!0},this.nom=t.target.files[0].name,r.readAsDataURL(t.target.files[0])}else console.log("not image nor pdf"),this.modalTitle="Alerte",this.modalBody="Veuillez choisir un document type image ou bien PDF",this.modalButtonLeft="Fermer",null===(n=document.getElementById("btnAlert"))||void 0===n||n.click()}test(){}getTypeVirement(){this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.cardBenef.reset(),this.benefForm.controls.ribBenef.clearValidators(),this.benefForm.controls.cardBenef.clearValidators(),this.benefForm.controls.ribBenef.updateValueAndValidity(),this.benefForm.controls.cardBenef.updateValueAndValidity(),this.isCard=!1,this.isRib=!1,"carte"==this.benefForm.controls.typeVir.value.toLowerCase()?(this.benefForm.controls.cardBenef.setValidators([d.kI.required,d.kI.pattern("^[0-9]{16}$")]),this.isCard=!0):"compte"==this.benefForm.controls.typeVir.value.toLowerCase()&&(this.benefForm.controls.ribBenef.setValidators([d.kI.required,d.kI.pattern("^[0-9]{20}$")]),this.isRib=!0),this.benefForm.controls.ribBenef.updateValueAndValidity(),this.benefForm.controls.cardBenef.updateValueAndValidity()}getMotifCommun(t){if(this.benefForm.controls.motifbenef.reset(),this.motifcommun=null==t?void 0:t.target.checked,1==(null==t?void 0:t.target.checked)){var n=document.getElementById("motifbenef");document.getElementById("motifopt").style.display="none",n.disabled=!0,this.benefForm.controls.motifbenef.clearValidators(),this.benefForm.controls.motifbenef.updateValueAndValidity(),this.benefForm.controls.motifbenef.setValue(this.virementFForm.controls.motif.value)}else this.benefForm.controls.motifbenef.addValidators(d.kI.required),this.benefForm.controls.motifbenef.updateValueAndValidity(),n=document.getElementById("motifbenef"),document.getElementById("motifopt").style.display="inline",n.disabled=!1}isValidCSVFile(t){return t.name.endsWith(".csv")}getDataRecordsArrayFromCSVFile(t,n){var o,r,m,a,u,_,x,F;let f=[];for(let p=1;p<t.length;p++){let c=t[p].split(";");if(c.length==n){let v=new ue.t;v.NOM=null===(o=c[0])||void 0===o?void 0:o.trim(),v.MATRICULE=null===(r=c[1])||void 0===r?void 0:r.trim(),v.NUMPAIEMENT=null===(m=c[2])||void 0===m?void 0:m.trim(),v.TELBENEF=null===(a=c[3])||void 0===a?void 0:a.trim(),v.EMAILBENEF=null===(u=c[4])||void 0===u?void 0:u.trim(),v.MONTANT=null===(_=c[5])||void 0===_?void 0:_.trim(),v.REFERENCE=null===(x=c[6])||void 0===x?void 0:x.trim(),v.MOTIF=null===(F=c[7])||void 0===F?void 0:F.trim(),f.push(v)}}return f}getHeaderArray(t){let n=t[0].split(","),o=[];for(let r=0;r<n.length;r++)o.push(n[r]);return o}uploadListener(t){let o=t.srcElement.files;if(this.fileNameBenef=t.target.files[0].name,this.isValidCSVFile(o[0])){var r=new FileReader;r.onload=a=>{this.filePath=a.target.result;var u=this.filePath.toString().replace("data:application/vnd.ms-excel;base64,","");this.base=u.replace("data:text/csv;base64,",""),this.virementFForm.controls.filenameCSV.setValue(this.base)},r.readAsDataURL(t.target.files[0]),this.uploadListener2(t),r.onerror=function(){}}else alert("Please import valid .csv file."),this.fileReset()}uploadListener2(t){let o=t.srcElement.files;if(this.fileNameBenef=t.target.files[0].name,this.isValidCSVFile(o[0])){let r=t.target,m=new FileReader;m.readAsText(r.files[0]),m.onload=a=>{let _=m.result.split(/\r\n|\n/),F=(this.getHeaderArray(_),_[0].split(";"));this.records=this.getDataRecordsArrayFromCSVFile(_,F.length)},m.onerror=function(){}}else alert("Please import valid .csv file."),this.fileReset()}fileReset(){this.csvReader.nativeElement.value="",this.records=[]}ControlRIB(){var t,n,o,r,m;null===(t=this.benefForm.get("ribBenef"))||void 0===t||t.clearValidators(),null===(n=this.benefForm.get("ribBenef"))||void 0===n||n.updateValueAndValidity(),null===(o=this.benefForm.get("ribBenef"))||void 0===o||o.setValidators([d.kI.required,d.kI.pattern("^[0-9]{20}$")]),null===(r=this.benefForm.get("ribBenef"))||void 0===r||r.updateValueAndValidity();let a=null===(m=this.benefForm.get("ribBenef"))||void 0===m?void 0:m.value;if(20==a.length){let u={NumeroCompte:a};null!=a&&null!=a&&""!=a&&this.BenefServ.ControlAccountBenef(u,this.token).subscribe(_=>{var x,F,f,p,c,v,h,g;this.RetourCompte=_,("01"==this.RetourCompte.ResponseCode||"99"==this.RetourCompte.ResponseCode)&&(this.checkribbenef=!1,null===(x=this.benefForm.get("ribBenef"))||void 0===x||x.addValidators([(0,S.b)("ribBenef",this.checkribbenef)]),null===(F=this.benefForm.get("ribBenef"))||void 0===F||F.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="V\xe9rifier le  RIB en input !",this.modalButtonLeft="OK",null===(f=document.getElementById("exampleModalLabelProcessedalert"))||void 0===f||f.setAttribute("style","color:red;font-weight:bold;text-align: center;"),null===(p=document.getElementById("btnAlert"))||void 0===p||p.click()),"00"==this.RetourCompte.ResponseCode&&("Active"!=this.RetourCompte.Status?(this.checkribbenef=!1,null===(c=this.benefForm.get("ribBenef"))||void 0===c||c.addValidators([(0,S.b)("ribBenef",this.checkribbenef)]),null===(v=this.benefForm.get("ribBenef"))||void 0===v||v.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="Verifier le  RIB en input !",this.modalButtonLeft="OK",null===(h=document.getElementById("exampleModalLabelProcessedalert"))||void 0===h||h.setAttribute("style","color:red;font-weight:bold;text-align: center;"),null===(g=document.getElementById("btnAlert"))||void 0===g||g.click()):this.checkribbenef=!0)},_=>{console.log("error API"),-1!=_.indexOf("401")&&this.router.navigate(["/"])})}else this.checkribbenef=!0}controlRefBenef(){var t,n,o,r;null===(t=this.benefForm.get("referenceB"))||void 0===t||t.clearValidators(),null===(n=this.benefForm.get("referenceB"))||void 0===n||n.updateValueAndValidity(),null===(o=this.benefForm.get("referenceB"))||void 0===o||o.setValidators([d.kI.required]),null===(r=this.benefForm.get("referenceB"))||void 0===r||r.updateValueAndValidity()}ControlCarte(){var t,n,o,r,m;null===(t=this.benefForm.get("cardBenef"))||void 0===t||t.clearValidators(),null===(n=this.benefForm.get("cardBenef"))||void 0===n||n.updateValueAndValidity(),null===(o=this.benefForm.get("cardBenef"))||void 0===o||o.setValidators([d.kI.required,d.kI.pattern("^[0-9]{16}$")]),null===(r=this.benefForm.get("cardBenef"))||void 0===r||r.updateValueAndValidity();let a=null===(m=this.benefForm.get("cardBenef"))||void 0===m?void 0:m.value;if(16==a.length){let u={cardNumber:a};null!=a&&null!=a&&""!=a&&this.BenefServ.ControlCardBenef(u,this.token).subscribe(_=>{var x,F,f,p,c,v,h,g,A;this.RetourCompte=_,("01"==this.RetourCompte.CodeResponse||"99"==this.RetourCompte.CodeResponse||"04"==this.RetourCompte.CodeResponse)&&(this.checkCardBenef=!1,null===(x=this.benefForm.get("cardBenef"))||void 0===x||x.addValidators([(0,S.b)("cardBenef",this.checkCardBenef)]),null===(F=this.benefForm.get("cardBenef"))||void 0===F||F.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="Verifier la carte en input !",this.modalButtonLeft="OK",null===(f=document.getElementById("btnAlert"))||void 0===f||f.click()),"00"==this.RetourCompte.CodeResponse&&("Delivered"!=this.RetourCompte.Status?(this.checkCardBenef=!1,null===(p=this.benefForm.get("cardBenef"))||void 0===p||p.addValidators([(0,S.b)("cardBenef",this.checkCardBenef)]),null===(c=this.benefForm.get("cardBenef"))||void 0===c||c.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="Carte Non Valide !",this.modalButtonLeft="OK",null===(v=document.getElementById("btnAlert"))||void 0===v||v.click()):"Delivered"==this.RetourCompte.Status&&("PFBB13"==this.RetourCompte.CardCode||"PFBB14"==this.RetourCompte.CardCode?this.checkCardBenef=!0:(this.checkCardBenef=!1,null===(h=this.benefForm.get("cardBenef"))||void 0===h||h.addValidators([(0,S.b)("cardBenef",this.checkCardBenef)]),null===(g=this.benefForm.get("cardBenef"))||void 0===g||g.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="Type Carte Non Valide !",this.modalButtonLeft="OK",null===(A=document.getElementById("btnAlert"))||void 0===A||A.click())))},_=>{console.log("error API"),-1!=_.indexOf("401")&&this.router.navigate(["/"])})}}showDocument(){var t;(this.PathReportString.toLowerCase().includes("tiff")||this.PathReportString.toLowerCase().includes("tif"))&&(this.PathReportString=this.PathReportString.replace("tiff","png"),this.PathReportString=this.PathReportString.replace("tif","png")),this.toshow=!1,null===(t=document.getElementById("ifrm"))||void 0===t||t.setAttribute("src",this.PathReportString);let n=document.getElementById("ifrm");null!=n&&(n.style.display="block")}hideDocument(){var t;this.toshow=!0,null===(t=document.getElementById("ifrm"))||void 0===t||t.removeAttribute("src");let n=document.getElementById("ifrm");null!=n&&(n.style.display="none")}showDocumentFM(){this.toshowfm=!1;let t=document.getElementById("framefm");null!=t&&(t.style.display="block")}hideDocumentFM(){this.toshowfm=!0;let t=document.getElementById("framefm");null!=t&&(t.style.display="none")}FermerAlert(){var t;null===(t=document.getElementById("alertPop"))||void 0===t||t.setAttribute("class","modal fade  hide")}downloadCSVStruct(){this.VirServ.DownloadF("vm",this.token).subscribe(t=>{this.FileStructure=t.body;const n=`data:application/csv;base64,${this.FileStructure}`,o=document.createElement("a");o.href=n,o.download="StructureVM.csv",o.click()},t=>{this.chargedData=!1,-1!=t.indexOf("401")&&this.router.navigate(["/"])})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(se.I),e.Y36(d.qu),e.Y36(de.eN),e.Y36(le.F0),e.Y36(me.r),e.Y36(ae.t),e.Y36(ce.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-autre-virement"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Oo,5),e.Gf(Lo,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.csvReader=o.first),e.iGM(o=e.CRH())&&(n.filefmandat=o.first)}},decls:77,vars:13,consts:[["class","card",4,"ngIf"],["id","verticalycentered","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"width","fit-content !important"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","id","dismissmodal","data-bs-dismiss","modal",1,"btn","btn-secondary",2,"margin-right","auto"],["type","button","id","btnright",1,"btn","btn-primary",3,"click"],["id","alert","tabindex","-1",1,"modal","fade"],[1,"modal-header",2,"align-self","center"],["id","exampleModalLabelProcessedalert",1,"modal-body"],[1,"modal-footer",2,"align-self","center"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-toggle","modal","data-bs-target","#alertPop","id","btnalertPop",1,"btn","btn-primary",2,"display","none"],["id","alertPop","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content",2,"place-items","center"],[1,"modal-header",2,"border-bottom","0"],["id","exampleModalLabelProcessedpop",1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#alertPopfresh","id","btnalertPopfresh",1,"btn","btn-primary",2,"display","none"],["id","alertPopfresh","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],[1,"modal-header",2,"border-bottom","0 !important"],["id","exampleModalLabelProcessed",1,"modal-title",2,"color","rgb(7, 7, 7)"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["id","btnVerifexist","data-bs-toggle","modal","data-bs-target","#verticalycentered","hidden",""],["id","btnAlert","data-bs-toggle","modal","data-bs-target","#alert","hidden",""],["type","button","data-bs-toggle","modal","data-bs-target","#alertPopdoublons","id","btnalertPopdoublons",1,"btn","btn-primary",2,"display","none"],["id","alertPopdoublons","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog","modal-lg"],["id","exampleModalLabelProcessedpopdoublons",1,"modal-title"],[1,"row","pt-2"],[1,"col-12"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-lg-12","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"row","mb-3",2,"place-content","center"],["class","col-3",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-3"],[1,"form-check"],["type","radio",1,"form-check-input",3,"value","ngModel","change","ngModelChange"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["class","row pt-2",4,"ngIf"],[1,"col-sm-12","col-lg-3","col-md-6"],[1,"col-12","col-form-label"],[2,"color","red"],["autocomplete","off","type","text","name","mntTot","formControlName","mntTot",1,"form-control",3,"ngClass","change"],["class","alert alert-danger",4,"ngIf"],["formControlName","mntCalculated","disabled","",1,"col-12","other","form-control"],["type","checkbox","id","motifcommunid",1,"form-check-input",2,"float","right",3,"click"],["for","motifcommunid",1,"form-check-label",2,"float","right"],["autocomplete","off","type","text","name","motif","formControlName","motif",1,"form-control",3,"ngClass","keyup"],[1,"col-6","col-form-label"],["autocomplete","off","type","text","name","reference","formControlName","reference",1,"form-control",3,"ngClass","keyup"],[1,"col-sm-12","col-lg-4","col-md-4"],["formControlName","formattedAmount","disabled","",1,"col-12","other","form-control"],[1,"col-sm-12","col-lg-8","col-md-8"],["autocomplete","off","type","text","name","motif","formControlName","comment","rows","1",1,"form-control"],[1,"col-sm-12","col-lg-12","col-md-12"],["formControlName","amountLetters","disabled","",1,"col-12","other","form-control"],["autocomplete","off","type","text","name","nomBenef","formControlName","nomBenef",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","prenomBenef","formControlName","prenomBenef",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","refBenef","formControlName","refBenef",1,"form-control",3,"keyup"],["id","motifopt",2,"color","red"],["id","motifbenef","autocomplete","off","type","text","name","motifbenef","formControlName","motifbenef",1,"form-control",3,"ngClass"],[1,"col-sm-12","col-lg-3","col-md-4"],["name","typeVir","formControlName","typeVir","required","",1,"form-select",3,"ngClass","change"],["selected","","disabled","","value",""],[3,"value","disabled",4,"ngFor","ngForOf"],["class","col-sm-12 col-lg-3 col-md-4 ",4,"ngIf"],["autocomplete","off","type","text","name","mntBenef","formControlName","mntBenef",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","referenceB","formControlName","referenceB",1,"form-control",3,"ngClass","keyup"],["type","button","id","btnAdd",1,"btn","btn-primary",3,"disabled","click"],[1,"bi","bi-plus"],[1,"col-4"],["for","declarationB",1,"label-file"],["formControlName","ordreVirementBenef","type","file",2,"visibility","hidden",3,"change"],["fileordre",""],["id","declarationB",1,"input-file",3,"click"],[1,"col-3","text-left"],["class","btn btn-primary btn-md btnFile",3,"click",4,"ngIf"],["class","btn btn-warning btn-md btnFile",3,"disabled","click",4,"ngIf"],[1,"col-1"],["type","button","class","btn btn-danger ",3,"click",4,"ngIf"],[1,"row"],["id","ifrm",2,"width","inherit","height","1000px","display","none"],[1,"col-12",2,"text-align","-webkit-right"],["id","btninit",1,"btn","btn-primary","btn-md",3,"disabled","click"],["name","tiers","formControlName","tiers","required","",1,"form-select",3,"ngClass","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"alert","alert-danger"],["style","font-size:12px",4,"ngIf"],[2,"font-size","12px"],[1,"col-sm-12","col-lg-6","col-md-6"],["name","numcpt","formControlName","numcpt","required","",1,"form-select",3,"ngClass","change"],["Value","","hidden","","selected",""],["class","col-sm-12 col-lg-6 col-md-6 ",4,"ngIf"],[1,"col-12","other","form-control"],[3,"value","disabled"],["autocomplete","off","type","text","name","ribBenef","formControlName","ribBenef",1,"form-control",3,"ngClass","keyup"],["autocomplete","off","type","text","name","cardBenef","formControlName","cardBenef",1,"form-control",3,"ngClass","keyup"],["type","button",1,"btn","btn-dark",3,"disabled","click"],[1,"bi","bi-pencil-square"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],[1,"btn","btn-primary","btn-md","btnFile",3,"click"],[1,"btn","btn-warning","btn-md","btnFile",3,"disabled","click"],["type","button",1,"btn","btn-primary",2,"float","right",3,"click"],[1,"bi","bi-download"],["autocomplete","off","type","text","name","motif","formControlName","motif",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","reference","formControlName","reference",1,"form-control",3,"ngClass"],["for","declarationBenef",1,"label-file"],["formControlName","fileCsv","type","file",2,"visibility","hidden",3,"change"],["fileReader",""],["id","declarationBenef",1,"input-file",3,"click"],[1,"col-6"],[1,"col-6","text-left"],[1,"pt-2"],["class","table table-bordered",4,"ngIf"],["for","declaration",1,"label-file"],["formControlName","ordreVirement","type","file",2,"visibility","hidden",3,"change"],["fileordrecsv",""],["id","declaration",1,"input-file",3,"click"],["id","btncsv",1,"btn","btn-primary","btn-md",3,"disabled","click"],[1,"table","table-bordered"],["type","file",2,"visibility","hidden",3,"change"],["filefmandat",""],["formControlName","fileNameFM","id","declarationBenef",1,"input-file",3,"click"],["id","framefm",1,"row","pt-2",2,"display","none"],["fileordreVfm",""],["id","btnfm",1,"btn","btn-primary","btn-md",3,"disabled","click"]],template:function(t,n){1&t&&(e.YNc(0,Qo,8,0,"div",0),e.YNc(1,Nr,9,4,"div",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5",5),e._uU(7),e.qZA(),e._UZ(8,"button",6),e.qZA(),e.TgZ(9,"div",7),e._uU(10),e.qZA(),e.TgZ(11,"div",8)(12,"button",9),e._uU(13),e.qZA(),e.TgZ(14,"button",10),e.NdJ("click",function(){return n.Ok()}),e._uU(15),e.qZA()()()()(),e.TgZ(16,"div",11)(17,"div",2)(18,"div",3)(19,"div",12)(20,"h5",5),e._uU(21),e.qZA()(),e.TgZ(22,"div",13),e._uU(23),e.qZA(),e.TgZ(24,"div",14)(25,"button",15),e._uU(26),e.qZA()()()()(),e._UZ(27,"button",16),e.TgZ(28,"div",17)(29,"div",18)(30,"div",19)(31,"div",20)(32,"h5",21)(33,"p"),e._uU(34),e.qZA()()(),e.TgZ(35,"div",8)(36,"button",22),e.NdJ("click",function(){return n.FermerAlert()}),e._uU(37,"Fermer"),e.qZA()()()()(),e._UZ(38,"button",23),e.TgZ(39,"div",24)(40,"div",18)(41,"div",19)(42,"div",25)(43,"h5",26)(44,"p"),e._uU(45),e.qZA()()(),e.TgZ(46,"div",8)(47,"button",27),e.NdJ("click",function(){return n.FermerAlertAvecRefresh()}),e._uU(48,"Fermer"),e.qZA()()()()(),e._UZ(49,"button",28)(50,"button",29)(51,"button",30),e.TgZ(52,"div",31)(53,"div",32)(54,"div",19)(55,"div",20)(56,"h5",33)(57,"p"),e._uU(58),e.qZA()()(),e.TgZ(59,"div",7)(60,"div",34)(61,"div",35)(62,"table",36)(63,"thead")(64,"tr")(65,"th",37),e._uU(66,"Nom & pr\xe9nom b\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(67,"th",37),e._uU(68,"Montant"),e.qZA(),e.TgZ(69,"th",37),e._uU(70,"Num\xe9ro du paiement"),e.qZA(),e._UZ(71,"th"),e.qZA()(),e.TgZ(72,"tbody"),e.YNc(73,Ir,7,3,"tr",38),e.qZA()()()()(),e.TgZ(74,"div",8)(75,"button",22),e.NdJ("click",function(){return n.FermerAlertAvecRefresh()}),e._uU(76,"Fermer"),e.qZA()()()()()),2&t&&(e.Q6J("ngIf",n.chargedData),e.xp6(1),e.Q6J("ngIf",!n.chargedData),e.xp6(6),e.Oqu(n.modalTitle),e.xp6(3),e.hij(" ",n.modalBody," "),e.xp6(3),e.Oqu(n.modalButtonLeft),e.xp6(2),e.Oqu(n.modalButtonRight),e.xp6(6),e.Oqu(n.modalTitle),e.xp6(2),e.hij(" ",n.modalBody," "),e.xp6(3),e.Oqu(n.modalButtonLeft),e.xp6(8),e.hij(" ",n.msgAlert," "),e.xp6(11),e.hij(" ",n.msgAlert," "),e.xp6(13),e.hij(" ",n.msgAlert," "),e.xp6(15),e.Q6J("ngForOf",n.doublons))},directives:[ee.O5,ee.sg,d._,d.Fj,d.JJ,d.On,d._Y,d.JL,d.sg,d.EJ,d.u,d.Q7,ee.mk,d.YN,d.Kr],styles:[".other[_ngcontent-%COMP%]{background-color:#e7e7e7;color:#000}.show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}.label-file[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;cursor:pointer;background-color:#27597a;color:#fff;font-weight:700;height:auto;border-radius:5px;padding:6px 10px 10px}.label-file[_ngcontent-%COMP%]:hover{color:#fff;background-color:#007bff}.input-file[_ngcontent-%COMP%]{display:none}.btnFile[_ngcontent-%COMP%]{width:-webkit-fill-available}"]}),i})(),canActivate:[re.a],data:{breadcrumb:{alias:"Autre Virement"}}},{path:"virement-xpress",component:(()=>{class i{constructor(t,n,o,r,m,a,u){this.BenefServ=t,this.fb=n,this.http=o,this.router=r,this.auth=m,this.VirServ=a,this.opImpService=u,this.checkreference=!0,this.benefformModel=new ie.z,this.benefformList=[],this.virementModel=new fe.T,this.records=[],this.virFileModel=new _e.O,this.textfileContent="",this.PathReportString="",this.chargedData=!1,this.checkreferencebenef=!0,this.checkCardBenef=!0,this.checkribbenef=!0,this.motifcommun=!1,this.listTypeVir=["Carte","Compte","Wallet"],this.typeData=["Via Formulaire","Via fichier CSV","Via F-mandat"],this.libDevise="DINARS",this.onetiers=!0,this.choseTiers=!1,this.ListTiers=[],this.hasTiersClient=!1,this.listTiers=[],this.benefModel=new K.O,this.listBenef=[],this.validation_messages={numcpt:[{type:"required",message:"Ce champs est obligatoire"}],tiers:[{type:"required",message:"Veuillez choisir un tiers"}],mntTot:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Valeur invalide"}],motif:[{type:"required",message:"Ce champs est obligatoire"}],nomBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Ce champ n'accepte pas des chiffres"}],prenomBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Ce champ n'accepte pas des chiffres"}],ribBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Le RIB doit \xeatre compos\xe9 de 20 chiffres"},{type:"checkControl",message:"Veuillez saisir un autre compte"}],cardBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Le n\xb0 de carte doit \xeatre compos\xe9 de 16 chiffres"},{type:"checkControl",message:"Veuillez saisir une autre carte"}],mntBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Valeur invalide"}],refBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"checkControl",message:"Veuillez saisir une autre r\xe9f\xe9rence"}],motifbenef:[{type:"required",message:"Ce champs est obligatoire"}],reference:[{type:"required",message:"Ce champs est obligatoire"},{type:"checkControl",message:"R\xe9f\xe9rence existe d\xe9j\xe0."}],referenceB:[{type:"required",message:"Ce champs est obligatoire"},{type:"checkControl",message:"Veuillez saisir une autre r\xe9f\xe9rence"}]},this.list0=[],this.listCompts=[],this.mntIntroduit=0,this.createForm()}ngOnInit(){this.chargedData=!0,this.motifcommun=!1,this.istrue=localStorage.getItem("istrue"),this.token=localStorage.getItem("token"),this.cuser=localStorage.getItem("cuser"),this.cuser=this.cuser.toLowerCase(),this.tiersForm.reset(),"true"==this.istrue?(this.isForm=!1,this.isCSV=!1,this.isFM=!1,this.cuser=localStorage.getItem("cuser"),this.auth.getTiersByIdDigital(this.token).subscribe(t=>{this.ListTiers=t,this.chargedData=!1,0==this.ListTiers.length?(this.onetiers=!0,this.choseTiers=!0,this.hasTiersClient=!0):1==this.ListTiers.length?(this.tiersClient=this.ListTiers[0].Referentiel,this.onetiers=!0,this.choseTiers=!0,this.hasTiersClient=!0,this.listTiers.push(this.tiersClient),this.tiersForm.controls.tiers.setValue(this.tiersClient),this.gettiers()):(this.createForm(),(null==this.tiersClient||""==this.tiersClient)&&(this.tiersClient=void 0),null!=this.tiersClient&&(this.hasTiersClient=!0),this.onetiers=!1)},t=>{this.chargedData=!1,-1!=t.indexOf("401")&&this.router.navigate(["/"])})):this.router.navigate(["/"])}checkReference(){var t,n,o;this.checkreference=!0,null===(t=this.virementFForm.get("reference"))||void 0===t||t.clearValidators(),null===(n=this.virementFForm.get("reference"))||void 0===n||n.addValidators(d.kI.required),null===(o=this.virementFForm.get("reference"))||void 0===o||o.updateValueAndValidity()}createForm(){this.tiersForm=this.fb.group({tiers:["",d.kI.required]}),this.virementFForm=this.fb.group({numcpt:["",d.kI.required],mntTot:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^[0-9,.]*$")])),formattedAmount:new d.NI,amountLetters:new d.NI,mntCalculated:new d.NI,motif:["",d.kI.required],comment:new d.NI,fileCsv:new d.NI,ordreVirement:new d.NI,filenameO:"",filenameCSV:"",reference:["",d.kI.required]}),this.benefForm=this.fb.group({nomBenef:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^([a-zA-Z ]*)$")])),prenomBenef:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^([a-zA-Z ]*)$")])),ribBenef:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^[0-9]{20}$")])),cardBenef:new d.NI,mntBenef:new d.NI("",d.kI.compose([d.kI.required,d.kI.pattern("^[0-9,.]*$")])),referenceB:["",d.kI.required],refBenef:new d.NI,motifbenef:["",d.kI.required],ordreVirementBenef:new d.NI,fileNameOrdreF:"",typeVir:["",d.kI.required]}),this.FMandatForm=this.fb.group({motif:["",d.kI.required],reference:["",d.kI.required],comment:new d.NI,fileNameFM:["",d.kI.required],fileFmondat:"",ordreVirement:new d.NI,fileNameOrdreV:""})}countSubstring(t,n){let o=0,r=0;for(;r<t.length&&(r=t.indexOf(n,r),-1!==r);)o++,r+=n.length;return o}getAccountsBytiers(){var t;this.list0=[],this.listCompts=[],this.VirServ.MinimalByRef(this.token,null===(t=this.tiersForm.get("tiers"))||void 0===t?void 0:t.value).subscribe(n=>{this.listCompts=n.accounts;for(var o=0;o<this.listCompts.length;o++)this.list0.push(this.listCompts[o].account_routings[0])},n=>{-1!=n.indexOf("401")&&this.router.navigate(["/"])})}getAcc(){var t;let n=null===(t=this.virementFForm.get("numcpt"))||void 0===t?void 0:t.value,o="";for(var r=0;r<this.listCompts.length;r++)n==this.listCompts[r].account_routings[0].scheme&&(o=this.listCompts[r].id);this.choseRib=!0,this.opImpService.getDataByAccount(this.token,o).subscribe(m=>{this.AccountName=m.fullname.replace("null"," ")},m=>{-1!=m.indexOf("401")&&this.router.navigate(["/"])})}gettiers(){var t;null===(t=this.virementFForm.controls.numcpt)||void 0===t||t.reset(),this.choseRib=!1,this.listTiers=[],this.choseTiers=!0,this.hasTiersClient=!0,this.listTiers.push(this.tiersClient),this.getAccountsBytiers()}getChosenType(t){this.isForm=!1,this.records=[],this.isCSV=!1,this.isFM=!1,this.listBenef=[],this.choseRib=!1,this.mntIntroduit=0,this.choseTiers=!1,1==this.ListTiers.length?this.choseTiers=!0:this.tiersForm.reset(),this.AccountName="",this.fileName="",this.fileNameBenef="",this.virementFForm.reset(),this.benefForm.reset(),this.FMandatForm.reset(),this.virementFForm.controls.reference.clearValidators(),this.virementFForm.controls.reference.addValidators([d.kI.required]),this.virementFForm.controls.reference.updateValueAndValidity(),this.virementFForm.controls.fileCsv.clearValidators(),this.virementFForm.controls.fileCsv.updateValueAndValidity(),"Via Formulaire"==this.typechoice?this.isForm=!0:"Via fichier CSV"==this.typechoice?(this.virementFForm.controls.fileCsv.setValidators([d.kI.required]),this.virementFForm.controls.fileCsv.updateValueAndValidity(),this.isCSV=!0):this.isFM=!0}getWord(t){this.opImpService.getWordFromAmount(t,this.token,this.libDevise,"MILLIMES").subscribe(n=>{this.virementFForm.controls.amountLetters.setValue(n.body)},n=>{-1!=n.indexOf("401")&&this.router.navigate(["/"])})}getWordByAmount(){var t=this.virementFForm.controls.formattedAmount.value.toString();this.getWord(t)}getFormatedAmount(){this.virementFForm.controls.amountLetters.reset(),this.virementFForm.controls.formattedAmount.reset(),this.valueletters="",this.opImpService.getFormatedAmount("TND",this.virementFForm.controls.mntTot.value,this.token).subscribe(t=>{this.virementFForm.controls.formattedAmount.setValue(t.body),this.getWordByAmount()},t=>{-1!=t.indexOf("401")&&this.router.navigate(["/"])})}getMotif(){1==this.motifcommun&&this.benefForm.controls.motifbenef.setValue(this.virementFForm.controls.motif.value)}addBenefToTable(){var t,n,o,r,m,a,u,_,x,F,f,p,c,v;this.benefModel.benefFirstName=this.benefForm.controls.prenomBenef.value,this.benefModel.benefLastName=this.benefForm.controls.nomBenef.value;let h=this.benefModel.benefFirstName+" "+this.benefModel.benefLastName;console.log(h),this.benefModel.benefAmount=this.benefForm.controls.mntBenef.value,this.benefModel.benefReference=this.benefForm.controls.referenceB.value,this.benefModel.benefMotif=1==this.motifcommun?this.virementFForm.controls.motif.value:this.benefForm.controls.motifbenef.value,this.benefModel.benefIdentity=this.benefForm.controls.refBenef.value,this.benefModel.typeVirement=this.benefForm.controls.typeVir.value,"Carte"==this.benefModel.typeVirement?this.benefModel.numVirement=this.benefForm.controls.cardBenef.value:"Compte"==this.benefModel.typeVirement&&(this.benefModel.numVirement=this.benefForm.controls.ribBenef.value),this.benefModel.benefReference==this.virementFForm.controls.reference.value&&this.listBenef.length>1?(this.modalBody="La r\xe9f\xe9rence virement ne peut pas \xeatre la m\xeame du b\xe9n\xe9ficiaire",this.modalButtonLeft="OK",this.checkreferencebenef=!1,null===(t=document.getElementById("exampleModalLabelProcessedalert"))||void 0===t||t.setAttribute("style","color:blue;font-weight:bold"),null===(n=this.benefForm.get("referenceB"))||void 0===n||n.addValidators([(0,S.b)("referenceB",this.checkreferencebenef)]),null===(o=this.benefForm.get("referenceB"))||void 0===o||o.updateValueAndValidity(),null===(r=document.getElementById("btnAlert"))||void 0===r||r.click()):this.listBenef.length>0?this.listBenef.some(g=>g.benefReference.toLocaleLowerCase()===this.benefModel.benefReference.toLocaleLowerCase())?(this.modalTitle="Alerte",this.modalBody="La r\xe9f\xe9rence du b\xe9n\xe9ficiaire que vous voudrez ajouter "+this.benefModel.benefReference+" existe d\xe9j\xe0",this.modalButtonLeft="OK",this.checkreferencebenef=!1,null===(m=document.getElementById("exampleModalLabelProcessedalert"))||void 0===m||m.setAttribute("style","color:blue;font-weight:bold"),null===(a=this.benefForm.get("referenceB"))||void 0===a||a.addValidators([(0,S.b)("referenceB",this.checkreferencebenef)]),null===(u=this.benefForm.get("referenceB"))||void 0===u||u.updateValueAndValidity(),null===(_=document.getElementById("btnAlert"))||void 0===_||_.click()):this.listBenef.some(g=>g.benefFirstName.toLocaleLowerCase()+" "+g.benefLastName.toLocaleLowerCase()!=h)?this.listBenef.some(g=>g.benefIdentity.toLocaleLowerCase()==this.benefModel.benefIdentity.toLocaleLowerCase())?(this.modalBody="Vous avez d\xe9j\xe0 ins\xe9rer un b\xe9n\xe9ficiaire ayant la matricule "+this.benefModel.benefIdentity+" mais avec un nom diff\xe9rent",this.modalButtonLeft="OK",null===(x=document.getElementById("exampleModalLabelProcessedalert"))||void 0===x||x.setAttribute("style","color:blue;font-weight:bold"),null===(F=document.getElementById("btnAlert"))||void 0===F||F.click()):this.listBenef.some(g=>g.numVirement==this.benefModel.numVirement)?(this.modalBody="Vous avez d\xe9j\xe0 ins\xe9rer un b\xe9n\xe9ficiaire ayant le num\xe9ro du paiement "+this.benefModel.numVirement+" mais avec un nom diff\xe9rent",this.modalButtonLeft="OK",null===(f=document.getElementById("exampleModalLabelProcessedalert"))||void 0===f||f.setAttribute("style","color:blue;font-weight:bold"),null===(p=document.getElementById("btnAlert"))||void 0===p||p.click()):this.listBenef.some(g=>g.benefAmount===this.benefModel.benefAmount)&&this.listBenef.some(g=>g.numVirement===this.benefModel.numVirement)?(this.modalTitle="Rappel",this.modalBody="B\xe9n\xe9ficiaire d\xe9j\xe0 existant",this.modalButtonLeft="Annuler",this.modalButtonRight="OK",null===(c=document.getElementById("btnVerifexist"))||void 0===c||c.click()):(this.listBenef.push(this.benefModel),this.isCard=!1,this.isRib=!1,this.benefModel=new K.O,this.benefForm.controls.prenomBenef.reset(),this.benefForm.controls.nomBenef.reset(),this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.mntBenef.reset(),this.benefForm.controls.refBenef.reset(),0==this.motifcommun&&this.benefForm.controls.motifbenef.reset(),this.benefForm.controls.typeVir.reset(),this.benefForm.controls.cardBenef.reset(),this.benefForm.controls.referenceB.reset()):this.listBenef.some(g=>g.benefAmount===this.benefModel.benefAmount)&&this.listBenef.some(g=>g.numVirement===this.benefModel.numVirement)?(this.modalTitle="Rappel",this.modalBody="B\xe9n\xe9ficiaire d\xe9j\xe0 existant",this.modalButtonLeft="Annuler",this.modalButtonRight="OK",null===(v=document.getElementById("btnVerifexist"))||void 0===v||v.click()):(this.listBenef.push(this.benefModel),this.isCard=!1,this.isRib=!1,this.benefModel=new K.O,this.benefForm.controls.prenomBenef.reset(),this.benefForm.controls.nomBenef.reset(),this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.mntBenef.reset(),this.benefForm.controls.refBenef.reset(),0==this.motifcommun&&this.benefForm.controls.motifbenef.reset(),this.benefForm.controls.typeVir.reset(),this.benefForm.controls.cardBenef.reset(),this.benefForm.controls.referenceB.reset()):(this.listBenef.push(this.benefModel),this.benefModel=new K.O,this.isCard=!1,this.isRib=!1,this.benefForm.controls.prenomBenef.reset(),this.benefForm.controls.nomBenef.reset(),this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.mntBenef.reset(),this.benefForm.controls.refBenef.reset(),0==this.motifcommun&&this.benefForm.controls.motifbenef.reset(),this.benefForm.controls.typeVir.reset(),this.benefForm.controls.cardBenef.reset(),this.benefForm.controls.referenceB.reset())}controlMatricule(){var t,n;null===(t=this.benefForm.get("refBenef"))||void 0===t||t.clearValidators(),null===(n=this.benefForm.get("refBenef"))||void 0===n||n.updateValueAndValidity()}RemoveBenef(t){this.listBenef.splice(t,1)}EditBenef(t,n){this.benefForm.controls.nomBenef.setValue(t.benefLastName),this.benefForm.controls.prenomBenef.setValue(t.benefFirstName),this.benefForm.controls.ribBenef.setValue(t.numVirement),this.benefForm.controls.mntBenef.setValue(t.benefAmount),this.benefForm.controls.refBenef.setValue(t.benefIdentity),this.benefForm.controls.motifbenef.setValue(t.benefMotif),this.benefForm.controls.referenceB.setValue(t.benefReference),this.benefForm.controls.typeVir.setValue(t.typeVirement),"Carte"==t.typeVirement?(this.isCard=!0,this.isRib=!1,this.benefForm.controls.cardBenef.setValue(t.numVirement)):"Compte"==t.typeVirement&&(this.isCard=!1,this.isRib=!0,this.benefForm.controls.ribBenef.setValue(t.numVirement)),this.listBenef.splice(n,1)}Ok(){var t;this.listBenef.push(this.benefModel),this.benefModel=new K.O,this.benefForm.controls.prenomBenef.reset(),this.benefForm.controls.nomBenef.reset(),this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.mntBenef.reset(),this.benefForm.controls.refBenef.reset(),0==this.motifcommun&&this.benefForm.controls.motifbenef.reset(),this.benefForm.controls.typeVir.reset(),this.benefForm.controls.cardBenef.reset(),this.benefForm.controls.referenceB.reset(),null===(t=document.getElementById("dismissmodal"))||void 0===t||t.click()}initiateVir(t){var n,o,r,m,a,u,_,x,F;if(this.chargedData=!0,"F"==t){this.virementModel.benefmultiple=[],this.benefformModel=new ie.z,this.benefformList=[],null===(n=document.getElementById("btninit"))||void 0===n||n.setAttribute("disabled","disabled"),this.virementModel.AccountName=this.AccountName,this.virementModel.Comment=this.virementFForm.controls.comment.value,this.virementModel.Reference=this.virementFForm.controls.reference.value,this.virementModel.CommonCause=1==this.motifcommun?"O":"N",this.virementModel.FileOrdreVirement=this.benefForm.controls.fileNameOrdreF.value;let p=localStorage.getItem("cuser");if(null!=p&&(this.virementModel.RequestUser=p),null==this.nom&&(this.nom=""),""==this.nom)this.virementModel.FileType="";else{let b=null===(o=this.nom)||void 0===o?void 0:o.indexOf("."),T=null===(r=this.nom)||void 0===r?void 0:r.substr(b+1);this.virementModel.FileType=T}this.virementModel.FileName=this.nom;let c=new Date;console.log(c);let v=c.getMonth()+1,h=c.getDate(),g=c.getFullYear(),A=c.getHours(),C=c.getMinutes(),R=c.getSeconds();this.virementModel.IdTransaction=v.toString()+h.toString()+this.virementModel.Reference+g.toString().substring(2)+R.toString()+C.toString()+A.toString(),this.virementModel.OrderingCustomerAccount=this.virementFForm.controls.numcpt.value,this.virementModel.Reason=this.virementFForm.controls.motif.value,this.virementModel.TotalAmount=this.virementFForm.controls.mntTot.value,this.virementModel.TransactionType="Virement Xpress",this.virementModel.sourcetype="FS";for(var f=0;f<this.listBenef.length;f++)this.benefformModel.Amount=this.listBenef[f].benefAmount,this.benefformModel.Fullname=this.listBenef[f].benefFirstName+" "+this.listBenef[f].benefLastName,this.benefformModel.benefFirstName=this.listBenef[f].benefFirstName,this.benefformModel.benefLastName=this.listBenef[f].benefLastName,this.benefformModel.Currency="788",this.benefformModel.PaymentNumber=this.listBenef[f].numVirement,this.benefformModel.MeanOfPayment=16==this.benefformModel.PaymentNumber.length?"02":"01",this.benefformModel.Reason=this.listBenef[f].benefMotif,this.benefformModel.Reference=this.listBenef[f].benefReference,this.benefformModel.IdBenef=this.listBenef[f].benefIdentity,this.benefformList.push(this.benefformModel),this.benefformModel=new ie.z;this.virementModel.benefmultiple=this.benefformList,this.VirServ.createtransactionbenefmultiple(this.virementModel,this.token).subscribe(b=>{var T,s,Z,y,V,B,M,q,N,I,w,k,U,E,J;this.reponseIV=b,"00"==this.reponseIV.ResponseCode?(this.msgAlert="Virement enregistr\xe9 avec succ\xe8s.",null!=document.getElementById("exampleModalLabelProcessed")&&(null===(T=document.getElementById("exampleModalLabelProcessed"))||void 0===T||T.setAttribute("style","color:green;font-weight:bold")),null===(s=document.getElementById("btnalertPopfresh"))||void 0===s||s.click()):"01"==this.reponseIV.ResponseCode?(this.msgAlert="V\xe9rifier vos entr\xe9es",null===(Z=document.getElementById("exampleModalLabelProcessedpop"))||void 0===Z||Z.setAttribute("style","color:blue;font-weight:bold"),null===(y=document.getElementById("btnalertPop"))||void 0===y||y.click()):"11"==this.reponseIV.ResponseCode?(this.virementFForm.controls.mntCalculated.setValue(null==b?void 0:b.Status),this.msgAlert="La somme totale saisie n'est pas \xe9gale \xe0 celle du total b\xe9n\xe9ficiaire ("+(null==b?void 0:b.Status)+")",null===(V=document.getElementById("exampleModalLabelProcessedpop"))||void 0===V||V.setAttribute("style","color:red;font-weight:bold"),null===(B=document.getElementById("btnalertPop"))||void 0===B||B.click()):"02"==this.reponseIV.ResponseCode?(this.msgAlert="Veuillez r\xe9essayer plus tard (acc\xe8s)",null===(M=document.getElementById("exampleModalLabelProcessedpop"))||void 0===M||M.setAttribute("style","color:blue;font-weight:bold"),null===(q=document.getElementById("btnalertPop"))||void 0===q||q.click()):"05"==this.reponseIV.ResponseCode?(this.checkreference=!1,null===(N=this.virementFForm.get("reference"))||void 0===N||N.addValidators([(0,S.b)("reference",this.checkreference)]),null===(I=this.virementFForm.get("reference"))||void 0===I||I.updateValueAndValidity(),this.msgAlert="R\xe9f\xe9rence "+this.virementFForm.controls.reference.value+" existe d\xe9j\xe0.",null===(w=document.getElementById("exampleModalLabelProcessedpop"))||void 0===w||w.setAttribute("style","color:blue;font-weight:bold"),null===(k=document.getElementById("btnalertPop"))||void 0===k||k.click()):(this.msgAlert="Merci de r\xe9essayer plus tard",null===(U=document.getElementById("exampleModalLabelProcessedpop"))||void 0===U||U.setAttribute("style","color:blue;font-weight:bold"),null===(E=document.getElementById("btnalertPop"))||void 0===E||E.click()),null===(J=document.getElementById("btninit"))||void 0===J||J.removeAttribute("disabled"),this.chargedData=!1},b=>{var T;this.chargedData=!1,null===(T=document.getElementById("btninit"))||void 0===T||T.removeAttribute("disabled"),-1!=b.indexOf("401")&&this.router.navigate(["/"])})}else if("CSV"==t){null===(m=document.getElementById("btncsv"))||void 0===m||m.setAttribute("disabled","disabled"),this.virFileModel.FichierCsvFmandat="02",this.virFileModel.OrderingCustomerAccount=this.virementFForm.controls.numcpt.value,this.virFileModel.FileName=this.fileNameBenef,this.virFileModel.Base64=this.virementFForm.controls.filenameCSV.value,this.virFileModel.Comment=this.virementFForm.controls.comment.value,this.virFileModel.Reason=this.virementFForm.controls.motif.value,this.virFileModel.MontantTotal=this.virementFForm.controls.mntTot.value,this.virFileModel.MontantIntroduit=this.virementFForm.controls.mntCalculated.value,this.virFileModel.MontantFormate=this.virementFForm.controls.formattedAmount.value,this.virFileModel.MontantLettre=this.virementFForm.controls.amountLetters.value;let p=localStorage.getItem("cuser");null!=p&&(this.virFileModel.RequestUser=p);let c=null===(a=this.nom)||void 0===a?void 0:a.indexOf("."),v=null===(u=this.nom)||void 0===u?void 0:u.substr(c+1);this.virFileModel.FileType=v,this.virFileModel.Reference=this.virementFForm.controls.reference.value,this.virFileModel.TransactionType="Virement Xpress",this.virFileModel.FileOrdreVirement=this.virementFForm.controls.filenameO.value;let h=new Date;console.log(h);let g=h.getMonth()+1,A=h.getDate(),C=h.getFullYear(),R=h.getHours(),b=h.getMinutes(),T=h.getSeconds();this.virFileModel.IdTransaction=g.toString()+A.toString()+this.virFileModel.Reference+C.toString().substring(2)+T.toString()+b.toString()+R.toString(),console.log(this.virFileModel),this.VirServ.InitiationbyFmandatCsv(this.virFileModel,this.token).subscribe(s=>{var Z,y,V,B,M,q,N,I,w,k,U,E,J,O,L,Q,P,Y,D,j;if(this.chargedData=!1,this.RetourCompte=s,null===(Z=document.getElementById("btncsv"))||void 0===Z||Z.removeAttribute("disabled"),"00"==(null==s?void 0:s.OK))this.msgAlert="Virement enregistr\xe9 avec succ\xe8s",null===(y=document.getElementById("exampleModalLabelProcessed"))||void 0===y||y.setAttribute("style","color:green;font-weight:bold"),null===(V=document.getElementById("btnalertPopfresh"))||void 0===V||V.click();else if((null===(B=this.RetourCompte)||void 0===B?void 0:B.length)>0)this.doublons=s,this.msgAlert="Virement enregistr\xe9 avec succ\xe8s. N.B: Des doublons ont \xe9t\xe9 d\xe9tect\xe9s au niveau du fichier.",null===(M=document.getElementById("exampleModalLabelProcessedpopdoublons"))||void 0===M||M.setAttribute("style","color:blue;font-weight:bold"),null===(q=document.getElementById("btnalertPopdoublons"))||void 0===q||q.click(),this.virementFForm.controls.fileCsv.reset();else if("07"==(null==s?void 0:s.StatusCode))this.virementFForm.controls.mntCalculated.setValue(null==s?void 0:s.CalculatedAmount),this.msgAlert="Le montant introduit n'est pas \xe9gale \xe0 la somme des montants dans le fichier ("+(null==s?void 0:s.CalculatedAmount)+")",null===(N=document.getElementById("exampleModalLabelProcessedpop"))||void 0===N||N.setAttribute("style","color:blue;font-weight:bold"),null===(I=document.getElementById("btnalertPop"))||void 0===I||I.click();else if("05"==(null==s?void 0:s.ResponseCode))this.msgAlert="Identifiant virement existe",null===(w=document.getElementById("exampleModalLabelProcessedpop"))||void 0===w||w.setAttribute("style","color:blue;font-weight:bold"),null===(k=document.getElementById("btnalertPop"))||void 0===k||k.click();else if("10"==(null==s?void 0:s.StatusCode))this.msgAlert="Le num\xe9ro de carte "+(null==s?void 0:s.Ref)+" est invalide",null===(U=document.getElementById("exampleModalLabelProcessedpop"))||void 0===U||U.setAttribute("style","color:blue;font-weight:bold"),this.virementFForm.controls.fileCsv.reset(),null===(E=document.getElementById("btnalertPop"))||void 0===E||E.click();else if("11"==(null==s?void 0:s.StatusCode)){let $=null==s?void 0:s.Ref;1==this.countSubstring(null==s?void 0:s.Ref,",")&&($=null==s?void 0:s.Ref.replace(",","")),this.msgAlert="Votre demande \xe0 \xe9t\xe9 bien enregistr\xe9. N.B: Le(s) num\xe9ro(s) de paiement suivant(s) est/sont \xe9rron\xe9(s): "+$,null===(J=document.getElementById("exampleModalLabelProcessed"))||void 0===J||J.setAttribute("style","color:blue;font-weight:bold"),this.virementFForm.controls.fileCsv.reset(),null===(O=document.getElementById("btnalertPopfresh"))||void 0===O||O.click()}else"12"==(null==s?void 0:s.ResponseCode)?(this.msgAlert="R\xe9f\xe9rence existante",null===(L=document.getElementById("exampleModalLabelProcessedpop"))||void 0===L||L.setAttribute("style","color:blue;font-weight:bold"),null===(Q=document.getElementById("btnalertPop"))||void 0===Q||Q.click()):"Fichier erron\xe9"==(null==s?void 0:s.OBP2)?(this.msgAlert="Fichier erron\xe9",null===(P=document.getElementById("exampleModalLabelProcessedpop"))||void 0===P||P.setAttribute("style","color:red;font-weight:bold"),this.virementFForm.controls.fileCsv.reset(),null===(Y=document.getElementById("btnalertPop"))||void 0===Y||Y.click()):(this.msgAlert="Veuillez r\xe9essayer plus tard",null===(D=document.getElementById("exampleModalLabelProcessed"))||void 0===D||D.setAttribute("style","color:blue;font-weight:bold"),null===(j=document.getElementById("btnalertPopfresh"))||void 0===j||j.click())},s=>{var Z;this.chargedData=!1,null===(Z=document.getElementById("btncsv"))||void 0===Z||Z.setAttribute("disabled","disabled"),-1!=s.indexOf("401")&&this.router.navigate(["/"])})}else{null===(_=document.getElementById("btnfm"))||void 0===_||_.setAttribute("disabled","disabled"),this.virFileModel.FileName=this.fileNameBenef,this.virFileModel.Base64=this.FMandatForm.controls.fileNameFM.value;let p=null===(x=this.nom)||void 0===x?void 0:x.indexOf("."),c=null===(F=this.nom)||void 0===F?void 0:F.substr(p+1);this.virFileModel.FileType=c;let v=localStorage.getItem("cuser");null!=v&&(this.virFileModel.RequestUser=v),this.virFileModel.Reference=this.FMandatForm.controls.reference.value,this.virFileModel.TransactionType="Virement Xpress",this.virFileModel.FileOrdreVirement=this.FMandatForm.controls.fileNameOrdreV.value,this.virFileModel.Comment=this.FMandatForm.controls.comment.value,this.virFileModel.Reason=this.FMandatForm.controls.motif.value,this.virFileModel.FichierCsvFmandat="01";let h=new Date;console.log(h);let g=h.getMonth()+1,A=h.getDate(),C=h.getFullYear(),R=h.getHours(),b=h.getMinutes(),T=h.getSeconds();this.virFileModel.IdTransaction=g.toString()+A.toString()+this.virFileModel.Reference+C.toString().substring(2)+T.toString()+b.toString()+R.toString(),this.VirServ.InitiationbyFmandatCsv(this.virFileModel,this.token).subscribe(s=>{var Z,y,V,B,M,q,N,I,w,k,U,E,J,O,L,Q,P,Y,D,j,$,te;if(this.chargedData=!1,this.RetourCompte=s,null===(Z=document.getElementById("btnfm"))||void 0===Z||Z.removeAttribute("disabled"),"00"==(null==s?void 0:s.OK))this.msgAlert="Virement enregistr\xe9 avec succ\xe8s",null===(y=document.getElementById("exampleModalLabelProcessed"))||void 0===y||y.setAttribute("style","color:green;font-weight:bold"),null===(V=document.getElementById("btnalertPopfresh"))||void 0===V||V.click();else if((null===(B=this.RetourCompte)||void 0===B?void 0:B.length)>0)this.doublons=s,this.msgAlert="Virement enregistr\xe9 avec succ\xe8s. N.B: Des doublons ont \xe9t\xe9 d\xe9tect\xe9s au niveau du fichier.",null===(M=document.getElementById("exampleModalLabelProcessedpopdoublons"))||void 0===M||M.setAttribute("style","color:blue;font-weight:bold"),null===(q=document.getElementById("btnalertPopdoublons"))||void 0===q||q.click();else if("07"==(null==s?void 0:s.StatusCode))this.virementFForm.controls.mntCalculated.setValue(null==s?void 0:s.CalculatedAmount),this.msgAlert="Le montant introduit n'est pas \xe9gale \xe0 la somme des montants dans le fichier ("+(null==s?void 0:s.CalculatedAmount)+")",null===(N=document.getElementById("exampleModalLabelProcessedpop"))||void 0===N||N.setAttribute("style","color:blue;font-weight:bold"),null===(I=document.getElementById("btnalertPop"))||void 0===I||I.click();else if("05"==(null==s?void 0:s.ResponseCode))this.msgAlert="Identifiant virement existe",null===(w=document.getElementById("exampleModalLabelProcessedpop"))||void 0===w||w.setAttribute("style","color:blue;font-weight:bold"),null===(k=document.getElementById("btnalertPop"))||void 0===k||k.click();else if("12"==(null==s?void 0:s.ResponseCode))this.msgAlert="R\xe9f\xe9rence virement existe",null===(U=document.getElementById("exampleModalLabelProcessedpop"))||void 0===U||U.setAttribute("style","color:blue;font-weight:bold"),null===(E=document.getElementById("btnalertPop"))||void 0===E||E.click();else if("11"==(null==s?void 0:s.StatusCode)){let ne=null==s?void 0:s.Ref;1==this.countSubstring(null==s?void 0:s.Ref,",")&&(ne=null==s?void 0:s.Ref.replace(",","")),this.msgAlert="Votre demande \xe0 \xe9t\xe9 bien enregistr\xe9. N.B: Le(s) num\xe9ro(s) de paiement suivant(s) est/sont \xe9rron\xe9(s): "+ne,null===(J=document.getElementById("exampleModalLabelProcessed"))||void 0===J||J.setAttribute("style","color:blue;font-weight:bold"),this.virementFForm.controls.fileCsv.reset(),null===(O=document.getElementById("btnalertPopfresh"))||void 0===O||O.click()}else"Fichier erron\xe9"==(null==s?void 0:s.OBP2)?(this.msgAlert="Fichier erron\xe9",null===(L=document.getElementById("exampleModalLabelProcessedpop"))||void 0===L||L.setAttribute("style","color:red;font-weight:bold"),null===(Q=document.getElementById("alertPop"))||void 0===Q||Q.setAttribute("class","modal fade  show"),null===(P=document.getElementById("btnalertPop"))||void 0===P||P.click()):"Forbidden"==(null==s?void 0:s.Status)?(this.msgAlert="Vous n'\xeates pas autoris\xe9 \xe0 d\xe9biter le compte existant dans le fichier choisi.",null===(Y=document.getElementById("exampleModalLabelProcessedpop"))||void 0===Y||Y.setAttribute("style","color:red;font-weight:bold"),null===(D=document.getElementById("alertPop"))||void 0===D||D.setAttribute("class","modal fade  show"),null===(j=document.getElementById("btnalertPop"))||void 0===j||j.click()):(this.msgAlert="Veuillez r\xe9essayer plus tard",null===($=document.getElementById("exampleModalLabelProcessed"))||void 0===$||$.setAttribute("style","color:blue;font-weight:bold"),null===(te=document.getElementById("btnalertPopfresh"))||void 0===te||te.click())},s=>{var Z;this.chargedData=!1,null===(Z=document.getElementById("btnfm"))||void 0===Z||Z.removeAttribute("disabled"),-1!=s.indexOf("401")&&this.router.navigate(["/"])})}}FermerAlertAvecRefresh(){var t;null===(t=document.getElementById("alertPopfresh"))||void 0===t||t.setAttribute("class","modal fade  hide"),location.reload()}uploadBenef(t){var n,o;this.fileNameBenef="",this.textfileContent="",this.records=[],t.target.files&&t.target.files[0]&&(this.isCSV?-1==t.target.files[0].type.toString().indexOf("csv")?(this.modalTitle="Alerte",this.modalBody="Veuillez choisir un document type CSV",this.modalButtonLeft="Fermer",null===(n=document.getElementById("btnAlert"))||void 0===n||n.click(),this.FMandatForm.controls.fileCsv.reset()):this.uploadListener(t):this.isFM&&(-1==t.target.files[0].type.toString().indexOf("plain")?(this.modalTitle="Alerte",this.modalBody="Veuillez choisir un document type text/plain",this.modalButtonLeft="Fermer",null===(o=document.getElementById("btnAlert"))||void 0===o||o.click(),this.FMandatForm.controls.fileFmondat.reset()):this.uploadbeneffile(t)))}removeFMBenefFile(){this.FMandatForm.controls.fileFmondat.reset(),this.FMandatForm.controls.fileNameFM.reset(),this.fileNameBenef="",this.textfileContent="",this.hideDocumentFM()}removeFileOrdreForm(){this.benefForm.controls.ordreVirementBenef.reset(),this.fileName="",this.hideDocument()}removeFileOrdreFM(){this.FMandatForm.controls.ordreVirement.reset(),this.FMandatForm.controls.fileNameOrdreV.reset(),this.fileName="",this.PathReportString="",this.hideDocument()}removeFileOrdre(){this.virementFForm.controls.ordreVirement.reset(),this.virementFForm.controls.filenameO.reset(),this.fileName="",this.hideDocument()}removeCsvBenefFile(){this.virementFForm.controls.fileCsv.reset(),this.virementFForm.controls.filenameCSV.reset(),this.fileNameBenef="",this.records=[]}uploadbeneffile(t){this.hideDocumentFM();var n=new FileReader;this.fileNameBenef=t.target.files[0].name,this.filefmandat=this.fileNameBenef;let o=this;o.textfileContent="",console.log(this.fileNameBenef),n.onload=r=>{null!=n.result&&(o.textfileContent=n.result);let a,m=r.target;null!=m&&(a=m.result),null!=a&&(this.base=btoa(a.toString())),this.FMandatForm.controls.fileNameFM.setValue(this.base)},this.nom=t.target.files[0].name,n.readAsText(t.target.files[0]),this.toshowfm=!0}upload(t){var n;this.fileName="",this.PathReportString="";let o=document.getElementById("ifrm");if(null!=o&&(o.style.display="none"),t.target.files&&t.target.files[0])if(-1!=t.target.files[0].type.toString().indexOf("image")||-1!=t.target.files[0].type.toString().indexOf("pdf")){console.log("image or pdf");var r=new FileReader;this.fileName=t.target.files[0].name,r.onload=m=>{this.filePath=m.target.result;var a=this.filePath.toString().indexOf(",");this.base=this.filePath.toString().substr(a+1,this.filePath.toString().length),this.isFM?this.FMandatForm.controls.fileNameOrdreV.setValue(this.base):this.isCSV?this.virementFForm.controls.filenameO.setValue(this.base):this.benefForm.controls.fileNameOrdreF.setValue(this.base),this.PathReportString=this.filePath,this.toshow=!0},this.nom=t.target.files[0].name,r.readAsDataURL(t.target.files[0])}else console.log("not image nor pdf"),this.modalTitle="Alerte",this.modalBody="Veuillez choisir un document type image ou bien PDF",this.modalButtonLeft="Fermer",null===(n=document.getElementById("btnAlert"))||void 0===n||n.click()}test(){}getTypeVirement(){this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.cardBenef.reset(),this.benefForm.controls.ribBenef.clearValidators(),this.benefForm.controls.cardBenef.clearValidators(),this.benefForm.controls.ribBenef.updateValueAndValidity(),this.benefForm.controls.cardBenef.updateValueAndValidity(),this.isCard=!1,this.isRib=!1,"carte"==this.benefForm.controls.typeVir.value.toLowerCase()?(this.benefForm.controls.cardBenef.setValidators([d.kI.required,d.kI.pattern("^[0-9]{16}$")]),this.isCard=!0):"compte"==this.benefForm.controls.typeVir.value.toLowerCase()&&(this.benefForm.controls.ribBenef.setValidators([d.kI.required,d.kI.pattern("^[0-9]{20}$")]),this.isRib=!0),this.benefForm.controls.ribBenef.updateValueAndValidity(),this.benefForm.controls.cardBenef.updateValueAndValidity()}getMotifCommun(t){if(this.benefForm.controls.motifbenef.reset(),this.motifcommun=null==t?void 0:t.target.checked,1==(null==t?void 0:t.target.checked)){var n=document.getElementById("motifbenef");document.getElementById("motifopt").style.display="none",n.disabled=!0,this.benefForm.controls.motifbenef.clearValidators(),this.benefForm.controls.motifbenef.updateValueAndValidity(),this.benefForm.controls.motifbenef.setValue(this.virementFForm.controls.motif.value)}else this.benefForm.controls.motifbenef.addValidators(d.kI.required),this.benefForm.controls.motifbenef.updateValueAndValidity(),n=document.getElementById("motifbenef"),document.getElementById("motifopt").style.display="inline",n.disabled=!1}isValidCSVFile(t){return t.name.endsWith(".csv")}getDataRecordsArrayFromCSVFile(t,n){var o,r,m,a,u,_,x,F;let f=[];for(let p=1;p<t.length;p++){let c=t[p].split(";");if(c.length==n){let v=new ue.t;v.NOM=null===(o=c[0])||void 0===o?void 0:o.trim(),v.MATRICULE=null===(r=c[1])||void 0===r?void 0:r.trim(),v.NUMPAIEMENT=null===(m=c[2])||void 0===m?void 0:m.trim(),v.TELBENEF=null===(a=c[3])||void 0===a?void 0:a.trim(),v.EMAILBENEF=null===(u=c[4])||void 0===u?void 0:u.trim(),v.MONTANT=null===(_=c[5])||void 0===_?void 0:_.trim(),v.REFERENCE=null===(x=c[6])||void 0===x?void 0:x.trim(),v.MOTIF=null===(F=c[7])||void 0===F?void 0:F.trim(),f.push(v)}}return f}getHeaderArray(t){let n=t[0].split(","),o=[];for(let r=0;r<n.length;r++)o.push(n[r]);return o}uploadListener(t){let o=t.srcElement.files;if(this.fileNameBenef=t.target.files[0].name,this.isValidCSVFile(o[0])){var r=new FileReader;r.onload=a=>{this.filePath=a.target.result;var u=this.filePath.toString().replace("data:application/vnd.ms-excel;base64,","");this.base=u.replace("data:text/csv;base64,",""),this.virementFForm.controls.filenameCSV.setValue(this.base)},r.readAsDataURL(t.target.files[0]),this.uploadListener2(t),r.onerror=function(){}}else alert("Please import valid .csv file."),this.fileReset()}uploadListener2(t){let o=t.srcElement.files;if(this.fileNameBenef=t.target.files[0].name,this.isValidCSVFile(o[0])){let r=t.target,m=new FileReader;m.readAsText(r.files[0]),m.onload=a=>{let _=m.result.split(/\r\n|\n/),F=(this.getHeaderArray(_),_[0].split(";"));this.records=this.getDataRecordsArrayFromCSVFile(_,F.length)},m.onerror=function(){}}else alert("Please import valid .csv file."),this.fileReset()}fileReset(){this.csvReader.nativeElement.value="",this.records=[]}ControlRIB(){var t,n,o,r,m;null===(t=this.benefForm.get("ribBenef"))||void 0===t||t.clearValidators(),null===(n=this.benefForm.get("ribBenef"))||void 0===n||n.updateValueAndValidity(),null===(o=this.benefForm.get("ribBenef"))||void 0===o||o.setValidators([d.kI.required,d.kI.pattern("^[0-9]{20}$")]),null===(r=this.benefForm.get("ribBenef"))||void 0===r||r.updateValueAndValidity();let a=null===(m=this.benefForm.get("ribBenef"))||void 0===m?void 0:m.value;if(20==a.length){let u={NumeroCompte:a};null!=a&&null!=a&&""!=a&&this.BenefServ.ControlAccountBenef(u,this.token).subscribe(_=>{var x,F,f,p,c,v,h,g;this.RetourCompte=_,("01"==this.RetourCompte.ResponseCode||"99"==this.RetourCompte.ResponseCode)&&(this.checkribbenef=!1,null===(x=this.benefForm.get("ribBenef"))||void 0===x||x.addValidators([(0,S.b)("ribBenef",this.checkribbenef)]),null===(F=this.benefForm.get("ribBenef"))||void 0===F||F.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="V\xe9rifier le  RIB en input !",this.modalButtonLeft="OK",null===(f=document.getElementById("exampleModalLabelProcessedalert"))||void 0===f||f.setAttribute("style","color:red;font-weight:bold;text-align: center;"),null===(p=document.getElementById("btnAlert"))||void 0===p||p.click()),"00"==this.RetourCompte.ResponseCode&&("Active"!=this.RetourCompte.Status?(this.checkribbenef=!1,null===(c=this.benefForm.get("ribBenef"))||void 0===c||c.addValidators([(0,S.b)("ribBenef",this.checkribbenef)]),null===(v=this.benefForm.get("ribBenef"))||void 0===v||v.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="Verifier le  RIB en input !",this.modalButtonLeft="OK",null===(h=document.getElementById("exampleModalLabelProcessedalert"))||void 0===h||h.setAttribute("style","color:red;font-weight:bold;text-align: center;"),null===(g=document.getElementById("btnAlert"))||void 0===g||g.click()):this.checkribbenef=!0)},_=>{console.log("error API"),-1!=_.indexOf("401")&&this.router.navigate(["/"])})}else this.checkribbenef=!0}controlRefBenef(){var t,n,o,r;null===(t=this.benefForm.get("referenceB"))||void 0===t||t.clearValidators(),null===(n=this.benefForm.get("referenceB"))||void 0===n||n.updateValueAndValidity(),null===(o=this.benefForm.get("referenceB"))||void 0===o||o.setValidators([d.kI.required]),null===(r=this.benefForm.get("referenceB"))||void 0===r||r.updateValueAndValidity()}ControlCarte(){var t,n,o,r,m;null===(t=this.benefForm.get("cardBenef"))||void 0===t||t.clearValidators(),null===(n=this.benefForm.get("cardBenef"))||void 0===n||n.updateValueAndValidity(),null===(o=this.benefForm.get("cardBenef"))||void 0===o||o.setValidators([d.kI.required,d.kI.pattern("^[0-9]{16}$")]),null===(r=this.benefForm.get("cardBenef"))||void 0===r||r.updateValueAndValidity();let a=null===(m=this.benefForm.get("cardBenef"))||void 0===m?void 0:m.value;if(16==a.length){let u={cardNumber:a};null!=a&&null!=a&&""!=a&&this.BenefServ.ControlCardBenef(u,this.token).subscribe(_=>{var x,F,f,p,c,v,h,g,A;this.RetourCompte=_,("01"==this.RetourCompte.CodeResponse||"99"==this.RetourCompte.CodeResponse||"04"==this.RetourCompte.CodeResponse)&&(this.checkCardBenef=!1,null===(x=this.benefForm.get("cardBenef"))||void 0===x||x.addValidators([(0,S.b)("cardBenef",this.checkCardBenef)]),null===(F=this.benefForm.get("cardBenef"))||void 0===F||F.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="Verifier la carte en input !",this.modalButtonLeft="OK",null===(f=document.getElementById("btnAlert"))||void 0===f||f.click()),"00"==this.RetourCompte.CodeResponse&&("Delivered"!=this.RetourCompte.Status?(this.checkCardBenef=!1,null===(p=this.benefForm.get("cardBenef"))||void 0===p||p.addValidators([(0,S.b)("cardBenef",this.checkCardBenef)]),null===(c=this.benefForm.get("cardBenef"))||void 0===c||c.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="Carte Non Valide !",this.modalButtonLeft="OK",null===(v=document.getElementById("btnAlert"))||void 0===v||v.click()):"Delivered"==this.RetourCompte.Status&&("PFBB13"==this.RetourCompte.CardCode||"PFBB14"==this.RetourCompte.CardCode?this.checkCardBenef=!0:(this.checkCardBenef=!1,null===(h=this.benefForm.get("cardBenef"))||void 0===h||h.addValidators([(0,S.b)("cardBenef",this.checkCardBenef)]),null===(g=this.benefForm.get("cardBenef"))||void 0===g||g.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="Type Carte Non Valide !",this.modalButtonLeft="OK",null===(A=document.getElementById("btnAlert"))||void 0===A||A.click())))},_=>{console.log("error API"),-1!=_.indexOf("401")&&this.router.navigate(["/"])})}}showDocument(){var t;(this.PathReportString.toLowerCase().includes("tiff")||this.PathReportString.toLowerCase().includes("tif"))&&(this.PathReportString=this.PathReportString.replace("tiff","png"),this.PathReportString=this.PathReportString.replace("tif","png")),this.toshow=!1,null===(t=document.getElementById("ifrm"))||void 0===t||t.setAttribute("src",this.PathReportString);let n=document.getElementById("ifrm");null!=n&&(n.style.display="block")}hideDocument(){var t;this.toshow=!0,null===(t=document.getElementById("ifrm"))||void 0===t||t.removeAttribute("src");let n=document.getElementById("ifrm");null!=n&&(n.style.display="none")}showDocumentFM(){this.toshowfm=!1;let t=document.getElementById("framefm");null!=t&&(t.style.display="block")}hideDocumentFM(){this.toshowfm=!0;let t=document.getElementById("framefm");null!=t&&(t.style.display="none")}FermerAlert(){var t;null===(t=document.getElementById("alertPop"))||void 0===t||t.setAttribute("class","modal fade  hide")}downloadCSVStruct(){this.VirServ.DownloadF("vm",this.token).subscribe(t=>{this.FileStructure=t.body;const n=`data:application/csv;base64,${this.FileStructure}`,o=document.createElement("a");o.href=n,o.download="StructureVM.csv",o.click()},t=>{this.chargedData=!1,-1!=t.indexOf("401")&&this.router.navigate(["/"])})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(se.I),e.Y36(d.qu),e.Y36(de.eN),e.Y36(le.F0),e.Y36(me.r),e.Y36(ae.t),e.Y36(ce.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-virement-xpress"]],viewQuery:function(t,n){if(1&t&&(e.Gf(kr,5),e.Gf(Ur,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.csvReader=o.first),e.iGM(o=e.CRH())&&(n.filefmandat=o.first)}},decls:77,vars:13,consts:[["class","card",4,"ngIf"],["id","verticalycentered","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"width","fit-content !important"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","id","dismissmodal","data-bs-dismiss","modal",1,"btn","btn-secondary",2,"margin-right","auto"],["type","button","id","btnright",1,"btn","btn-primary",3,"click"],["id","alert","tabindex","-1",1,"modal","fade"],[1,"modal-header",2,"align-self","center"],["id","exampleModalLabelProcessedalert",1,"modal-body"],[1,"modal-footer",2,"align-self","center"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-toggle","modal","data-bs-target","#alertPop","id","btnalertPop",1,"btn","btn-primary",2,"display","none"],["id","alertPop","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content",2,"place-items","center"],[1,"modal-header",2,"border-bottom","0"],["id","exampleModalLabelProcessedpop",1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#alertPopfresh","id","btnalertPopfresh",1,"btn","btn-primary",2,"display","none"],["id","alertPopfresh","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],[1,"modal-header",2,"border-bottom","0 !important"],["id","exampleModalLabelProcessed",1,"modal-title",2,"color","rgb(7, 7, 7)"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["id","btnVerifexist","data-bs-toggle","modal","data-bs-target","#verticalycentered","hidden",""],["id","btnAlert","data-bs-toggle","modal","data-bs-target","#alert","hidden",""],["type","button","data-bs-toggle","modal","data-bs-target","#alertPopdoublons","id","btnalertPopdoublons",1,"btn","btn-primary",2,"display","none"],["id","alertPopdoublons","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog","modal-lg"],["id","exampleModalLabelProcessedpopdoublons",1,"modal-title"],[1,"row","pt-2"],[1,"col-12"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-lg-12","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"row","mb-3",2,"place-content","center"],["class","col-3",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-3"],[1,"form-check"],["type","radio",1,"form-check-input",3,"value","ngModel","change","ngModelChange"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["class","row pt-2",4,"ngIf"],[1,"col-sm-12","col-lg-3","col-md-6"],[1,"col-12","col-form-label"],[2,"color","red"],["autocomplete","off","type","text","name","mntTot","formControlName","mntTot",1,"form-control",3,"ngClass","change"],["class","alert alert-danger",4,"ngIf"],["formControlName","mntCalculated","disabled","",1,"col-12","other","form-control"],["type","checkbox","id","motifcommunid",1,"form-check-input",2,"float","right",3,"click"],["for","motifcommunid",1,"form-check-label",2,"float","right"],["autocomplete","off","type","text","name","motif","formControlName","motif",1,"form-control",3,"ngClass","keyup"],[1,"col-6","col-form-label"],["autocomplete","off","type","text","name","reference","formControlName","reference",1,"form-control",3,"ngClass","keyup"],[1,"col-sm-12","col-lg-4","col-md-4"],["formControlName","formattedAmount","disabled","",1,"col-12","other","form-control"],[1,"col-sm-12","col-lg-8","col-md-8"],["autocomplete","off","type","text","name","motif","formControlName","comment","rows","1",1,"form-control"],[1,"col-sm-12","col-lg-12","col-md-12"],["formControlName","amountLetters","disabled","",1,"col-12","other","form-control"],["autocomplete","off","type","text","name","nomBenef","formControlName","nomBenef",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","prenomBenef","formControlName","prenomBenef",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","refBenef","formControlName","refBenef",1,"form-control",3,"keyup"],["id","motifopt",2,"color","red"],["id","motifbenef","autocomplete","off","type","text","name","motifbenef","formControlName","motifbenef",1,"form-control",3,"ngClass"],[1,"col-sm-12","col-lg-3","col-md-4"],["name","typeVir","formControlName","typeVir","required","",1,"form-select",3,"ngClass","change"],["selected","","disabled","","value",""],[3,"value","disabled",4,"ngFor","ngForOf"],["class","col-sm-12 col-lg-3 col-md-4 ",4,"ngIf"],["autocomplete","off","type","text","name","mntBenef","formControlName","mntBenef",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","referenceB","formControlName","referenceB",1,"form-control",3,"ngClass","keyup"],["type","button","id","btnAdd",1,"btn","btn-primary",3,"disabled","click"],[1,"bi","bi-plus"],[1,"col-4"],["for","declarationB",1,"label-file"],["formControlName","ordreVirementBenef","type","file",2,"visibility","hidden",3,"change"],["fileordre",""],["id","declarationB",1,"input-file",3,"click"],[1,"col-3","text-left"],["class","btn btn-primary btn-md btnFile",3,"click",4,"ngIf"],["class","btn btn-warning btn-md btnFile",3,"disabled","click",4,"ngIf"],[1,"col-1"],["type","button","class","btn btn-danger ",3,"click",4,"ngIf"],[1,"row"],["id","ifrm",2,"width","inherit","height","1000px","display","none"],[1,"col-12",2,"text-align","-webkit-right"],["id","btninit",1,"btn","btn-primary","btn-md",3,"disabled","click"],["name","tiers","formControlName","tiers","required","",1,"form-select",3,"ngClass","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"alert","alert-danger"],["style","font-size:12px",4,"ngIf"],[2,"font-size","12px"],[1,"col-sm-12","col-lg-6","col-md-6"],["name","numcpt","formControlName","numcpt","required","",1,"form-select",3,"ngClass","change"],["Value","","hidden","","selected",""],["class","col-sm-12 col-lg-6 col-md-6 ",4,"ngIf"],[1,"col-12","other","form-control"],[3,"value","disabled"],["autocomplete","off","type","text","name","ribBenef","formControlName","ribBenef",1,"form-control",3,"ngClass","keyup"],["autocomplete","off","type","text","name","cardBenef","formControlName","cardBenef",1,"form-control",3,"ngClass","keyup"],["type","button",1,"btn","btn-dark",3,"disabled","click"],[1,"bi","bi-pencil-square"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],[1,"btn","btn-primary","btn-md","btnFile",3,"click"],[1,"btn","btn-warning","btn-md","btnFile",3,"disabled","click"],["type","button",1,"btn","btn-primary",2,"float","right",3,"click"],[1,"bi","bi-download"],["autocomplete","off","type","text","name","motif","formControlName","motif",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","reference","formControlName","reference",1,"form-control",3,"ngClass"],["for","declarationBenef",1,"label-file"],["formControlName","fileCsv","type","file",2,"visibility","hidden",3,"change"],["fileReader",""],["id","declarationBenef",1,"input-file",3,"click"],[1,"col-6"],[1,"col-6","text-left"],[1,"pt-2"],["class","table table-bordered",4,"ngIf"],["for","declaration",1,"label-file"],["formControlName","ordreVirement","type","file",2,"visibility","hidden",3,"change"],["fileordrecsv",""],["id","declaration",1,"input-file",3,"click"],["id","btncsv",1,"btn","btn-primary","btn-md",3,"disabled","click"],[1,"table","table-bordered"],["type","file",2,"visibility","hidden",3,"change"],["filefmandat",""],["formControlName","fileNameFM","id","declarationBenef",1,"input-file",3,"click"],["id","framefm",1,"row","pt-2",2,"display","none"],["fileordreVfm",""],["id","btnfm",1,"btn","btn-primary","btn-md",3,"disabled","click"]],template:function(t,n){1&t&&(e.YNc(0,Er,8,0,"div",0),e.YNc(1,Cd,9,4,"div",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5",5),e._uU(7),e.qZA(),e._UZ(8,"button",6),e.qZA(),e.TgZ(9,"div",7),e._uU(10),e.qZA(),e.TgZ(11,"div",8)(12,"button",9),e._uU(13),e.qZA(),e.TgZ(14,"button",10),e.NdJ("click",function(){return n.Ok()}),e._uU(15),e.qZA()()()()(),e.TgZ(16,"div",11)(17,"div",2)(18,"div",3)(19,"div",12)(20,"h5",5),e._uU(21),e.qZA()(),e.TgZ(22,"div",13),e._uU(23),e.qZA(),e.TgZ(24,"div",14)(25,"button",15),e._uU(26),e.qZA()()()()(),e._UZ(27,"button",16),e.TgZ(28,"div",17)(29,"div",18)(30,"div",19)(31,"div",20)(32,"h5",21)(33,"p"),e._uU(34),e.qZA()()(),e.TgZ(35,"div",8)(36,"button",22),e.NdJ("click",function(){return n.FermerAlert()}),e._uU(37,"Fermer"),e.qZA()()()()(),e._UZ(38,"button",23),e.TgZ(39,"div",24)(40,"div",18)(41,"div",19)(42,"div",25)(43,"h5",26)(44,"p"),e._uU(45),e.qZA()()(),e.TgZ(46,"div",8)(47,"button",27),e.NdJ("click",function(){return n.FermerAlertAvecRefresh()}),e._uU(48,"Fermer"),e.qZA()()()()(),e._UZ(49,"button",28)(50,"button",29)(51,"button",30),e.TgZ(52,"div",31)(53,"div",32)(54,"div",19)(55,"div",20)(56,"h5",33)(57,"p"),e._uU(58),e.qZA()()(),e.TgZ(59,"div",7)(60,"div",34)(61,"div",35)(62,"table",36)(63,"thead")(64,"tr")(65,"th",37),e._uU(66,"Nom & pr\xe9nom b\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(67,"th",37),e._uU(68,"Montant"),e.qZA(),e.TgZ(69,"th",37),e._uU(70,"Num\xe9ro du paiement"),e.qZA(),e._UZ(71,"th"),e.qZA()(),e.TgZ(72,"tbody"),e.YNc(73,yd,7,3,"tr",38),e.qZA()()()()(),e.TgZ(74,"div",8)(75,"button",22),e.NdJ("click",function(){return n.FermerAlertAvecRefresh()}),e._uU(76,"Fermer"),e.qZA()()()()()),2&t&&(e.Q6J("ngIf",n.chargedData),e.xp6(1),e.Q6J("ngIf",!n.chargedData),e.xp6(6),e.Oqu(n.modalTitle),e.xp6(3),e.hij(" ",n.modalBody," "),e.xp6(3),e.Oqu(n.modalButtonLeft),e.xp6(2),e.Oqu(n.modalButtonRight),e.xp6(6),e.Oqu(n.modalTitle),e.xp6(2),e.hij(" ",n.modalBody," "),e.xp6(3),e.Oqu(n.modalButtonLeft),e.xp6(8),e.hij(" ",n.msgAlert," "),e.xp6(11),e.hij(" ",n.msgAlert," "),e.xp6(13),e.hij(" ",n.msgAlert," "),e.xp6(15),e.Q6J("ngForOf",n.doublons))},directives:[ee.O5,ee.sg,d._,d.Fj,d.JJ,d.On,d._Y,d.JL,d.sg,d.EJ,d.u,d.Q7,ee.mk,d.YN,d.Kr],styles:[".other[_ngcontent-%COMP%]{background-color:#e7e7e7;color:#000}.show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}.label-file[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;cursor:pointer;background-color:#27597a;color:#fff;font-weight:700;height:auto;border-radius:5px;padding:6px 10px 10px}.label-file[_ngcontent-%COMP%]:hover{color:#fff;background-color:#007bff}.input-file[_ngcontent-%COMP%]{display:none}.btnFile[_ngcontent-%COMP%]{width:-webkit-fill-available}"]}),i})(),canActivate:[re.a],data:{breadcrumb:{alias:"Virement Xpress"}}},{path:"**",redirectTo:"",pathMatch:"full"}];let Md=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[le.Bz.forChild(Bd)],le.Bz]}),i})();var qd=H(8567);let Nd=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[ee.ez,Md,ee.ez,qd.JX,d.UX,d.u5]]}),i})()}}]);
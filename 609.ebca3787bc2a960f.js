var ua=Object.defineProperty,ga=Object.defineProperties,pa=Object.getOwnPropertyDescriptors,Yi=Object.getOwnPropertySymbols,fa=Object.prototype.hasOwnProperty,ma=Object.prototype.propertyIsEnumerable,Zi=(ze,re,oe)=>re in ze?ua(ze,re,{enumerable:!0,configurable:!0,writable:!0,value:oe}):ze[re]=oe,Ui=(ze,re)=>{for(var oe in re||(re={}))fa.call(re,oe)&&Zi(ze,oe,re[oe]);if(Yi)for(var oe of Yi(re))ma.call(re,oe)&&Zi(ze,oe,re[oe]);return ze},qi=(ze,re)=>ga(ze,pa(re)),Ii=(ze,re,oe)=>(Zi(ze,"symbol"!=typeof re?re+"":re,oe),oe),zi=(ze,re,oe)=>{if(!re.has(ze))throw TypeError("Cannot "+oe)},ut=(ze,re,oe)=>(zi(ze,re,"read from private field"),oe?oe.call(ze):re.get(ze)),Et=(ze,re,oe)=>{if(re.has(ze))throw TypeError("Cannot add the same private member more than once");re instanceof WeakSet?re.add(ze):re.set(ze,oe)},Dt=(ze,re,oe,c)=>(zi(ze,re,"write to private field"),c?c.call(ze,oe):re.set(ze,oe),oe),Wt=(ze,re,oe)=>(zi(ze,re,"access private method"),oe);(self.webpackChunkDigiCorpV1=self.webpackChunkDigiCorpV1||[]).push([[609],{4497:(ze,re,oe)=>{"use strict";oe.d(re,{Q:()=>c});class c{constructor(){this.NomBenef="",this.IdBenef="",this.NiveauValidation="",this.motif="",this.montant="",this.moyPaiement=[]}}},2212:(ze,re,oe)=>{"use strict";oe.d(re,{e:()=>f});var c=oe(520),e=oe(2843),xe=oe(262),ce=oe(8889),pe=oe(2340),z=oe(1223);let f=(()=>{class R{constructor(w){this.http=w,this.urlCorporate=pe.N.urlCorporate,this.urlTrade=pe.N.urlTrade,this.urlAll=pe.N.urlAllApp}massTransferAbroad(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+_})};return this.http.post(this.urlCorporate+"massTransferAbroad",JSON.stringify(w),B).pipe((0,xe.K)(this.handleError))}removeOrderTransaction(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+_})};return this.http.post(this.urlCorporate+"removeOrderTransaction",JSON.stringify(w),B).pipe((0,xe.K)(this.handleError))}ValidateTransaction(w,_){const B={headers:new c.WM({Accept:"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET,HEAD,OPTIONS,POST,PUT","Access-Control-Allow-Headers":"Content-Type","content-type":"application/json",Authorization:"Bearer "+_})};return this.http.post(this.urlCorporate+"ValidateTransactionOPD",JSON.stringify(w),B).pipe((0,xe.K)(this.handleError))}IBANAccounts(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlCorporate+"account/IBANAccounts",JSON.stringify({referentiel:_,bank_id:"10"}),B).pipe((0,xe.K)(this.handleError))}insertDocumentsForInitiationOPD(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlCorporate+"insertDocumentsForInitiationOPD",JSON.stringify(_),B).pipe((0,xe.K)(this.handleError))}uploadfileopd(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlCorporate+"UploadFileIOPD",JSON.stringify(_),B).pipe((0,xe.K)(this.handleError))}updateFraisInitiationOPD(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlCorporate+"updateFraisInitiationOPD",JSON.stringify(_),B).pipe((0,xe.K)(this.handleError))}updateEngagementInitiationOPD(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlCorporate+"updateEngagementInitiationOPD",JSON.stringify(_),B).pipe((0,xe.K)(this.handleError))}MinimalByRef(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlAll+"account/MinimalByRef/",JSON.stringify({referentiel:_,currency:"ALL",bank_id:"10"}),B).pipe((0,xe.K)(this.handleError))}getDataByRef(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlAll+"getDataByRef/",JSON.stringify({reference:_}),B).pipe((0,xe.K)(this.handleError))}getInforForBankBranch(w,_){return this.http.get(this.urlCorporate+"getInforForBankBranch/"+w,{headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+_}),observe:"response",reportProgress:!0}).pipe((0,xe.K)(this.handleError))}InsertOrdonnateurOPD(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlCorporate+"InsertOrdonnateurOPD",JSON.stringify(_),B).pipe((0,xe.K)(this.handleError))}ValidateInternalTransactionOPD(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+_})};return this.http.post(this.urlCorporate+"ValidateInternalTransactionOPD",JSON.stringify(w),B).pipe((0,xe.K)(this.handleError))}getOrdreNotTerminated(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlCorporate+"getOrdreNotTerminated",JSON.stringify(_),B).pipe((0,xe.K)(this.handleError))}getAllOPCOrdrers(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlCorporate+"getAllOPCOrders",JSON.stringify(_),B).pipe((0,xe.K)(this.handleError))}getOrdersToValidate(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlCorporate+"getOrdersToValidate",JSON.stringify(_),B).pipe((0,xe.K)(this.handleError))}GetReportsByteFromXdoOutputForEmail(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlAll+"GetReportsByteFromXdoOutputForEmail",JSON.stringify(_),B).pipe((0,xe.K)(this.handleError))}insertTitreForOPD(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlCorporate+"insertTitreForOPD",JSON.stringify(_),B).pipe((0,xe.K)(this.handleError))}getOrdreByPkHash(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlCorporate+"getOrdreByPkHash",JSON.stringify(_),B).pipe((0,xe.K)(this.handleError))}getWordFromAmount(w,_,B,k){return this.http.get(this.urlCorporate+"NumberToWords/"+w+"/"+B+"/"+k,{headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+_}),observe:"response",reportProgress:!0}).pipe((0,xe.K)(this.handleError))}updateAmountForInitiationOPD(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlCorporate+"updateAmountForInitiationOPD",JSON.stringify(_),B).pipe((0,xe.K)(this.handleError))}updateBenefForInitiationOPD(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlCorporate+"updateBenefForInitiationOPD",JSON.stringify(_),B).pipe((0,xe.K)(this.handleError))}getPays(w){return this.http.get(this.urlCorporate+"GetPaysDom",{headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w}),observe:"response",reportProgress:!0}).pipe((0,xe.K)(this.handleError))}getTitreDomByRef(w,_,B,k,C){const X={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlCorporate+"getTitreDomByRef",JSON.stringify({code_titre:B,num_dom:_,deviseordre:C,idClient:k}),X).pipe((0,xe.K)(this.handleError))}getFormatedAmount(w,_,B){return this.http.get(this.urlCorporate+"getFormatedAmount?currency="+w+"&amount="+_,{headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+B}),observe:"response",reportProgress:!0}).pipe((0,xe.K)(this.handleError))}getDevise(w){const _={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.get(this.urlCorporate+"GetDevise",_).pipe((0,ce.X)(2),(0,xe.K)(this.handleError))}getDataByAccount(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.get(this.urlCorporate+"getDataByCompte?accountpk="+_,B).pipe((0,ce.X)(2),(0,xe.K)(this.handleError))}getTitreDomiciliationByDate(w,_,B,k,C){const X={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlCorporate+"GetTitreDomiciliationByDate",JSON.stringify({datedebut:_,datefin:B,code_titre:k,listTiers:C}),X).pipe((0,ce.X)(2),(0,xe.K)(this.handleError))}GetTitreDomiciliationForSearch(w,_,B,k,C){const X={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlCorporate+"GetTitreDomiciliationForSearch",JSON.stringify({RechV:_,ValueRech:B,code_titre:k,listTiers:C}),X).pipe((0,ce.X)(2),(0,xe.K)(this.handleError))}GetDossierOPDoptimisesRechCorp(w,_,B,k,C){const X={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlCorporate+"GetDossierOPDoptimisesRechCorp",JSON.stringify({datedebut:_,datefin:B,NumOPD:k,listTiers:C}),X).pipe((0,ce.X)(2),(0,xe.K)(this.handleError))}get(w,_,B){const k={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.get(this.urlCorporate+"GetSwiftOPA/"+_+"/"+B,k).pipe((0,ce.X)(2),(0,xe.K)(this.handleError))}getOperationDocOPD(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+_})};return this.http.post(this.urlCorporate+"document/acopd",JSON.stringify(w),B).pipe((0,ce.X)(2),(0,xe.K)(this.handleError))}getOperationDocStandardOPD(w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+_})};return this.http.post(this.urlCorporate+"document/getOperationDoc",JSON.stringify(w),B).pipe((0,ce.X)(2),(0,xe.K)(this.handleError))}GetIssuedTransactionTracker(w,_,B){const k={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.get(this.urlCorporate+"IssuedTransactionTracker?operation_reference="+_+"&beneficiary_bank_code="+B,k).pipe((0,ce.X)(2),(0,xe.K)(this.handleError))}GetAllCreditDocCorp(w,_,B,k,C,X){const se={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.urlCorporate+"GetAllCreditDocCorp",JSON.stringify({providerName:_,amount:B,reference:k,statut:C,listTiers:X}),se).pipe((0,ce.X)(2),(0,xe.K)(this.handleError))}handleError(w){let _="";return _=w.error instanceof ErrorEvent?"An error occurred:":`Error Code: ${w.status}\nMessage: ${w.message}`,(0,e._)(_)}}return R.\u0275fac=function(w){return new(w||R)(z.LFG(c.eN))},R.\u0275prov=z.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})()},9656:(ze,re,oe)=>{"use strict";oe.d(re,{Q:()=>e});var c=oe(1223);let e=(()=>{class xe{constructor(){}ngOnInit(){}}return xe.\u0275fac=function(pe){return new(pe||xe)},xe.\u0275cmp=c.Xpm({type:xe,selectors:[["app-dashboardclient"]],decls:1,vars:0,consts:[["title","Dashboard - Dashboard client","src","https://app.powerbi.com/reportEmbed?reportId=94f52055-4829-41d2-b4ed-33e31fe93246&autoAuth=true&ctid=e5fe619b-6c5b-4d46-ae40-a11065879783&config=eyJjbHVzdGVyVXJsIjoiaHR0cHM6Ly93YWJpLWV1cm9wZS1ub3J0aC1iLXJlZGlyZWN0LmFuYWx5c2lzLndpbmRvd3MubmV0LyJ9","frameborder","0","allowFullScreen","true",2,"height","97vh","width","100%"]],template:function(pe,z){1&pe&&c._UZ(0,"iframe",0)},styles:[""]}),xe})()},1609:(ze,re,oe)=>{"use strict";oe.r(re),oe.d(re,{HomeModule:()=>It});var c=oe(9808),e=oe(1223),xe=oe(9300),ce=oe(4004),pe=oe(7656),z=oe(1135);function f(Pe,Ye){1&Pe&&e.GkF(0)}function R(Pe,Ye){if(1&Pe&&(e.ynx(0),e._uU(1),e.BQk()),2&Pe){const he=e.oxw(2).$implicit;e.xp6(1),e.Oqu(he.label)}}const x=function(Pe){return{"xng-breadcrumb-link-disabled":Pe}},w=function(Pe,Ye,he,De,Qe,st){return{$implicit:Pe,info:Ye,last:he,first:De,index:Qe,count:st}};function _(Pe,Ye){if(1&Pe&&(e.TgZ(0,"a",7),e.YNc(1,f,1,0,"ng-container",8),e.YNc(2,R,2,1,"ng-container",9),e.qZA()),2&Pe){const he=e.oxw(),De=he.$implicit,Qe=he.last,st=he.first,kt=he.index,Lt=he.count,Ot=e.oxw();e.Q6J("ngClass",e.VKq(10,x,De.disable))("routerLink",De.routeInterceptor?De.routeInterceptor(De.routeLink,De):De.routeLink)("queryParams",Ot.preserveQueryParams?De.queryParams:void 0)("fragment",Ot.preserveFragment?De.fragment:void 0)("target",Ot.anchorTarget?Ot.anchorTarget:"_self"),e.uIk("aria-disabled",De.disable)("tabIndex",De.disable?-1:0),e.xp6(1),e.Q6J("ngTemplateOutlet",Ot.itemTemplate)("ngTemplateOutletContext",e.HTZ(12,w,De.label,De.info,Qe,st,kt,Lt)),e.xp6(1),e.Q6J("ngIf",!Ot.itemTemplate)}}function B(Pe,Ye){1&Pe&&e.GkF(0)}function k(Pe,Ye){if(1&Pe&&(e.ynx(0),e._uU(1),e.BQk()),2&Pe){const he=e.oxw(2).$implicit;e.xp6(1),e.Oqu(he.label)}}function C(Pe,Ye){if(1&Pe&&(e.TgZ(0,"label",10),e.YNc(1,B,1,0,"ng-container",8),e.YNc(2,k,2,1,"ng-container",9),e.qZA()),2&Pe){const he=e.oxw(),De=he.$implicit,Qe=he.last,st=he.first,kt=he.index,Lt=he.count,Ot=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",Ot.itemTemplate)("ngTemplateOutletContext",e.HTZ(3,w,De.label,De.info,Qe,st,kt,Lt)),e.xp6(1),e.Q6J("ngIf",!Ot.itemTemplate)}}function X(Pe,Ye){1&Pe&&e.GkF(0)}function se(Pe,Ye){if(1&Pe&&(e.ynx(0),e._uU(1),e.BQk()),2&Pe){const he=e.oxw(3);e.xp6(1),e.Oqu(he.separator)}}function j(Pe,Ye){if(1&Pe&&(e.TgZ(0,"li",11),e.YNc(1,X,1,0,"ng-container",12),e.YNc(2,se,2,1,"ng-container",9),e.qZA()),2&Pe){const he=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",he.separatorTemplate),e.xp6(1),e.Q6J("ngIf",!he.separatorTemplate)}}function S(Pe,Ye){if(1&Pe&&(e.ynx(0),e.TgZ(1,"li",3),e.YNc(2,_,3,19,"a",4),e.YNc(3,C,3,10,"label",5),e.qZA(),e.YNc(4,j,3,2,"li",6),e.BQk()),2&Pe){const he=Ye.last;e.xp6(2),e.Q6J("ngIf",!he),e.xp6(1),e.Q6J("ngIf",he),e.xp6(1),e.Q6J("ngIf",!he)}}let A=(()=>{class Pe{}return Pe.\u0275fac=function(he){return new(he||Pe)},Pe.\u0275dir=e.lG2({type:Pe,selectors:[["","xngBreadcrumbItem",""]]}),Pe})();const W=Pe=>Pe&&Object.keys(Pe).length>0;let G=(()=>{class Pe{constructor(he,De){this.activatedRoute=he,this.router=De,this.baseHref="/",this.dynamicBreadcrumbStore=[],this.currentBreadcrumbs=[],this.previousBreadcrumbs=[],this.breadcrumbs=new z.X([]),this.breadcrumbs$=this.breadcrumbs.asObservable(),this.detectRouteChanges()}detectRouteChanges(){this.setupBreadcrumbs(this.activatedRoute.snapshot),this.router.events.pipe((0,xe.h)(he=>he instanceof pe.c9)).subscribe(he=>{he instanceof pe.c9&&he.shouldActivate&&this.setupBreadcrumbs(he.state.root)})}setupBreadcrumbs(he){this.previousBreadcrumbs=this.currentBreadcrumbs;const De=this.getRootBreadcrumb();this.currentBreadcrumbs=De?[De]:[],this.prepareBreadcrumbList(he,this.baseHref)}getRootBreadcrumb(){var he;const De=this.router.config.find(kt=>""===kt.path),Qe=this.extractObject(null===(he=null==De?void 0:De.data)||void 0===he?void 0:he.breadcrumb),st=this.getFromStore(Qe.alias,"/");if(W(Qe)||W(st))return Object.assign(Object.assign(Object.assign(Object.assign({},st),Qe),{routeLink:this.baseHref}),this.getQueryParamsFromPreviousList("/"))}prepareBreadcrumbItem(he,De){const{path:Qe,breadcrumb:st}=this.parseRouteData(he.routeConfig),kt=this.resolvePathSegment(Qe,he),Lt=`${De}${kt}`,Ot=this.getFromStore(st.alias,Lt),fi=this.extractLabel((null==Ot?void 0:Ot.label)||(null==st?void 0:st.label),kt);let si=!1,mi="";return fi||(si=!0,mi=kt),Object.assign(Object.assign(Object.assign(Object.assign({},Ot),st),{label:si?mi:fi,routeLink:Lt,isAutoGeneratedLabel:si}),this.getQueryParamsFromPreviousList(Lt))}prepareBreadcrumbList(he,De){var Qe;if(null===(Qe=he.routeConfig)||void 0===Qe?void 0:Qe.path){const Lt=this.prepareBreadcrumbItem(he,De);if(this.currentBreadcrumbs.push(Lt),he.firstChild)return this.prepareBreadcrumbList(he.firstChild,Lt.routeLink+"/")}else if(he.firstChild)return this.prepareBreadcrumbList(he.firstChild,De);this.setQueryParamsForActiveBreadcrumb(this.currentBreadcrumbs[this.currentBreadcrumbs.length-1],he);const kt=this.currentBreadcrumbs.filter(Lt=>!Lt.skip);this.breadcrumbs.next(kt)}getFromStore(he,De){return this.dynamicBreadcrumbStore.find(Qe=>he&&he===Qe.alias||De&&De===Qe.routeLink||this.matchRegex(De,Qe.routeRegex))}matchRegex(he,De){const Qe=he.match(new RegExp(De));return(null==Qe?void 0:Qe[0])===he}resolvePathSegment(he,De){return he.includes(":")&&Object.entries(De.params).forEach(([Qe,st])=>{he=he.replace(`:${Qe}`,`${st}`)}),he}getQueryParamsFromPreviousList(he){const{queryParams:De,fragment:Qe}=this.previousBreadcrumbs.find(st=>st.routeLink===he)||{};return{queryParams:De,fragment:Qe}}setQueryParamsForActiveBreadcrumb(he,De){if(he){const{queryParams:Qe,fragment:st}=De;he.queryParams=Qe?Object.assign({},Qe):void 0,he.fragment=st}}parseRouteData(he){const{path:De,data:Qe}=he;return{path:De,breadcrumb:this.mergeWithBaseChildData(he,null==Qe?void 0:Qe.breadcrumb)}}mergeWithBaseChildData(he,De){var Qe;if(!he)return this.extractObject(De);let st;he.loadChildren?st=he._loadedConfig.routes.find(Lt=>""===Lt.path):he.children&&(st=he.children.find(Lt=>""===Lt.path));const kt=null===(Qe=null==st?void 0:st.data)||void 0===Qe?void 0:Qe.breadcrumb;return kt?this.mergeWithBaseChildData(st,Object.assign(Object.assign({},this.extractObject(De)),this.extractObject(kt))):this.extractObject(De)}set(he,De){const Qe=this.extractObject(De);let st;st=he.startsWith("@")?["alias",Object.assign(Object.assign({},Qe),{alias:he.slice(1)})]:he.includes(":")?["routeRegex",Object.assign(Object.assign({},Qe),{routeRegex:this.buildRegex(he)})]:["routeLink",Object.assign(Object.assign({},Qe),{routeLink:this.ensureLeadingSlash(he)})],st[1].isAutoGeneratedLabel=!1,this.updateStore(...st),this.updateCurrentBreadcrumbs(...st)}updateStore(he,De){const Qe=this.dynamicBreadcrumbStore.findIndex(st=>De[he]===st[he]);Qe>-1?this.dynamicBreadcrumbStore[Qe]=Object.assign(Object.assign({},this.dynamicBreadcrumbStore[Qe]),De):this.dynamicBreadcrumbStore.push(Object.assign({},De))}updateCurrentBreadcrumbs(he,De){const Qe=this.currentBreadcrumbs.findIndex(st=>"routeRegex"===he?this.matchRegex(st.routeLink,De[he]):De[he]===st[he]);if(Qe>-1){this.currentBreadcrumbs[Qe]=Object.assign(Object.assign({},this.currentBreadcrumbs[Qe]),De);const st=this.currentBreadcrumbs.filter(kt=>!kt.skip);this.breadcrumbs.next([...st])}}buildRegex(he){return this.ensureLeadingSlash(he).replace(new RegExp("/:[^/]+","g"),"/[^/]+")}ensureLeadingSlash(he){return he.startsWith("/")?he:`/${he}`}extractLabel(he,De){const Qe="object"==typeof he?he.label:he;return"function"==typeof Qe?Qe(De):Qe}extractObject(he){return!he||"string"!=typeof he&&"function"!=typeof he?he||{}:{label:he}}}return Pe.\u0275fac=function(he){return new(he||Pe)(e.LFG(pe.gz),e.LFG(pe.F0))},Pe.\u0275prov=e.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})(),be=(()=>{class Pe{constructor(he,De){this.breadcrumbService=he,this._separator="/",this.autoGenerate=!0,this.preserveQueryParams=!0,this.preserveFragment=!0,this.class="",this.setupMessage="not set up yet",this.someParameterValue=null,De.params.subscribe(Qe=>{this.setupComponent(Qe.someParam)})}set separator(he){he instanceof e.Rgc?(this.separatorTemplate=he,this._separator=void 0):(this.separatorTemplate=void 0,this._separator=he||"/")}get separator(){return this._separator}setupComponent(he){this.setupMessage="set up at "+new Date,this.someParameterValue=he}ngOnInit(){this.breadcrumbs$=this.breadcrumbService.breadcrumbs$.pipe((0,ce.U)(he=>he.filter(De=>!!this.autoGenerate||!De.isAutoGeneratedLabel).map(De=>{const{routeInterceptor:Qe,routeLink:st}=De;return Object.assign(Object.assign({},De),{routeLink:(null==Qe?void 0:Qe(st,De))||st})})))}}return Pe.\u0275fac=function(he){return new(he||Pe)(e.Y36(G),e.Y36(pe.gz))},Pe.\u0275cmp=e.Xpm({type:Pe,selectors:[["xng-breadcrumb"]],contentQueries:function(he,De,Qe){if(1&he&&e.Suo(Qe,A,5,e.Rgc),2&he){let st;e.iGM(st=e.CRH())&&(De.itemTemplate=st.first)}},inputs:{autoGenerate:"autoGenerate",preserveQueryParams:"preserveQueryParams",preserveFragment:"preserveFragment",class:"class",anchorTarget:"anchorTarget",separator:"separator"},decls:4,vars:4,consts:[["aria-label","breadcrumb",1,"xng-breadcrumb-root",3,"ngClass"],[1,"xng-breadcrumb-list"],[4,"ngFor","ngForOf"],[1,"xng-breadcrumb-item"],["class","xng-breadcrumb-link","role","button","rel","noopener noreferrer",3,"ngClass","routerLink","queryParams","fragment","target",4,"ngIf"],["class","xng-breadcrumb-trail",4,"ngIf"],["class","xng-breadcrumb-separator","aria-hidden","true","role","separator",4,"ngIf"],["role","button","rel","noopener noreferrer",1,"xng-breadcrumb-link",3,"ngClass","routerLink","queryParams","fragment","target"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[1,"xng-breadcrumb-trail"],["aria-hidden","true","role","separator",1,"xng-breadcrumb-separator"],[4,"ngTemplateOutlet"]],template:function(he,De){1&he&&(e.TgZ(0,"nav",0)(1,"ol",1),e.YNc(2,S,5,3,"ng-container",2),e.ALo(3,"async"),e.qZA()()),2&he&&(e.Q6J("ngClass",De.class),e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,2,De.breadcrumbs$)))},directives:[c.mk,c.sg,c.O5,pe.yS,c.tP],pipes:[c.Ov],styles:[".xng-breadcrumb-root{margin:0;color:#0009}.xng-breadcrumb-list{display:flex;align-items:center;flex-wrap:wrap;margin:0;padding:0}.xng-breadcrumb-item{list-style:none}.xng-breadcrumb-trail{display:flex;align-items:center;color:#000000e6}.xng-breadcrumb-link{display:flex;align-items:center;white-space:nowrap;color:inherit;text-decoration:none;transition:-webkit-text-decoration .3s;transition:text-decoration .3s;transition:text-decoration .3s,-webkit-text-decoration .3s;cursor:pointer}.xng-breadcrumb-link:hover{text-decoration:underline}.xng-breadcrumb-link-disabled{pointer-events:none;cursor:disabled}.xng-breadcrumb-separator{display:flex;-webkit-user-select:none;user-select:none;margin-left:8px;margin-right:8px}\n"],encapsulation:2}),Pe})(),de=(()=>{class Pe{}return Pe.\u0275fac=function(he){return new(he||Pe)},Pe.\u0275mod=e.oAB({type:Pe}),Pe.\u0275inj=e.cJS({imports:[[c.ez,pe.Bz]]}),Pe})(),_e=(()=>{class Pe{}return Pe.\u0275fac=function(he){return new(he||Pe)},Pe.\u0275mod=e.oAB({type:Pe}),Pe.\u0275inj=e.cJS({imports:[[c.ez,de]]}),Pe})(),ye=(()=>{class Pe{constructor(){}ngOnInit(){}}return Pe.\u0275fac=function(he){return new(he||Pe)},Pe.\u0275cmp=e.Xpm({type:Pe,selectors:[["app-bancaireetrangere"]],decls:24,vars:0,consts:[[1,"row"],[1,"col-6"],["src","assets\\img\\engagement.jpg","alt","",1,"img-fluid","w-100"],[1,"mt-3"]],template:function(he,De){1&he&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",1)(4,"h4",3),e._uU(5,"Op\xe9ration d'importation"),e.qZA(),e.TgZ(6,"ul")(7,"li"),e._uU(8,"OPD"),e.qZA(),e.TgZ(9,"li"),e._uU(10,"Titre de domiciliation"),e.qZA(),e.TgZ(11,"li"),e._uU(12,"Cr\xe9dit documentaire"),e.qZA()()()(),e.TgZ(13,"div",0)(14,"div",1)(15,"h4",3),e._uU(16,"Op\xe9ration d'exportation"),e.qZA(),e.TgZ(17,"ul")(18,"li"),e._uU(19,"OPA"),e.qZA(),e.TgZ(20,"li"),e._uU(21,"Titre de domiciliation"),e.qZA()()(),e.TgZ(22,"div",1),e._UZ(23,"img",2),e.qZA()())},styles:[""]}),Pe})();var me=oe(9656);let ve=(()=>{class Pe{constructor(){}ngOnInit(){}}return Pe.\u0275fac=function(he){return new(he||Pe)},Pe.\u0275cmp=e.Xpm({type:Pe,selectors:[["app-engagements"]],decls:2,vars:0,template:function(he,De){1&he&&(e.TgZ(0,"p"),e._uU(1,"engagements works!"),e.qZA())},styles:[".show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}"]}),Pe})();var we=oe(5928);let ue=(()=>{class Pe{constructor(){}ngOnInit(){}}return Pe.\u0275fac=function(he){return new(he||Pe)},Pe.\u0275cmp=e.Xpm({type:Pe,selectors:[["app-paiement"]],decls:35,vars:0,consts:[["routerLink","/home/carte",1,"row"],[1,"col-6"],["src","assets\\img\\engagement.jpg","alt","",1,"img-fluid","w-100"],[1,"mt-3"],["routerLink","/home/beneficiaire",1,"row"],[1,"row"],["routerLink","/home/virement",1,"col-6"]],template:function(he,De){1&he&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",1)(4,"h4",3),e._uU(5,"G\xe9rer Mes Cartes"),e.qZA(),e.TgZ(6,"ul")(7,"li"),e._uU(8," D\xe9livrer une carte "),e.qZA(),e.TgZ(9,"li"),e._uU(10," Modifer une carte "),e.qZA()()()(),e.TgZ(11,"div",4)(12,"div",1)(13,"h4",3),e._uU(14,"G\xe9rer Mes Beneficiaires"),e.qZA(),e.TgZ(15,"ul")(16,"li"),e._uU(17," D\xe9livrer une carte "),e.qZA(),e.TgZ(18,"li"),e._uU(19," Modifer une carte "),e.qZA()(),e.TgZ(20,"p"),e._uU(21,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Assumenda pariatur iusto eaque voluptates. Distinctio quam sint, accusamus rem quas quos sapiente laboriosam eius quibusdam odio facere velit adipisci ad! Officia."),e.qZA()(),e.TgZ(22,"div",1),e._UZ(23,"img",2),e.qZA()(),e.TgZ(24,"div",5)(25,"div",6),e._UZ(26,"img",2),e.qZA(),e.TgZ(27,"div",1)(28,"h4",3),e._uU(29,"G\xe9rer Mes Virements"),e.qZA(),e.TgZ(30,"ul")(31,"li"),e._uU(32," D\xe9livrer une carte "),e.qZA(),e.TgZ(33,"li"),e._uU(34," Modifer une carte "),e.qZA()()()())},directives:[pe.rH],styles:["img[_ngcontent-%COMP%]{border-radius:10px;box-shadow:2px 3px 8px}"]}),Pe})();var ke=oe(6123),J=oe(9860);const N=["chart"];function F(Pe,Ye){1&Pe&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",4),e._UZ(3,"img",5),e.TgZ(4,"div",6)(5,"h5",7),e._uU(6,"Vision Global"),e.qZA()()()(),e.TgZ(7,"div",3)(8,"div",8),e._UZ(9,"img",9),e.TgZ(10,"div",6)(11,"h5",7),e._uU(12,"Flux de paiement"),e.qZA()()()(),e.TgZ(13,"div",3)(14,"div",10),e._UZ(15,"img",11),e.TgZ(16,"div",6)(17,"h5",7),e._uU(18,"Ch\xe8ques"),e.qZA()()()()())}function ie(Pe,Ye){1&Pe&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",12),e._UZ(3,"img",13),e.TgZ(4,"div",6)(5,"h5",7),e._uU(6,"Engagements"),e.qZA()()()(),e.TgZ(7,"div",3)(8,"div",14),e._UZ(9,"img",15),e.TgZ(10,"div",6)(11,"h5",7),e._uU(12,"Bancaire \xe9tranger"),e.qZA()()()(),e.TgZ(13,"div",3)(14,"div",16),e._UZ(15,"img",17),e.TgZ(16,"div",6)(17,"h5",7),e._uU(18,"TPE"),e.qZA()()()()())}let O=(()=>{class Pe{constructor(he,De){this.loginService=he,this.router=De,this.token="",this.ListMenu=[],this.chartOptions={series:[{name:"Desktops",data:[10,41,35,51,49,62,69,91,148]}],chart:{height:350,type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},title:{text:"Product Trends by Month",align:"left"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"]}}}ngOnInit(){this.token=localStorage.getItem("token");let De=localStorage.getItem("listmenu"),Qe=this.loginService.b64_to_utf8(De);this.ListMenu=JSON.parse(Qe||"[]");var st=this.ListMenu.some(kt=>"M007"===kt.idmenu);this.hasAccessStat=st}}return Pe.\u0275fac=function(he){return new(he||Pe)(e.Y36(J.r),e.Y36(pe.F0))},Pe.\u0275cmp=e.Xpm({type:Pe,selectors:[["app-dashboard"]],viewQuery:function(he,De){if(1&he&&e.Gf(N,5),2&he){let Qe;e.iGM(Qe=e.CRH())&&(De.chart=Qe.first)}},decls:3,vars:2,consts:[[1,"section","dashboard"],["class","row",4,"ngIf"],[1,"row"],[1,"col-4"],["routerLink","/home/dashboardclient",1,"card","cardDash","mb-3"],["src","assets/img/visionglobal.png","alt","vision global",1,"img-fluid","rounded-start"],[1,"card-body",2,"text-align","center"],[1,"card-title"],["routerLink","/home/dashboardclient/fluxdepaiement",1,"card","cardDash","mb-3"],["src","assets/img/fluxpaiement.png","alt","...",1,"img-fluid","rounded-start"],["routerLink","/home/dashboardclient/cheques",1,"card","cardDash","mb-3"],["src","assets/img/cheques.png","alt","...",1,"img-fluid","rounded-start"],["routerLink","/home/dashboardclient/engagements",1,"card","cardDash","mb-3"],["src","assets/img/engagements.png","alt","...",1,"img-fluid","rounded-start"],["routerLink","/home/dashboardclient/bancaireetrangere",1,"card","cardDash","mb-3"],["src","assets/img/bancaireetrangere.png","alt","...",1,"img-fluid","rounded-start"],["routerLink","/home/dashboardclient/tpe",1,"card","cardDash","mb-3"],["src","assets/img/tpe.png","alt","...",1,"img-fluid","rounded-start"]],template:function(he,De){1&he&&(e.TgZ(0,"section",0),e.YNc(1,F,19,0,"div",1),e.YNc(2,ie,19,0,"div",1),e.qZA()),2&he&&(e.xp6(1),e.Q6J("ngIf",De.hasAccessStat),e.xp6(1),e.Q6J("ngIf",De.hasAccessStat))},directives:[c.O5,pe.rH],styles:[".imghome[_ngcontent-%COMP%]{background:#fff;width:100%;height:100vh;background:url(homepage.5d226e0bd984bae7.jpg);background-size:cover}.list-group-item[_ngcontent-%COMP%]{border:0!important}.list-group-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.list-group-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#00f}.btnAccodion[_ngcontent-%COMP%]{background-color:#135fa1}.cardDash[_ngcontent-%COMP%]:hover{transform:scale(1.05)!important;cursor:pointer;box-shadow:0 10px 20px #0000001f,0 4px 8px #0000000f!important}.cardDash[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]:hover{color:#000;font-weight:bolder}"]}),Pe})(),ne=(()=>{class Pe{constructor(he){this.router=he}ngOnInit(){var he;this.cuser=null===(he=localStorage.getItem("cuser"))||void 0===he?void 0:he.toUpperCase()}ShowHideMenu(){document.getElementsByTagName("body")[0].classList.toggle("toggle-sidebar")}goTo(he){this.router.navigate(["home",he])}signOut(){localStorage.clear(),this.router.navigateByUrl("/login")}}return Pe.\u0275fac=function(he){return new(he||Pe)(e.Y36(pe.F0))},Pe.\u0275cmp=e.Xpm({type:Pe,selectors:[["app-nav-bar"]],decls:30,vars:2,consts:[["id","header",1,"header","fixed-top","d-flex","align-items-center"],[1,"d-flex","align-items-center","justify-content-between"],[1,"logo","d-flex","align-items-center",3,"click"],["src","assets/img/logo.png","alt",""],[1,"d-none","d-lg-block"],[1,"bi","bi-list","toggle-sidebar-btn",3,"click"],[1,"header-nav","ms-auto"],[1,"d-flex","align-items-center"],[1,"nav-item","d-block","d-lg-none"],[1,"nav-link","nav-icon","search-bar-toggle"],[1,"bi","bi-search"],[1,"nav-item","dropdown","pe-3"],["data-bs-toggle","dropdown",1,"nav-link","nav-profile","d-flex","align-items-center","pe-0"],["src","assets/img/person.png","alt","Profile",1,"rounded-circle"],[1,"d-none","d-md-block","dropdown-toggle","ps-2"],[1,"dropdown-menu","dropdown-menu-end","dropdown-menu-arrow","profile"],[1,"dropdown-header"],[1,"dropdown-divider"],[3,"click"],[1,"dropdown-item","d-flex","align-item-center"],[1,"bi","bi-box-arrow-right"]],template:function(he,De){1&he&&(e.TgZ(0,"header",0)(1,"div",1)(2,"a",2),e.NdJ("click",function(){return De.goTo("")}),e._UZ(3,"img",3),e.TgZ(4,"span",4),e._uU(5,"Digi Corp"),e.qZA()(),e.TgZ(6,"i",5),e.NdJ("click",function(){return De.ShowHideMenu()}),e.qZA()(),e.TgZ(7,"nav",6)(8,"ul",7)(9,"li",8)(10,"a",9),e._UZ(11,"i",10),e.qZA()(),e.TgZ(12,"li",11)(13,"a",12),e._UZ(14,"img",13),e.TgZ(15,"span",14),e._uU(16),e.qZA()(),e.TgZ(17,"ul",15)(18,"li",16)(19,"h6"),e._uU(20),e.qZA()(),e.TgZ(21,"li"),e._UZ(22,"hr",17),e.qZA(),e.TgZ(23,"li"),e._UZ(24,"hr",17),e.qZA(),e.TgZ(25,"li",18),e.NdJ("click",function(){return De.signOut()}),e.TgZ(26,"a",19),e._UZ(27,"i",20),e.TgZ(28,"span"),e._uU(29,"D\xe9connexion"),e.qZA()()()()()()()()),2&he&&(e.xp6(16),e.Oqu(De.cuser),e.xp6(4),e.hij("Bienvenue ",De.cuser,""))},styles:[""]}),Pe})();function v(Pe,Ye){1&Pe&&(e.TgZ(0,"span",10),e._uU(1,"Ma banque"),e.qZA())}function U(Pe,Ye){1&Pe&&(e.TgZ(0,"span",10),e._uU(1,"PAIEMENT"),e.qZA())}function H(Pe,Ye){1&Pe&&(e.TgZ(0,"span",10),e._uU(1,"BANCAIRE ETRANGER"),e.qZA())}function ge(Pe,Ye){1&Pe&&(e.TgZ(0,"span",10),e._uU(1,"ENGAGEMENTS"),e.qZA())}function q(Pe,Ye){1&Pe&&(e.TgZ(0,"span",10),e._uU(1,"DASHBOARD CLIENT"),e.qZA())}const Ae=function(){return{exact:!0}};function Fe(Pe,Ye){if(1&Pe&&(e.TgZ(0,"li")(1,"a",11),e._UZ(2,"i",12),e.TgZ(3,"span"),e._uU(4),e.qZA()()()),2&Pe){const he=Ye.$implicit;e.xp6(1),e.s9C("routerLink",he.route),e.Q6J("routerLinkActiveOptions",e.DdM(3,Ae)),e.xp6(3),e.Oqu(he.libelle)}}function Ie(Pe,Ye){if(1&Pe){const he=e.EpF();e.TgZ(0,"li",1),e.YNc(1,v,2,0,"span",5),e.YNc(2,U,2,0,"span",5),e.YNc(3,H,2,0,"span",5),e.YNc(4,ge,2,0,"span",5),e.YNc(5,q,2,0,"span",5),e.TgZ(6,"a",6),e.NdJ("click",function(){return e.CHM(he),e.oxw().ShowHideCollapse("{{c.tagId}}")}),e._UZ(7,"i"),e.TgZ(8,"span"),e._uU(9),e.qZA(),e._UZ(10,"i",7),e.qZA(),e.TgZ(11,"ul",8),e.YNc(12,Fe,5,4,"li",9),e.qZA()()}if(2&Pe){const he=Ye.$implicit;e.xp6(1),e.Q6J("ngIf","M001"==he.idmenu),e.xp6(1),e.Q6J("ngIf","M002"==he.idmenu),e.xp6(1),e.Q6J("ngIf","M004"==he.idmenu),e.xp6(1),e.Q6J("ngIf","M006"==he.idmenu),e.xp6(1),e.Q6J("ngIf","M007"==he.idmenu),e.xp6(1),e.uIk("data-bs-target","#"+he.tagId),e.xp6(1),e.Tol(he.icone),e.xp6(2),e.Oqu(he.libelle),e.xp6(2),e.s9C("id",he.tagId),e.xp6(1),e.Q6J("ngForOf",he.SubMenus)}}let Re=(()=>{class Pe{constructor(he,De){this.loginService=he,this.router=De,this.token="",this.ListMenu=[]}ngOnInit(){this.token=localStorage.getItem("token");let he=localStorage.getItem("listmenu"),De=this.loginService.b64_to_utf8(he);this.ListMenu=JSON.parse(De||"[]")}ShowHideCollapse(he){var De=document.getElementById(he);null!=De&&(De.classList.contains("show")?De.classList.remove("show"):De.classList.add("show"),De.classList.toggle("show"))}}return Pe.\u0275fac=function(he){return new(he||Pe)(e.Y36(J.r),e.Y36(pe.F0))},Pe.\u0275cmp=e.Xpm({type:Pe,selectors:[["app-side-bar"]],decls:7,vars:1,consts:[["id","sidebar-nav",1,"sidebar-nav"],[1,"nav-item"],["routerLink","/home",1,"nav-link"],[1,"bi","bi-grid"],["class","nav-item",4,"ngFor","ngForOf"],["class","nav-heading mt-4",4,"ngIf"],["data-bs-toggle","collapse",1,"nav-link","collapsed",3,"click"],[1,"bi","bi-chevron-down","ms-auto"],["data-bs-parent","#sidebar-nav",1,"nav-content","collapse",3,"id"],[4,"ngFor","ngForOf"],[1,"nav-heading","mt-4"],["routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],[1,"bi","bi-circle"]],template:function(he,De){1&he&&(e.TgZ(0,"ul",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e.TgZ(4,"span"),e._uU(5,"Dashboard"),e.qZA()()(),e.YNc(6,Ie,13,12,"li",4),e.qZA()),2&he&&(e.xp6(6),e.Q6J("ngForOf",De.ListMenu))},directives:[pe.yS,c.sg,c.O5,pe.Od],styles:[".nav-link[_ngcontent-%COMP%]{cursor:pointer}.nav-detail[_ngcontent-%COMP%]{padding-left:10%}"]}),Pe})();var Oe=oe(8306);function We(Pe,Ye){1&Pe&&(e.TgZ(0,"section",3)(1,"nav")(2,"ol",4),e._UZ(3,"xng-breadcrumb"),e.qZA()()())}function He(Pe,Ye){if(1&Pe&&(e.TgZ(0,"div",1),e.YNc(1,We,4,0,"section",2),e.qZA()),2&Pe){const he=Ye.ngIf;e.xp6(1),e.Q6J("ngIf",he.length>0&&"Home"!==he[he.length-1].label)}}let tt=(()=>{class Pe{constructor(he){this.bcService=he,this.breadcrumb$=new Oe.y}ngOnInit(){this.breadcrumb$=this.bcService.breadcrumbs$}}return Pe.\u0275fac=function(he){return new(he||Pe)(e.Y36(G))},Pe.\u0275cmp=e.Xpm({type:Pe,selectors:[["app-section-header"]],decls:2,vars:3,consts:[["class","pagetitle",4,"ngIf"],[1,"pagetitle"],["class","py-2 ",4,"ngIf"],[1,"py-2"],[1,"breadcrumb","text-right"]],template:function(he,De){1&he&&(e.YNc(0,He,2,1,"div",0),e.ALo(1,"async")),2&he&&e.Q6J("ngIf",e.lcZ(1,1,De.breadcrumb$))},directives:[c.O5,be],pipes:[c.Ov],styles:[""]}),Pe})();const Q=[{path:"",component:(()=>{class Pe{constructor(){}ngOnInit(){}}return Pe.\u0275fac=function(he){return new(he||Pe)},Pe.\u0275cmp=e.Xpm({type:Pe,selectors:[["app-home"]],decls:6,vars:0,consts:[["id","sidebar",1,"sidebar"],["id","main",1,"main"]],template:function(he,De){1&he&&(e._UZ(0,"app-nav-bar"),e.TgZ(1,"aside",0),e._UZ(2,"app-side-bar"),e.qZA(),e.TgZ(3,"main",1),e._UZ(4,"app-section-header")(5,"router-outlet"),e.qZA())},directives:[ne,Re,tt,pe.lC],styles:[""]}),Pe})(),children:[{path:"",component:O,data:{breadcrumb:"Dashboard"}},{path:"dashboard",component:O,data:{breadcrumb:"Dashboard"}},{path:"paiement",component:ue,data:{breadcrumb:"Paiement"}},{path:"mabanque",component:we.w,data:{breadcrumb:"Ma banque"}},{path:"engagements",component:ve,data:{breadcrumb:"Engagements"}},{path:"dashboardclient",component:me.Q,data:{breadcrumb:"DashboardClient"}},{path:"bancaireetrangere",component:ye,data:{breadcrumb:"Bancaire \xe9trang\xe8re"}},{path:"paiementfacture",component:ke.O,data:{breadcrumb:"Paiement Factures"}},{path:"paiementfacture",loadChildren:()=>Promise.all([oe.e(592),oe.e(484)]).then(oe.bind(oe,9484)).then(Pe=>Pe.PaiementfactureModule),data:{breadcrumb:"Paiement Facture"}},{path:"bancaireetrangere",loadChildren:()=>oe.e(137).then(oe.bind(oe,6137)).then(Pe=>Pe.BancaireetrangereModule),data:{breadcrumb:"Bancaire \xe9trang\xe8re"}},{path:"mabanque",loadChildren:()=>Promise.all([oe.e(592),oe.e(473)]).then(oe.bind(oe,2473)).then(Pe=>Pe.MabanqueModule),data:{breadcrumb:"Ma banque"}},{path:"dashboardclient",loadChildren:()=>oe.e(686).then(oe.bind(oe,9686)).then(Pe=>Pe.DashboardclientModule),data:{breadcrumb:"Dashboard Client"}},{path:"virement",loadChildren:()=>Promise.resolve().then(oe.bind(oe,9199)).then(Pe=>Pe.VirementModule),data:{breadcrumb:"Virement"}},{path:"carte",loadChildren:()=>Promise.resolve().then(oe.bind(oe,9743)).then(Pe=>Pe.CarteModule),data:{breadcrumb:"Carte"}},{path:"beneficiaire",loadChildren:()=>Promise.resolve().then(oe.bind(oe,629)).then(Pe=>Pe.BeneficiaireModule),data:{breadcrumb:"Beneficiaire"}},{path:"user",loadChildren:()=>oe.e(658).then(oe.bind(oe,7658)).then(Pe=>Pe.UserModule),data:{breadcrumb:"Profile"}},{path:"opimportation",loadChildren:()=>Promise.all([oe.e(592),oe.e(616)]).then(oe.bind(oe,616)).then(Pe=>Pe.OpimportationModule),data:{breadcrumb:"Op\xe9ration d'importation"}},{path:"opexportation",loadChildren:()=>Promise.all([oe.e(592),oe.e(332)]).then(oe.bind(oe,8332)).then(Pe=>Pe.OpexportationModule),data:{breadcrumb:"Op\xe9ration d'exportation"}},{path:"titreexport",loadChildren:()=>Promise.all([oe.e(592),oe.e(292)]).then(oe.bind(oe,292)).then(Pe=>Pe.TitreexportModule),data:{breadcrumb:"Titre d'exportation"}},{path:"titreimport",loadChildren:()=>Promise.all([oe.e(592),oe.e(994)]).then(oe.bind(oe,4994)).then(Pe=>Pe.TitreimportModule),data:{breadcrumb:"Titre d'importation"}},{path:"mes-engagements",loadChildren:()=>oe.e(152).then(oe.bind(oe,6152)).then(Pe=>Pe.MesEngagementsModule),data:{breadcrumb:"Mes Engagements"}},{path:"create-virement",loadChildren:()=>oe.e(170).then(oe.bind(oe,4170)).then(Pe=>Pe.InitierVirementModule),data:{breadcrumb:"Initiation Virement"}},{path:"**",redirectTo:"",pathMatch:"full"}]}];let Ee=(()=>{class Pe{}return Pe.\u0275fac=function(he){return new(he||Pe)},Pe.\u0275mod=e.oAB({type:Pe}),Pe.\u0275inj=e.cJS({imports:[[pe.Bz.forChild(Q)],pe.Bz]}),Pe})();var Y=oe(8567),fe=oe(4408);let Ve,Te=1;const qe={};function Ke(Pe){return Pe in qe&&(delete qe[Pe],!0)}const it={setImmediate(Pe){const Ye=Te++;return qe[Ye]=!0,Ve||(Ve=Promise.resolve()),Ve.then(()=>Ke(Ye)&&Pe()),Ye},clearImmediate(Pe){Ke(Pe)}},{setImmediate:lt,clearImmediate:gt}=it,ot={setImmediate(...Pe){const{delegate:Ye}=ot;return((null==Ye?void 0:Ye.setImmediate)||lt)(...Pe)},clearImmediate(Pe){const{delegate:Ye}=ot;return((null==Ye?void 0:Ye.clearImmediate)||gt)(Pe)},delegate:void 0};var Ft=oe(7565);new class Mt extends Ft.v{flush(Ye){this._active=!0;const he=this._scheduled;this._scheduled=void 0;const{actions:De}=this;let Qe;Ye=Ye||De.shift();do{if(Qe=Ye.execute(Ye.state,Ye.delay))break}while((Ye=De[0])&&Ye.id===he&&De.shift());if(this._active=!1,Qe){for(;(Ye=De[0])&&Ye.id===he&&De.shift();)Ye.unsubscribe();throw Qe}}}(class ft extends fe.o{constructor(Ye,he){super(Ye,he),this.scheduler=Ye,this.work=he}requestAsyncId(Ye,he,De=0){return null!==De&&De>0?super.requestAsyncId(Ye,he,De):(Ye.actions.push(this),Ye._scheduled||(Ye._scheduled=ot.setImmediate(Ye.flush.bind(Ye,void 0))))}recycleAsyncId(Ye,he,De=0){if(null!=De&&De>0||null==De&&this.delay>0)return super.recycleAsyncId(Ye,he,De);Ye.actions.some(Qe=>Qe.id===he)||(ot.clearImmediate(he),Ye._scheduled=void 0)}});var Be=oe(3597);window.ApexCharts=Be;let wt=(()=>{class Pe{}return Pe.\u0275fac=function(he){return new(he||Pe)},Pe.\u0275mod=e.oAB({type:Pe}),Pe.\u0275inj=e.cJS({imports:[[]]}),Pe})();var Vt=oe(629);const Ut=[{path:"virement",loadChildren:()=>Promise.resolve().then(oe.bind(oe,9199)).then(Pe=>Pe.VirementModule),data:{breadcrumb:"Virement"}},{path:"carte",loadChildren:()=>Promise.resolve().then(oe.bind(oe,9743)).then(Pe=>Pe.CarteModule),data:{breadcrumb:"Carte"}},{path:"beneficiaire",loadChildren:()=>Promise.resolve().then(oe.bind(oe,629)).then(Pe=>Pe.BeneficiaireModule),data:{breadcrumb:"Beneficiaire"}},{path:"paiementfacture",loadChildren:()=>Promise.all([oe.e(592),oe.e(484)]).then(oe.bind(oe,9484)).then(Pe=>Pe.PaiementfactureModule),data:{breadcrumb:"Paiement Facture"}},{path:"**",redirectTo:"not-found",pathMatch:"full"}];let qt=(()=>{class Pe{}return Pe.\u0275fac=function(he){return new(he||Pe)},Pe.\u0275mod=e.oAB({type:Pe}),Pe.\u0275inj=e.cJS({imports:[[pe.Bz.forChild(Ut)],pe.Bz]}),Pe})();var Nt=oe(9199),ti=oe(9743),jt=oe(520);let ni=(()=>{class Pe{}return Pe.\u0275fac=function(he){return new(he||Pe)},Pe.\u0275mod=e.oAB({type:Pe}),Pe.\u0275inj=e.cJS({imports:[[c.ez,Vt.BeneficiaireModule,Nt.VirementModule,ti.CarteModule,qt,jt.JF,_e]]}),Pe})(),It=(()=>{class Pe{}return Pe.\u0275fac=function(he){return new(he||Pe)},Pe.\u0275mod=e.oAB({type:Pe}),Pe.\u0275inj=e.cJS({imports:[[c.ez,_e,Ee,ni,Y.JX,wt]]}),Pe})()},5928:(ze,re,oe)=>{"use strict";oe.d(re,{w:()=>xe});var c=oe(1223),e=oe(7656);let xe=(()=>{class ce{constructor(){}ngOnInit(){}}return ce.\u0275fac=function(z){return new(z||ce)},ce.\u0275cmp=c.Xpm({type:ce,selectors:[["app-mabanque"]],decls:22,vars:0,consts:[["routerLink","/home/mabanque/RibIban",1,"row"],[1,"col-6"],["src","assets\\img\\engagement.jpg","alt","",1,"img-fluid","w-100"],[1,"mt-3"],["routerLink","/home/mabanque/extrait",1,"row"]],template:function(z,f){1&z&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"img",2),c.qZA(),c.TgZ(3,"div",1)(4,"h4",3),c._uU(5,"RIB/IBAN"),c.qZA(),c.TgZ(6,"ul")(7,"li"),c._uU(8,"Consulter informations RIB/IBAN "),c.qZA(),c.TgZ(9,"li"),c._uU(10,"T\xe9l\xe9charger votre RIB/IBAN (PDF)"),c.qZA()()()(),c.TgZ(11,"div",4)(12,"div",1)(13,"h4",3),c._uU(14,"Extrait du compte"),c.qZA(),c.TgZ(15,"ul")(16,"li"),c._uU(17,"Consulter votre extrait entre deux dates "),c.qZA(),c.TgZ(18,"li"),c._uU(19,"T\xe9l\xe9charger votre extrait (PDF)"),c.qZA()()(),c.TgZ(20,"div",1),c._UZ(21,"img",2),c.qZA()())},directives:[e.rH],styles:[""]}),ce})()},4368:(ze,re,oe)=>{"use strict";oe.d(re,{z:()=>c});class c{constructor(){this.Fullname="",this.MeanOfPayment="",this.PaymentNumber="",this.Amount="",this.Currency="",this.Reason="",this.Reference="",this.IdBenef="",this.benefFirstName="",this.benefLastName=""}}},9758:(ze,re,oe)=>{"use strict";oe.d(re,{O:()=>c});class c{constructor(){this.benefFirstName="",this.benefLastName="",this.benefRIB="",this.benefAmount="",this.benefReference="",this.benefMotif="",this.typeVirement="",this.numVirement="",this.benefIdentity=""}}},5045:(ze,re,oe)=>{"use strict";oe.d(re,{O:()=>c});class c{constructor(){this.app="",this.IdTransaction="",this.RequestUser="",this.TransactionType="",this.Reference="",this.FileType="",this.FileName="",this.FileOrdreVirement="",this.Comment="",this.Reason="",this.MontantTotal="",this.MontantIntroduit="",this.MontantFormate="",this.MontantLettre="",this.Base64="",this.FichierCsvFmandat="",this.OrderingCustomerAccount=""}}},9280:(ze,re,oe)=>{"use strict";oe.d(re,{T:()=>c});class c{constructor(){this.app="",this.IdTransaction="",this.OrderingCustomerAccount="",this.benefmultiple=[],this.CommonCause="",this.TotalAmount="",this.Reason="",this.Reference="",this.Comment="",this.RequestUser="",this.TransactionType="",this.AccountName="",this.FileType="",this.FileName="",this.FileOrdreVirement="",this.sourcetype=""}}},1809:(ze,re,oe)=>{"use strict";oe.d(re,{t:()=>c});class c{constructor(){this.NOM="",this.MATRICULE="",this.NUMPAIEMENT="",this.TELBENEF="",this.EMAILBENEF="",this.MONTANT="",this.REFERENCE="",this.MOTIF=""}}},2363:(ze,re,oe)=>{"use strict";function c(e,xe){return ce=>0==xe?(null==ce||ce.setErrors({checkControl:!0}),console.log(xe),{checkControl:!0}):(null==ce||ce.setErrors(null),null)}oe.d(re,{b:()=>c})},629:(ze,re,oe)=>{"use strict";oe.r(re),oe.d(re,{BeneficiaireModule:()=>i});var c=oe(9808),e=oe(1223),xe=oe(520),ce=oe(7656),pe=oe(3290),z=oe(2382);let f=(()=>{class t{transform(a,r){return r?a.filter(s=>s.NomBenef.toLocaleLowerCase().includes(r.toLocaleLowerCase())):a}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275pipe=e.Yjl({name:"filterListBenef",type:t,pure:!0}),t})();function R(t,n){1&t&&(e.TgZ(0,"div",29)(1,"div",30)(2,"span",31),e._uU(3,"Loading..."),e.qZA()()())}function x(t,n){if(1&t&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.s9C("value",a.NumberMoyPay),e.xp6(1),e.AsE("(",a.TypeMoyPay,") ",a.NumberMoyPay,"")}}function w(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"tr",32)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"select",33),e.YNc(9,x,2,3,"option",34),e.qZA()(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td")(13,"img",35),e.NdJ("click",function(){const o=e.CHM(a).$implicit;return e.oxw().gotoDetails(o.IdBenef,o)}),e.qZA()(),e.TgZ(14,"td")(15,"img",36),e.NdJ("click",function(){const s=e.CHM(a),o=s.$implicit,l=s.index;return e.oxw().ValiderSuppression(o.IdBenef,l)}),e.qZA()()()}if(2&t){const a=n.$implicit;e.MGl("id","row",n.index,""),e.xp6(2),e.Oqu(a.NomBenef),e.xp6(2),e.Oqu(a.Fonction),e.xp6(2),e.Oqu(a.TelBenef),e.xp6(3),e.Q6J("ngForOf",a.MoyPaBenef),e.xp6(2),e.Oqu(a.IdBenef)}}const _=function(){return["add"]};let B=(()=>{class t{constructor(a,r,s){this.http=a,this.router=r,this.BenefServ=s,this.ListBenef=[],this.NewListBenef=[],this.loader=!1}getTypeValue(a){this.loader=!0,this.NewListBenef=[];const r=a.target.value;console.log(" Value is : ",r),console.log(a),""!=r&&(this.element=document.getElementById("cardbenefdiv"),this.element.style.pointerEvents="auto",this.element.style.opacity="1",this.BenefServ.GetListBenef(this.token).subscribe(s=>{this.ListBenef=s.body;for(var o=0;o<this.ListBenef.length;o++)r==this.ListBenef[o].TypeBenef&&this.NewListBenef.push(this.ListBenef[o]);this.loader=!1,this.filterValue=r},s=>{console.log("error API"),-1!=s.indexOf("401")&&this.router.navigate(["/"])}))}ngOnInit(){this.element=document.getElementById("cardbenefdiv"),this.element.style.pointerEvents="none",this.element.style.opacity="0.6",this.token=localStorage.getItem("token")}onChangePage(a){this.pageOfItems=a}ValiderSuppression(a,r){var s;this.idbenef=a,this.NumBenef=r,null===(s=document.getElementById("ModalValidationSuppressionBenef"))||void 0===s||s.setAttribute("class","modal fade  show")}deleteBenef(){var a;null===(a=document.getElementById("ModalValidationSuppressionBenef"))||void 0===a||a.setAttribute("class","modal fade  hide"),this.loader=!0,this.BenefServ.SupprimerBenefCorporate(this.token,this.idbenef).subscribe(r=>{var s;"Success"==r.body.status&&(this.loader=!1,1==this.NewListBenef.length||(this.NewListBenef.splice(this.NumBenef,1),null===(s=document.getElementById("row"+this.NumBenef))||void 0===s||s.remove()))},r=>{console.log("error API"),-1!=r.indexOf("401")&&this.router.navigate(["/"])})}hidePopUp(){var a;null===(a=document.getElementById("ModalValidationSuppressionBenef"))||void 0===a||a.setAttribute("class","modal fade  hide")}gotoDetails(a,r){this.router.navigate(["/home/beneficiaire/update/"+a]),localStorage.setItem("filterValue",this.filterValue),localStorage.setItem("data",JSON.stringify(r))}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(xe.eN),e.Y36(ce.F0),e.Y36(pe.I))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-beneficiaires"]],decls:56,vars:8,consts:[[1,"row"],[1,"col-3",3,"routerLink"],["type","button",1,"btn","btn-info"],[1,"bi","bi-plus-circle"],[1,"col-9"],[1,"section","mt-4"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-4"],["name","origin_country","aria-label","Default select example",1,"form-control",3,"change"],["Value","","hidden","","selected",""],["Value","Salarie"],["Value","Fournisseur"],["Value","Adherent"],["type","search","placeholder","Rechercher par nom ",1,"form-control","py-2","search",3,"ngModel","ngModelChange"],["style","text-align: center;",4,"ngIf"],["id","cardbenefdiv",1,"table","datatable"],["scope","col"],[3,"id",4,"ngFor","ngForOf"],["id","ModalValidationSuppressionBenef","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabelProcessed",1,"modal-title",2,"color","rgb(7, 7, 7)"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[2,"text-align","center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[3,"id"],["name","Mode livraison","aria-label","Default select example",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["src","assets/img/pencil-fill.svg",2,"width","28px",3,"click"],["src","assets/img/trash-fill.svg",2,"width","28px",3,"click"],[3,"value"]],template:function(a,r){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e._UZ(3,"i",3),e.qZA(),e._uU(4," Ajouter "),e.qZA(),e._UZ(5,"div",4),e.qZA(),e.TgZ(6,"section",5)(7,"div",0)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h5",9),e._uU(12,"Consultation B\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(13,"div",0)(14,"div",10)(15,"select",11),e.NdJ("change",function(o){return r.getTypeValue(o)}),e.TgZ(16,"option",12),e._uU(17," Choisir Type B\xe9n\xe9ficiaire "),e.qZA(),e.TgZ(18,"option",13),e._uU(19," Salari\xe9s "),e.qZA(),e.TgZ(20,"option",14),e._uU(21," Fournisseurs "),e.qZA(),e.TgZ(22,"option",15),e._uU(23," Adh\xe9rents "),e.qZA()()(),e._UZ(24,"div",10),e.TgZ(25,"div",10)(26,"input",16),e.NdJ("ngModelChange",function(o){return r.searchBenef=o}),e.qZA()()(),e.YNc(27,R,4,0,"div",17),e.TgZ(28,"table",18)(29,"thead")(30,"tr")(31,"th",19),e._uU(32,"Nom & Prenom "),e.qZA(),e.TgZ(33,"th",19),e._uU(34,"Fonction"),e.qZA(),e.TgZ(35,"th",19),e._uU(36,"T\xe9l\xe9phone"),e.qZA(),e.TgZ(37,"th",19),e._uU(38,"Moyen de paiement"),e.qZA(),e.TgZ(39,"th",19),e._uU(40,"Matricule"),e.qZA()()(),e.TgZ(41,"tbody"),e.YNc(42,w,16,6,"tr",20),e.ALo(43,"filterListBenef"),e.qZA()()()()()()(),e.TgZ(44,"div",21)(45,"div",22)(46,"div",23)(47,"div",24)(48,"h5",25)(49,"p"),e._uU(50," Voulez vous supprimer ce b\xe9n\xe9ficiaire? "),e.qZA()()(),e.TgZ(51,"div",26)(52,"button",27),e.NdJ("click",function(){return r.hidePopUp()}),e._uU(53,"Annuler"),e.qZA(),e.TgZ(54,"button",28),e.NdJ("click",function(){return r.deleteBenef()}),e._uU(55,"Valider"),e.qZA()()()()()),2&a&&(e.xp6(1),e.Q6J("routerLink",e.DdM(7,_)),e.xp6(25),e.Q6J("ngModel",r.searchBenef),e.xp6(1),e.Q6J("ngIf",r.loader),e.xp6(15),e.Q6J("ngForOf",e.xi3(43,4,r.NewListBenef,r.searchBenef)))},directives:[ce.rH,z.YN,z.Kr,z.Fj,z.JJ,z.On,c.O5,c.sg],pipes:[f],styles:[".show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}"]}),t})();function k(t,n){if(1&t&&(e.TgZ(0,"div",39),e._uU(1),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.message,"")}}function C(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,k,2,1,"div",38),e.qZA()),2&t){const a=n.$implicit,r=e.oxw(2);let s;e.xp6(1),e.Q6J("ngIf",(null==(s=r.ModificationForm.get("Nom"))?null:s.hasError(a.type))&&((null==(s=r.ModificationForm.get("Nom"))?null:s.dirty)||(null==(s=r.ModificationForm.get("Nom"))?null:s.touched)))}}function X(t,n){if(1&t&&(e.TgZ(0,"div",36),e.YNc(1,C,2,1,"div",37),e.qZA()),2&t){const a=e.oxw();e.xp6(1),e.Q6J("ngForOf",a.validation_messages.Nom)}}function se(t,n){if(1&t&&(e.TgZ(0,"div",39),e._uU(1),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.message,"")}}function j(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,se,2,1,"div",38),e.qZA()),2&t){const a=n.$implicit,r=e.oxw(2);let s;e.xp6(1),e.Q6J("ngIf",(null==(s=r.ModificationForm.get("Matricule"))?null:s.hasError(a.type))&&((null==(s=r.ModificationForm.get("Matricule"))?null:s.dirty)||(null==(s=r.ModificationForm.get("Matricule"))?null:s.touched)))}}function S(t,n){if(1&t&&(e.TgZ(0,"div",36),e.YNc(1,j,2,1,"div",37),e.qZA()),2&t){const a=e.oxw();e.xp6(1),e.Q6J("ngForOf",a.validation_messages.Matricule)}}function A(t,n){if(1&t&&(e.TgZ(0,"div",39),e._uU(1),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.message,"")}}function T(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,A,2,1,"div",38),e.qZA()),2&t){const a=n.$implicit,r=e.oxw(2);let s;e.xp6(1),e.Q6J("ngIf",(null==(s=r.ModificationForm.get("GSM"))?null:s.hasError(a.type))&&((null==(s=r.ModificationForm.get("GSM"))?null:s.dirty)||(null==(s=r.ModificationForm.get("GSM"))?null:s.touched)))}}function L(t,n){if(1&t&&(e.TgZ(0,"div",36),e.YNc(1,T,2,1,"div",37),e.qZA()),2&t){const a=e.oxw();e.xp6(1),e.Q6J("ngForOf",a.validation_messages.GSM)}}function W(t,n){if(1&t&&(e.TgZ(0,"div",39),e._uU(1),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.message,"")}}function G(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,W,2,1,"div",38),e.qZA()),2&t){const a=n.$implicit,r=e.oxw(3);let s;e.xp6(1),e.Q6J("ngIf",(null==(s=r.ModificationForm.get("ValMoy1"))?null:s.hasError(a.type))&&((null==(s=r.ModificationForm.get("ValMoy1"))?null:s.dirty)||(null==(s=r.ModificationForm.get("ValMoy1"))?null:s.touched)))}}function be(t,n){if(1&t&&(e.TgZ(0,"div",36),e.YNc(1,G,2,1,"div",37),e.qZA()),2&t){const a=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",a.validation_messages.ValMoy1)}}const de=function(t,n){return{"is-invalid":t,"is-valid":n}};function _e(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"div",4)(1,"div",40)(2,"li",41),e._uU(3),e.qZA()(),e.TgZ(4,"div",5)(5,"input",42),e.NdJ("keyup",function(){return e.CHM(a),e.oxw().ControlMoyenPay()}),e.qZA(),e.YNc(6,be,2,1,"div",14),e.qZA()()}if(2&t){const a=e.oxw();let r,s;e.xp6(3),e.hij(" ",a.typeMoy1," : "),e.xp6(2),e.Q6J("ngClass",e.WLB(3,de,(null==(r=a.ModificationForm.get("ValMoy1"))?null:r.touched)&&(null==(r=a.ModificationForm.get("ValMoy1"))?null:r.invalid),null==(r=a.ModificationForm.get("ValMoy1"))?null:r.valid)),e.xp6(1),e.Q6J("ngIf",(null==(s=a.ModificationForm.get("ValMoy1"))?null:s.touched)&&(null==(s=a.ModificationForm.get("ValMoy1"))?null:s.invalid))}}function ye(t,n){if(1&t&&(e.TgZ(0,"div",39),e._uU(1),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.message,"")}}function me(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,ye,2,1,"div",38),e.qZA()),2&t){const a=n.$implicit,r=e.oxw(3);let s;e.xp6(1),e.Q6J("ngIf",(null==(s=r.ModificationForm.get("ValMoy1"))?null:s.hasError(a.type))&&((null==(s=r.ModificationForm.get("ValMoy1"))?null:s.dirty)||(null==(s=r.ModificationForm.get("ValMoy1"))?null:s.touched)))}}function ve(t,n){if(1&t&&(e.TgZ(0,"div",36),e.YNc(1,me,2,1,"div",37),e.qZA()),2&t){const a=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",a.validation_messages.ValMoy1)}}function we(t,n){if(1&t&&(e.TgZ(0,"div",39),e._uU(1),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.message,"")}}function ue(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,we,2,1,"div",38),e.qZA()),2&t){const a=n.$implicit,r=e.oxw(3);let s;e.xp6(1),e.Q6J("ngIf",(null==(s=r.ModificationForm.get("ValMoy2"))?null:s.hasError(a.type))&&((null==(s=r.ModificationForm.get("ValMoy2"))?null:s.dirty)||(null==(s=r.ModificationForm.get("ValMoy2"))?null:s.touched)))}}function ke(t,n){if(1&t&&(e.TgZ(0,"div",36),e.YNc(1,ue,2,1,"div",37),e.qZA()),2&t){const a=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",a.validation_messages.ValMoy2)}}function J(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"div",4)(1,"div",4)(2,"div",40)(3,"li"),e._uU(4),e.qZA()(),e.TgZ(5,"div",5)(6,"input",42),e.NdJ("keyup",function(){return e.CHM(a),e.oxw().ControlMoyenPay()}),e.qZA(),e.YNc(7,ve,2,1,"div",14),e.qZA()(),e._UZ(8,"br")(9,"br"),e.TgZ(10,"div",4)(11,"div",40)(12,"li"),e._uU(13),e.qZA()(),e.TgZ(14,"div",5)(15,"input",43),e.NdJ("keyup",function(){return e.CHM(a),e.oxw().ControlMoyenPay()}),e.qZA(),e.YNc(16,ke,2,1,"div",14),e.qZA()()()}if(2&t){const a=e.oxw();let r,s,o,l;e.xp6(4),e.hij(" ",a.typeMoy1," : "),e.xp6(2),e.Q6J("ngClass",e.WLB(6,de,(null==(r=a.ModificationForm.get("ValMoy1"))?null:r.touched)&&(null==(r=a.ModificationForm.get("ValMoy1"))?null:r.invalid),null==(r=a.ModificationForm.get("ValMoy1"))?null:r.valid)),e.xp6(1),e.Q6J("ngIf",(null==(s=a.ModificationForm.get("ValMoy1"))?null:s.touched)&&(null==(s=a.ModificationForm.get("ValMoy1"))?null:s.invalid)),e.xp6(6),e.hij(" ",a.typeMoy2," : "),e.xp6(2),e.Q6J("ngClass",e.WLB(9,de,(null==(o=a.ModificationForm.get("ValMoy2"))?null:o.touched)&&(null==(o=a.ModificationForm.get("ValMoy2"))?null:o.invalid),null==(o=a.ModificationForm.get("ValMoy2"))?null:o.valid)),e.xp6(1),e.Q6J("ngIf",(null==(l=a.ModificationForm.get("ValMoy2"))?null:l.touched)&&(null==(l=a.ModificationForm.get("ValMoy2"))?null:l.invalid))}}function N(t,n){1&t&&(e.TgZ(0,"div",44)(1,"div",45)(2,"span",46),e._uU(3,"Loading..."),e.qZA()()())}let F=(()=>{class t{constructor(a,r,s,o){this.fb=a,this.http=r,this.router=s,this.BenefServ=o,this.moyenpay=[],this.loader=!1,this.msgValue="",this.msgValue1="",this.validation_messages={Nom:[{type:"required",message:"Veuillez saisir le nom "}],Matricule:[{type:"required",message:"Veuillez saisir une matricule"}],fonction:[{type:"required",message:"Veuillez saisir une fonction"}],GSM:[{type:"required",message:"Veuillez saisir le num\xe9ro de GSM"}],moyenpay:[{type:"required",message:"Veuillez saisir un moyen de paiement"}],Carte:[{type:"required",message:"Veuillez saisir un num\xe9ro de carte"}],mail:[{type:"required",message:"Veuillez saisir un num\xe9ro de RIB sur 20 chiffres"}],Compte:[{type:"required",message:"Veuillez saisir un num\xe9ro de RIB sur 20 chiffres"}],ValMoy1:[{type:"pattern",message:this.msgValue},{type:"required",message:"Ce champs est obligatoire"}],ValMoy2:[{type:"pattern",message:this.msgValue1},{type:"required",message:"Ce champs est obligatoire"}]},this.checkCarte=!0,this.checkCompte=!0,this.createForm1()}createForm1(){this.ModificationForm=this.fb.group({Nom:new z.NI("",z.kI.required),Matricule:new z.NI("",z.kI.required),fonction:new z.NI(""),GSM:new z.NI("",z.kI.required),mail:new z.NI(""),typeMoy1:new z.NI(""),ValMoy1:new z.NI("",z.kI.required),typeMoy2:new z.NI(""),ValMoy2:new z.NI("",z.kI.required)})}ngOnInit(){var a,r,s,o,l,d,g,p,m,y,E,P,Z,K,ae,le,h,b,D,ee,Ce,Ne;this.token=localStorage.getItem("token"),this.filterValue=localStorage.getItem("filterValue"),console.log(this.filterValue);const Me=localStorage.getItem("data");if(console.log("retrievedObject: ",JSON.parse(Me)),this.Retourbenef=JSON.parse(Me),console.log(this.Retourbenef),this.nom=this.Retourbenef.NomBenef,console.log(this.nom),this.fonction=this.Retourbenef.Fonction,this.moyenpay=this.Retourbenef.MoyPaBenef,console.log(this.moyenpay),null===(a=this.ModificationForm.get("Nom"))||void 0===a||a.setValue(this.nom),null===(r=this.ModificationForm.get("fonction"))||void 0===r||r.setValue(this.fonction),null===(s=this.ModificationForm.get("Matricule"))||void 0===s||s.setValue(this.Retourbenef.IdBenef),null===(o=this.ModificationForm.get("GSM"))||void 0===o||o.setValue(this.Retourbenef.TelBenef),null===(l=this.ModificationForm.get("mail"))||void 0===l||l.setValue(this.Retourbenef.EmailBenef),2==this.moyenpay.length)for(var je=0;je<this.moyenpay.length;je++)this.typeMoy1=this.moyenpay[0].TypeMoyPay,null===(d=this.ModificationForm.get("ValMoy1"))||void 0===d||d.setValue(this.moyenpay[0].NumberMoyPay),null===(g=this.ModificationForm.get("typeMoy1"))||void 0===g||g.setValue(this.moyenpay[0].TypeMoyPay),"Carte"==(null===(p=this.ModificationForm.get("typeMoy1"))||void 0===p?void 0:p.value)?(this.msgValue="Ce champs doit contenir 16 chiffres",null===(m=this.ModificationForm.get("ValMoy1"))||void 0===m||m.addValidators([z.kI.pattern("^[0-9]{16}$")])):(this.msgValue="Ce champs doit contenir 20 chiffres",null===(y=this.ModificationForm.get("ValMoy1"))||void 0===y||y.addValidators([z.kI.pattern("^[0-9]{20}$")])),this.typeMoy2=this.moyenpay[1].TypeMoyPay,null===(E=this.ModificationForm.get("ValMoy2"))||void 0===E||E.setValue(this.moyenpay[1].NumberMoyPay),null===(P=this.ModificationForm.get("typeMoy2"))||void 0===P||P.setValue(this.moyenpay[1].TypeMoyPay),"Carte"==(null===(Z=this.ModificationForm.get("typeMoy2"))||void 0===Z?void 0:Z.value)?(this.msgValue1="Ce champs doit contenir 16 chiffres",null===(K=this.ModificationForm.get("ValMoy2"))||void 0===K||K.addValidators([z.kI.pattern("^[0-9]{16}$")])):(this.msgValue1="Ce champs doit contenir 20 chiffres",null===(ae=this.ModificationForm.get("ValMoy2"))||void 0===ae||ae.addValidators([z.kI.pattern("^[0-9]{20}$")]));if(1==this.moyenpay.length)for(null===(le=this.ModificationForm.get("typeMoy2"))||void 0===le||le.clearValidators(),null===(h=this.ModificationForm.get("ValMoy2"))||void 0===h||h.clearValidators(),je=0;je<this.moyenpay.length;je++)this.typeMoy1=this.moyenpay[0].TypeMoyPay,null===(b=this.ModificationForm.get("ValMoy1"))||void 0===b||b.setValue(this.moyenpay[0].NumberMoyPay),null===(D=this.ModificationForm.get("typeMoy1"))||void 0===D||D.setValue(this.moyenpay[0].TypeMoyPay),"Carte"==(null===(ee=this.ModificationForm.get("typeMoy1"))||void 0===ee?void 0:ee.value)?(this.msgValue="Ce champs doit contenir 16 chiffres",null===(Ce=this.ModificationForm.get("ValMoy1"))||void 0===Ce||Ce.addValidators([z.kI.pattern("^[0-9]{16}$")])):(this.msgValue="Ce champs doit contenir 20 chiffres",null===(Ne=this.ModificationForm.get("ValMoy1"))||void 0===Ne||Ne.addValidators([z.kI.pattern("^[0-9]{20}$")]))}ControlCarte(){if(16==this.Carte.length){let a={cardNumber:this.Carte};null!=this.Carte&&null!=this.Carte&&""!=this.Carte&&this.BenefServ.ControlCardBenef(a,this.token).subscribe(r=>{var s,o;this.RetourCarte=r,("01"==this.RetourCarte.CodeResponse||"99"==this.RetourCarte.CodeResponse||"04"==this.RetourCarte.CodeResponse)&&(this.msgCarte="Verifier la carte en input !",this.loader=!1,null===(s=document.getElementById("ModalVerifCarte"))||void 0===s||s.setAttribute("class","modal fade  show")),"00"==this.RetourCarte.CodeResponse&&("Delivered"!=this.RetourCarte.Status?(this.msgCarte="Carte Non Valide !",this.loader=!1,null===(o=document.getElementById("ModalVerifCarte"))||void 0===o||o.setAttribute("class","modal fade  show")):"Delivered"==this.RetourCarte.Status&&(this.checkCarte=!0,this.loader=!1))},r=>{console.log("error API"),-1!=r.indexOf("401")&&this.router.navigate(["/"])})}}ControlRIB(){if(20==this.Compte.length){let a={NumeroCompte:this.Compte};null!=this.Compte&&null!=this.Compte&&""!=this.Compte&&this.BenefServ.ControlAccountBenef(a,this.token).subscribe(r=>{var s,o;this.RetourCompte=r,("01"==this.RetourCompte.ResponseCode||"99"==this.RetourCompte.ResponseCode)&&(this.msgRib="Verifier le  RIB en input !",this.loader=!1,null===(s=document.getElementById("ModalVerifRIB"))||void 0===s||s.setAttribute("class","modal fade  show")),"00"==this.RetourCompte.ResponseCode&&("Active"!=this.RetourCompte.Status?(this.msgRib="Compte Non Valide !",this.loader=!1,null===(o=document.getElementById("ModalVerifRIB"))||void 0===o||o.setAttribute("class","modal fade  show")):(this.loader=!1,this.checkCompte=!0))},r=>{console.log("error API"),-1!=r.indexOf("401")&&this.router.navigate(["/"])})}}ControlMoyenPay(){var a,r,s,o;this.typeMoy1=null===(a=this.ModificationForm.get("typeMoy1"))||void 0===a?void 0:a.value,this.typeMoy2=null===(r=this.ModificationForm.get("typeMoy2"))||void 0===r?void 0:r.value,this.ValMoy1=null===(s=this.ModificationForm.get("ValMoy1"))||void 0===s?void 0:s.value,this.ValMoy2=null===(o=this.ModificationForm.get("ValMoy2"))||void 0===o?void 0:o.value,this.PayementType=""!=this.typeMoy1&&null!=this.typeMoy1&&""!=this.typeMoy2&&null!=this.typeMoy2?"CompteCarte":""!=this.typeMoy1&&null!=this.typeMoy1?this.typeMoy1:this.typeMoy2,1==this.moyenpay.length&&("16"==this.moyenpay[0].NumberMoyPay.length&&(this.AccountNumber="",this.CardNumber=this.ValMoy1,this.Carte=this.CardNumber,this.checkCompte=!0,this.ControlCarte()),"20"==this.moyenpay[0].NumberMoyPay.length&&(this.CardNumber="",this.AccountNumber=this.ValMoy1,this.Compte=this.AccountNumber,this.checkCarte=!0,this.ControlRIB())),2==this.moyenpay.length&&("16"==this.moyenpay[0].NumberMoyPay.length&&(this.CardNumber=this.ValMoy1,this.Carte=this.CardNumber,this.ControlCarte()),"20"==this.moyenpay[0].NumberMoyPay.length&&(this.AccountNumber=this.ValMoy1,this.Compte=this.AccountNumber,this.ControlRIB()),"16"==this.moyenpay[1].NumberMoyPay.length&&(this.CardNumber=this.ValMoy2,this.Carte=this.CardNumber,this.ControlCarte()),"20"==this.moyenpay[1].NumberMoyPay.length&&(this.AccountNumber=this.ValMoy2,this.Compte=this.AccountNumber,this.ControlRIB()))}validerModification(){var a,r,s,o,l,d,g,p,m;this.loader=!0,this.Name=null===(a=this.ModificationForm.get("Nom"))||void 0===a?void 0:a.value,this.NumTel=null===(r=this.ModificationForm.get("GSM"))||void 0===r?void 0:r.value,this.Email=null===(s=this.ModificationForm.get("mail"))||void 0===s?void 0:s.value,this.matricule=null===(o=this.ModificationForm.get("Matricule"))||void 0===o?void 0:o.value,this.Function=null===(l=this.ModificationForm.get("fonction"))||void 0===l?void 0:l.value,this.typeMoy1=null===(d=this.ModificationForm.get("typeMoy1"))||void 0===d?void 0:d.value,this.typeMoy2=null===(g=this.ModificationForm.get("typeMoy2"))||void 0===g?void 0:g.value,this.ValMoy1=null===(p=this.ModificationForm.get("ValMoy1"))||void 0===p?void 0:p.value,this.ValMoy2=null===(m=this.ModificationForm.get("ValMoy2"))||void 0===m?void 0:m.value,this.PayementType=""!=this.typeMoy1&&null!=this.typeMoy1&&""!=this.typeMoy2&&null!=this.typeMoy2?"CompteCarte":""!=this.typeMoy1&&null!=this.typeMoy1?this.typeMoy1:this.typeMoy2,1==this.moyenpay.length&&("16"==this.moyenpay[0].NumberMoyPay.length&&(this.AccountNumber="",this.CardNumber=this.ValMoy1),"20"==this.moyenpay[0].NumberMoyPay.length&&(this.CardNumber="",this.AccountNumber=this.ValMoy1)),2==this.moyenpay.length&&("16"==this.moyenpay[0].NumberMoyPay.length&&(this.CardNumber=this.ValMoy1),"20"==this.moyenpay[0].NumberMoyPay.length&&(this.AccountNumber=this.ValMoy1),"16"==this.moyenpay[1].NumberMoyPay.length&&(this.CardNumber=this.ValMoy2),"20"==this.moyenpay[1].NumberMoyPay.length&&(this.AccountNumber=this.ValMoy2)),this.BenefServ.UpdateBenefInfo(this.token,this.Name,this.NumTel,this.Email,this.matricule,this.Function,this.PayementType,this.CardNumber,this.AccountNumber).subscribe(y=>{var E;console.log(y),this.retourUpdate=y,"Success"==this.retourUpdate.status&&(this.loader=!1,null===(E=document.getElementById("ModalValidationUpdateBenef"))||void 0===E||E.setAttribute("class","modal fade  show"),this.Retourbenef="",this.nom="",this.moyenpay=[])},y=>{console.log("error API"),-1!=y.indexOf("401")&&this.router.navigate(["/"])})}hidePopUp(){var a;null===(a=document.getElementById("ModalValidationUpdateBenef"))||void 0===a||a.setAttribute("class","modal fade  hide"),this.router.navigate(["/home/beneficiaire"])}hidePopUpCarte(){var a;this.checkCompte=!1,null===(a=document.getElementById("ModalVerifCarte"))||void 0===a||a.setAttribute("class","modal fade  hide")}hidePopUpRib(){var a;this.checkCompte=!1,null===(a=document.getElementById("ModalVerifRIB"))||void 0===a||a.setAttribute("class","modal fade  hide")}GetSearchedValue(){this.BenefServ.GetInfoBenefById(this.token,this.searchBenef).subscribe(a=>{var r,s,o,l,d,g,p,m,y,E,P,Z,K,ae,le,h,b,D,ee,Ce,Ne,Me,je,Xe,et,ct,St;if(this.Retourbenef=a.body,this.nom=this.Retourbenef.NomBenef,this.moyenpay=this.Retourbenef.MoyPaBenef,this.fonction=this.Retourbenef.Fonction,null===(r=this.ModificationForm.get("Nom"))||void 0===r||r.setValue(this.nom),null===(s=this.ModificationForm.get("fonction"))||void 0===s||s.setValue(this.fonction),null===(o=this.ModificationForm.get("Matricule"))||void 0===o||o.setValue(this.Retourbenef.IdBenef),null===(l=this.ModificationForm.get("GSM"))||void 0===l||l.setValue(this.Retourbenef.TelBenef),null===(d=this.ModificationForm.get("mail"))||void 0===d||d.setValue(this.Retourbenef.EmailBenef),null===(g=this.ModificationForm.get("ValMoy1"))||void 0===g||g.setValue(this.Retourbenef.MoyPaBenef),null===(p=this.ModificationForm.get("typeMoy1"))||void 0===p||p.setValue(this.Retourbenef.MoyPaBenef),null===(m=this.ModificationForm.get("ValMoy2"))||void 0===m||m.setValue(this.Retourbenef.MoyPaBenef),null===(y=this.ModificationForm.get("typeMoy2"))||void 0===y||y.setValue(this.Retourbenef.MoyPaBenef),null!=this.moyenpay){if(2==this.moyenpay.length)for(var At=0;At<this.moyenpay.length;At++)this.typeMoy1=this.moyenpay[0].TypeMoyPay,null===(E=this.ModificationForm.get("ValMoy1"))||void 0===E||E.setValue(this.moyenpay[0].NumberMoyPay),null===(P=this.ModificationForm.get("typeMoy1"))||void 0===P||P.setValue(this.moyenpay[0].TypeMoyPay),"Carte"==(null===(Z=this.ModificationForm.get("typeMoy1"))||void 0===Z?void 0:Z.value)?(this.msgValue="Ce champs doit contenir 16 chiffres",null===(K=this.ModificationForm.get("ValMoy1"))||void 0===K||K.addValidators([z.kI.pattern("^[0-9]{16}$")])):(this.msgValue="Ce champs doit contenir 20 chiffres",null===(ae=this.ModificationForm.get("ValMoy1"))||void 0===ae||ae.addValidators([z.kI.pattern("^[0-9]{20}$")])),this.typeMoy2=this.moyenpay[1].TypeMoyPay,null===(le=this.ModificationForm.get("ValMoy2"))||void 0===le||le.setValue(this.moyenpay[1].NumberMoyPay),null===(h=this.ModificationForm.get("typeMoy2"))||void 0===h||h.setValue(this.moyenpay[1].TypeMoyPay),"Carte"==(null===(b=this.ModificationForm.get("typeMoy2"))||void 0===b?void 0:b.value)?(this.msgValue1="Ce champs doit contenir 16 chiffres",null===(D=this.ModificationForm.get("ValMoy2"))||void 0===D||D.addValidators([z.kI.pattern("^[0-9]{16}$")])):(this.msgValue1="Ce champs doit contenir 20 chiffres",null===(ee=this.ModificationForm.get("ValMoy2"))||void 0===ee||ee.addValidators([z.kI.pattern("^[0-9]{20}$")]));if(1==this.moyenpay.length)for(null===(Ce=this.ModificationForm.get("typeMoy2"))||void 0===Ce||Ce.clearValidators(),null===(Ne=this.ModificationForm.get("ValMoy2"))||void 0===Ne||Ne.clearValidators(),At=0;At<this.moyenpay.length;At++)this.typeMoy1=this.moyenpay[0].TypeMoyPay,null===(Me=this.ModificationForm.get("ValMoy1"))||void 0===Me||Me.setValue(this.moyenpay[0].NumberMoyPay),null===(je=this.ModificationForm.get("typeMoy1"))||void 0===je||je.setValue(this.moyenpay[0].TypeMoyPay),"Carte"==(null===(Xe=this.ModificationForm.get("typeMoy1"))||void 0===Xe?void 0:Xe.value)?(this.msgValue="Ce champs doit contenir 16 chiffres",null===(et=this.ModificationForm.get("ValMoy1"))||void 0===et||et.addValidators([z.kI.pattern("^[0-9]{16}$")])):(this.msgValue="Ce champs doit contenir 20 chiffres",null===(ct=this.ModificationForm.get("ValMoy1"))||void 0===ct||ct.addValidators([z.kI.pattern("^[0-9]{20}$")]))}null==this.nom&&null==this.moyenpay&&(null===(St=document.getElementById("alertBenefNotExist"))||void 0===St||St.setAttribute("class","alert alert-danger alert-dismissible fade show"))},a=>{console.log("error API"),-1!=a.indexOf("401")&&this.router.navigate(["/"])})}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(z.qu),e.Y36(xe.eN),e.Y36(ce.F0),e.Y36(pe.I))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-beneficiaire-details"]],decls:107,vars:28,consts:[["id","cardDeliv",1,"card"],[1,"card-body"],["data-aos","fade-up",1,"section-title"],[1,"card-title"],[1,"row"],[1,"col-4"],[1,"col-6"],["type","search","placeholder","Id Client",1,"form-control","py-2","search",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-lg",2,"height","43px",3,"click"],[3,"formGroup"],[2,"text-decoration","underline","color","#3498db","text-align","left"],[1,"col-3"],[1,"col-12"],["autocomplete","off","type","text","name","Nom","formControlName","Nom",1,"form-control",3,"value","ngClass"],["class","alert alert-danger",4,"ngIf"],["autocomplete","off","type","text","name","Matricule","formControlName","Matricule","disabled","",1,"form-control",3,"value","ngClass"],[1,"col-1"],["autocomplete","off","type","number","name","GSM","formControlName","GSM",1,"form-control",3,"value","ngClass"],["autocomplete","off","formControlName","mail","type","email","name","Mail","id","mail",1,"form-control",3,"value"],["formControlName","fonction","autocomplete","off","type","text","name","fonction",1,"form-control",3,"value"],["class","row",4,"ngIf"],["style","text-align: center;",4,"ngIf"],[2,"text-align","center","margin-bottom","3%","margin-top","1%"],["type","button",1,"btn","btn-primary","btn-lg",2,"font-size","20px","font-weight","bold","cursor","pointer","width","26%","color","white","background-color","#3498db","border-radius","20px",3,"disabled","click"],["id","ModalValidationUpdateBenef","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabelError",1,"modal-title",2,"color","rgb(7, 7, 7)"],[1,"bi","bi-check-square",2,"color","green",3,"click"],["id","alertBenefNotExist","role","alert",1,"alert","alert-danger","alert-dismissible","fade"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],["id","ModalVerifRIB","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["id","ModalVerifCarte","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],[1,"alert","alert-danger"],[4,"ngFor","ngForOf"],["style","font-size:12px",4,"ngIf"],[2,"font-size","12px"],[1,"col-2"],["formControlName","typeMoy1"],["autocomplete","off","inputmode","numeric","pattern","[0-9]*","type","text","name","ValMoy1","formControlName","ValMoy1",1,"form-control",3,"ngClass","keyup"],["autocomplete","off","inputmode","numeric","pattern","[0-9]*","type","text","name","ValMoy2","formControlName","ValMoy2",1,"form-control",3,"ngClass","keyup"],[2,"text-align","center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(a,r){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),e._uU(4,"Modification B\xe9n\xe9ficiaire"),e.qZA()(),e._UZ(5,"br")(6,"br"),e.TgZ(7,"div",4),e._UZ(8,"div",5)(9,"div",5),e.TgZ(10,"div",5)(11,"div",4)(12,"div",6)(13,"input",7),e.NdJ("ngModelChange",function(o){return r.searchBenef=o}),e.qZA()(),e.TgZ(14,"div",6)(15,"button",8),e.NdJ("click",function(){return r.GetSearchedValue()}),e._uU(16,"Rechercher"),e.qZA()()()()(),e.TgZ(17,"form",9)(18,"div",4)(19,"h5",10),e._uU(20,"Informations Client"),e.qZA(),e.TgZ(21,"div",11)(22,"div",4),e._UZ(23,"br")(24,"br")(25,"div",12),e.TgZ(26,"div",12),e._uU(27," Nom & Prenom "),e._UZ(28,"input",13),e.YNc(29,X,2,1,"div",14),e.qZA(),e._UZ(30,"br")(31,"br"),e.TgZ(32,"div",12),e._uU(33," Matricule "),e._UZ(34,"input",15),e.YNc(35,S,2,1,"div",14),e.qZA(),e._UZ(36,"br"),e.qZA()(),e._UZ(37,"div",16),e.TgZ(38,"div",11)(39,"div",4),e._UZ(40,"br")(41,"br")(42,"div",12),e.TgZ(43,"div",12),e._uU(44," Tel "),e._UZ(45,"input",17),e.YNc(46,L,2,1,"div",14),e.qZA(),e._UZ(47,"br")(48,"br"),e.TgZ(49,"div",12),e._uU(50," Email "),e._UZ(51,"input",18),e.qZA(),e._UZ(52,"br"),e.qZA()(),e._UZ(53,"div",16),e.TgZ(54,"div",11)(55,"div",4),e._UZ(56,"br")(57,"br")(58,"div",12),e.TgZ(59,"div",12),e._uU(60," Fonction "),e._UZ(61,"input",19),e.qZA(),e._UZ(62,"br")(63,"br")(64,"br"),e.qZA()()(),e._UZ(65,"br")(66,"br"),e.TgZ(67,"div",4)(68,"h5",10),e._uU(69,"Informations Moyens de paiement"),e.qZA()(),e.YNc(70,_e,7,6,"div",20),e.YNc(71,J,17,12,"div",20),e.qZA()(),e.YNc(72,N,4,0,"div",21),e.TgZ(73,"div",22)(74,"button",23),e.NdJ("click",function(){return r.validerModification()}),e._uU(75," Valider la modification"),e.qZA()()(),e.TgZ(76,"div",24)(77,"div",25)(78,"div",26)(79,"div",27)(80,"h5",28)(81,"p"),e._uU(82," Mise \xe0 jour b\xe9n\xe9ficiaire avec succ\xe9s "),e.qZA()(),e.TgZ(83,"i",29),e.NdJ("click",function(){return r.hidePopUp()}),e.qZA()()()()(),e.TgZ(84,"div",30),e._uU(85," B\xe9n\xe9ficiaire Inexistant ! "),e._UZ(86,"button",31),e.qZA(),e.TgZ(87,"div",32)(88,"div",25)(89,"div",26)(90,"div",27)(91,"h5",28)(92,"p"),e._uU(93),e.qZA()(),e.TgZ(94,"button",33),e.NdJ("click",function(){return r.hidePopUpRib()}),e.TgZ(95,"span",34),e._uU(96,"\xd7"),e.qZA()()()()()(),e.TgZ(97,"div",35)(98,"div",25)(99,"div",26)(100,"div",27)(101,"h5",28)(102,"p"),e._uU(103),e.qZA()(),e.TgZ(104,"button",33),e.NdJ("click",function(){return r.hidePopUpCarte()}),e.TgZ(105,"span",34),e._uU(106,"\xd7"),e.qZA()()()()()()),2&a){let s,o,l,d,g,p;e.xp6(13),e.Q6J("ngModel",r.searchBenef),e.xp6(4),e.Q6J("formGroup",r.ModificationForm),e.xp6(11),e.s9C("value",r.nom),e.Q6J("ngClass",e.WLB(19,de,(null==(s=r.ModificationForm.get("Nom"))?null:s.touched)&&(null==(s=r.ModificationForm.get("Nom"))?null:s.invalid),null==(s=r.ModificationForm.get("Nom"))?null:s.valid)),e.xp6(1),e.Q6J("ngIf",(null==(o=r.ModificationForm.get("Nom"))?null:o.touched)&&(null==(o=r.ModificationForm.get("Nom"))?null:o.invalid)),e.xp6(5),e.s9C("value",r.Retourbenef.IdBenef),e.Q6J("ngClass",e.WLB(22,de,(null==(l=r.ModificationForm.get("Matricule"))?null:l.touched)&&(null==(l=r.ModificationForm.get("Matricule"))?null:l.invalid),null==(l=r.ModificationForm.get("Matricule"))?null:l.valid)),e.xp6(1),e.Q6J("ngIf",(null==(d=r.ModificationForm.get("Matricule"))?null:d.touched)&&(null==(d=r.ModificationForm.get("Matricule"))?null:d.invalid)),e.xp6(10),e.s9C("value",r.Retourbenef.TelBenef),e.Q6J("ngClass",e.WLB(25,de,(null==(g=r.ModificationForm.get("GSM"))?null:g.touched)&&(null==(g=r.ModificationForm.get("GSM"))?null:g.invalid),null==(g=r.ModificationForm.get("GSM"))?null:g.valid)),e.xp6(1),e.Q6J("ngIf",(null==(p=r.ModificationForm.get("GSM"))?null:p.touched)&&(null==(p=r.ModificationForm.get("GSM"))?null:p.invalid)),e.xp6(5),e.s9C("value",r.Retourbenef.EmailBenef),e.xp6(10),e.s9C("value",r.fonction),e.xp6(9),e.Q6J("ngIf",1==r.moyenpay.length),e.xp6(1),e.Q6J("ngIf",2==r.moyenpay.length),e.xp6(1),e.Q6J("ngIf",r.loader),e.xp6(2),e.Q6J("disabled",!(null!=r.ModificationForm&&r.ModificationForm.valid&&r.checkCompte&&r.checkCarte)),e.xp6(19),e.hij(" ",r.msgRib," "),e.xp6(10),e.hij(" ",r.msgCarte," ")}},directives:[z.Fj,z.JJ,z.On,z._Y,z.JL,z.sg,z.u,c.mk,c.O5,c.sg,z.wV,z.c5],styles:[".show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),t})();var ie=oe(2363);function O(t,n){if(1&t&&(e.TgZ(0,"div",60),e._uU(1),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.message,"")}}function ne(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,O,2,1,"div",59),e.qZA()),2&t){const a=n.$implicit,r=e.oxw(3);let s;e.xp6(1),e.Q6J("ngIf",(null==(s=r.FormInitaitionTitre.get("Nom"))?null:s.hasError(a.type))&&((null==(s=r.FormInitaitionTitre.get("Nom"))?null:s.dirty)||(null==(s=r.FormInitaitionTitre.get("Nom"))?null:s.touched)))}}function v(t,n){if(1&t&&(e.TgZ(0,"div",57),e.YNc(1,ne,2,1,"div",58),e.qZA()),2&t){const a=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",a.validation_messages.Nom)}}function U(t,n){if(1&t&&(e.TgZ(0,"div",60),e._uU(1),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.message,"")}}function H(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,U,2,1,"div",59),e.qZA()),2&t){const a=n.$implicit,r=e.oxw(4);let s;e.xp6(1),e.Q6J("ngIf",(null==(s=r.FormInitaitionTitre.get("Matricule"))?null:s.hasError(a.type))&&((null==(s=r.FormInitaitionTitre.get("Matricule"))?null:s.dirty)||(null==(s=r.FormInitaitionTitre.get("Matricule"))?null:s.touched)))}}function ge(t,n){if(1&t&&(e.TgZ(0,"div",57),e.YNc(1,H,2,1,"div",58),e.qZA()),2&t){const a=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",a.validation_messages.Matricule)}}const q=function(t,n){return{"is-invalid":t,"is-valid":n}};function Ae(t,n){if(1&t&&(e.TgZ(0,"div",47)(1,"label",61),e._uU(2,"Matricule"),e.qZA(),e.TgZ(3,"span",42),e._uU(4,"*"),e.qZA(),e._UZ(5,"input",62),e.YNc(6,ge,2,1,"div",50),e.qZA()),2&t){const a=e.oxw(2);let r,s;e.xp6(5),e.Q6J("ngClass",e.WLB(2,q,(null==(r=a.FormInitaitionTitre.get("Matricule"))?null:r.touched)&&(null==(r=a.FormInitaitionTitre.get("Matricule"))?null:r.invalid),null==(r=a.FormInitaitionTitre.get("Matricule"))?null:r.valid)),e.xp6(1),e.Q6J("ngIf",(null==(s=a.FormInitaitionTitre.get("Matricule"))?null:s.touched)&&(null==(s=a.FormInitaitionTitre.get("Matricule"))?null:s.invalid))}}function Fe(t,n){if(1&t&&(e.TgZ(0,"div",60),e._uU(1),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.message,"")}}function Ie(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Fe,2,1,"div",59),e.qZA()),2&t){const a=n.$implicit,r=e.oxw(4);let s;e.xp6(1),e.Q6J("ngIf",(null==(s=r.FormInitaitionTitre.get("Fonction"))?null:s.hasError(a.type))&&((null==(s=r.FormInitaitionTitre.get("Fonction"))?null:s.dirty)||(null==(s=r.FormInitaitionTitre.get("Fonction"))?null:s.touched)))}}function Re(t,n){if(1&t&&(e.TgZ(0,"div",57),e.YNc(1,Ie,2,1,"div",58),e.qZA()),2&t){const a=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",a.validation_messages.Fonction)}}function Oe(t,n){if(1&t&&(e.TgZ(0,"div",47)(1,"label",63),e._uU(2,"Fonction"),e.qZA(),e.TgZ(3,"span",42),e._uU(4,"*"),e.qZA(),e._UZ(5,"input",64),e.YNc(6,Re,2,1,"div",50),e.qZA()),2&t){const a=e.oxw(2);let r,s;e.xp6(5),e.Q6J("ngClass",e.WLB(2,q,(null==(r=a.FormInitaitionTitre.get("Fonction"))?null:r.touched)&&(null==(r=a.FormInitaitionTitre.get("Fonction"))?null:r.invalid),null==(r=a.FormInitaitionTitre.get("Fonction"))?null:r.valid)),e.xp6(1),e.Q6J("ngIf",(null==(s=a.FormInitaitionTitre.get("Fonction"))?null:s.touched)&&(null==(s=a.FormInitaitionTitre.get("Fonction"))?null:s.invalid))}}function We(t,n){if(1&t&&(e.TgZ(0,"div",60),e._uU(1),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.message,"")}}function He(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,We,2,1,"div",59),e.qZA()),2&t){const a=n.$implicit,r=e.oxw(4);let s;e.xp6(1),e.Q6J("ngIf",(null==(s=r.FormInitaitionTitre.get("GSM"))?null:s.hasError(a.type))&&((null==(s=r.FormInitaitionTitre.get("GSM"))?null:s.dirty)||(null==(s=r.FormInitaitionTitre.get("GSM"))?null:s.touched)))}}function tt(t,n){if(1&t&&(e.TgZ(0,"div",57),e.YNc(1,He,2,1,"div",58),e.qZA()),2&t){const a=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",a.validation_messages.GSM)}}function V(t,n){if(1&t&&(e.TgZ(0,"div",47)(1,"label",65),e._uU(2,"GSM"),e.qZA(),e.TgZ(3,"span",42),e._uU(4,"*"),e.qZA(),e._UZ(5,"input",66),e.YNc(6,tt,2,1,"div",50),e.qZA()),2&t){const a=e.oxw(2);let r,s;e.xp6(5),e.Q6J("ngClass",e.WLB(2,q,(null==(r=a.FormInitaitionTitre.get("GSM"))?null:r.touched)&&(null==(r=a.FormInitaitionTitre.get("GSM"))?null:r.invalid),null==(r=a.FormInitaitionTitre.get("GSM"))?null:r.valid)),e.xp6(1),e.Q6J("ngIf",(null==(s=a.FormInitaitionTitre.get("GSM"))?null:s.touched)&&(null==(s=a.FormInitaitionTitre.get("GSM"))?null:s.invalid))}}function Q(t,n){if(1&t&&(e.TgZ(0,"div",60),e._uU(1),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.message,"")}}function Ee(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Q,2,1,"div",59),e.qZA()),2&t){const a=n.$implicit,r=e.oxw(3);let s;e.xp6(1),e.Q6J("ngIf",(null==(s=r.FormInitaitionTitre.get("moy"))?null:s.hasError(a.type))&&((null==(s=r.FormInitaitionTitre.get("moy"))?null:s.dirty)||(null==(s=r.FormInitaitionTitre.get("moy"))?null:s.touched)))}}function Y(t,n){if(1&t&&(e.TgZ(0,"div",57),e.YNc(1,Ee,2,1,"div",58),e.qZA()),2&t){const a=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",a.validation_messages.moy)}}function fe(t,n){if(1&t&&(e.TgZ(0,"div",60),e._uU(1),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.message,"")}}function Te(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,fe,2,1,"div",59),e.qZA()),2&t){const a=n.$implicit,r=e.oxw(4);let s;e.xp6(1),e.Q6J("ngIf",(null==(s=r.FormInitaitionTitre.get("Compte"))?null:s.hasError(a.type))&&((null==(s=r.FormInitaitionTitre.get("Compte"))?null:s.dirty)||(null==(s=r.FormInitaitionTitre.get("Compte"))?null:s.touched)))}}function Ve(t,n){if(1&t&&(e.TgZ(0,"div",57),e.YNc(1,Te,2,1,"div",58),e.qZA()),2&t){const a=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",a.validation_messages.Compte)}}function qe(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"div",47)(1,"label",48),e._uU(2,"RIB"),e.qZA(),e.TgZ(3,"span",42),e._uU(4,"*"),e.qZA(),e.TgZ(5,"input",67),e.NdJ("keyup",function(){return e.CHM(a),e.oxw(2).ControlRIB()}),e.qZA(),e.YNc(6,Ve,2,1,"div",50),e.qZA()}if(2&t){const a=e.oxw(2);let r,s;e.xp6(5),e.Q6J("ngClass",e.WLB(2,q,(null==(r=a.FormInitaitionTitre.get("Compte"))?null:r.touched)&&(null==(r=a.FormInitaitionTitre.get("Compte"))?null:r.invalid),null==(r=a.FormInitaitionTitre.get("Compte"))?null:r.valid)),e.xp6(1),e.Q6J("ngIf",(null==(s=a.FormInitaitionTitre.get("Compte"))?null:s.touched)&&(null==(s=a.FormInitaitionTitre.get("Compte"))?null:s.invalid))}}function Ke(t,n){1&t&&(e.TgZ(0,"div",68)(1,"label",48),e._uU(2,"RIB"),e.qZA(),e._UZ(3,"input",69),e.qZA())}function it(t,n){if(1&t&&(e.TgZ(0,"div",60),e._uU(1),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.message,"")}}function at(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,it,2,1,"div",59),e.qZA()),2&t){const a=n.$implicit,r=e.oxw(4);let s;e.xp6(1),e.Q6J("ngIf",(null==(s=r.FormInitaitionTitre.get("Carte"))?null:s.hasError(a.type))&&((null==(s=r.FormInitaitionTitre.get("Carte"))?null:s.dirty)||(null==(s=r.FormInitaitionTitre.get("Carte"))?null:s.touched)))}}function lt(t,n){if(1&t&&(e.TgZ(0,"div",57),e.YNc(1,at,2,1,"div",58),e.qZA()),2&t){const a=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",a.validation_messages.Carte)}}function gt(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"div",47)(1,"label",61),e._uU(2,"Carte"),e.qZA(),e.TgZ(3,"span",42),e._uU(4,"*"),e.qZA(),e.TgZ(5,"input",70),e.NdJ("keyup",function(){return e.CHM(a),e.oxw(2).ControlCarte()}),e.qZA(),e.YNc(6,lt,2,1,"div",50),e.qZA()}if(2&t){const a=e.oxw(2);let r,s;e.xp6(5),e.Q6J("ngClass",e.WLB(2,q,(null==(r=a.FormInitaitionTitre.get("Carte"))?null:r.touched)&&(null==(r=a.FormInitaitionTitre.get("Carte"))?null:r.invalid),null==(r=a.FormInitaitionTitre.get("Carte"))?null:r.valid)),e.xp6(1),e.Q6J("ngIf",(null==(s=a.FormInitaitionTitre.get("Carte"))?null:s.touched)&&(null==(s=a.FormInitaitionTitre.get("Carte"))?null:s.invalid))}}function ot(t,n){1&t&&(e.TgZ(0,"div",68)(1,"label",61),e._uU(2,"Carte"),e.qZA(),e.TgZ(3,"div",71),e._UZ(4,"input",72),e.qZA()())}function ft(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"div")(1,"div",1)(2,"div",40)(3,"label",41),e._uU(4,"Type B\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(5,"span",42),e._uU(6,"*"),e.qZA(),e.TgZ(7,"select",43),e.NdJ("click",function(){return e.CHM(a),e.oxw().getTypeBenef()}),e.TgZ(8,"option",44),e._uU(9,"Salari\xe9"),e.qZA(),e.TgZ(10,"option",45),e._uU(11,"Fournisseur"),e.qZA(),e.TgZ(12,"option",46),e._uU(13,"Adh\xe9rent"),e.qZA()()(),e.TgZ(14,"div",47)(15,"label",48),e._uU(16,"Nom & Prenom"),e.qZA(),e.TgZ(17,"span",42),e._uU(18,"*"),e.qZA(),e._UZ(19,"input",49),e.YNc(20,v,2,1,"div",50),e.qZA(),e.YNc(21,Ae,7,5,"div",51),e.qZA(),e.TgZ(22,"div",1),e.YNc(23,Oe,7,5,"div",51),e.YNc(24,V,7,5,"div",51),e.qZA(),e.TgZ(25,"div",1)(26,"div",40)(27,"label",41),e._uU(28,"Moyen de paiement"),e.qZA(),e.TgZ(29,"span",42),e._uU(30,"*"),e.qZA(),e.TgZ(31,"select",52),e.NdJ("change",function(){return e.CHM(a),e.oxw().getTypePay()}),e.TgZ(32,"option",53),e._uU(33,"Carte"),e.qZA(),e.TgZ(34,"option",54),e._uU(35,"Compte"),e.qZA(),e.TgZ(36,"option",55),e._uU(37,"Carte & Compte"),e.qZA()(),e.YNc(38,Y,2,1,"div",50),e.qZA(),e.YNc(39,qe,7,5,"div",51),e.YNc(40,Ke,4,0,"div",56),e.YNc(41,gt,7,5,"div",51),e.YNc(42,ot,5,0,"div",56),e.qZA()()}if(2&t){const a=e.oxw();let r,s,o,l,d;e.xp6(7),e.Q6J("ngClass",e.WLB(12,q,(null==(r=a.FormInitaitionTitre.get("benef"))?null:r.touched)&&(null==(r=a.FormInitaitionTitre.get("benef"))?null:r.invalid),null==(r=a.FormInitaitionTitre.get("benef"))?null:r.valid)),e.xp6(12),e.Q6J("ngClass",e.WLB(15,q,(null==(s=a.FormInitaitionTitre.get("Nom"))?null:s.touched)&&(null==(s=a.FormInitaitionTitre.get("Nom"))?null:s.invalid),null==(s=a.FormInitaitionTitre.get("Nom"))?null:s.valid)),e.xp6(1),e.Q6J("ngIf",(null==(o=a.FormInitaitionTitre.get("Nom"))?null:o.touched)&&(null==(o=a.FormInitaitionTitre.get("Nom"))?null:o.invalid)),e.xp6(1),e.Q6J("ngIf","true"==a.mat),e.xp6(2),e.Q6J("ngIf","true"==a.mat),e.xp6(1),e.Q6J("ngIf","true"==a.mat),e.xp6(7),e.Q6J("ngClass",e.WLB(18,q,(null==(l=a.FormInitaitionTitre.get("moy"))?null:l.touched)&&(null==(l=a.FormInitaitionTitre.get("moy"))?null:l.invalid),null==(l=a.FormInitaitionTitre.get("moy"))?null:l.valid)),e.xp6(7),e.Q6J("ngIf",(null==(d=a.FormInitaitionTitre.get("moy"))?null:d.touched)&&(null==(d=a.FormInitaitionTitre.get("moy"))?null:d.invalid)),e.xp6(1),e.Q6J("ngIf",a.valCompte),e.xp6(1),e.Q6J("ngIf",a.valCarte),e.xp6(1),e.Q6J("ngIf",a.valCarte),e.xp6(1),e.Q6J("ngIf",a.valCompte)}}function Ft(t,n){if(1&t&&(e.TgZ(0,"div",60),e._uU(1),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.message,"")}}function Mt(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Ft,2,1,"div",59),e.qZA()),2&t){const a=n.$implicit,r=e.oxw(3);let s;e.xp6(1),e.Q6J("ngIf",(null==(s=r.FormInitaitionTitre.get("benef"))?null:s.hasError(a.type))&&((null==(s=r.FormInitaitionTitre.get("benef"))?null:s.dirty)||(null==(s=r.FormInitaitionTitre.get("benef"))?null:s.touched)))}}function Ue(t,n){if(1&t&&(e.TgZ(0,"div",57),e.YNc(1,Mt,2,1,"div",58),e.qZA()),2&t){const a=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",a.validation_messages.benef)}}function Le(t,n){if(1&t&&(e.TgZ(0,"div",60),e._uU(1),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.message,"")}}function Be(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Le,2,1,"div",59),e.qZA()),2&t){const a=n.$implicit,r=e.oxw(3);let s;e.xp6(1),e.Q6J("ngIf",(null==(s=r.FormInitaitionTitre.get("Nom"))?null:s.hasError(a.type))&&((null==(s=r.FormInitaitionTitre.get("Nom"))?null:s.dirty)||(null==(s=r.FormInitaitionTitre.get("Nom"))?null:s.touched)))}}function nt(t,n){if(1&t&&(e.TgZ(0,"div",57),e.YNc(1,Be,2,1,"div",58),e.qZA()),2&t){const a=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",a.validation_messages.Nom)}}function ht(t,n){if(1&t&&(e.TgZ(0,"div",60),e._uU(1),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.message,"")}}function Ct(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,ht,2,1,"div",59),e.qZA()),2&t){const a=n.$implicit,r=e.oxw(3);let s;e.xp6(1),e.Q6J("ngIf",(null==(s=r.FormInitaitionTitre.get("moy"))?null:s.hasError(a.type))&&((null==(s=r.FormInitaitionTitre.get("moy"))?null:s.dirty)||(null==(s=r.FormInitaitionTitre.get("moy"))?null:s.touched)))}}function wt(t,n){if(1&t&&(e.TgZ(0,"div",57),e.YNc(1,Ct,2,1,"div",58),e.qZA()),2&t){const a=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",a.validation_messages.moy)}}function Vt(t,n){if(1&t&&(e.TgZ(0,"div",60),e._uU(1),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.message,"")}}function Ut(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Vt,2,1,"div",59),e.qZA()),2&t){const a=n.$implicit,r=e.oxw(4);let s;e.xp6(1),e.Q6J("ngIf",(null==(s=r.FormInitaitionTitre.get("Compte"))?null:s.hasError(a.type))&&((null==(s=r.FormInitaitionTitre.get("Compte"))?null:s.dirty)||(null==(s=r.FormInitaitionTitre.get("Compte"))?null:s.touched)))}}function qt(t,n){if(1&t&&(e.TgZ(0,"div",57),e.YNc(1,Ut,2,1,"div",58),e.qZA()),2&t){const a=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",a.validation_messages.Compte)}}function Nt(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"div",47)(1,"label",48),e._uU(2,"RIB"),e.qZA(),e.TgZ(3,"span",42),e._uU(4,"*"),e.qZA(),e.TgZ(5,"input",67),e.NdJ("keyup",function(){return e.CHM(a),e.oxw(2).ControlRIB()}),e.qZA(),e.YNc(6,qt,2,1,"div",50),e.qZA()}if(2&t){const a=e.oxw(2);let r,s;e.xp6(5),e.Q6J("ngClass",e.WLB(2,q,(null==(r=a.FormInitaitionTitre.get("Compte"))?null:r.touched)&&(null==(r=a.FormInitaitionTitre.get("Compte"))?null:r.invalid),null==(r=a.FormInitaitionTitre.get("Compte"))?null:r.valid)),e.xp6(1),e.Q6J("ngIf",(null==(s=a.FormInitaitionTitre.get("Compte"))?null:s.touched)&&(null==(s=a.FormInitaitionTitre.get("Compte"))?null:s.invalid))}}function ti(t,n){1&t&&(e.TgZ(0,"div",68)(1,"label",48),e._uU(2,"RIB"),e.qZA(),e._UZ(3,"input",69),e.qZA())}function jt(t,n){if(1&t&&(e.TgZ(0,"div",60),e._uU(1),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.message,"")}}function ni(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,jt,2,1,"div",59),e.qZA()),2&t){const a=n.$implicit,r=e.oxw(4);let s;e.xp6(1),e.Q6J("ngIf",(null==(s=r.FormInitaitionTitre.get("Carte"))?null:s.hasError(a.type))&&((null==(s=r.FormInitaitionTitre.get("Carte"))?null:s.dirty)||(null==(s=r.FormInitaitionTitre.get("Carte"))?null:s.touched)))}}function It(t,n){if(1&t&&(e.TgZ(0,"div",57),e.YNc(1,ni,2,1,"div",58),e.qZA()),2&t){const a=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",a.validation_messages.Carte)}}function Pe(t,n){if(1&t&&(e.TgZ(0,"div",47)(1,"label",61),e._uU(2,"Carte"),e.qZA(),e.TgZ(3,"span",42),e._uU(4,"*"),e.qZA(),e._UZ(5,"input",78),e.YNc(6,It,2,1,"div",50),e.qZA()),2&t){const a=e.oxw(2);let r,s;e.xp6(5),e.Q6J("ngClass",e.WLB(2,q,(null==(r=a.FormInitaitionTitre.get("Carte"))?null:r.touched)&&(null==(r=a.FormInitaitionTitre.get("Carte"))?null:r.invalid),null==(r=a.FormInitaitionTitre.get("Carte"))?null:r.valid)),e.xp6(1),e.Q6J("ngIf",(null==(s=a.FormInitaitionTitre.get("Carte"))?null:s.touched)&&(null==(s=a.FormInitaitionTitre.get("Carte"))?null:s.invalid))}}function Ye(t,n){1&t&&(e.TgZ(0,"div",68)(1,"label",61),e._uU(2,"Carte"),e.qZA(),e.TgZ(3,"div",71),e._UZ(4,"input",72),e.qZA()())}function he(t,n){if(1&t&&(e.TgZ(0,"div",60),e._uU(1),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.message,"")}}function De(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,he,2,1,"div",59),e.qZA()),2&t){const a=n.$implicit,r=e.oxw(3);let s;e.xp6(1),e.Q6J("ngIf",(null==(s=r.FormInitaitionTitre.get("Identifiant"))?null:s.hasError(a.type))&&((null==(s=r.FormInitaitionTitre.get("Identifiant"))?null:s.dirty)||(null==(s=r.FormInitaitionTitre.get("Identifiant"))?null:s.touched)))}}function Qe(t,n){if(1&t&&(e.TgZ(0,"div",57),e.YNc(1,De,2,1,"div",58),e.qZA()),2&t){const a=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",a.validation_messages.Identifiant)}}function st(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"div")(1,"div",1)(2,"div",40)(3,"label",41),e._uU(4,"Type B\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(5,"span",42),e._uU(6,"*"),e.qZA(),e.TgZ(7,"select",43),e.NdJ("click",function(){return e.CHM(a),e.oxw().getTypeBenef()}),e.TgZ(8,"option",44),e._uU(9,"Salari\xe9"),e.qZA(),e.TgZ(10,"option",45),e._uU(11,"Fournisseur"),e.qZA(),e.TgZ(12,"option",46),e._uU(13,"Adh\xe9rent"),e.qZA()(),e.YNc(14,Ue,2,1,"div",50),e.qZA(),e.TgZ(15,"div",47)(16,"label",48),e._uU(17,"Nom & Prenom"),e.qZA(),e.TgZ(18,"span",42),e._uU(19,"*"),e.qZA(),e._UZ(20,"input",49),e.YNc(21,nt,2,1,"div",50),e.qZA(),e.TgZ(22,"div",47)(23,"label",65),e._uU(24,"GSM"),e.qZA(),e._UZ(25,"input",73),e.qZA()(),e.TgZ(26,"div",68)(27,"label",61),e._uU(28,"Matricule"),e.qZA(),e.TgZ(29,"div",71),e._UZ(30,"input",74),e.qZA()(),e.TgZ(31,"div",68)(32,"label",63),e._uU(33,"Fonction"),e.qZA(),e._UZ(34,"input",75),e.qZA(),e.TgZ(35,"div",1)(36,"div",40)(37,"label",41),e._uU(38,"Moyen de paiement"),e.qZA(),e.TgZ(39,"span",42),e._uU(40,"*"),e.qZA(),e.TgZ(41,"select",76),e.NdJ("click",function(){return e.CHM(a),e.oxw().getTypePay()}),e.TgZ(42,"option",54),e._uU(43,"Compte"),e.qZA()(),e.YNc(44,wt,2,1,"div",50),e.qZA(),e.YNc(45,Nt,7,5,"div",51),e.YNc(46,ti,4,0,"div",56),e.YNc(47,Pe,7,5,"div",51),e.YNc(48,Ye,5,0,"div",56),e.TgZ(49,"div",47)(50,"label",61),e._uU(51,"Identifiant/Matricule"),e.qZA(),e.TgZ(52,"span",42),e._uU(53,"*"),e.qZA(),e._UZ(54,"input",77),e.YNc(55,Qe,2,1,"div",50),e.qZA()()()}if(2&t){const a=e.oxw();let r,s,o,l,d,g,p,m;e.xp6(7),e.Q6J("ngClass",e.WLB(12,q,(null==(r=a.FormInitaitionTitre.get("benef"))?null:r.touched)&&(null==(r=a.FormInitaitionTitre.get("benef"))?null:r.invalid),null==(r=a.FormInitaitionTitre.get("benef"))?null:r.valid)),e.xp6(7),e.Q6J("ngIf",(null==(s=a.FormInitaitionTitre.get("benef"))?null:s.touched)&&(null==(s=a.FormInitaitionTitre.get("benef"))?null:s.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(15,q,(null==(o=a.FormInitaitionTitre.get("Nom"))?null:o.touched)&&(null==(o=a.FormInitaitionTitre.get("Nom"))?null:o.invalid),null==(o=a.FormInitaitionTitre.get("Nom"))?null:o.valid)),e.xp6(1),e.Q6J("ngIf",(null==(l=a.FormInitaitionTitre.get("Nom"))?null:l.touched)&&(null==(l=a.FormInitaitionTitre.get("Nom"))?null:l.invalid)),e.xp6(20),e.Q6J("ngClass",e.WLB(18,q,(null==(d=a.FormInitaitionTitre.get("moy"))?null:d.touched)&&(null==(d=a.FormInitaitionTitre.get("moy"))?null:d.invalid),null==(d=a.FormInitaitionTitre.get("moy"))?null:d.valid)),e.xp6(3),e.Q6J("ngIf",(null==(g=a.FormInitaitionTitre.get("moy"))?null:g.touched)&&(null==(g=a.FormInitaitionTitre.get("moy"))?null:g.invalid)),e.xp6(1),e.Q6J("ngIf",a.valCompte),e.xp6(1),e.Q6J("ngIf",a.valCarte),e.xp6(1),e.Q6J("ngIf",a.valCarte),e.xp6(1),e.Q6J("ngIf",a.valCompte),e.xp6(6),e.Q6J("ngClass",e.WLB(21,q,(null==(p=a.FormInitaitionTitre.get("Identifiant"))?null:p.touched)&&(null==(p=a.FormInitaitionTitre.get("Identifiant"))?null:p.invalid),null==(p=a.FormInitaitionTitre.get("Identifiant"))?null:p.valid)),e.xp6(1),e.Q6J("ngIf",(null==(m=a.FormInitaitionTitre.get("Identifiant"))?null:m.touched)&&(null==(m=a.FormInitaitionTitre.get("Identifiant"))?null:m.invalid))}}function kt(t,n){1&t&&(e.TgZ(0,"div",79)(1,"div",80)(2,"span",81),e._uU(3,"Loading..."),e.qZA()()())}function Lt(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"button",82),e.NdJ("click",function(){return e.CHM(a),e.oxw().valider()}),e._uU(1,"Valider"),e.qZA()}if(2&t){const a=e.oxw();e.Q6J("disabled",!a.FormInitaitionTitre.valid||!a.checkCarte||!a.checkCompte)}}function Ot(t,n){1&t&&(e.TgZ(0,"div",79)(1,"div",80)(2,"span",81),e._uU(3,"Loading..."),e.qZA()()())}const si=[{path:"",component:B},{path:"update/:id",component:F,data:{breadcrumb:{alias:"Details"}}},{path:"add",component:(()=>{class t{constructor(a,r,s,o){this.fb=a,this.http=r,this.router=s,this.BenefServ=o,this.loader=!1,this.validation_messages={Nom:[{type:"required",message:"Veuillez saisir le nom "}],Matricule:[{type:"required",message:"Veuillez saisir une matricule"}],Fonction:[{type:"required",message:"Veuillez saisir une fonction"}],Plafond:[{type:"required",message:"Veuillez saisir un plafond"}],benef:[{type:"required",message:"Veuillez choisir un Type de b\xe9n\xe9ficiaire"}],GSM:[{type:"required",message:"Veuillez saisir le num\xe9ro de GSM"},{type:"pattern",message:"Ce num\xe9ro n'est pas valide !"}],moy:[{type:"required",message:"Veuillez saisir un moyen de paiement"}],Carte:[{type:"required",message:"Veuillez saisir un num\xe9ro de carte"},{type:"pattern",message:"Veuillez saisir un num\xe9ro de carte sur 16 chiffres"},{type:"checkControl",message:"Veuillez saisir une autre carte"}],Compte:[{type:"required",message:"Veuillez saisir un num\xe9ro de RIB sur 20 chiffres"},{type:"pattern",message:"Veuillez saisir un num\xe9ro de RIB sur 20 chiffres"},{type:"checkControl",message:"Veuillez saisir un autre compte"}],Identifiant:[{type:"required",message:"Veuillez saisir un identifiant de 8 chiffres"}]},this.mat="false",this.disabled=!0,this.checkCompte=!1,this.checkCarte=!1,this.createForm1(),this.checkCarte=!1,this.checkCompte=!1}createForm1(){this.FormInitaitionTitre=this.fb.group({Nom:new z.NI("",z.kI.required),Matricule:new z.NI("",z.kI.required),Fonction:new z.NI("",z.kI.required),benef:new z.NI("",z.kI.required),Plafond:new z.NI("",z.kI.required),GSM:new z.NI("",z.kI.compose([z.kI.required,z.kI.pattern("^[0-9]{8}$")])),moy:new z.NI("",z.kI.required),Carte:new z.NI("",z.kI.required),Compte:new z.NI("",z.kI.required),Identifiant:new z.NI("",z.kI.required)})}f1(){}getTypeBenef(){var a,r,s,o,l,d,g,p,m,y,E,P,Z,K,ae,le,h,b,D,ee,Ce,Ne,Me,je,Xe,et,ct,St,At,Zt,Yt;this.valeurBenef=null===(a=this.FormInitaitionTitre.get("benef"))||void 0===a?void 0:a.value,null===(r=this.FormInitaitionTitre.get("Matricule"))||void 0===r||r.reset(),null===(s=this.FormInitaitionTitre.get("Fonction"))||void 0===s||s.reset(),null===(o=this.FormInitaitionTitre.get("GSM"))||void 0===o||o.reset(),"Salarie"==this.valeurBenef?(this.mat="true",this.fonct=!0,this.matrval=null===(l=this.FormInitaitionTitre.get("Matricule"))||void 0===l?void 0:l.value,null===(d=this.FormInitaitionTitre.get("Matricule"))||void 0===d||d.setValidators(z.kI.required),null===(g=this.FormInitaitionTitre.get("Fonction"))||void 0===g||g.setValidators(z.kI.required),null===(p=this.FormInitaitionTitre.get("GSM"))||void 0===p||p.setValidators([z.kI.required,z.kI.pattern("^[0-9]{8}$")]),null===(m=this.FormInitaitionTitre.get("Plafond"))||void 0===m||m.clearValidators(),null===(y=this.FormInitaitionTitre.get("Fonction"))||void 0===y||y.setValue(""),null===(E=this.FormInitaitionTitre.get("Matricule"))||void 0===E||E.setValue(""),null===(P=this.FormInitaitionTitre.get("GSM"))||void 0===P||P.setValue(""),null===(Z=this.FormInitaitionTitre.get("Plafond"))||void 0===Z||Z.setValue(""),null===(K=this.FormInitaitionTitre.get("Identifiant"))||void 0===K||K.clearValidators(),null===(ae=this.FormInitaitionTitre.get("Identifiant"))||void 0===ae||ae.reset()):"Fournisseur"==this.valeurBenef?(this.fonct=!1,this.mat="false",null===(le=this.FormInitaitionTitre.get("Fonction"))||void 0===le||le.clearValidators(),null===(h=this.FormInitaitionTitre.get("Matricule"))||void 0===h||h.clearValidators(),null===(b=this.FormInitaitionTitre.get("GSM"))||void 0===b||b.clearValidators(),null===(D=this.FormInitaitionTitre.get("Plafond"))||void 0===D||D.clearValidators(),null===(ee=this.FormInitaitionTitre.get("Fonction"))||void 0===ee||ee.setValue(""),null===(Ce=this.FormInitaitionTitre.get("Matricule"))||void 0===Ce||Ce.setValue(""),null===(Ne=this.FormInitaitionTitre.get("GSM"))||void 0===Ne||Ne.setValue(""),null===(Me=this.FormInitaitionTitre.get("Plafond"))||void 0===Me||Me.setValue("")):(this.mat="false",this.fonct=!1,null===(je=this.FormInitaitionTitre.get("Fonction"))||void 0===je||je.clearValidators(),null===(Xe=this.FormInitaitionTitre.get("Matricule"))||void 0===Xe||Xe.clearValidators(),null===(et=this.FormInitaitionTitre.get("GSM"))||void 0===et||et.clearValidators(),null===(ct=this.FormInitaitionTitre.get("Plafond"))||void 0===ct||ct.clearValidators(),null===(St=this.FormInitaitionTitre.get("Fonction"))||void 0===St||St.setValue(""),null===(At=this.FormInitaitionTitre.get("Matricule"))||void 0===At||At.setValue(""),null===(Zt=this.FormInitaitionTitre.get("GSM"))||void 0===Zt||Zt.setValue(""),null===(Yt=this.FormInitaitionTitre.get("Plafond"))||void 0===Yt||Yt.setValue(""))}getTypePay(){var a,r,s,o,l,d,g,p,m,y,E;null===(a=this.FormInitaitionTitre.get("Compte"))||void 0===a||a.reset(),null===(r=this.FormInitaitionTitre.get("Carte"))||void 0===r||r.reset(),this.ValeurPay=null===(s=this.FormInitaitionTitre.get("moy"))||void 0===s?void 0:s.value,console.log("............",this.ValeurPay),"Carte"==this.ValeurPay&&(this.valCarte=!0,this.valCompte=!1,null===(o=this.FormInitaitionTitre.get("Carte"))||void 0===o||o.setValidators([z.kI.required,z.kI.pattern("^[0-9]{16}$")]),null===(l=this.FormInitaitionTitre.get("Compte"))||void 0===l||l.clearValidators(),this.checkCompte=!0),"Compte"==this.ValeurPay?(this.valCarte=!1,this.valCompte=!0,null===(d=this.FormInitaitionTitre.get("Compte"))||void 0===d||d.setValidators([z.kI.required,z.kI.pattern("^[0-9]{20}$")]),null===(g=this.FormInitaitionTitre.get("Carte"))||void 0===g||g.clearValidators(),this.checkCarte=!0):"CarteEtCompte"==this.ValeurPay&&(this.valCarte=!0,this.valCompte=!0,null===(p=this.FormInitaitionTitre.get("Compte"))||void 0===p||p.setValidators([z.kI.required,z.kI.pattern("^[0-9]{20}$")]),null===(m=this.FormInitaitionTitre.get("Carte"))||void 0===m||m.setValidators([z.kI.required,z.kI.pattern("^[0-9]{16}$")]),this.checkCarte=!1,this.checkCompte=!1),null===(y=this.FormInitaitionTitre.get("Compte"))||void 0===y||y.updateValueAndValidity(),null===(E=this.FormInitaitionTitre.get("Carte"))||void 0===E||E.updateValueAndValidity()}GetMatVal(){console.log("test")}ControlCarte(){var a,r,s;if(null===(a=this.FormInitaitionTitre.get("Carte"))||void 0===a||a.removeValidators([(0,ie.b)("Carte",this.checkCarte)]),null===(r=this.FormInitaitionTitre.get("Carte"))||void 0===r||r.updateValueAndValidity(),this.Carte=null===(s=this.FormInitaitionTitre.get("Carte"))||void 0===s?void 0:s.value,16==this.Carte.length){let o={cardNumber:this.Carte};null!=this.Carte&&null!=this.Carte&&""!=this.Carte&&this.BenefServ.ControlCardBenef(o,this.token).subscribe(l=>{var d,g,p,m,y,E,P,Z,K;this.RetourCarte=l,("01"==this.RetourCarte.CodeResponse||"99"==this.RetourCarte.CodeResponse||"04"==this.RetourCarte.CodeResponse)&&(this.msgCarte="Verifier la carte en input !",this.loader=!1,this.checkCarte=!1,null===(d=this.FormInitaitionTitre.get("Carte"))||void 0===d||d.addValidators([(0,ie.b)("Carte",this.checkCarte)]),null===(g=this.FormInitaitionTitre.get("Carte"))||void 0===g||g.updateValueAndValidity(),null===(p=document.getElementById("ModalVerifCarte"))||void 0===p||p.setAttribute("class","modal fade  show")),"00"==this.RetourCarte.CodeResponse&&("Delivered"!=this.RetourCarte.Status?(this.add="false",this.msgCarte="Carte Non Valide !",this.loader=!1,this.checkCarte=!1,null===(m=this.FormInitaitionTitre.get("Carte"))||void 0===m||m.addValidators([(0,ie.b)("Carte",this.checkCarte)]),null===(y=this.FormInitaitionTitre.get("Carte"))||void 0===y||y.updateValueAndValidity(),null===(E=document.getElementById("ModalVerifCarte"))||void 0===E||E.setAttribute("class","modal fade  show")):"Delivered"==this.RetourCarte.Status&&("PFBB13 "==this.RetourCarte.CardCode||"PFBB14 "==this.RetourCarte.CardCode?(this.checkCarte=!0,this.loader=!1):(this.msgCarte="Type Carte Non Valide !",this.checkCarte=!1,null===(P=this.FormInitaitionTitre.get("Carte"))||void 0===P||P.addValidators([(0,ie.b)("Carte",this.checkCarte)]),null===(Z=this.FormInitaitionTitre.get("Carte"))||void 0===Z||Z.updateValueAndValidity(),this.loader=!1,null===(K=document.getElementById("ModalVerifCarte"))||void 0===K||K.setAttribute("class","modal fade  show"),console.log([(0,ie.b)("Carte",this.checkCarte)]))))},l=>{console.log("error API"),-1!=l.indexOf("401")&&this.router.navigate(["/"])})}}ControlRIB(){var a,r,s;if(null===(a=this.FormInitaitionTitre.get("Compte"))||void 0===a||a.removeValidators([(0,ie.b)("Compte",this.checkCompte)]),null===(r=this.FormInitaitionTitre.get("Compte"))||void 0===r||r.updateValueAndValidity(),this.Compte=null===(s=this.FormInitaitionTitre.get("Compte"))||void 0===s?void 0:s.value,20==this.Compte.length){let o={NumeroCompte:this.Compte};null!=this.Compte&&null!=this.Compte&&""!=this.Compte&&this.BenefServ.ControlAccountBenef(o,this.token).subscribe(l=>{var d,g,p,m,y,E;this.RetourCompte=l,("01"==this.RetourCompte.ResponseCode||"99"==this.RetourCompte.ResponseCode)&&(this.msgRib="Verifier le  RIB en input !",this.loader=!1,this.checkCompte=!1,null===(d=this.FormInitaitionTitre.get("Compte"))||void 0===d||d.addValidators([(0,ie.b)("Compte",this.checkCompte)]),null===(g=this.FormInitaitionTitre.get("Compte"))||void 0===g||g.updateValueAndValidity(),null===(p=document.getElementById("ModalVerifRIB"))||void 0===p||p.setAttribute("class","modal fade  show")),"00"==this.RetourCompte.ResponseCode&&("Active"!=this.RetourCompte.Status?(this.msgRib="Compte Non Valide !",this.loader=!1,this.checkCompte=!1,null===(m=this.FormInitaitionTitre.get("Compte"))||void 0===m||m.addValidators([(0,ie.b)("Compte",this.checkCompte)]),null===(y=this.FormInitaitionTitre.get("Compte"))||void 0===y||y.updateValueAndValidity(),null===(E=document.getElementById("ModalVerifRIB"))||void 0===E||E.setAttribute("class","modal fade  show")):(this.loader=!1,this.checkCompte=!0))},l=>{console.log("error API"),-1!=l.indexOf("401")&&this.router.navigate(["/"])})}}hidePopUpCarte(){var a;null===(a=document.getElementById("ModalVerifCarte"))||void 0===a||a.setAttribute("class","modal fade  hide")}hidePopUpRib(){var a;null===(a=document.getElementById("ModalVerifRIB"))||void 0===a||a.setAttribute("class","modal fade  hide")}valider(){var a,r,s,o,l,d,g,p,m,y;1==this.checkCarte&&1==this.checkCompte&&(this.loader=!0,this.matrval=null===(a=this.FormInitaitionTitre.get("Matricule"))||void 0===a?void 0:a.value,this.valeurBenef=null===(r=this.FormInitaitionTitre.get("benef"))||void 0===r?void 0:r.value,this.Nom=null===(s=this.FormInitaitionTitre.get("Nom"))||void 0===s?void 0:s.value,this.Plafond=null===(o=this.FormInitaitionTitre.get("Plafond"))||void 0===o?void 0:o.value,this.Fonction=null===(l=this.FormInitaitionTitre.get("Fonction"))||void 0===l?void 0:l.value,this.GSM=null===(d=this.FormInitaitionTitre.get("GSM"))||void 0===d?void 0:d.value,this.ValeurPay=null===(g=this.FormInitaitionTitre.get("moy"))||void 0===g?void 0:g.value,this.Carte=null===(p=this.FormInitaitionTitre.get("Carte"))||void 0===p?void 0:p.value,this.Compte=null===(m=this.FormInitaitionTitre.get("Compte"))||void 0===m?void 0:m.value,this.Identifiant=null===(y=this.FormInitaitionTitre.get("Identifiant"))||void 0===y?void 0:y.value,"Salarie"!=this.valeurBenef&&(this.matrval=this.Identifiant),this.BenefServ.addBenef({BeneficiaryType:this.valeurBenef,BeneficiaryName:this.Nom,Plafond:this.Plafond,IdBenef:this.matrval,Function:this.Fonction,Phone:this.GSM,PayementType:this.ValeurPay,CardNumber:this.Carte,AccountNumber:this.Compte},this.token).subscribe(P=>{var Z,K,ae,le,h,b,D,ee;this.retBenef=P,"Success"==this.retBenef.status&&(this.loader=!1,null===(Z=document.getElementById("ModalValidationBenef"))||void 0===Z||Z.setAttribute("class","modal fade  show")),"Beneficiaire d\xe9j\xe0 existe"==this.retBenef.status&&(this.loader=!1,null===(K=document.getElementById("ModalBenefExistant"))||void 0===K||K.setAttribute("class","modal fade  show")),"RIB existant!"==this.retBenef.status&&(this.loader=!1,this.checkCompte=!1,null===(ae=this.FormInitaitionTitre.get("Compte"))||void 0===ae||ae.addValidators([(0,ie.b)("Compte",this.checkCompte)]),null===(le=this.FormInitaitionTitre.get("Compte"))||void 0===le||le.updateValueAndValidity(),null===(h=document.getElementById("ModalRIBExistant"))||void 0===h||h.setAttribute("class","modal fade  show")),"Carte existante!"==this.retBenef.status&&(this.loader=!1,this.checkCarte=!1,null===(b=this.FormInitaitionTitre.get("Carte"))||void 0===b||b.addValidators([(0,ie.b)("Carte",this.checkCarte)]),null===(D=this.FormInitaitionTitre.get("Carte"))||void 0===D||D.updateValueAndValidity(),null===(ee=document.getElementById("ModalCARTEExistant"))||void 0===ee||ee.setAttribute("class","modal fade  show"))},P=>{console.log("error API"),-1!=P.indexOf("401")&&this.router.navigate(["/"])}))}hidePopUp(){var a;null===(a=document.getElementById("ModalValidationBenef"))||void 0===a||a.setAttribute("class","modal fade  hide"),location.reload()}hidePopUp1(){var a;null===(a=document.getElementById("ModalRIBExistant"))||void 0===a||a.setAttribute("class","modal fade  hide")}hidePopUp2(){var a;null===(a=document.getElementById("ModalCARTEExistant"))||void 0===a||a.setAttribute("class","modal fade  hide")}hidePopUp3(){var a;null===(a=document.getElementById("ModalBenefExistant"))||void 0===a||a.setAttribute("class","modal fade  hide")}onItemChange(a){const r=a.target.value;console.log(" Value is : ",r),"Formulaire"==r&&(document.getElementById("divformulaire").style.display="block",document.getElementById("divfichier").style.display="none",document.getElementById("divfichier1").style.display="none"),"Fichier"==r&&(document.getElementById("divfichier").style.display="block",document.getElementById("divfichier1").style.display="block",document.getElementById("divformulaire").style.display="none"),this.valeurRadio=r}toggle(a){console.log(".......",a),"salarie"==a&&this.BenefServ.DownloadF(a,this.token).subscribe(r=>{this.FileSalarie=r.body;const s=`data:application/csv;base64,${this.FileSalarie}`,o=document.createElement("a");o.href=s,o.download="SalariesFile.csv",o.click()},r=>{console.log("error API"),-1!=r.indexOf("401")&&this.router.navigate(["/"])}),"fournisseur"==a&&this.BenefServ.DownloadF(a,this.token).subscribe(r=>{this.FileFournisseur=r.body;const s=`data:application/csv;base64,${this.FileFournisseur}`,o=document.createElement("a");o.href=s,o.download="fournisseurFile.csv",o.click()},r=>{console.log("error API"),-1!=r.indexOf("401")&&this.router.navigate(["/"])}),"adherent"==a&&this.BenefServ.DownloadF(a,this.token).subscribe(r=>{this.FileAdherent=r.body;const s=`data:application/csv;base64,${this.FileAdherent}`,o=document.createElement("a");o.href=s,o.download="adherentFile.csv",o.click()},r=>{console.log("error API"),-1!=r.indexOf("401")&&this.router.navigate(["/"])})}upload(a){if(a.target.files&&a.target.files[0]){var r=new FileReader;this.localfile=a.target.files[0],this.folderName=a.target.files[0].name.replace(".csv",""),this.fileName=a.target.files[0].name,r.onload=s=>{this.filePath=s.target.result;var o=this.filePath.toString().replace("data:text/csv;base64,","");this.BenefServ.uploadFile({ImgPath:this.folderName,ImgName:this.fileName,ImgStr:o},this.token).subscribe(d=>{this.path=d,this.path.toString().includes(".csv")&&(this.GetListOfBenefFromFile(this.path),this.disabled=!1)},d=>{console.log("error API upload"),-1!=d.indexOf("401")&&this.router.navigate(["/"])})},r.readAsDataURL(a.target.files[0])}}GetListOfBenefFromFile(a){this.BenefServ.ReadCSVFile(a,this.token).subscribe(r=>{this.ListBenefFromCSV=r.body},r=>{console.log("error API"),-1!=r.indexOf("401")&&this.router.navigate(["/"])})}InsertlistBenef(){this.loader=!0,this.BenefServ.InsertFileofBenef(this.token,this.path,this.ListBenefFromCSV).subscribe(a=>{var r,s;this.loader=!1,this.RetInsertBenef=a,"Success"==this.RetInsertBenef.status&&(null===(r=document.getElementById("ModalValidationBenef"))||void 0===r||r.setAttribute("class","modal fade  show")),"Beneficiaire d\xe9j\xe0 existe"==this.RetInsertBenef.status&&(null===(s=document.getElementById("ModalBenefExistant"))||void 0===s||s.setAttribute("class","modal fade  show"))},a=>{console.log("error API"),-1!=a.indexOf("401")&&this.router.navigate(["/"])})}ngOnInit(){this.token=localStorage.getItem("token"),document.getElementById("divformulaire").style.display="none",document.getElementById("divfichier").style.display="none",document.getElementById("divfichier1").style.display="none"}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(z.qu),e.Y36(xe.eN),e.Y36(ce.F0),e.Y36(pe.I))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-add-beneficiaire"]],decls:108,vars:9,consts:[[1,"section"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"group-gap"],[1,"mb-3"],[1,"row","text-center","mb-4"],[1,"col-6"],["id","Fm","type","radio","value","Formulaire","name","gender","required","",1,"custom-control-input","mr-2",2,"margin-right","5px",3,"change"],["for","Fm",1,"custom-control-label"],["id","Fi","type","radio","value","Fichier","name","gender","required","",1,"custom-control-input","mr-2",2,"margin-right","5px",3,"change"],["for","Fi",1,"custom-control-label"],["id","divformulaire"],[1,"row","g-3",3,"formGroup"],[4,"ngIf"],["style","text-align: center;",4,"ngIf"],[1,"col-12",2,"text-align","-webkit-center"],["class","btn btn-primary","style","text-align: center;",3,"disabled","click",4,"ngIf"],["id","divfichier"],[1,"col"],["type","button",1,"btn","btn-primary",2,"font-size","15px","font-weight","bold","cursor","pointer","width","80%","color","white","background-color","#3498db","border-radius","5px",3,"click"],["id","divfichier1",1,"card-body",2,"text-align","center"],["type","file","accept",".csv",1,"btn","btn-primary",3,"change"],[1,"col",2,"margin-top","3%"],["type","button",1,"btn","btn-primary","btn-lg",2,"font-size","20px","font-weight","bold","cursor","pointer","width","fit-content","color","white","background-color","#3498db","border-radius","20px",3,"disabled","click"],["id","ModalValidationBenef","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabelError",1,"modal-title",2,"color","rgb(7, 7, 7)"],[1,"bi","bi-check-square",2,"color","green",3,"click"],["id","ModalBenefExistant","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["id","ModalRIBExistant","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["id","ModalCARTEExistant","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["id","ModalVerifRIB","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["id","ModalVerifCarte","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],[1,"col-md-4","position-relative"],["for","validationTooltip04",1,"form-label"],[2,"color","red"],["name","benef","formControlName","benef",1,"form-control",2,"width","100%",3,"ngClass","click"],["value","Salarie"],["value","Fournisseur"],["value","Adherent"],[1,"col-md-4"],["for","validationDefault02",1,"form-label"],["autocomplete","off","type","text","name","Nom","formControlName","Nom",1,"form-control",3,"ngClass"],["class","alert alert-danger",4,"ngIf"],["class","col-md-4",4,"ngIf"],["name","moy","formControlName","moy",1,"form-control",2,"width","100%",3,"ngClass","change"],["value","Carte"],["value","Compte"],["value","CarteEtCompte"],["class","col-md-4","hidden","",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngFor","ngForOf"],["style","font-size:12px",4,"ngIf"],[2,"font-size","12px"],["for","validationDefaultUsername",1,"form-label"],["autocomplete","off","type","text","name","Matricule","formControlName","Matricule",1,"form-control",3,"ngClass"],["for","validationDefault03",1,"form-label"],["autocomplete","off","type","text","name","Fonction","formControlName","Fonction",1,"form-control",3,"ngClass"],["for","validationDefault05",1,"form-label"],["autocomplete","off","type","number","name","GSM","formControlName","GSM",1,"form-control",3,"ngClass"],["autocomplete","off","inputmode","numeric","pattern","[0-9]*","maxlength","20","minlength","20","type","text","name","Compte","formControlName","Compte",1,"form-control",3,"ngClass","keyup"],["hidden","",1,"col-md-4"],["autocomplete","off","inputmode","numeric","pattern","[0-9]*","maxlength","20","minlength","20","type","text","name","Compte","formControlName","Compte",1,"form-control"],["autocomplete","off","inputmode","numeric","pattern","[0-9]*","maxlength","16","minlength","16","size","16","name","Carte","type","text","formControlName","Carte",1,"form-control",3,"ngClass","keyup"],[1,"input-group"],["autocomplete","off","type","number","inputmode","numeric","pattern","[0-9]*","size","16","maxlength","16","minlength","16","type","text","name","Carte","formControlName","Carte",1,"form-control"],["autocomplete","off","type","number","name","GSM","formControlName","GSM",1,"form-control"],["autocomplete","off","type","text","name","Matricule","formControlName","Matricule",1,"form-control"],["autocomplete","off","type","text","name","Fonction","formControlName","Fonction",1,"form-control"],["name","moy","formControlName","moy",1,"form-control",2,"width","100%",3,"ngClass","click"],["autocomplete","off","name","Identifiant","type","text","formControlName","Identifiant",1,"form-control",3,"ngClass"],["autocomplete","off","inputmode","numeric","pattern","[0-9]*","maxlength","16","minlength","16","size","16","name","Carte","type","text","formControlName","Carte",1,"form-control",3,"ngClass"],[2,"text-align","center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"btn","btn-primary",2,"text-align","center",3,"disabled","click"]],template:function(a,r){1&a&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6,"Ajout B\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(7,"div",6)(8,"h5",7),e._uU(9,"Veuillez Choisir le type d'ajout"),e.qZA(),e.TgZ(10,"div",8)(11,"div",9)(12,"input",10),e.NdJ("change",function(o){return r.onItemChange(o)}),e.qZA(),e.TgZ(13,"label",11),e._uU(14,"Via Formulaire"),e.qZA()(),e.TgZ(15,"div",9)(16,"input",12),e.NdJ("change",function(o){return r.onItemChange(o)}),e.qZA(),e.TgZ(17,"label",13),e._uU(18,"Via fichier CSV"),e.qZA()()()(),e.TgZ(19,"div",14)(20,"form",15),e.YNc(21,ft,43,21,"div",16),e.YNc(22,st,56,24,"div",16),e.YNc(23,kt,4,0,"div",17),e.TgZ(24,"div",18),e.YNc(25,Lt,2,1,"button",19),e.qZA()()(),e.TgZ(26,"div",20)(27,"div",1)(28,"div",21)(29,"button",22),e.NdJ("click",function(){return r.toggle("salarie")}),e._uU(30," Fichier Salari\xe9s "),e.qZA()(),e.TgZ(31,"div",21)(32,"button",22),e.NdJ("click",function(){return r.toggle("fournisseur")}),e._uU(33," Fichier Fournisseurs"),e.qZA()(),e.TgZ(34,"div",21)(35,"button",22),e.NdJ("click",function(){return r.toggle("adherent")}),e._uU(36," Fichier Adh\xe9rents"),e.qZA()()()(),e._UZ(37,"Br")(38,"br"),e.TgZ(39,"div",23)(40,"div",1)(41,"div",21)(42,"span"),e._uU(43,"Choisir un fichier CSV \xe0 injecter "),e.TgZ(44,"input",24),e.NdJ("change",function(o){return r.upload(o)}),e.qZA()()()(),e.YNc(45,Ot,4,0,"div",17),e.TgZ(46,"div",1)(47,"div",25)(48,"button",26),e.NdJ("click",function(){return r.InsertlistBenef()}),e._uU(49," Valider Ajout fichier"),e.qZA()()()()()()()()(),e.TgZ(50,"div",27)(51,"div",28)(52,"div",29)(53,"div",30)(54,"h5",31)(55,"p"),e._uU(56," Ajout b\xe9n\xe9ficiaire avec succ\xe9s "),e.qZA()(),e.TgZ(57,"i",32),e.NdJ("click",function(){return r.hidePopUp()}),e.qZA()()()()(),e.TgZ(58,"div",33)(59,"div",28)(60,"div",29)(61,"div",30)(62,"h5",31)(63,"p"),e._uU(64," B\xe9n\xe9ficiaire Existant ! "),e.qZA()(),e.TgZ(65,"button",34),e.NdJ("click",function(){return r.hidePopUp3()}),e.TgZ(66,"span",35),e._uU(67,"\xd7"),e.qZA()()()()()(),e.TgZ(68,"div",36)(69,"div",28)(70,"div",29)(71,"div",30)(72,"h5",31)(73,"p"),e._uU(74," RIB Existant ! "),e.qZA()(),e.TgZ(75,"button",34),e.NdJ("click",function(){return r.hidePopUp1()}),e.TgZ(76,"span",35),e._uU(77,"\xd7"),e.qZA()()()()()(),e.TgZ(78,"div",37)(79,"div",28)(80,"div",29)(81,"div",30)(82,"h5",31)(83,"p"),e._uU(84," Carte Existante ! "),e.qZA()(),e.TgZ(85,"button",34),e.NdJ("click",function(){return r.hidePopUp2()}),e.TgZ(86,"span",35),e._uU(87,"\xd7"),e.qZA()()()()()(),e.TgZ(88,"div",38)(89,"div",28)(90,"div",29)(91,"div",30)(92,"h5",31)(93,"p"),e._uU(94),e.qZA()(),e.TgZ(95,"button",34),e.NdJ("click",function(){return r.hidePopUpRib()}),e.TgZ(96,"span",35),e._uU(97,"\xd7"),e.qZA()()()()()(),e.TgZ(98,"div",39)(99,"div",28)(100,"div",29)(101,"div",30)(102,"h5",31)(103,"p"),e._uU(104),e.qZA()(),e.TgZ(105,"button",34),e.NdJ("click",function(){return r.hidePopUpCarte()}),e.TgZ(106,"span",35),e._uU(107,"\xd7"),e.qZA()()()()()()),2&a&&(e.xp6(20),e.Q6J("formGroup",r.FormInitaitionTitre),e.xp6(1),e.Q6J("ngIf","true"==r.mat),e.xp6(1),e.Q6J("ngIf","true"!=r.mat),e.xp6(1),e.Q6J("ngIf",r.loader),e.xp6(2),e.Q6J("ngIf","Formulaire"==r.valeurRadio),e.xp6(20),e.Q6J("ngIf",r.loader),e.xp6(3),e.Q6J("disabled",r.disabled),e.xp6(46),e.hij(" ",r.msgRib," "),e.xp6(10),e.hij(" ",r.msgCarte," "))},directives:[z._Y,z.JL,z.sg,c.O5,z.EJ,z.JJ,z.u,c.mk,z.YN,z.Kr,z.Fj,c.sg,z.wV,z.c5,z.nD,z.wO],styles:[".show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}.col-md-4[_ngcontent-%COMP%]{margin:5px 0!important}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),t})(),data:{breadcrumb:{alias:"Ajouter"}}},{path:"**",redirectTo:"",pathMatch:"full"}];let mi=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[ce.Bz.forChild(si)],ce.Bz]}),t})();var te=oe(8567);let i=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[c.ez,mi,z.u5,z.UX,te.JX]]}),t})()},3290:(ze,re,oe)=>{"use strict";oe.d(re,{I:()=>z});var c=oe(520),e=oe(2843),xe=oe(262),ce=oe(2340),pe=oe(1223);let z=(()=>{class f{constructor(x){this.http=x,this.adresse_url=ce.N.urlCorporate,this.adresse_url_all=ce.N.urlAllApp}ControlAccountBenef(x,w){const _={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.adresse_url_all+"VerifAccountCorporate",JSON.stringify(x),_).pipe((0,xe.K)(this.handleError))}ControlCardBenef(x,w){const _={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.adresse_url_all+"VerifCardCorporate",JSON.stringify(x),_).pipe((0,xe.K)(this.handleError))}addBenef(x,w){const _={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.adresse_url+"AddBeneficiary",JSON.stringify(x),_).pipe((0,xe.K)(this.handleError))}DownloadF(x,w){return this.http.get(this.adresse_url+"GetBase64FromCSVBenefFile?FileType="+x,{headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w}),observe:"response",reportProgress:!0}).pipe((0,xe.K)(this.handleError))}uploadFile(x,w){const _={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w})};return this.http.post(this.adresse_url+"SaveFileForAddingBenefCorporate",JSON.stringify(x),_).pipe((0,xe.K)(this.handleError))}ReadCSVFile(x,w){return this.http.get(this.adresse_url+"ReadCSVFileForCorporateBenef?path="+x,{headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+w}),observe:"response",reportProgress:!0}).pipe((0,xe.K)(this.handleError))}InsertFileofBenef(x,w,_){const B={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+x})};return this.http.post(this.adresse_url+"AddBeneficiaryFromFile",JSON.stringify({FileName:w,BenefCorpClient:_}),B).pipe((0,xe.K)(this.handleError))}GetListBenef(x){return this.http.get(this.adresse_url+"ListeBeneficiaire",{headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+x}),observe:"response",reportProgress:!0}).pipe((0,xe.K)(this.handleError))}SupprimerBenefCorporate(x,w){return this.http.delete(this.adresse_url+"DeleteBenefCorporate?IdBenef="+w,{headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+x}),observe:"response",reportProgress:!0}).pipe((0,xe.K)(this.handleError))}UpdateBenefInfo(x,w,_,B,k,C,X,se,j){const S={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+x})};return this.http.post(this.adresse_url+"UpdateBenefCorporate",JSON.stringify({Name:w,NumTel:_,Email:B,matricule:k,Function:C,PayementType:X,CardNumber:se,AccountNumber:j}),S).pipe((0,xe.K)(this.handleError))}GetInfoBenefById(x,w){return this.http.get(this.adresse_url+"InfoBenefById?Id="+w,{headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+x}),observe:"response",reportProgress:!0}).pipe((0,xe.K)(this.handleError))}extractData(x){return x||{}}handleError(x){let w="";return w=x.error instanceof ErrorEvent?"An error occurred:":`Error Code: ${x.status}\nMessage: ${x.message}`,(0,e._)(w)}}return f.\u0275fac=function(x){return new(x||f)(pe.LFG(c.eN))},f.\u0275prov=pe.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},9743:(ze,re,oe)=>{"use strict";oe.r(re),oe.d(re,{CarteModule:()=>V});var c=oe(1223);let e=(()=>{class Q{constructor(){}ngOnInit(){}}return Q.\u0275fac=function(Y){return new(Y||Q)},Q.\u0275cmp=c.Xpm({type:Q,selectors:[["app-carte-details"]],decls:0,vars:0,template:function(Y,fe){},styles:[""]}),Q})();var xe=oe(2077),ce=oe(7656);let pe=(()=>{class Q{constructor(Y,fe){this.CarteServ=Y,this.router=fe}ngOnInit(){}}return Q.\u0275fac=function(Y){return new(Y||Q)(c.Y36(xe.K),c.Y36(ce.F0))},Q.\u0275cmp=c.Xpm({type:Q,selectors:[["app-carte"]],decls:0,vars:0,template:function(Y,fe){},styles:[".show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}"]}),Q})();var z=oe(2382);class f{constructor(){this.NumCard="",this.cin="",this.nom="",this.prenom="",this.telephone="",this.mail=""}}var R=oe(4900),x=oe(520),w=oe(9860),_=oe(9808);const B=["fileReader"],k=["tableRef"],C=["tableRef1"];function X(Q,Ee){if(1&Q&&(c.TgZ(0,"div",46),c._uU(1),c.qZA()),2&Q){const Y=c.oxw().$implicit;c.xp6(1),c.hij(" ",Y.message,"")}}function se(Q,Ee){if(1&Q&&(c.TgZ(0,"div"),c.YNc(1,X,2,1,"div",45),c.qZA()),2&Q){const Y=Ee.$implicit,fe=c.oxw(4);let Te;c.xp6(1),c.Q6J("ngIf",(null==(Te=fe.FormInitaitionTitre.get("Carte"))?null:Te.hasError(Y.type))&&((null==(Te=fe.FormInitaitionTitre.get("Carte"))?null:Te.dirty)||(null==(Te=fe.FormInitaitionTitre.get("Carte"))?null:Te.touched)))}}function j(Q,Ee){if(1&Q&&(c.TgZ(0,"div",43),c.YNc(1,se,2,1,"div",44),c.qZA()),2&Q){const Y=c.oxw(3);c.xp6(1),c.Q6J("ngForOf",Y.validation_messages.Carte)}}function S(Q,Ee){if(1&Q&&(c.TgZ(0,"div",46),c._uU(1),c.qZA()),2&Q){const Y=c.oxw().$implicit;c.xp6(1),c.hij(" ",Y.message,"")}}function A(Q,Ee){if(1&Q&&(c.TgZ(0,"div"),c.YNc(1,S,2,1,"div",45),c.qZA()),2&Q){const Y=Ee.$implicit,fe=c.oxw(4);let Te;c.xp6(1),c.Q6J("ngIf",(null==(Te=fe.FormInitaitionTitre.get("GSM"))?null:Te.hasError(Y.type))&&((null==(Te=fe.FormInitaitionTitre.get("GSM"))?null:Te.dirty)||(null==(Te=fe.FormInitaitionTitre.get("GSM"))?null:Te.touched)))}}function T(Q,Ee){if(1&Q&&(c.TgZ(0,"div",43),c.YNc(1,A,2,1,"div",44),c.qZA()),2&Q){const Y=c.oxw(3);c.xp6(1),c.Q6J("ngForOf",Y.validation_messages.GSM)}}function L(Q,Ee){if(1&Q&&(c.TgZ(0,"div",46),c._uU(1),c.qZA()),2&Q){const Y=c.oxw().$implicit;c.xp6(1),c.hij(" ",Y.message,"")}}function W(Q,Ee){if(1&Q&&(c.TgZ(0,"div"),c.YNc(1,L,2,1,"div",45),c.qZA()),2&Q){const Y=Ee.$implicit,fe=c.oxw(4);let Te;c.xp6(1),c.Q6J("ngIf",(null==(Te=fe.FormInitaitionTitre.get("Cin"))?null:Te.hasError(Y.type))&&((null==(Te=fe.FormInitaitionTitre.get("Cin"))?null:Te.dirty)||(null==(Te=fe.FormInitaitionTitre.get("Cin"))?null:Te.touched)))}}function G(Q,Ee){if(1&Q&&(c.TgZ(0,"div",43),c.YNc(1,W,2,1,"div",44),c.qZA()),2&Q){const Y=c.oxw(3);c.xp6(1),c.Q6J("ngForOf",Y.validation_messages.Cin)}}function be(Q,Ee){if(1&Q&&(c.TgZ(0,"div",46),c._uU(1),c.qZA()),2&Q){const Y=c.oxw().$implicit;c.xp6(1),c.hij(" ",Y.message,"")}}function de(Q,Ee){if(1&Q&&(c.TgZ(0,"div"),c.YNc(1,be,2,1,"div",45),c.qZA()),2&Q){const Y=Ee.$implicit,fe=c.oxw(4);let Te;c.xp6(1),c.Q6J("ngIf",(null==(Te=fe.FormInitaitionTitre.get("Nom"))?null:Te.hasError(Y.type))&&((null==(Te=fe.FormInitaitionTitre.get("Nom"))?null:Te.dirty)||(null==(Te=fe.FormInitaitionTitre.get("Nom"))?null:Te.touched)))}}function _e(Q,Ee){if(1&Q&&(c.TgZ(0,"div",43),c.YNc(1,de,2,1,"div",44),c.qZA()),2&Q){const Y=c.oxw(3);c.xp6(1),c.Q6J("ngForOf",Y.validation_messages.Nom)}}const ye=function(Q,Ee){return{"is-invalid":Q,"is-valid":Ee}};function me(Q,Ee){if(1&Q){const Y=c.EpF();c.TgZ(0,"div",11)(1,"section",12)(2,"div",13)(3,"div",14)(4,"h2"),c._uU(5,"D\xe9livrer une carte"),c.qZA()(),c.TgZ(6,"div"),c._UZ(7,"br"),c.TgZ(8,"div",15)(9,"form",16)(10,"div",17)(11,"div",15)(12,"div",18)(13,"small",19),c._uU(14,"Num\xe9ro Carte:"),c.qZA(),c._UZ(15,"input",20),c.qZA(),c.TgZ(16,"div",21)(17,"button",22),c.NdJ("click",function(){return c.CHM(Y),c.oxw(2).RechercheCarte()}),c._uU(18,"Rechercher"),c.qZA()()()()()(),c._UZ(19,"br"),c.TgZ(20,"form",16)(21,"div",23)(22,"div",24)(23,"div",14)(24,"h2"),c._uU(25,"D\xe9livrance Carte"),c.qZA()(),c._UZ(26,"br")(27,"br"),c.TgZ(28,"div",15)(29,"div",25)(30,"h5",26),c._uU(31,"Carte"),c.qZA(),c.TgZ(32,"div",15)(33,"div",17)(34,"div",15)(35,"div",17)(36,"span",27),c._uU(37," Date Expiration: "),c.qZA(),c.TgZ(38,"span"),c._uU(39),c.qZA()()()(),c._UZ(40,"br")(41,"br"),c.TgZ(42,"div",17),c._uU(43," Num\xe9ro Carte "),c.TgZ(44,"span",28),c._uU(45,"*"),c.qZA(),c._UZ(46,"input",29),c.YNc(47,j,2,1,"div",30),c.qZA(),c._UZ(48,"br")(49,"br"),c.TgZ(50,"div",17),c._uU(51," GSM "),c.TgZ(52,"span",28),c._uU(53,"*"),c.qZA(),c._UZ(54,"input",31),c.YNc(55,T,2,1,"div",30),c.qZA(),c._UZ(56,"br"),c.qZA()(),c._UZ(57,"div",32)(58,"div",33),c.TgZ(59,"div",34)(60,"div",15)(61,"div",35)(62,"h5",26),c._uU(63,"Informations Client"),c.qZA()()(),c.TgZ(64,"div",15)(65,"div",36)(66,"div",15),c._UZ(67,"div",17)(68,"br")(69,"br"),c.TgZ(70,"div",17),c._uU(71," Cin "),c.TgZ(72,"span",28),c._uU(73,"*"),c.qZA(),c._UZ(74,"input",37),c.YNc(75,G,2,1,"div",30),c.qZA(),c._UZ(76,"br")(77,"br"),c.TgZ(78,"div",17),c._uU(79," Mail "),c._UZ(80,"input",38),c.qZA()()(),c.TgZ(81,"div",36)(82,"div",15),c._UZ(83,"div",17)(84,"br")(85,"br"),c.TgZ(86,"div",17),c._uU(87," Nom et Pr\xe9nom "),c.TgZ(88,"span",28),c._uU(89,"*"),c.qZA(),c._UZ(90,"input",39),c.YNc(91,_e,2,1,"div",30),c.qZA(),c._UZ(92,"br")(93,"br"),c.TgZ(94,"div",17),c._uU(95," Date de Naissance "),c._UZ(96,"input",40),c.qZA()()()()()()(),c.TgZ(97,"div",41)(98,"button",42),c.NdJ("click",function(){return c.CHM(Y),c.oxw(2).valider()}),c._uU(99," Valider la d\xe9livrance"),c.qZA()()()()()()()()}if(2&Q){const Y=c.oxw(2);let fe,Te,Ve,qe,Ke,it,at,lt,gt;c.xp6(9),c.Q6J("formGroup",Y.FormSearch),c.xp6(6),c.Q6J("ngClass",c.WLB(14,ye,(null==(fe=Y.FormSearch.get("searchInput"))?null:fe.touched)&&(null==(fe=Y.FormSearch.get("searchInput"))?null:fe.invalid),null==(fe=Y.FormSearch.get("searchInput"))?null:fe.valid)),c.xp6(2),c.Q6J("disabled",!(null!=Y.FormSearch&&Y.FormSearch.valid)),c.xp6(3),c.Q6J("formGroup",Y.FormInitaitionTitre),c.xp6(19),c.Oqu(Y.ExpiryDate),c.xp6(7),c.Q6J("ngClass",c.WLB(17,ye,(null==(Te=Y.FormInitaitionTitre.get("Carte"))?null:Te.touched)&&(null==(Te=Y.FormInitaitionTitre.get("Carte"))?null:Te.invalid),null==(Te=Y.FormInitaitionTitre.get("Carte"))?null:Te.valid)),c.xp6(1),c.Q6J("ngIf",(null==(Ve=Y.FormInitaitionTitre.get("Carte"))?null:Ve.touched)&&(null==(Ve=Y.FormInitaitionTitre.get("Carte"))?null:Ve.invalid)),c.xp6(7),c.Q6J("ngClass",c.WLB(20,ye,(null==(qe=Y.FormInitaitionTitre.get("GSM"))?null:qe.touched)&&(null==(qe=Y.FormInitaitionTitre.get("GSM"))?null:qe.invalid),null==(qe=Y.FormInitaitionTitre.get("GSM"))?null:qe.valid)),c.xp6(1),c.Q6J("ngIf",(null==(Ke=Y.FormInitaitionTitre.get("GSM"))?null:Ke.touched)&&(null==(Ke=Y.FormInitaitionTitre.get("GSM"))?null:Ke.invalid)),c.xp6(19),c.Q6J("ngClass",c.WLB(23,ye,(null==(it=Y.FormInitaitionTitre.get("Cin"))?null:it.touched)&&(null==(it=Y.FormInitaitionTitre.get("Cin"))?null:it.invalid),null==(it=Y.FormInitaitionTitre.get("Cin"))?null:it.valid)),c.xp6(1),c.Q6J("ngIf",(null==(at=Y.FormInitaitionTitre.get("Cin"))?null:at.touched)&&(null==(at=Y.FormInitaitionTitre.get("Cin"))?null:at.invalid)),c.xp6(15),c.Q6J("ngClass",c.WLB(26,ye,(null==(lt=Y.FormInitaitionTitre.get("Nom"))?null:lt.touched)&&(null==(lt=Y.FormInitaitionTitre.get("Nom"))?null:lt.invalid),null==(lt=Y.FormInitaitionTitre.get("Nom"))?null:lt.valid)),c.xp6(1),c.Q6J("ngIf",(null==(gt=Y.FormInitaitionTitre.get("Nom"))?null:gt.touched)&&(null==(gt=Y.FormInitaitionTitre.get("Nom"))?null:gt.invalid)),c.xp6(7),c.Q6J("disabled",!(null!=Y.FormInitaitionTitre&&Y.FormInitaitionTitre.valid))}}function ve(Q,Ee){1&Q&&(c.TgZ(0,"div",11)(1,"div",24)(2,"h5",47),c._uU(3,"D\xe9livrance Carte"),c.qZA(),c.TgZ(4,"div",48)(5,"div",49)(6,"span",50),c._uU(7,"Loading..."),c.qZA()()()()())}function we(Q,Ee){if(1&Q&&(c.TgZ(0,"div",9),c.YNc(1,me,100,29,"div",10),c.YNc(2,ve,8,0,"div",10),c.qZA()),2&Q){const Y=c.oxw();c.xp6(1),c.Q6J("ngIf",!Y.loader),c.xp6(1),c.Q6J("ngIf",Y.loader)}}function ue(Q,Ee){if(1&Q&&(c.TgZ(0,"option",124),c._uU(1),c.qZA()),2&Q){const Y=Ee.$implicit;c.s9C("value",Y.Referentiel),c.xp6(1),c.Oqu(Y.FullName)}}function ke(Q,Ee){if(1&Q&&(c.TgZ(0,"div",46),c._uU(1),c.qZA()),2&Q){const Y=c.oxw().$implicit;c.xp6(1),c.hij(" ",Y.message,"")}}function J(Q,Ee){if(1&Q&&(c.TgZ(0,"div"),c.YNc(1,ke,2,1,"div",45),c.qZA()),2&Q){const Y=Ee.$implicit,fe=c.oxw(3);c.xp6(1),c.Q6J("ngIf",fe.DmasseForm.get("tiers").hasError(Y.type)&&(fe.DmasseForm.get("tiers").dirty||fe.DmasseForm.get("tiers").touched))}}function N(Q,Ee){if(1&Q&&(c.TgZ(0,"div",43),c.YNc(1,J,2,1,"div",44),c.qZA()),2&Q){const Y=c.oxw(2);c.xp6(1),c.Q6J("ngForOf",Y.validation_messages.tiers)}}function F(Q,Ee){1&Q&&(c.TgZ(0,"div",48)(1,"div",49)(2,"span",50),c._uU(3,"Loading..."),c.qZA()()())}function ie(Q,Ee){if(1&Q){const Y=c.EpF();c.TgZ(0,"button",125),c.NdJ("click",function(){return c.CHM(Y),c.oxw(2).removeCsvBenefFile()}),c._UZ(1,"i",126),c.qZA()}}function O(Q,Ee){if(1&Q&&(c.TgZ(0,"tr",128)(1,"td")(2,"span"),c._uU(3),c.qZA()(),c.TgZ(4,"td")(5,"span"),c._uU(6),c.qZA()(),c.TgZ(7,"td")(8,"span"),c._uU(9),c.qZA()(),c.TgZ(10,"td")(11,"span"),c._uU(12),c.qZA()(),c.TgZ(13,"td")(14,"span"),c._uU(15),c.qZA()(),c.TgZ(16,"td")(17,"span"),c._uU(18),c.qZA()()()),2&Q){const Y=Ee.$implicit;c.xp6(3),c.Oqu(Y.NumCard),c.xp6(3),c.Oqu(Y.cin),c.xp6(3),c.Oqu(Y.nom),c.xp6(3),c.Oqu(Y.prenom),c.xp6(3),c.Oqu(Y.telephone),c.xp6(3),c.Oqu(Y.mail)}}function ne(Q,Ee){if(1&Q&&(c.TgZ(0,"table",127)(1,"thead")(2,"tr",128)(3,"th"),c._uU(4,"Numero Carte "),c.qZA(),c.TgZ(5,"th"),c._uU(6,"CIN "),c.qZA(),c.TgZ(7,"th"),c._uU(8,"Nom "),c.qZA(),c.TgZ(9,"th"),c._uU(10,"Pr\xe9nom"),c.qZA(),c.TgZ(11,"th"),c._uU(12,"T\xe9l\xe9phone "),c.qZA(),c.TgZ(13,"th"),c._uU(14,"Mail "),c.qZA()()(),c.TgZ(15,"tbody"),c.YNc(16,O,19,6,"tr",129),c.qZA()()),2&Q){const Y=c.oxw(2);c.xp6(16),c.Q6J("ngForOf",Y.records)}}function v(Q,Ee){1&Q&&(c.TgZ(0,"div",48)(1,"div",49)(2,"span",50),c._uU(3,"Loading..."),c.qZA()()())}function U(Q,Ee){if(1&Q&&(c.TgZ(0,"tr",128)(1,"td")(2,"span"),c._uU(3),c.qZA()(),c.TgZ(4,"td")(5,"span"),c._uU(6),c.qZA()(),c.TgZ(7,"td")(8,"span"),c._uU(9),c.qZA()(),c.TgZ(10,"td")(11,"span"),c._uU(12),c.qZA()(),c.TgZ(13,"td")(14,"span"),c._uU(15),c.qZA()()()),2&Q){const Y=Ee.$implicit;c.xp6(3),c.Oqu(Y.numCarte),c.xp6(3),c.Oqu(Y.cin),c.xp6(3),c.Oqu(Y.nom),c.xp6(3),c.Oqu(Y.prenom),c.xp6(3),c.Oqu(Y.mobile)}}function H(Q,Ee){if(1&Q&&(c.TgZ(0,"table",133,134)(2,"thead")(3,"tr",128)(4,"th"),c._uU(5,"Numero Carte "),c.qZA(),c.TgZ(6,"th"),c._uU(7,"Cin "),c.qZA(),c.TgZ(8,"th"),c._uU(9,"Nom "),c.qZA(),c.TgZ(10,"th"),c._uU(11,"Prenom"),c.qZA(),c.TgZ(12,"th"),c._uU(13,"Mobile"),c.qZA()()(),c.TgZ(14,"tbody"),c.YNc(15,U,16,5,"tr",129),c.qZA()()),2&Q){const Y=c.oxw(3);c.xp6(15),c.Q6J("ngForOf",Y.listErrones)}}function ge(Q,Ee){if(1&Q){const Y=c.EpF();c.TgZ(0,"button",91),c.NdJ("click",function(){c.CHM(Y);const Te=c.oxw(3);return Te.exportToCsv(Te.tableRef)}),c._uU(1,"T\xe9l\xe9charger Csv"),c.qZA()}}function q(Q,Ee){if(1&Q&&(c.TgZ(0,"tr",128)(1,"td")(2,"span"),c._uU(3),c.qZA()(),c.TgZ(4,"td")(5,"span"),c._uU(6),c.qZA()(),c.TgZ(7,"td")(8,"span"),c._uU(9),c.qZA()(),c.TgZ(10,"td")(11,"span"),c._uU(12),c.qZA()(),c.TgZ(13,"td")(14,"span"),c._uU(15),c.qZA()()()),2&Q){const Y=Ee.$implicit;c.xp6(3),c.Oqu(Y.numCarte),c.xp6(3),c.Oqu(Y.cin),c.xp6(3),c.Oqu(Y.nom),c.xp6(3),c.Oqu(Y.prenom),c.xp6(3),c.Oqu(Y.mobile)}}function Ae(Q,Ee){if(1&Q&&(c.TgZ(0,"table",127,135)(2,"thead")(3,"tr",128)(4,"th"),c._uU(5,"Numero Carte "),c.qZA(),c.TgZ(6,"th"),c._uU(7,"Nom "),c.qZA(),c.TgZ(8,"th"),c._uU(9,"Pr\xe9nom"),c.qZA()()(),c.TgZ(10,"tbody"),c.YNc(11,q,16,5,"tr",129),c.qZA()()),2&Q){const Y=c.oxw(3);c.xp6(11),c.Q6J("ngForOf",Y.listRejetes)}}function Fe(Q,Ee){if(1&Q){const Y=c.EpF();c.TgZ(0,"button",91),c.NdJ("click",function(){c.CHM(Y);const Te=c.oxw(3);return Te.exportToCsv(Te.tableRef1)}),c._uU(1,"T\xe9l\xe9charger Csv"),c.qZA()}}function Ie(Q,Ee){if(1&Q&&(c.TgZ(0,"div"),c.YNc(1,H,16,1,"table",130),c.TgZ(2,"div",15)(3,"div",131),c.YNc(4,ge,2,0,"button",132),c.qZA()(),c._UZ(5,"br"),c.YNc(6,Ae,12,1,"table",72),c.TgZ(7,"div",15)(8,"div",131),c.YNc(9,Fe,2,0,"button",132),c.qZA()(),c._UZ(10,"br"),c.qZA()),2&Q){const Y=c.oxw(2);c.xp6(1),c.Q6J("ngIf",Y.listErrones.length>0),c.xp6(3),c.Q6J("ngIf",Y.listErrones.length>0),c.xp6(2),c.Q6J("ngIf",Y.listRejetes.length>0),c.xp6(3),c.Q6J("ngIf",Y.listRejetes.length>0)}}function Re(Q,Ee){if(1&Q){const Y=c.EpF();c.TgZ(0,"div",51)(1,"div",15)(2,"div",52)(3,"div",11)(4,"div",24)(5,"h5",47),c._uU(6,"D\xe9livrer carte en masse"),c.qZA(),c.TgZ(7,"form",16)(8,"div",53)(9,"label",54),c._uU(10,"Soci\xe9t\xe9"),c.qZA(),c.TgZ(11,"div",55)(12,"select",56),c.NdJ("change",function(){return c.CHM(Y),c.oxw().gettiers()}),c.TgZ(13,"option",57),c._uU(14," Choisir la soci\xe9t\xe9"),c.qZA(),c.YNc(15,ue,2,2,"option",58),c.qZA(),c.YNc(16,N,2,1,"div",30),c.qZA()(),c.YNc(17,F,4,0,"div",59),c.TgZ(18,"button",60),c.NdJ("click",function(){return c.CHM(Y),c.oxw().downloadCSVStruct()}),c._UZ(19,"i",61),c._uU(20," T\xe9l\xe9charger Structure CSV"),c.qZA(),c._UZ(21,"br"),c.TgZ(22,"div",62)(23,"div",63)(24,"label",64),c._uU(25,"T\xe9l\xe9charger fichier d\xe9livrance "),c.qZA(),c.TgZ(26,"input",65,66),c.NdJ("change",function(Te){return c.CHM(Y),c.oxw().uploadBenef(Te)}),c.qZA(),c.TgZ(28,"input",67),c.NdJ("click",function(){c.CHM(Y);const Te=c.MAs(27);return Te.value="",Te.click()}),c.qZA(),c._UZ(29,"br")(30,"br"),c.qZA(),c.TgZ(31,"div",68)(32,"div",69)(33,"span"),c._uU(34),c.qZA()()(),c.TgZ(35,"div",32),c.YNc(36,ie,2,0,"button",70),c.qZA()()(),c.TgZ(37,"div",15)(38,"div",71),c.YNc(39,ne,17,1,"table",72),c.qZA()(),c.TgZ(40,"div",62)(41,"div",73)(42,"div",63)(43,"button",74),c.NdJ("click",function(){return c.CHM(Y),c.oxw().SendOtp()}),c._uU(44," Valider "),c.qZA()()()()()()(),c.YNc(45,v,4,0,"div",59),c.qZA(),c.TgZ(46,"div",75)(47,"div",76)(48,"div",77)(49,"div",78)(50,"h5",79)(51,"p"),c._uU(52," Veuillez introduire le code de s\xe9curit\xe9 envoy\xe9 sur votre num\xe9ro de t\xe9l\xe9phone "),c.qZA()(),c.TgZ(53,"button",80),c.NdJ("click",function(){return c.CHM(Y),c.oxw().FermerOTP()}),c.TgZ(54,"span",81),c._uU(55,"\xd7"),c.qZA()()(),c.TgZ(56,"div",82)(57,"div",83),c._UZ(58,"input",84)(59,"input",85)(60,"input",86)(61,"input",87)(62,"input",88),c.qZA()(),c.TgZ(63,"div",89)(64,"button",90),c.NdJ("click",function(){return c.CHM(Y),c.oxw().FermerOTP()}),c._uU(65,"Fermer"),c.qZA(),c.TgZ(66,"button",91),c.NdJ("click",function(){return c.CHM(Y),c.oxw().ValidationFinale()}),c._uU(67,"Valider"),c.qZA()()()()(),c.TgZ(68,"div",92)(69,"div",76)(70,"div",77)(71,"div",78)(72,"h5",79)(73,"p"),c._uU(74," Veuillez introduire le code de s\xe9curit\xe9 envoy\xe9 sur votre num\xe9ro de t\xe9l\xe9phone "),c.qZA()()(),c.TgZ(75,"div",82)(76,"div",83),c._UZ(77,"input",93)(78,"input",94)(79,"input",95)(80,"input",96)(81,"input",97),c.qZA()(),c.TgZ(82,"div",89)(83,"button",90),c.NdJ("click",function(){return c.CHM(Y),c.oxw().FermerOTP1()}),c._uU(84,"Fermer"),c.qZA(),c.TgZ(85,"button",91),c.NdJ("click",function(){return c.CHM(Y),c.oxw().ValiderOtpMasse()}),c._uU(86,"Valider"),c.qZA()()()()(),c.TgZ(87,"div",98)(88,"div",76)(89,"div",77)(90,"div",78)(91,"h5",99)(92,"p"),c._uU(93," La d\xe9livrance de la carte a \xe9t\xe9 effectu\xe9e avec succ\xe9s "),c.qZA()(),c.TgZ(94,"button",100)(95,"span",81),c._uU(96,"\xd7"),c.qZA()()()()()(),c.TgZ(97,"div",101)(98,"div",76)(99,"div",77)(100,"div",78)(101,"h5",102)(102,"p"),c._uU(103," Client Existant "),c.qZA()(),c.TgZ(104,"button",100)(105,"span",81),c._uU(106,"\xd7"),c.qZA()()()()()(),c.TgZ(107,"div",103)(108,"div",76)(109,"div",77)(110,"div",78)(111,"h5",102)(112,"p"),c._uU(113," Client poss\xe8de d\xe9ja un acc\xe9s digital "),c.qZA()(),c.TgZ(114,"button",100)(115,"span",81),c._uU(116,"\xd7"),c.qZA()()()()()(),c.TgZ(117,"div",104)(118,"div",76)(119,"div",77)(120,"div",78)(121,"h5",102)(122,"p"),c._uU(123," Veuillez V\xe9rifier le champs de recherche "),c.qZA()(),c.TgZ(124,"button",100)(125,"span",81),c._uU(126,"\xd7"),c.qZA()()()()()(),c.TgZ(127,"div",105),c._uU(128," Carte d\xe9j\xe0 d\xe9livr\xe9e! "),c._UZ(129,"button",106),c.qZA(),c.TgZ(130,"div",107),c._uU(131," cette carte n'est pas appos\xe9e sur votre acc\xe8s! "),c._UZ(132,"button",106),c.qZA(),c.TgZ(133,"div",108),c._uU(134," Veuillez V\xe9rifier le champs de recherche "),c.TgZ(135,"button",109),c.NdJ("click",function(){return c.CHM(Y),c.oxw().closepop()}),c.qZA()(),c.TgZ(136,"div",110),c._uU(137," La d\xe9livrance de la carte a \xe9t\xe9 effectu\xe9e avec succ\xe9s "),c._UZ(138,"button",106),c.qZA(),c.TgZ(139,"div",111),c._uU(140," Client Existant "),c._UZ(141,"button",106),c.qZA(),c.TgZ(142,"div",112)(143,"div",76)(144,"div",113),c._UZ(145,"br"),c.TgZ(146,"div",15)(147,"h5",99)(148,"p"),c._uU(149),c.qZA()()(),c.TgZ(150,"div",15),c.YNc(151,Ie,11,4,"div",114),c.qZA(),c.TgZ(152,"div",89)(153,"button",90),c.NdJ("click",function(){return c.CHM(Y),c.oxw().FermerAlert()}),c._uU(154,"Fermer"),c.qZA()()()()(),c.TgZ(155,"div",115)(156,"div",116)(157,"div",117)(158,"div",118)(159,"h5",119),c._uU(160),c.qZA()(),c.TgZ(161,"div",120),c._uU(162),c.qZA(),c.TgZ(163,"div",121)(164,"button",122),c._uU(165),c.qZA()()()()(),c._UZ(166,"button",123),c.qZA()}if(2&Q){const Y=c.oxw();let fe,Te;c.xp6(7),c.Q6J("formGroup",Y.DmasseForm),c.xp6(5),c.Q6J("ngClass",c.WLB(16,ye,(null==(fe=Y.DmasseForm.get("tiers"))?null:fe.touched)&&(null==(fe=Y.DmasseForm.get("tiers"))?null:fe.invalid),null==(fe=Y.DmasseForm.get("tiers"))?null:fe.valid)),c.xp6(1),c.Q6J("ngValue",null),c.xp6(2),c.Q6J("ngForOf",Y.ListTiers),c.xp6(1),c.Q6J("ngIf",(null==(Te=Y.DmasseForm.get("tiers"))?null:Te.touched)&&(null==(Te=Y.DmasseForm.get("tiers"))?null:Te.invalid)),c.xp6(1),c.Q6J("ngIf",0==(null==Y.ListTiers?null:Y.ListTiers.length)),c.xp6(17),c.hij(" ",Y.fileNameBenef," "),c.xp6(2),c.Q6J("ngIf",(null==Y.fileNameBenef?null:Y.fileNameBenef.length)>0),c.xp6(3),c.Q6J("ngIf",Y.records.length>0),c.xp6(4),c.Q6J("disabled",Y.DmasseForm.invalid),c.xp6(2),c.Q6J("ngIf",Y.chargedData),c.xp6(104),c.hij(" ",Y.msg," "),c.xp6(2),c.Q6J("ngIf",Y.dataMasse),c.xp6(9),c.Oqu(Y.modalTitle),c.xp6(2),c.hij(" ",Y.modalBody," "),c.xp6(3),c.Oqu(Y.modalButtonLeft)}}let Oe=(()=>{class Q{constructor(Y,fe,Te,Ve,qe,Ke){this.VirServ=Y,this.fb=fe,this.http=Te,this.router=Ve,this.CarteServ=qe,this.auth=Ke,this.searchcarte=!1,this.searchcin=!1,this.search=!1,this.isLoading=!0,this.records=[],this.validation_messages={Cin:[{type:"required",message:"Veuillez choisir un num\xe9ro du cin"}],Nom:[{type:"required",message:"Veuillez saisir le nom "}],Prenom:[{type:"required",message:"Veuillez saisir le pr\xe9nom"}],GSM:[{type:"required",message:"Veuillez saisir le num\xe9ro de GSM"}],Mail:[{type:"required",message:"Veuillez saisir un MAIL"}],DateFact:[{type:"required",message:"Veuillez choisir une date de naissance"}],Carte:[{type:"required",message:"Veuillez choisir le num\xe9ro de carte"}]},this.accountNumber="",this.loader=!1,this.visible=!1,this.visible1=!1,this.istrue="",this.cuser="",this.ListTiers=[],this.onetiers=!0,this.choseTiers=!1,this.hasTiersClient=!1,this.listTiers=[],this.dataMasse=!1,this.createForm1(),this.rechercherForm(),this.createForm()}createForm(){this.DmasseForm=this.fb.group({tiers:["",z.kI.required],fileCsv:["",z.kI.required]})}get f(){return this.FormSearch.controls}get f1(){return this.FormInitaitionTitre.controls}ngOnInit(){this.token=localStorage.getItem("token"),this.login=localStorage.getItem("login"),console.log(this.login),this.istrue=localStorage.getItem("istrue"),console.log(this.token),"true"==this.istrue?(this.chargedData=!0,this.cuser=localStorage.getItem("cuser"),this.auth.getTiersByIdDigital(this.token).subscribe(Y=>{console.log(Y),this.ListTiers=Y,0==this.ListTiers.length?(this.chargedData=!1,this.onetiers=!0,this.choseTiers=!0,this.hasTiersClient=!0):1==this.ListTiers.length?(this.tiersClient=this.ListTiers[0].Referentiel,this.onetiers=!0,this.choseTiers=!0,this.hasTiersClient=!0,this.listTiers.push(this.tiersClient),console.log("only one")):(this.chargedData=!1,(null==this.tiersClient||""==this.tiersClient)&&(this.tiersClient=void 0),null!=this.tiersClient&&(this.hasTiersClient=!0),console.log("more then one"),this.onetiers=!1)},Y=>{console.log("error API"),-1!=Y.indexOf("401")&&this.router.navigate(["/"])})):this.router.navigate(["/"])}gettiers(){}displayCardType(Y){console.log(Y),"Unitaire"==this.selectedType?(this.visible=!0,this.visible1=!1):"Masse"==this.selectedType&&(this.visible=!1,this.visible1=!0)}getRechValue(Y){this.rechercherForm(),"carte"==Y&&(this.searchcarte=!0,this.searchcin=!1,this.search=!0),this.searchcarte=!1,this.searchcin=!0,this.search=!0}getForm(){console.log(this.FormInitaitionTitre.controls)}createForm1(){this.FormInitaitionTitre=this.fb.group({Cin:new z.NI("",z.kI.required),Nom:new z.NI("",z.kI.required),GSM:new z.NI("",z.kI.required),Mail:new z.NI(""),DateFact:new z.NI(""),Carte:new z.NI("",z.kI.required)})}rechercherForm(){this.FormSearch=this.fb.group({searchInput:new z.NI("",[z.kI.required])})}RechercheCarte(){var Y,fe;null===(Y=document.getElementById("alertChamp"))||void 0===Y||Y.setAttribute("class","modal fade  hide");let Te=null===(fe=this.FormSearch.get("searchInput"))||void 0===fe?void 0:fe.value;console.log(Te),this.CarteServ.getCardInfo(this.token,Te).subscribe(Ve=>{var qe,Ke,it,at,lt,gt,ot,ft;console.log(".....................",Ve),this.dataRet=Ve,null===(qe=this.FormInitaitionTitre.get("Cin"))||void 0===qe||qe.setValue(this.dataRet.Cin),null===(Ke=this.FormInitaitionTitre.get("Nom"))||void 0===Ke||Ke.setValue(this.dataRet.LastName),null===(it=this.FormInitaitionTitre.get("Carte"))||void 0===it||it.setValue(this.dataRet.CardNumber),this.satut=this.dataRet.Status,this.identifier=this.dataRet.Identifier,this.DeliveryDate=this.dataRet.DeliveryDate,this.ExpiryDate=this.dataRet.ExpiryDate,this.profession=this.dataRet.profession,this.accountNumber=this.dataRet.Account,this.checkDigital=this.dataRet.checkDigital,"none"==this.checkDigital&&(this.element=document.getElementById("cardDeliv"),this.element.style.pointerEvents="none",this.element.style.opacity="0.6",this.msg="cette carte n'est pas appos\xe9e sur votre acc\xe8s!",null===(at=document.getElementById("alertChamp"))||void 0===at||at.setAttribute("class","modal fade  show")),"false"==this.checkDigital?(this.element=document.getElementById("cardDeliv"),this.element.style.pointerEvents="none",this.element.style.opacity="0.6",this.msg="Carte d\xe9j\xe0 d\xe9livr\xe9e!",null===(lt=document.getElementById("alertChamp"))||void 0===lt||lt.setAttribute("class","modal fade  show")):(this.element=document.getElementById("cardDeliv"),this.element.style.pointerEvents="auto",this.element.style.opacity="1",null===(gt=document.getElementById("alertChamp"))||void 0===gt||gt.setAttribute("class","modal fade  hide")),null==this.dataRet.Cin&&(this.element=document.getElementById("cardDeliv"),this.element.style.pointerEvents="none",this.element.style.opacity="0.6",this.msg="Veuillez V\xe9rifier le champs de recherche!",null===(ot=document.getElementById("alertChamp"))||void 0===ot||ot.setAttribute("class","modal fade  show"),null===(ft=this.FormSearch.get("searchInput"))||void 0===ft||ft.setValue("")),console.log("aaaaaaaaaaaaaaaaaaaaaaaaaa",this.accountNumber)},Ve=>{console.log("error API"),-1!=Ve.indexOf("401")&&this.router.navigate(["/"])})}valider(){var Y,fe,Te,Ve,qe,Ke,it;this.Cin=null===(Y=this.FormInitaitionTitre.get("Cin"))||void 0===Y?void 0:Y.value,this.Nom=null===(fe=this.FormInitaitionTitre.get("Nom"))||void 0===fe?void 0:fe.value,this.GSM=null===(Te=this.FormInitaitionTitre.get("GSM"))||void 0===Te?void 0:Te.value,this.Mail=null===(Ve=this.FormInitaitionTitre.get("Mail"))||void 0===Ve?void 0:Ve.value,this.DateFact=null===(qe=this.FormInitaitionTitre.get("DateFact"))||void 0===qe?void 0:qe.value,this.Carte=null===(Ke=this.FormInitaitionTitre.get("Carte"))||void 0===Ke?void 0:Ke.value,console.log(this.Cin),console.log(this.Nom),console.log(this.Prenom),console.log(this.GSM),console.log(".............",this.Mail),console.log(this.DateFact),console.log(this.Carte),null===(it=document.getElementById("ModalCompare"))||void 0===it||it.setAttribute("class","modal fade  show"),this.CarteServ.PostOTP(this.token,this.GSM).subscribe(at=>{console.log(".....................",at),this.dataRet=at,"Processed"==this.dataRet.Statut&&(this.element1=document.getElementById("input1"),this.element1.focus())},at=>{console.log("error API"),-1!=at.indexOf("401")&&this.router.navigate(["/"])})}ValiderOtpDelivrance(){var Y=document.getElementById("input1").value,fe=document.getElementById("input2").value,Te=document.getElementById("input3").value,Ve=document.getElementById("input4").value,qe=document.getElementById("input5").value;this.CarteServ.GetOTP(this.token,Y+fe+Te+Ve+qe).subscribe(it=>{var at;this.dataRet=it,"Denied"==this.dataRet.Statut?(document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value=""):(this.el=document.getElementById("ModalCompare"),null===(at=this.el)||void 0===at||at.setAttribute("class","modal fade  hide"),document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",this.ValidationFinale())},it=>{console.log("error API"),-1!=it.indexOf("401")&&this.router.navigate(["/"])})}ValidationFinale(){var Y,it=document.getElementById("input1").value+document.getElementById("input2").value+document.getElementById("input3").value+document.getElementById("input4").value+document.getElementById("input5").value;null===(Y=document.getElementById("alertChamp"))||void 0===Y||Y.setAttribute("class","modal fade  hide"),this.address="",this.verif1=this.Carte,this.verif2=this.Cin,this.login=this.login,console.log("..........",this.login),this.service="CP001",this.loader=!0,this.CarteServ.SendAccessDigital(this.token,this.identifier,this.Nom,this.address,this.Mail,this.GSM,this.profession,this.accountNumber,this.login,this.verif1,this.verif2,this.service,it).subscribe(at=>{var lt,gt,ot,ft,Ft,Mt,Ue,Le,Be,nt;this.dataRet=at,this.loader=!1,"505"==this.dataRet?(document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",this.msg="OTP invalide",null===(lt=document.getElementById("alertChamp"))||void 0===lt||lt.setAttribute("class","modal fade  show")):"Processed"==this.dataRet.Status?(this.el=document.getElementById("ModalCompare"),null===(gt=this.el)||void 0===gt||gt.setAttribute("class","modal fade  hide"),document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",null===(ot=this.FormInitaitionTitre.get("Cin"))||void 0===ot||ot.setValue(""),null===(ft=this.FormInitaitionTitre.get("Nom"))||void 0===ft||ft.setValue(""),null===(Ft=this.FormInitaitionTitre.get("Carte"))||void 0===Ft||Ft.setValue(""),null===(Mt=this.FormInitaitionTitre.get("GSM"))||void 0===Mt||Mt.setValue(""),null===(Ue=this.FormInitaitionTitre.get("Mail"))||void 0===Ue||Ue.setValue(""),null===(Le=this.FormInitaitionTitre.get("DateFact"))||void 0===Le||Le.setValue(""),this.msg="La d\xe9livrance de la carte a \xe9t\xe9 effectu\xe9e avec succ\xe9s",null===(Be=document.getElementById("alertChamp"))||void 0===Be||Be.setAttribute("class","modal fade  show")):(this.msg="Carte Client d\xe9ja d\xe9livr\xe9e ",null===(nt=document.getElementById("alertChamp"))||void 0===nt||nt.setAttribute("class","modal fade  show"))},at=>{console.log("error API"),-1!=at.indexOf("401")&&this.router.navigate(["/"])})}closepop(){var Y;null===(Y=document.getElementById("AlertSearchError"))||void 0===Y||Y.setAttribute("class","alert alert-primary alert-dismissible fade hide")}FermerOTP(){var Y;this.el=document.getElementById("ModalCompare"),null===(Y=this.el)||void 0===Y||Y.setAttribute("class","modal fade  hide"),document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value=""}FermerOTP1(){var Y;this.el=document.getElementById("ModalCompare1"),null===(Y=this.el)||void 0===Y||Y.setAttribute("class","modal fade  hide"),document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value=""}FermerAlert(){var Y;null===(Y=document.getElementById("alertChamp"))||void 0===Y||Y.setAttribute("class","modal fade  hide")}uploadBenef(Y){var fe;this.fileNameBenef="",this.textfileContent="",this.records=[],console.log(Y.target.files[0]),this.fileNameBenef=Y.target.files[0].name,Y.target.files&&Y.target.files[0]&&(-1==Y.target.files[0].type.toString().indexOf("csv")?(this.modalTitle="Alerte",this.modalBody="Veuillez choisir un document type CSV",this.modalButtonLeft="Fermer",null===(fe=document.getElementById("btnAlert"))||void 0===fe||fe.click()):this.uploadListener(Y))}uploadListener(Y){let Te=Y.srcElement.files;if(this.fileNameBenef=Y.target.files[0].name,this.isValidCSVFile(Te[0])){var Ve=new FileReader;Ve.onload=Ke=>{this.filePath=Ke.target.result,console.log(this.filePath);var it=this.filePath.toString().replace("data:application/vnd.ms-excel;base64,","");this.base=it.replace("data:text/csv;base64,","")},Ve.readAsDataURL(Y.target.files[0]),this.uploadListener2(Y),Ve.onerror=function(){console.log("error is occured while reading file!")}}else alert("Please import valid .csv file."),this.fileReset()}uploadListener2(Y){let Te=Y.srcElement.files;if(this.fileNameBenef=Y.target.files[0].name,this.isValidCSVFile(Te[0])){let Ve=Y.target,qe=new FileReader;qe.readAsText(Ve.files[0]),qe.onload=Ke=>{let at=qe.result.split(/\r\n|\n/),lt=this.getHeaderArray(at),gt=at[0].split(";");console.log(lt),this.records=this.getDataRecordsArrayFromCSVFile(at,gt.length)},qe.onerror=function(){console.log("error is occured while reading file!")}}else alert("Please import valid .csv file."),this.fileReset()}isValidCSVFile(Y){return Y.name.endsWith(".csv")}fileReset(){this.csvReader.nativeElement.value="",this.records=[]}getHeaderArray(Y){let fe=Y[0].split(","),Te=[];for(let Ve=0;Ve<fe.length;Ve++)Te.push(fe[Ve]);return Te}getDataRecordsArrayFromCSVFile(Y,fe){var Te,Ve,qe,Ke,it,at;let lt=[];for(let gt=1;gt<Y.length;gt++){let ot=Y[gt].split(";");if(ot.length==fe){let ft=new f;ft.NumCard=null===(Te=ot[0])||void 0===Te?void 0:Te.trim(),ft.cin=null===(Ve=ot[1])||void 0===Ve?void 0:Ve.trim(),ft.nom=null===(qe=ot[2])||void 0===qe?void 0:qe.trim(),ft.prenom=null===(Ke=ot[3])||void 0===Ke?void 0:Ke.trim(),ft.telephone=null===(it=ot[4])||void 0===it?void 0:it.trim(),ft.mail=null===(at=ot[5])||void 0===at?void 0:at.trim(),lt.push(ft)}}return console.log(lt),lt}removeCsvBenefFile(){this.DmasseForm.controls.fileCsv.reset(),this.fileNameBenef="",this.records=[]}SendOtp(){this.chargedData=!0;let Y={Login:localStorage.getItem("cuser")};this.VirServ.getuserdata(Y,this.token).subscribe(fe=>{var Te,Ve;console.log(".....................",fe),this.dataRet=fe,console.log(this.dataRet.mobile),this.GSM=this.dataRet.mobile,"99"!=this.dataRet.ResponseCode?(this.chargedData=!1,null===(Te=document.getElementById("ModalCompare1"))||void 0===Te||Te.setAttribute("class","modal fade  show"),this.CarteServ.PostOTP(this.token,this.GSM).subscribe(qe=>{console.log(".....................",qe),this.dataRet=qe,"Processed"==this.dataRet.Statut&&(this.element1=document.getElementById("input11"),this.element1.focus())},qe=>{console.log("error API"),-1!=qe.indexOf("401")&&this.router.navigate(["/"])})):(this.msg="Veuillez r\xe9essayer plut tard!",null===(Ve=document.getElementById("alertChamp"))||void 0===Ve||Ve.setAttribute("class","modal fade  show"))},fe=>{console.log("error API"),-1!=fe.indexOf("401")&&this.router.navigate(["/"])})}ValiderOtpMasse(){this.chargedData=!0;var Y=document.getElementById("input11").value,fe=document.getElementById("input21").value,Te=document.getElementById("input31").value,Ve=document.getElementById("input41").value,qe=document.getElementById("input51").value;this.CarteServ.GetOTP(this.token,Y+fe+Te+Ve+qe).subscribe(it=>{var at,lt,gt;this.dataRet=it,"Denied"==this.dataRet.Statut?(document.getElementById("input11").value="",document.getElementById("input21").value="",document.getElementById("input31").value="",document.getElementById("input41").value="",document.getElementById("input51").value="",this.el=document.getElementById("ModalCompare1"),null===(at=this.el)||void 0===at||at.setAttribute("class","modal fade  hide"),this.msg="Code OTP incorrect",this.el=document.getElementById("alertChamp"),null===(lt=this.el)||void 0===lt||lt.setAttribute("class","modal fade  show")):(document.getElementById("input11").value="",document.getElementById("input21").value="",document.getElementById("input31").value="",document.getElementById("input41").value="",document.getElementById("input51").value="",this.el=document.getElementById("ModalCompare1"),null===(gt=this.el)||void 0===gt||gt.setAttribute("class","modal fade  hide"),this.SendFile())},it=>{this.chargedData=!1,console.log("error API"),-1!=it.indexOf("401")&&this.router.navigate(["/"])})}SendFile(){console.log(this.filePath),this.CsvBase=this.filePath.replace("data:text/csv;base64,",""),console.log(this.CsvBase),this.CarteServ.CompressData(this.token,this.CsvBase).subscribe(Y=>{console.log(Y);const fe=this.login.split("@")[0];console.log(fe),this.CarteServ.SendCsvData(this.token,{identifier:"000002764339",cuser:"anisfarhat",service:"CP001",Base64File:Y,sender:"web"}).subscribe(Ve=>{var qe,Ke,it;this.listDelivrance=Ve,this.dataMasse=!0,this.listErrones=this.listDelivrance.CartesErronees,this.listRejetes=this.listDelivrance.lcdiRejected,this.chargedData=!1,"Processed"!=Ve.Status?(this.msg="Veuillez r\xe9essayer plus tard",this.el=document.getElementById("alertChamp"),null===(qe=this.el)||void 0===qe||qe.setAttribute("class","modal fade  show")):(0==Ve.lcdiRejected.length&&0==Ve.CartesErronees.length?(this.msg="D\xe9livrance faite avec succ\xe8s.",this.el=document.getElementById("alertChamp"),null===(Ke=this.el)||void 0===Ke||Ke.setAttribute("class","modal fade  show")):(this.msg="D\xe9livrance faite avec succ\xe8s.  N.B: ",0!=Ve.CartesErronees.length&&(this.msg+="Des Num\xe9ros de cartes erron\xe9s ont \xe9t\xe9 d\xe9tect\xe9s au niveau du fichier."),0!=Ve.lcdiRejected.length&&(this.msg+="Des Num\xe9ros de cartes ont \xe9t\xe9 rejet\xe9s .")),this.el=document.getElementById("alertChamp"),null===(it=this.el)||void 0===it||it.setAttribute("class","modal fade  show"))},Ve=>{this.chargedData=!1,console.log("error API"),-1!=Ve.indexOf("401")&&this.router.navigate(["/"])})},Y=>{this.chargedData=!1,console.log("error API"),-1!=Y.indexOf("401")&&this.router.navigate(["/"])})}exportToCsv(Y){const fe=[],Te=Y.nativeElement;for(let it=0;it<Te.rows.length;it++){const at=[],lt=Te.rows[it];for(let ot=0;ot<lt.cells.length;ot++)at.push(lt.cells[ot].innerText);const gt=at.join(",");fe.push(gt)}const Ve=fe.join("\n"),qe=new Blob([Ve],{type:"text/csv;charset=utf-8"}),Ke=document.createElement("a");Ke.href=URL.createObjectURL(qe),Ke.download="table_data.csv",Ke.click()}downloadCSVStruct(){this.VirServ.DownloadF("DelivMasse",this.token).subscribe(Y=>{this.FileStructure=Y.body;const fe=`data:application/csv;base64,${this.FileStructure}`,Te=document.createElement("a");Te.href=fe,Te.download="DelivMasse.csv",Te.click()},Y=>{this.chargedData=!1,-1!=Y.indexOf("401")&&this.router.navigate(["/"])})}}return Q.\u0275fac=function(Y){return new(Y||Q)(c.Y36(R.t),c.Y36(z.qu),c.Y36(x.eN),c.Y36(ce.F0),c.Y36(xe.K),c.Y36(w.r))},Q.\u0275cmp=c.Xpm({type:Q,selectors:[["app-delivrer-carte"]],viewQuery:function(Y,fe){if(1&Y&&(c.Gf(B,5),c.Gf(k,5),c.Gf(C,5)),2&Y){let Te;c.iGM(Te=c.CRH())&&(fe.csvReader=Te.first),c.iGM(Te=c.CRH())&&(fe.tableRef=Te.first),c.iGM(Te=c.CRH())&&(fe.tableRef1=Te.first)}},decls:15,vars:3,consts:[[1,"row",2,"text-align","center","justify-content","center"],[1,"col-sm-12","col-lg-4","col-md-6"],[1,"col-8","col-form-label"],["required","",1,"form-select",3,"ngModel","ngModelChange","change"],["selected","","disabled","","value",""],["value","Unitaire"],["value","Masse"],["id","unit",4,"ngIf"],["id","masse",4,"ngIf"],["id","unit"],["class","card",4,"ngIf"],[1,"card"],["id","services",1,"services",2,"margin-top","7%"],[1,"container","px-4"],["data-aos","fade-up",1,"section-title"],[1,"row"],[3,"formGroup"],[1,"col-12"],[1,"col-8"],[1,"font-weight-bold","TitleMobile"],["autocomplete","off","type","text","name","searchInput","formControlName","searchInput",1,"form-control",2,"width","40%",3,"ngClass"],[1,"col-2"],[1,"btn","btnRetour",2,"margin-top","24px","margin-left","-240%",3,"disabled","click"],["id","cardDeliv",1,"card",2,"pointer-events","none","opacity","0.7"],[1,"card-body"],[1,"col-3","blockDetail"],[2,"text-decoration","underline","color","#3498db","text-align","center"],[2,"border-bottom","solid 1px"],[2,"color","red"],["autocomplete","off","maxlength","16","minlength","16","type","text","name","Carte","formControlName","Carte",1,"form-control",3,"ngClass"],["class","alert alert-danger",4,"ngIf"],["autocomplete","off","maxlength","8","minlength","8","type","text","name","Cin","formControlName","GSM",1,"form-control",3,"ngClass"],[1,"col-1"],[1,"col-1","vl"],[1,"col-7"],[1,"col"],[1,"col-6","blockDetail"],["autocomplete","off","maxlength","8","minlength","8","type","text","name","Cin","formControlName","Cin",1,"form-control",3,"ngClass"],["autocomplete","off","type","email","name","Mail","formControlName","Mail",1,"form-control"],["autocomplete","off","type","text","name","Nom","formControlName","Nom",1,"form-control",3,"ngClass"],["autocomplete","off","type","date","name","DateFact","formControlName","DateFact",1,"form-control"],[2,"text-align","center","margin-bottom","3%","margin-top","1%"],["type","button",1,"btn","btn-primary","btn-lg",2,"font-size","20px","font-weight","bold","cursor","pointer","width","26%","color","white","background-color","#3498db","border-radius","20px",3,"disabled","click"],[1,"alert","alert-danger"],[4,"ngFor","ngForOf"],["style","font-size:12px",4,"ngIf"],[2,"font-size","12px"],[1,"card-title"],[1,"col-lg-12","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["id","masse"],[1,"col-lg-12"],[1,"row","mb-3"],[1,"col-sm-2","col-form-label"],[1,"col-5"],["name","tiers","formControlName","tiers","required","",1,"form-select",3,"ngClass","change"],["hidden","","selected","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["class","col-lg-12 text-center",4,"ngIf"],["type","button",1,"btn","btn-primary",2,"float","right",3,"click"],[1,"bi","bi-download"],[1,"row","pt-2"],[1,"col-4"],["for","declarationBenef",1,"label-file"],["formControlName","fileCsv","type","file",2,"visibility","hidden",3,"change"],["fileReader",""],["id","declarationBenef",1,"input-file",3,"click"],[1,"col-6"],[1,"col-6","text-left"],["type","button","class","btn btn-danger ",3,"click",4,"ngIf"],[1,"pt-2"],["class","table table-bordered",4,"ngIf"],[1,"col-12",2,"text-align","-webkit-right"],["id","btncsv",1,"btn","btn-primary","btn-md",3,"disabled","click"],["id","ModalCompare","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","hide",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title",2,"color","rgb(7, 7, 7)"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",2,"text-align","center"],[1,"inline-flex"],["type","text","maxlength","1","id","input1","onkeyup","document.getElementById('input2').focus();",1,"uk-input"],["type","text","maxlength","1","id","input2","onkeyup","document.getElementById('input3').focus();",1,"uk-input"],["type","text","maxlength","1","id","input3","onkeyup","document.getElementById('input4').focus();",1,"uk-input"],["type","text","maxlength","1","id","input4","onkeyup","document.getElementById('input5').focus();",1,"uk-input"],["type","text","maxlength","1","id","input5","onkeyup","document.getElementById('input5').blur();",1,"uk-input"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["id","ModalCompare1","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","hide",2,"margin-top","15%"],["type","text","maxlength","1","id","input11","onkeyup","document.getElementById('input2').focus();",1,"uk-input"],["type","text","maxlength","1","id","input21","onkeyup","document.getElementById('input3').focus();",1,"uk-input"],["type","text","maxlength","1","id","input31","onkeyup","document.getElementById('input4').focus();",1,"uk-input"],["type","text","maxlength","1","id","input41","onkeyup","document.getElementById('input5').focus();",1,"uk-input"],["type","text","maxlength","1","id","input51","onkeyup","document.getElementById('input5').blur();",1,"uk-input"],["id","ModalValidationCarteProcessed","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["id","exampleModalLabelProcessed",1,"modal-title",2,"color","rgb(7, 7, 7)"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["id","ModalValidationCarteError","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["id","exampleModalLabelError",1,"modal-title",2,"color","rgb(7, 7, 7)"],["id","ModalValidationUser","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["id","ModalSearchError","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","alert","id","AlertValidationUser",1,"alert","alert-primary","alert-dismissible","fade","hide"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],["role","alert","id","AlertAppartenenceCarte",1,"alert","alert-primary","alert-dismissible","fade","hide"],["role","alert","id","AlertSearchError",1,"alert","alert-primary","alert-dismissible","fade","hide"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["role","alert","id","AlertValidationCarteProcessed",1,"alert","alert-primary","alert-dismissible","fade","hide"],["role","alert","id","AlertValidationCarteError",1,"alert","alert-primary","alert-dismissible","fade","hide"],["id","alertChamp","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],[1,"modal-content",2,"width","fit-content","padding","2%"],[4,"ngIf"],["id","alert","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"width","fit-content !important"],[1,"modal-header",2,"align-self","center"],[1,"modal-title"],["id","exampleModalLabelProcessedalert",1,"modal-body"],[1,"modal-footer",2,"align-self","center"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","btnAlert","data-bs-toggle","modal","data-bs-target","#alert","hidden",""],[3,"value"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],[1,"table","table-bordered"],[2,"text-align","center"],["style","text-align: center;",4,"ngFor","ngForOf"],["class","table table-bordered","style","border-color: black;",4,"ngIf"],[1,"col",2,"text-align","end"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],[1,"table","table-bordered",2,"border-color","black"],["tableRef",""],["tableRef1",""]],template:function(Y,fe){1&Y&&(c.TgZ(0,"div",0)(1,"div",1)(2,"label",2),c._uU(3,"S\xe9lectionnez le type de d\xe9livrance carte:"),c.qZA(),c.TgZ(4,"select",3),c.NdJ("ngModelChange",function(Ve){return fe.selectedType=Ve})("change",function(Ve){return fe.displayCardType(Ve.target.value)}),c.TgZ(5,"option",4),c._uU(6," Choisir "),c.qZA(),c.TgZ(7,"option",5),c._uU(8,"D\xe9livrance Unitaire"),c.qZA(),c.TgZ(9,"option",6),c._uU(10,"D\xe9livrance en masse"),c.qZA()()()(),c._UZ(11,"br")(12,"hr"),c.YNc(13,we,3,2,"div",7),c.YNc(14,Re,167,19,"div",8)),2&Y&&(c.xp6(4),c.Q6J("ngModel",fe.selectedType),c.xp6(9),c.Q6J("ngIf",fe.visible),c.xp6(1),c.Q6J("ngIf",fe.visible1))},directives:[z.EJ,z.Q7,z.JJ,z.On,z.YN,z.Kr,_.O5,z._Y,z.JL,z.sg,z.Fj,z.u,_.mk,z.nD,z.wO,_.sg],styles:[".btnRetour[_ngcontent-%COMP%]{background:#3498db;color:#fff;border-radius:7px}.btnRetour[_ngcontent-%COMP%]:hover{background-color:#57aae1;color:#fff}.uk-input[_ngcontent-%COMP%]{width:14%;height:50px;border-radius:5px;text-align:center;margin-right:10px!important;border:1px solid #949292;padding:0;margin:0;font-size:25px}.show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}.label-file[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;cursor:pointer;background-color:#27597a;color:#fff;font-weight:700;height:auto;border-radius:5px;padding:6px 10px 10px}.label-file[_ngcontent-%COMP%]:hover{color:#fff;background-color:#007bff}.input-file[_ngcontent-%COMP%]{display:none}.btnFile[_ngcontent-%COMP%]{width:-webkit-fill-available}"]}),Q})();var We=oe(3007);const He=[{path:"",component:pe},{path:"update/:id",component:e,canActivate:[We.a],data:{breadcrumb:{alias:"Details"}}},{path:"delivrer-carte",component:Oe,canActivate:[We.a],data:{breadcrumb:{alias:"D\xe9livrer"}}}];let tt=(()=>{class Q{}return Q.\u0275fac=function(Y){return new(Y||Q)},Q.\u0275mod=c.oAB({type:Q}),Q.\u0275inj=c.cJS({imports:[[ce.Bz.forChild(He)],ce.Bz]}),Q})(),V=(()=>{class Q{}return Q.\u0275fac=function(Y){return new(Y||Q)},Q.\u0275mod=c.oAB({type:Q}),Q.\u0275inj=c.cJS({imports:[[_.ez,tt,z.u5,z.UX]]}),Q})()},2077:(ze,re,oe)=>{"use strict";oe.d(re,{K:()=>z});var c=oe(520),e=oe(2843),xe=oe(262),ce=oe(2340),pe=oe(1223);let z=(()=>{class f{constructor(x){this.http=x,this.adresse_url=ce.N.urlCorporate,this.urlAllApp=ce.N.urlAllApp}getCardInfo(x,w){const _={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+x})};return this.http.get(this.adresse_url+"SearchDelegationCardById/"+w,_).pipe((0,xe.K)(this.handleError))}PostOTPGeneral(x,w){const _={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+x})};return this.http.post(this.adresse_url+"otp/GenerateOTP",JSON.stringify(w),_).pipe((0,xe.K)(this.handleError))}PostOTP(x,w){const _={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+x})};let B={login:localStorage.getItem("cuser"),action:"DelivranceCarte",telephone:w,application:"DigiCorporate"};return this.http.post(this.adresse_url+"otp/GenerateOTP",JSON.stringify(B),_).pipe((0,xe.K)(this.handleError))}GetOTPGeneral(x,w){const _={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+x})};return this.http.post(this.adresse_url+"otp/GetOTP",JSON.stringify(w),_).pipe((0,xe.K)(this.handleError))}GetOTP(x,w){const _={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+x})};let B={login:localStorage.getItem("cuser"),action:"DelivranceCarte",otp:w};return this.http.post(this.adresse_url+"otp/GetOTP",JSON.stringify(B),_).pipe((0,xe.K)(this.handleError))}CompressData(x,w){const _={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+x})};return this.http.post(this.urlAllApp+"CompressString",JSON.stringify({text:w}),_).pipe((0,xe.K)(this.handleError))}SendCsvData(x,w){const _={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+x})};return this.http.post(ce.N.urlCorporate+"bulkcarddelegation",JSON.stringify(w),_).pipe((0,xe.K)(this.handleError))}SendAccessDigital(x,w,_,B,k,C,X,se,j,S,A,T,L){const W={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+x})};return this.http.post(this.adresse_url+"AddUserCorpForDelegation",JSON.stringify({identifier:w,name:_,address:B,email:k,mobile:C,profession:X,accountNumber:se,cuser:j,verif1:S,verif2:A,service:T,otp:L}),W).pipe((0,xe.K)(this.handleError))}GetExtraitCompte(x,w,_,B){const k={headers:new c.WM({Accept:"application/json","content-type":"application/json",Authorization:"Bearer "+x})};return this.http.post("http://localhost:12426/api/ExtraitCompte",JSON.stringify({ClientId:w,StartDate:_,EndDate:B}),k).pipe((0,xe.K)(this.handleError))}extractData(x){return x||{}}handleError(x){let w="";return w=x.error instanceof ErrorEvent?"An error occurred:":`Error Code: ${x.status}\nMessage: ${x.message}`,(0,e._)(w)}}return f.\u0275fac=function(x){return new(x||f)(pe.LFG(c.eN))},f.\u0275prov=pe.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},6123:(ze,re,oe)=>{"use strict";oe.d(re,{O:()=>e});var c=oe(1223);let e=(()=>{class xe{constructor(){}ngOnInit(){}}return xe.\u0275fac=function(pe){return new(pe||xe)},xe.\u0275cmp=c.Xpm({type:xe,selectors:[["app-paiementfacture"]],decls:2,vars:0,template:function(pe,z){1&pe&&(c.TgZ(0,"p"),c._uU(1,"paiementfacture works!"),c.qZA())},styles:[""]}),xe})()},8952:(ze,re,oe)=>{"use strict";oe.d(re,{B:()=>R});var c=oe(2382),e=oe(4497),xe=oe(1223),ce=oe(520),pe=oe(7656),z=oe(4900),f=oe(9860);let R=(()=>{class x{constructor(_,B,k,C,X){this.fb=_,this.http=B,this.router=k,this.VirServ=C,this.auth=X,this.ListBenef=[],this.Matricule=!0,this.vs=new e.Q,this.ListMoy=[],this.mnt=0,this.list0=[],this.ListTiers=[],this.RetourFile=[],this.validation_messages={moyPaiement:[{type:"required",message:"Veuillez choisir le moyen de paiement"}],montant:[{type:"required",message:"Veuillez saisir le montant"}],motif:[{type:"required",message:"Veuillez Choisir  le motif"}]},this.ListOfBenefToBePaid=[],this.loader=!1,this.init=!1,this.disabled=!0,this.onetiers=!0,this.listTiers=[],this.createForm1(),this.InitierForm(),this.VirFileForm()}get AllTypeBenef(){return this.tableForm.get("AllTypeBenef")}VirFileForm(){this.FormVirFile=this.fb.group({typeVirementFile:new c.NI("",c.kI.required),Tiers:new c.NI("",c.kI.required),TypeCompteVir:new c.NI("",c.kI.required),FichierVir:new c.NI("",c.kI.required)})}InitierForm(){this.FormSearch=this.fb.group({typeVirement:new c.NI("",c.kI.required),MontantTotal:new c.NI("",c.kI.required),TypeCompte:new c.NI("",c.kI.required)})}ngOnInit(){this.token=localStorage.getItem("token"),document.getElementById("divfichier").style.display="none",document.getElementById("divformulaire").style.display="block",this.auth.getTiersByIdDigital(this.token).subscribe(k=>{this.ListTiers=k,0==this.ListTiers.length&&(this.onetiers=!0),1==this.ListTiers.length&&(this.tiersClient=this.ListTiers[0].Referentiel,this.onetiers=!0,this.listTiers.push(this.tiersClient),console.log("only one"))},k=>{console.log("error API"),-1!=k.indexOf("401")&&this.router.navigate(["/"])}),this.NiveauValidationAgent="Initiation",this.NiveauValidationAgent="Initiation","Initiation"==this.NiveauValidationAgent&&(this.element=document.getElementById("cardbenefdiv"),this.element.style.pointerEvents="none",this.element.style.opacity="0.6",this.element1=document.getElementById("cardbenefdiv1"),this.element1.style.display="none"),"Initiation"!=this.NiveauValidationAgent&&(this.element=document.getElementById("cardbenefdiv1"),this.element.style.pointerEvents="none",this.element.style.opacity="0.6",this.element1=document.getElementById("cardbenefdiv"),this.element1.style.display="none")}getAccountsBytiers(){var _,B;this.list0=[],null===(_=this.FormVirFile.controls.TypeCompteVir)||void 0===_||_.reset(),this.VirServ.MinimalByRef(this.token,null===(B=this.FormVirFile.get("Tiers"))||void 0===B?void 0:B.value).subscribe(k=>{this.listCompts=k.accounts;for(var C=0;C<this.listCompts.length;C++)this.list0.push(this.listCompts[C].account_routings[0])},k=>{console.log("error API"),-1!=k.indexOf("401")&&this.router.navigate(["/"])})}createForm1(){this.FormInitaitionTitre=this.fb.group({listVs:new c.Oe([])})}get f(){return this.FormInitaitionTitre.controls}get t(){var _;return null===(_=this.f)||void 0===_?void 0:_.listVs}goToHome(){localStorage.setItem("ret","ouiVirements"),this.router.navigate(["/home"])}logout(){localStorage.setItem("istrue",""),this.router.navigate(["/"])}getAccountValue(_){this.accountvalue=_.target.value}getTypeValue(){var _,B;const C=null===(_=this.FormSearch.get("typeVirement"))||void 0===_?void 0:_.value,X=null===(B=this.FormSearch.get("MontantTotal"))||void 0===B?void 0:B.value;this.MontantTotal=X,this.currency="TND",this.MontantTotal=this.MontantTotal.replace(".",","),this.VirServ.getFormatedAmount(this.currency,this.MontantTotal,this.token).subscribe(j=>{this.MontantTotal=j.body},j=>{console.log("error API"),-1!=j.indexOf("401")&&this.router.navigate(["/"])}),this.FormSearch.get("TypeCompte"),""!=C&&("Initiation"==this.NiveauValidationAgent&&(this.element=document.getElementById("cardbenefdiv"),this.element.style.pointerEvents="auto",this.element.style.opacity="1",this.valueBenef=C,this.getBenef()),"Initiation"!=this.NiveauValidationAgent&&(this.element1=document.getElementById("cardbenefdiv1"),this.element1.style.pointerEvents="auto",this.element1.style.opacity="1",this.valueBenef=C,this.getBenefForValidation()))}getBenef(){this.loader=!0,this.VirServ.GetBenef({TypeBenef:this.valueBenef},this.token).subscribe(B=>{var k,C,X,se;this.loader=!1,this.ListBenef=B,this.t.controls=[],this.Matricule="Salarie"==this.ListBenef[0].TypeBenef;for(var j=0;j<this.ListBenef.length;j++)this.vs.IdBenef=this.ListBenef[j].IdBenef,this.vs.NomBenef=this.ListBenef[j].NomBenef,this.vs.NiveauValidation=this.ListBenef[j].NiveauValidation,this.vs.moyPaiement=this.ListBenef[j].MoyPaBenef,this.t.push(this.fb.group({moyPaiement:["",c.kI.required],motif:["",c.kI.required],montant:["",c.kI.required],NomBenef:new c.NI,IdBenef:new c.NI,NiveauValidation:new c.NI})),null===(k=this.t.controls[j].get("NiveauValidation"))||void 0===k||k.setValue(this.NiveauValidationAgent),null===(C=this.t.controls[j].get("IdBenef"))||void 0===C||C.setValue(this.ListBenef[j].IdBenef),null===(X=this.t.controls[j].get("NomBenef"))||void 0===X||X.setValue(this.ListBenef[j].NomBenef),this.str=null===(se=this.t.controls[j].get("montant"))||void 0===se?void 0:se.value;setTimeout(()=>{document.getElementById("test").click()},100)},B=>{console.log("error API"),-1!=B.indexOf("401")&&this.router.navigate(["/"])})}GetMoyPayement(_){console.log(_),this.indice=_}getMotif(){}validerSuppresion(_){var B;null===(B=document.getElementById("ModalValidationSupression"))||void 0===B||B.setAttribute("class","modal fade  show"),this.id=_}deleteRow(){var _,B,k,C;return null===(_=document.getElementById("ModalValidationSupression"))||void 0===_||_.setAttribute("class","modal fade  hide"),1!=this.ListBenef.length&&(this.ListBenef.splice(this.id,1),null===(B=document.getElementById("row"+this.id))||void 0===B||B.remove(),null===(C=null===(k=this.f)||void 0===k?void 0:k.listVs)||void 0===C||C.value.splice(this.id,1),this.t.removeAt(this.id),!0)}gopaginate(_){this.firstelement=4*_-2,setTimeout(()=>{document.getElementById("testfirstelement").click()},100)}testfirstelement(){for(var _,B=this.firstelement-2;B<this.firstelement+3;B++){var C,k=this.ListBenef[B].MoyPaBenef;C=document.getElementById((B-(this.firstelement-2)).toString());var X=document.createElement("option");X.value="",X.innerHTML="Choisir",X.disabled=!0,X.selected=!0,C.append(X);for(var se=0;se<k.length;se++){console.log(C);var j=document.createElement("option");console.log("Optiiiiiiiiiion",j),j.value=k[se].IdMoyPay,console.log("valueeeeeeeeee",j.value),j.innerHTML="( "+k[se].TypeMoyPay+" )"+k[se].NumberMoyPay,console.log("final option",j.innerHTML),null===(_=document.getElementById((B-(this.firstelement-2)).toString()))||void 0===_||_.append(j)}}}test(){for(var _,B=0;B<this.ListBenef.length;B++){var C,k=this.ListBenef[B].MoyPaBenef;console.log(k),C=document.getElementById(B.toString()),console.log(C);var X=document.createElement("option");X.value="",X.innerHTML="Choisir",X.disabled=!0,X.selected=!0,C.append(X);for(var se=0;se<k.length;se++){console.log(C);var j=document.createElement("option");console.log("Optiiiiiiiiiion",j),j.value=k[se].IdMoyPay,console.log("valueeeeeeeeee",j.value),j.innerHTML="( "+k[se].TypeMoyPay+" )"+k[se].NumberMoyPay,console.log("final option",j.innerHTML),null===(_=document.getElementById(B.toString()))||void 0===_||_.append(j)}}}FermerMnt(){var _;null===(_=document.getElementById("ModalMontant"))||void 0===_||_.setAttribute("class","modal fade  hide")}voirList(){var _,B;this.mnt!=this.MontantTotal?null===(_=document.getElementById("ModalMontant"))||void 0===_||_.setAttribute("class","modal fade  show"):null===(B=document.getElementById("ModalValidationInitiation"))||void 0===B||B.setAttribute("class","modal fade  show")}confirmer(){var _,B;null===(_=document.getElementById("ModalValidationInitiation"))||void 0===_||_.setAttribute("class","modal fade  hide"),this.listVs=null===(B=this.f)||void 0===B?void 0:B.listVs.value}testVal(){var _,B;this.listVs=null===(_=this.f)||void 0===_?void 0:_.listVs.value,null===(B=document.getElementById("ModalValidationInitiation"))||void 0===B||B.setAttribute("class","modal fade  hide")}FermerInitie(){var _;null===(_=document.getElementById("ModalVirementInitie"))||void 0===_||_.setAttribute("class","modal fade  hide"),location.reload()}FermerVirement(){var _;null===(_=document.getElementById("ModalSuccesVirement"))||void 0===_||_.setAttribute("class","modal fade  hide"),location.reload()}valider(){var _,B,k;if("Initiation"==this.NiveauValidationAgent)null===(_=document.getElementById("ModalValidationInitiation"))||void 0===_||_.setAttribute("class","modal fade  hide"),this.loader=!0,this.listVs=null===(B=this.f)||void 0===B?void 0:B.listVs.value,this.VirServ.VirementInitial({ListBenef:this.listVs,NiveauValidationAgent:this.NiveauValidationAgent,id_agent:"81"},this.token).subscribe(X=>{var se;this.loader=!1,null===(se=document.getElementById("ModalVirementInitie"))||void 0===se||se.setAttribute("class","modal fade  show")},X=>{console.log("error API"),-1!=X.indexOf("401")&&this.router.navigate(["/"])});else{null===(k=document.getElementById("ModalValidationInitiation"))||void 0===k||k.setAttribute("class","modal fade  hide");let C={ListBenefForValidation:this.BenefDataForValidation,NiveauValidationAgent:this.NiveauValidationAgent,id_agent:"81"};this.VirServ.ExecutePaiement(this.BenefDataForValidation,this.token).subscribe(X=>{this.RetValidationVirement=X,"Processed"==this.RetValidationVirement.Status&&this.VirServ.VirementValide(C,this.token).subscribe(se=>{var j;this.RetValidation=se,"Success"==this.RetValidation.status&&(null===(j=document.getElementById("ModalSuccesVirement"))||void 0===j||j.setAttribute("class","modal fade  show"))},se=>{console.log("error API"),-1!=se.indexOf("401")&&this.router.navigate(["/"])})},X=>{console.log("error API"),-1!=X.indexOf("401")&&this.router.navigate(["/"])})}}modelChange(_){this.searchStr=_}getBenefForValidation(){this.loader=!0,this.VirServ.getBenefForValidation({Motif:this.valueBenef},this.token).subscribe(B=>{this.loader=!1,this.BenefDataForValidation=B},B=>{console.log("error API"),-1!=B.indexOf("401")&&this.router.navigate(["/"])})}validerSuppresionForValidation(_){var B;null===(B=document.getElementById("ModalValidationSupressionForValidation"))||void 0===B||B.setAttribute("class","modal fade  show"),this.id=_}deleteRowForValidation(){var _,B;return null===(_=document.getElementById("ModalValidationSupressionForValidation"))||void 0===_||_.setAttribute("class","modal fade  hide"),1!=this.BenefDataForValidation.length&&(this.BenefDataForValidation.splice(this.id,1),null===(B=document.getElementById("row"+this.id))||void 0===B||B.remove(),!0)}sumAmount(){var _,B,k=null===(B=null===(_=this.f)||void 0===_?void 0:_.listVs)||void 0===B?void 0:B.value;this.mnt=0;for(var X=0;X<k.length;X++)"NaN"==parseFloat(k[X].montant).toString()&&(k[X].montant="0"),this.amount=k[X].montant,this.currency="TND",this.mnt=parseFloat(this.amount)+this.mnt;this.VirServ.getFormatedAmount(this.currency,this.mnt.toString(),this.token).subscribe(se=>{this.mnt=se.body},se=>{console.log("error API"),-1!=se.indexOf("401")&&this.router.navigate(["/"])})}closeModalInit(){var _;null===(_=document.getElementById("ModalValidationInitiation"))||void 0===_||_.setAttribute("class","modal  fade  hide")}onItemChange(_){const B=_.target.value;console.log(" Value is : ",B),"Formulaire"==B&&(document.getElementById("divformulaire").style.display="block",document.getElementById("divfichier").style.display="none"),"Fichier"==B&&(document.getElementById("divfichier").style.display="block",document.getElementById("divformulaire").style.display="none"),this.valeurRadio=B}upload(_){if(_.target.files&&_.target.files[0]){var B=new FileReader;this.localfile=_.target.files[0],this.folderName=_.target.files[0].name.replace(".csv",""),console.log("folderName",this.folderName),this.fileName=_.target.files[0].name,console.log("filename",this.fileName),B.onload=k=>{var C,X;this.filePath=k.target.result,console.log("filepath",this.filePath);var se=this.filePath.toString().replace("data:text/csv;base64,","");let j={ImgPath:this.folderName,ImgName:this.fileName,ImgStr:se,login:localStorage.getItem("cuser"),refCorp:null===(C=this.FormVirFile.get("Tiers"))||void 0===C?void 0:C.value,MotifCorporate:null===(X=this.FormVirFile.get("typeVirementFile"))||void 0===X?void 0:X.value};this.VirServ.uploadFileVir(j,this.token).subscribe(S=>{this.RetourFile=S},S=>{console.log("error API upload"),-1!=S.indexOf("401")&&this.router.navigate(["/"])})},console.log(_.target.files[0].name),B.readAsDataURL(_.target.files[0])}}}return x.\u0275fac=function(_){return new(_||x)(xe.Y36(c.qu),xe.Y36(ce.eN),xe.Y36(pe.F0),xe.Y36(z.t),xe.Y36(f.r))},x.\u0275cmp=xe.Xpm({type:x,selectors:[["app-initier-virement"]],inputs:{FormInitaitionTitre:"FormInitaitionTitre"},decls:0,vars:0,template:function(_,B){},styles:[".show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}"]}),x})()},9199:(ze,re,oe)=>{"use strict";oe.r(re),oe.d(re,{VirementModule:()=>ha});var c=oe(9808),e=oe(1223);let xe=(()=>{class M{constructor(){}ngOnInit(){}}return M.\u0275fac=function(u){return new(u||M)},M.\u0275cmp=e.Xpm({type:M,selectors:[["app-virement-details"]],decls:2,vars:0,template:function(u,I){1&u&&(e.TgZ(0,"p"),e._uU(1,"virement-details works!"),e.qZA())},styles:[""]}),M})();var ce=oe(2382),pe=oe(520),z=oe(7656),f=oe(4900),R=oe(9860),x=oe(2212);let w=(()=>{class M{constructor(u,I,$,Ze,Ge,$e){this.fb=u,this.http=I,this.router=$,this.VirServ=Ze,this.auth=Ge,this.OpImp=$e}ngOnInit(){}getAccountsBytiers(){}}return M.\u0275fac=function(u){return new(u||M)(e.Y36(ce.qu),e.Y36(pe.eN),e.Y36(z.F0),e.Y36(f.t),e.Y36(R.r),e.Y36(x.e))},M.\u0275cmp=e.Xpm({type:M,selectors:[["app-virement"]],decls:0,vars:0,template:function(u,I){},styles:[""]}),M})();var _=oe(4497),B=oe(2077);function k(M,Se){1&M&&(e.TgZ(0,"div",32)(1,"div",33)(2,"h3",34),e._uU(3,"Validation Virement"),e.qZA(),e.TgZ(4,"div",35)(5,"div",36)(6,"span",37),e._uU(7,"Loading..."),e.qZA()()()()())}function C(M,Se){if(1&M&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&M){const u=Se.$implicit;e.s9C("value",u.Referentiel),e.xp6(1),e.hij(" ",u.FullName," ")}}function X(M,Se){if(1&M&&(e.TgZ(0,"div",58),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function se(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,X,2,1,"div",57),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(4);e.xp6(1),e.Q6J("ngIf",I.FormTiers.get("Tiers").hasError(u.type)&&(I.FormTiers.get("Tiers").dirty||I.FormTiers.get("Tiers").touched))}}function j(M,Se){if(1&M&&(e.TgZ(0,"div",56),e.YNc(1,se,2,1,"div",45),e.qZA()),2&M){const u=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.Tiers)}}const S=function(M,Se){return{"is-invalid":M,"is-valid":Se}};function A(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"form",47)(1,"div",48)(2,"div",49)(3,"div",50),e._uU(4,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(5,"span",7),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"select",51),e.NdJ("change",function(){return e.CHM(u),e.oxw(2).getTransactionByRef()}),e.TgZ(8,"option",52),e._uU(9," Choisir soci\xe9t\xe9 "),e.qZA(),e.YNc(10,C,2,2,"option",53),e.qZA(),e.YNc(11,j,2,1,"div",54),e.qZA()()()}if(2&M){const u=e.oxw(2);let I,$;e.Q6J("formGroup",u.FormTiers),e.xp6(7),e.Q6J("ngClass",e.WLB(4,S,(null==(I=u.FormTiers.get("Tiers"))?null:I.touched)&&(null==(I=u.FormTiers.get("Tiers"))?null:I.invalid),null==(I=u.FormTiers.get("Tiers"))?null:I.valid)),e.xp6(3),e.Q6J("ngForOf",u.ListTiers),e.xp6(1),e.Q6J("ngIf",(null==($=u.FormTiers.get("Tiers"))?null:$.touched)&&(null==($=u.FormTiers.get("Tiers"))?null:$.invalid))}}function T(M,Se){1&M&&(e.TgZ(0,"div",59)(1,"div",60)(2,"div",61),e._uU(3," Aucunes donn\xe9es. "),e.qZA()()())}function L(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"tr")(1,"td",62),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",63)(12,"button",64),e.NdJ("click",function(){const Ze=e.CHM(u).$implicit;return e.oxw(2).GetDetails(Ze)}),e._uU(13,"D\xe9tails"),e.qZA()()()}if(2&M){const u=Se.$implicit;e.xp6(2),e.hij("",u.Date," "),e.xp6(2),e.Oqu(u.TransactionType),e.xp6(2),e.Oqu(u.Reference),e.xp6(2),e.hij("",u.Amount," Dt"),e.xp6(2),e.hij(" ",u.Reason,"")}}function W(M,Se){1&M&&(e.TgZ(0,"span",78),e._uU(1,"Liste des b\xe9n\xe9ficiaires ayant un num\xe9ro de paiement invalide"),e.qZA())}function G(M,Se){if(1&M&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()()),2&M){const u=Se.$implicit;e.xp6(2),e.Oqu(null==u?null:u.FullName),e.xp6(2),e.Oqu(null==u?null:u.Amount),e.xp6(2),e.hij("",null==u?null:u.Account," \u200b"),e.xp6(2),e.Oqu(null==u?null:u.Reason),e.xp6(2),e.Oqu(null==u?null:u.Reference)}}function be(M,Se){if(1&M&&(e.TgZ(0,"table",41)(1,"thead",42)(2,"tr",79)(3,"th",44),e._uU(4,"Nom Pr\xe9nom B\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(5,"th",44),e._uU(6,"Montant"),e.qZA(),e.TgZ(7,"th",44),e._uU(8,"RIB"),e.qZA(),e.TgZ(9,"th",44),e._uU(10,"Motif"),e.qZA(),e.TgZ(11,"th",44),e._uU(12,"R\xe9f\xe9rence"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,G,11,5,"tr",45),e.qZA()()),2&M){const u=e.oxw(3);e.xp6(14),e.Q6J("ngForOf",null==u.virementDetails?null:u.virementDetails.BeneffListInvalid)}}function de(M,Se){1&M&&(e.TgZ(0,"span",80),e._uU(1,"Liste des b\xe9n\xe9ficiaires valides "),e.qZA())}function _e(M,Se){if(1&M&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()()),2&M){const u=Se.$implicit;e.xp6(2),e.Oqu(null==u?null:u.FullName),e.xp6(2),e.Oqu(null==u?null:u.Amount),e.xp6(2),e.hij("",null==u?null:u.Account," \u200b"),e.xp6(2),e.Oqu(null==u?null:u.Reason),e.xp6(2),e.Oqu(null==u?null:u.Reference)}}function ye(M,Se){if(1&M&&(e.TgZ(0,"table",41)(1,"thead",42)(2,"tr",79)(3,"th",44),e._uU(4,"Nom Pr\xe9nom B\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(5,"th",44),e._uU(6,"Montant"),e.qZA(),e.TgZ(7,"th",44),e._uU(8,"RIB"),e.qZA(),e.TgZ(9,"th",44),e._uU(10,"Motif"),e.qZA(),e.TgZ(11,"th",44),e._uU(12,"R\xe9f\xe9rence"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,_e,11,5,"tr",45),e.qZA()()),2&M){const u=e.oxw(3);e.xp6(14),e.Q6J("ngForOf",null==u.virementDetails?null:u.virementDetails.BeneffList)}}function me(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"div",65)(1,"div",48)(2,"div",66)(3,"span",67),e._uU(4),e.qZA(),e._UZ(5,"br")(6,"br"),e.TgZ(7,"div",48)(8,"div",68)(9,"div",50),e._uU(10,"Compte \xe0 d\xe9biter "),e.qZA(),e._UZ(11,"input",69),e.qZA(),e.TgZ(12,"div",68)(13,"div",50),e._uU(14,"Lib\xe9lle Compte"),e.qZA(),e._UZ(15,"input",69),e.qZA()()()(),e._UZ(16,"br"),e.TgZ(17,"div",48)(18,"div",66)(19,"div",48)(20,"div",70)(21,"div",50),e._uU(22,"Montant Total en chiffres"),e.qZA(),e._UZ(23,"input",69),e.qZA(),e.TgZ(24,"div",70)(25,"div",50),e._uU(26,"Motif"),e.qZA(),e._UZ(27,"input",69),e.qZA(),e.TgZ(28,"div",68)(29,"div",50),e._uU(30,"Commentaire (facultatif)"),e.qZA(),e._UZ(31,"input",69),e.qZA()()()(),e._UZ(32,"br"),e.YNc(33,W,2,0,"span",71),e._UZ(34,"br")(35,"br"),e.YNc(36,be,15,1,"table",72),e.YNc(37,de,2,0,"span",73),e._UZ(38,"br")(39,"br"),e.YNc(40,ye,15,1,"table",72),e.TgZ(41,"div",74)(42,"div",75)(43,"button",76),e.NdJ("click",function(){return e.CHM(u),e.oxw(2).ValiderVirement()}),e._uU(44,"Valider "),e.qZA(),e._uU(45,"\xa0 "),e.TgZ(46,"button",77),e.NdJ("click",function(){return e.CHM(u),e.oxw(2).RejeterVir()}),e._uU(47,"Rejeter "),e.qZA()()()()}if(2&M){const u=e.oxw(2);e.xp6(4),e.hij("R\xe9f\xe9rence: ",null==u.virementDetails?null:u.virementDetails.Reference," "),e.xp6(7),e.s9C("value",null==u.virementDetails?null:u.virementDetails.OrderingCustomerAccount),e.xp6(4),e.s9C("value",null==u.virementDetails?null:u.virementDetails.AccountName),e.xp6(8),e.s9C("value",null==u.virementDetails?null:u.virementDetails.Amount),e.xp6(4),e.s9C("value",null==u.virementDetails?null:u.virementDetails.Reason),e.xp6(4),e.s9C("value",null==u.virementDetails?null:u.virementDetails.Comment),e.xp6(2),e.Q6J("ngIf",(null==u.virementDetails?null:u.virementDetails.BeneffListInvalid.length)>0),e.xp6(3),e.Q6J("ngIf",(null==u.virementDetails?null:u.virementDetails.BeneffListInvalid.length)>0),e.xp6(1),e.Q6J("ngIf",(null==u.virementDetails?null:u.virementDetails.BeneffList.length)>0),e.xp6(3),e.Q6J("ngIf",(null==u.virementDetails?null:u.virementDetails.BeneffList.length)>0)}}function ve(M,Se){if(1&M&&(e.TgZ(0,"div",32)(1,"div",33)(2,"h3",34),e._uU(3,"Validation Virement"),e.qZA(),e.YNc(4,A,12,7,"form",38),e._UZ(5,"br"),e.TgZ(6,"div",39),e.YNc(7,T,4,0,"div",40),e.qZA(),e.TgZ(8,"table",41)(9,"thead",42)(10,"tr",43)(11,"th",44),e._uU(12,"Date et Heure"),e.qZA(),e.TgZ(13,"th",44),e._uU(14,"Type de virement"),e.qZA(),e.TgZ(15,"th",44),e._uU(16,"R\xe9f\xe9rence"),e.qZA(),e.TgZ(17,"th",44),e._uU(18,"Montant"),e.qZA(),e.TgZ(19,"th",44),e._uU(20,"Motif"),e.qZA(),e._UZ(21,"th"),e.qZA()(),e.TgZ(22,"tbody"),e.YNc(23,L,14,5,"tr",45),e.qZA()(),e._UZ(24,"br")(25,"br"),e.YNc(26,me,48,10,"div",46),e.qZA()()),2&M){const u=e.oxw();e.xp6(4),e.Q6J("ngIf",(null==u.ListTiers?null:u.ListTiers.length)>=2),e.xp6(3),e.Q6J("ngIf",0==(null==u.virementList?null:u.virementList.length)&&""!=u.FormTiers.controls.Tiers.value),e.xp6(16),e.Q6J("ngForOf",u.virementList),e.xp6(3),e.Q6J("ngIf",null!=u.virementDetails)}}let we=(()=>{class M{constructor(u,I,$,Ze,Ge,$e){this.fb=u,this.http=I,this.router=$,this.VirServ=Ze,this.auth=Ge,this.CarteServ=$e,this.chargedData=!1,this.statusTransaction="",this.ListBenef=[],this.Matricule=!0,this.vs=new _.Q,this.ListMoy=[],this.validation_messages={moyPaiement:[{type:"required",message:"Veuillez choisir le moyen de paiement"}],montant:[{type:"required",message:"Veuillez saisir le montant"}],motif:[{type:"required",message:"Veuillez Choisir  le motif"}],Tiers:[{type:"required",message:"Veuillez Choisir une soci\xe9t\xe9"}],mobile:[{type:"required",message:"Veuillez saisir un num\xe9ro de t\xe9l\xe9phone"},{type:"pattern",message:"Ce num\xe9ro n'est pas valide !"}]},this.ListOfBenefToBePaid=[],this.vali=!0,this.loader=!1,this.MotifRejet=!1,this.virementList=[],this.ListTiers=[],this.onetiers=!0,this.listTiers=[],this.createform()}get AllTypeBenef(){return this.tableForm.get("AllTypeBenef")}createform(){this.FormTiers=this.fb.group({Tiers:["",ce.kI.required]})}ngOnInit(){this.chargedData=!0,console.log("test git"),this.token=localStorage.getItem("token"),this.istrue=localStorage.getItem("istrue"),this.statusTransaction="","true"==this.istrue?(null!=document.getElementById("CardDetails")&&(this.element=document.getElementById("CardDetails"),this.element.style.display="none"),this.NiveauValidationAgent="Validation finale",this.auth.getTiersByIdDigital(this.token).subscribe(u=>{this.chargedData=!1,this.ListTiers=u,0==this.ListTiers.length&&(this.onetiers=!0),1==this.ListTiers.length&&(this.tiersClient=this.ListTiers[0].Referentiel,this.onetiers=!0,this.FormTiers.controls.Tiers.setValue(this.tiersClient),this.getTransactionByRef(),this.listTiers.push(this.tiersClient),console.log("only one"))},u=>{console.log("error API"),this.chargedData=!1,-1!=u.indexOf("401")&&this.router.navigate(["/"])})):this.router.navigate(["/"])}getTransactionByRef(){this.chargedData=!0,null!=document.getElementById("CardDetails")&&(this.element=document.getElementById("CardDetails"),this.element.style.display="none"),this.VirServ.GetListTransactionDetails({status:"I",pk:this.FormTiers.controls.Tiers.value},this.token).subscribe(I=>{this.virementList=I,this.chargedData=!1},I=>{this.chargedData=!1,console.log("error API"),-1!=I.indexOf("401")&&this.router.navigate(["/"])})}RejeterVir(){var u;this.motif="",(""==this.motif||null==this.motif||null==this.motif)&&(null===(u=document.getElementById("btnaletMotifOblig"))||void 0===u||u.click())}RejeterVirFinal(){var u,I,$,Ze;console.log(this.motif),null===(u=document.getElementById("aletMotifOblig"))||void 0===u||u.setAttribute("class","modal fade  hide"),null===(I=document.getElementById("btnModalCompare"))||void 0===I||I.click(),this.statusTransaction="rejected";let Ge="";Ge="rejected"==this.statusTransaction?"false":"true";let $e={AppName:"DigiCorp",Amount:null===($=this.virementDetails)||void 0===$?void 0:$.Amount,pkHash:null===(Ze=this.virementDetails)||void 0===Ze?void 0:Ze.Pkhash,FinalValidation:Ge,UserValidation:{Username:localStorage.getItem("cuser"),MeanofValidation:"01",Canal:"01"}};this.VirServ.prevalidatetransaction($e,this.token).subscribe(rt=>{this.dataRet=rt,"Processed"==this.dataRet.Statut&&(this.element1=document.getElementById("input1"),this.element1.focus())},rt=>{console.log("error API"),-1!=rt.indexOf("401")&&this.router.navigate(["/"])})}FermeraletMotifOblig(){var u;this.statusTransaction="",null===(u=document.getElementById("aletMotifOblig"))||void 0===u||u.setAttribute("class","modal fade  hide")}FermerOTP(){var u;this.motif="",this.statusTransaction="",null===(u=document.getElementById("ModalCompare"))||void 0===u||u.setAttribute("class","modal fade  hide")}GetDetails(u){if(this.virementDetails=u,null!=document.getElementById("CardDetails")){this.element=document.getElementById("CardDetails"),this.element.style.display="block";var I=document.getElementById("CardDetails");null==I||I.scrollIntoView()}}ValiderVirement(){var u,I;this.chargedData=!0;let $="";$="rejected"==this.statusTransaction?"false":"true";let Ze={AppName:"DigiCorp",Amount:null===(u=this.virementDetails)||void 0===u?void 0:u.Amount,pkHash:null===(I=this.virementDetails)||void 0===I?void 0:I.Pkhash,FinalValidation:$,UserValidation:{Username:localStorage.getItem("cuser"),MeanofValidation:"01",Canal:"01"}};this.VirServ.prevalidatetransaction(Ze,this.token).subscribe(Ge=>{var $e,rt,dt;this.dataRet=Ge,"00"==this.dataRet.ResponseCode?(document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",null===($e=document.getElementById("btnModalCompare"))||void 0===$e||$e.click(),this.element1=document.getElementById("input1"),this.element1.focus()):"10"==this.dataRet.ResponseCode&&(this.msgAlert=this.dataRet.Status,null===(rt=document.getElementById("exampleModalLabelProcessedfresh"))||void 0===rt||rt.setAttribute("style","color:blue;font-weight:bold"),null===(dt=document.getElementById("btnalertPopfresh"))||void 0===dt||dt.click()),this.chargedData=!1},Ge=>{this.chargedData=!1,console.log("error API"),-1!=Ge.indexOf("401")&&this.router.navigate(["/"])})}ValiderOtpDelivrance(){var u,I,$;this.chargedData=!0,null===(u=document.getElementById("otpvalidation"))||void 0===u||u.setAttribute("disabled","disabled");var Ze=document.getElementById("input1").value,Ge=document.getElementById("input2").value,$e=document.getElementById("input3").value,rt=document.getElementById("input4").value,dt=document.getElementById("input5").value;let bt={Amount:null===(I=this.virementDetails)||void 0===I?void 0:I.Amount,pkHash:null===($=this.virementDetails)||void 0===$?void 0:$.Pkhash,Status:this.statusTransaction,RejectReason:this.motif,Otp:Ze+Ge+$e+rt+dt,UserValidation:{Username:localStorage.getItem("cuser")}};this.VirServ.validatetransaction(bt,this.token).subscribe(pt=>{var mt,yt,Tt,_t,vt,Pt,ei,Ht,Rt,zt,Je,Bt,Xt,Gt,Jt,Qt,$t;this.dataRet=pt,this.chargedData=!1,null===(mt=document.getElementById("otpvalidation"))||void 0===mt||mt.removeAttribute("disabled"),"00"==this.dataRet.ResponseCode?(this.el=document.getElementById("ModalCompare"),null===(yt=this.el)||void 0===yt||yt.setAttribute("class","modal fade  hide"),document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="","rejected"==this.statusTransaction?(this.msgAlert="Virement rejet\xe9.",null===(Tt=document.getElementById("exampleModalLabelProcessedfresh"))||void 0===Tt||Tt.setAttribute("style","color:red;font-weight:bold")):(this.msgAlert="Virement effectu\xe9 avec succ\xe8s.",null===(_t=document.getElementById("exampleModalLabelProcessedfresh"))||void 0===_t||_t.setAttribute("style","color:green;font-weight:bold")),null===(vt=document.getElementById("btnalertPopfresh"))||void 0===vt||vt.click()):"10"==this.dataRet.ResponseCode?(this.msgAlert=this.dataRet.Status,null===(Pt=document.getElementById("exampleModalLabelProcessedfresh"))||void 0===Pt||Pt.setAttribute("style","color:blue;font-weight:bold"),null===(ei=document.getElementById("btnalertPopfresh"))||void 0===ei||ei.click()):"06"==this.dataRet.ResponseCode?(document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",this.msgAlert="Veuillez r\xe9essayer plus tard",this.statusTransaction="",null===(Ht=document.getElementById("exampleModalLabelProcessedfresh"))||void 0===Ht||Ht.setAttribute("style","color:blue;font-weight:bold"),null===(Rt=document.getElementById("btnalertPopfresh"))||void 0===Rt||Rt.click()):"99"==this.dataRet.ResponseCode?(document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",this.el=document.getElementById("ModalCompare"),null===(zt=this.el)||void 0===zt||zt.setAttribute("class","modal fade  hide"),this.statusTransaction="",this.msgAlert="Veuillez r\xe9essayer plus tard. "+(null===(Je=this.dataRet)||void 0===Je?void 0:Je.RejectMessage)+".",null===(Bt=document.getElementById("exampleModalLabelProcessedfresh"))||void 0===Bt||Bt.setAttribute("style","color:blue;font-weight:bold"),null===(Xt=document.getElementById("btnalertPopfresh"))||void 0===Xt||Xt.click()):"01"==this.dataRet.ResponseCode?(document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",this.msgAlert="Code OTP invalide",this.statusTransaction="",null===(Gt=document.getElementById("exampleModalLabelProcessed"))||void 0===Gt||Gt.setAttribute("style","color:red;font-weight:bold"),null===(Jt=document.getElementById("btnalertPop"))||void 0===Jt||Jt.click()):(document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",this.msgAlert="Veuillez r\xe9essayer plus tard",this.statusTransaction="",null===(Qt=document.getElementById("exampleModalLabelProcessed"))||void 0===Qt||Qt.setAttribute("style","color:blue;font-weight:bold"),null===($t=document.getElementById("btnalertPop"))||void 0===$t||$t.click())},pt=>{console.log("error API"),this.chargedData=!1,-1!=pt.indexOf("401")&&this.router.navigate(["/"])})}FermerAlertAvecRefresh(){var u;this.statusTransaction="",null===(u=document.getElementById("alertPopfresh"))||void 0===u||u.setAttribute("class","modal fade  hide"),location.reload()}fermer(){var u;this.statusTransaction="",null===(u=document.getElementById("alertPop"))||void 0===u||u.setAttribute("class","modal fade  hide")}}return M.\u0275fac=function(u){return new(u||M)(e.Y36(ce.qu),e.Y36(pe.eN),e.Y36(z.F0),e.Y36(f.t),e.Y36(R.r),e.Y36(B.K))},M.\u0275cmp=e.Xpm({type:M,selectors:[["app-valider-virement"]],inputs:{FormInitaitionTitre:"FormInitaitionTitre"},decls:60,vars:7,consts:[["class","card",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#aletMotifOblig","id","btnaletMotifOblig",1,"btn","btn-primary",2,"display","none"],["id","aletMotifOblig","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabelProcessed",1,"modal-title",2,"color","rgb(7, 7, 7)"],[2,"color","red"],[1,"custom-select","form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"disabled","click"],["type","button","data-bs-toggle","modal","data-bs-target","#ModalCompare","id","btnModalCompare",1,"btn","btn-primary",2,"display","none"],["id","ModalCompare","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","hide",2,"margin-top","15%"],["id","exampleModalLabel",1,"modal-title",2,"color","rgb(7, 7, 7)"],[1,"modal-body",2,"text-align","center"],[1,"inline-flex"],["type","text","maxlength","1","id","input1","onkeyup","document.getElementById('input2').focus();",1,"uk-input"],["type","text","maxlength","1","id","input2","onkeyup","document.getElementById('input3').focus();",1,"uk-input"],["type","text","maxlength","1","id","input3","onkeyup","document.getElementById('input4').focus();",1,"uk-input"],["type","text","maxlength","1","id","input4","onkeyup","document.getElementById('input5').focus();",1,"uk-input"],["type","text","maxlength","1","id","input5","onkeyup","document.getElementById('input5').blur();",1,"uk-input"],["type","button","id","otpvalidation",1,"btn","btn-primary",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#alertPopfresh","id","btnalertPopfresh",1,"btn","btn-primary",2,"display","none"],["id","alertPopfresh","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],[1,"modal-content",2,"place-items","center"],[1,"modal-header",2,"border-bottom","0"],["id","exampleModalLabelProcessedfresh",1,"modal-title"],["type","button","data-bs-toggle","modal","data-bs-target","#alertPop","id","btnalertPop",1,"btn","btn-primary",2,"display","none"],["id","alertPop","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["id","exampleModalLabelProcessed",1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",2,"margin-right","auto",3,"click"],[1,"card"],[1,"card-body"],[1,"card-title",2,"text-align","center"],[1,"col-lg-12","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[3,"formGroup",4,"ngIf"],[1,"row","text-center"],["class","col-lg-12 ","style","text-align: -webkit-center;",4,"ngIf"],[1,"table","table-bordered"],[2,"border-bottom","hidden"],[1,"",2,"background","#0b5ed7","color","white"],["scope","col"],[4,"ngFor","ngForOf"],["id","CardDetails",4,"ngIf"],[3,"formGroup"],[1,"row"],[1,"col-4"],[1,"font-weight-bold","TitleMobile",2,"text-align","initial"],["name","origin_country","formControlName","Tiers",1,"custom-select","form-control",3,"ngClass","change"],["Value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],[3,"value"],[1,"alert","alert-danger"],["style","font-size:12px",4,"ngIf"],[2,"font-size","12px"],[1,"col-lg-12",2,"text-align","-webkit-center"],[1,"card",2,"width","fit-content"],[1,"card-header"],["scope","row"],[2,"text-align","right"],["type","button",1,"btn","btn-primary",3,"click"],["id","CardDetails"],[1,"col-12"],[1,"badge","bg-success",2,"text-align","initial"],[1,"col-6"],["disabled","",1,"custom-select","form-control",3,"value"],[1,"col-3"],["class","badge bg-danger",4,"ngIf"],["class","table table-bordered ",4,"ngIf"],["class","badge bg-success",4,"ngIf"],[1,"row","pt-3","text-left"],[1,"col-lg-12","col-md-12","col-12",2,"margin-left","auto","width","fit-content"],[1,"btn","btn-success","btn-md",3,"click"],[1,"btn","btn-danger","btn-md",3,"click"],[1,"badge","bg-danger"],[2,"background","#488cf1","color","white"],[1,"badge","bg-success"]],template:function(u,I){1&u&&(e.YNc(0,k,8,0,"div",0),e.YNc(1,ve,27,4,"div",0),e._UZ(2,"button",1),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h5",6)(8,"p"),e._uU(9," Veuillez renseigner le motif de rejet"),e.TgZ(10,"span",7),e._uU(11,"*"),e.qZA()()(),e.TgZ(12,"textarea",8),e.NdJ("ngModelChange",function(Ze){return I.motif=Ze}),e.qZA()(),e.TgZ(13,"div",9)(14,"button",10),e.NdJ("click",function(){return I.FermeraletMotifOblig()}),e._uU(15,"Annuler"),e.qZA(),e.TgZ(16,"button",11),e.NdJ("click",function(){return I.RejeterVirFinal()}),e._uU(17,"Valider rejet"),e.qZA()()()()(),e._UZ(18,"button",12),e.TgZ(19,"div",13)(20,"div",3)(21,"div",4)(22,"div",5)(23,"h5",14)(24,"p"),e._uU(25),e.qZA()()(),e.TgZ(26,"div",15)(27,"div",16),e._UZ(28,"input",17)(29,"input",18)(30,"input",19)(31,"input",20)(32,"input",21),e.qZA()(),e.TgZ(33,"div",9)(34,"button",10),e.NdJ("click",function(){return I.FermerOTP()}),e._uU(35,"Fermer"),e.qZA(),e.TgZ(36,"button",22),e.NdJ("click",function(){return I.ValiderOtpDelivrance()}),e._uU(37,"Valider"),e.qZA()()()()(),e._UZ(38,"button",23),e.TgZ(39,"div",24)(40,"div",3)(41,"div",25)(42,"div",26)(43,"h5",27)(44,"p"),e._uU(45),e.qZA()()(),e.TgZ(46,"div",9)(47,"button",10),e.NdJ("click",function(){return I.FermerAlertAvecRefresh()}),e._uU(48,"Fermer"),e.qZA()()()()(),e._UZ(49,"button",28),e.TgZ(50,"div",29)(51,"div",3)(52,"div",25)(53,"div",26)(54,"h5",30)(55,"p"),e._uU(56),e.qZA()()(),e.TgZ(57,"div",9)(58,"button",31),e.NdJ("click",function(){return I.fermer()}),e._uU(59,"Fermer"),e.qZA()()()()()),2&u&&(e.Q6J("ngIf",I.chargedData),e.xp6(1),e.Q6J("ngIf",!I.chargedData),e.xp6(11),e.Q6J("ngModel",I.motif),e.xp6(4),e.Q6J("disabled",""==I.motif||null==I.motif||null==I.motif),e.xp6(9),e.hij(" Veuillez introduire le code de s\xe9curit\xe9 envoy\xe9 sur le num\xe9ro de t\xe9l\xe9phone : ",I.GSM," "),e.xp6(20),e.hij(" ",I.msgAlert," "),e.xp6(11),e.hij(" ",I.msgAlert," "))},directives:[c.O5,ce._Y,ce.JL,ce.sg,ce.EJ,ce.JJ,ce.u,c.mk,ce.YN,ce.Kr,c.sg,ce.Fj,ce.On],styles:[".btnRetour[_ngcontent-%COMP%]{background:#3498db;color:#fff;border-radius:7px}.btnRetour[_ngcontent-%COMP%]:hover{background-color:#57aae1;color:#fff}.uk-input[_ngcontent-%COMP%]{width:14%;height:50px;border-radius:5px;text-align:center;margin-right:10px!important;border:1px solid #949292;padding:0;margin:0;font-size:25px}.show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}"]}),M})();var ue=oe(8952);function ke(M,Se){if(1&M&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&M){const u=Se.$implicit;e.s9C("value",u.Referentiel),e.xp6(1),e.hij(" ",u.FullName," ")}}function J(M,Se){if(1&M&&(e.TgZ(0,"div",45),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function N(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,J,2,1,"div",44),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(3);e.xp6(1),e.Q6J("ngIf",I.FormTiers.get("Tiers").hasError(u.type)&&(I.FormTiers.get("Tiers").dirty||I.FormTiers.get("Tiers").touched))}}function F(M,Se){if(1&M&&(e.TgZ(0,"div",42),e.YNc(1,N,2,1,"div",43),e.qZA()),2&M){const u=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.Tiers)}}const ie=function(M,Se){return{"is-invalid":M,"is-valid":Se}};function O(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"form",32)(1,"div",33)(2,"div",34)(3,"div",35),e._uU(4,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(5,"span",36),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"select",37),e.NdJ("change",function(){return e.CHM(u),e.oxw().getTransactionByRef()}),e.TgZ(8,"option",38),e._uU(9," Choisir soci\xe9t\xe9 "),e.qZA(),e.YNc(10,ke,2,2,"option",39),e.qZA(),e.YNc(11,F,2,1,"div",40),e.qZA()()()}if(2&M){const u=e.oxw();let I,$;e.Q6J("formGroup",u.FormTiers),e.xp6(7),e.Q6J("ngClass",e.WLB(4,ie,(null==(I=u.FormTiers.get("Tiers"))?null:I.touched)&&(null==(I=u.FormTiers.get("Tiers"))?null:I.invalid),null==(I=u.FormTiers.get("Tiers"))?null:I.valid)),e.xp6(3),e.Q6J("ngForOf",u.ListTiers),e.xp6(1),e.Q6J("ngIf",(null==($=u.FormTiers.get("Tiers"))?null:$.touched)&&(null==($=u.FormTiers.get("Tiers"))?null:$.invalid))}}function ne(M,Se){1&M&&(e.TgZ(0,"div",46)(1,"div",47)(2,"div",48),e._uU(3," Aucunes donn\xe9es. "),e.qZA()()())}function v(M,Se){1&M&&(e.TgZ(0,"div",49)(1,"div",50)(2,"span",51),e._uU(3,"Loading..."),e.qZA()()())}function U(M,Se){if(1&M&&(e.TgZ(0,"span",61),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij("",u.Statut," ")}}function H(M,Se){if(1&M&&(e.TgZ(0,"span",62),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij("",u.Statut," ")}}function ge(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"tr")(1,"td",56),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e.YNc(12,U,2,1,"span",57),e.YNc(13,H,2,1,"span",58),e.qZA(),e.TgZ(14,"td",59)(15,"button",60),e.NdJ("click",function(){const Ze=e.CHM(u).$implicit;return e.oxw(2).GetDetails(Ze)}),e._uU(16,"D\xe9tails"),e.qZA()()()}if(2&M){const u=Se.$implicit;e.xp6(2),e.Oqu(u.Date),e.xp6(2),e.Oqu(u.TransactionType),e.xp6(2),e.Oqu(u.Reference),e.xp6(2),e.hij("",u.Amount," Dt"),e.xp6(2),e.Oqu(u.Reason),e.xp6(2),e.Q6J("ngIf","Enregistr\xe9"==u.Statut),e.xp6(1),e.Q6J("ngIf","Rejet\xe9"==u.Statut)}}function q(M,Se){if(1&M&&(e.TgZ(0,"table",52)(1,"thead",53)(2,"tr",54)(3,"th",55),e._uU(4,"Date et Heure"),e.qZA(),e.TgZ(5,"th",55),e._uU(6,"Type de virement"),e.qZA(),e.TgZ(7,"th",55),e._uU(8,"R\xe9f\xe9rence"),e.qZA(),e.TgZ(9,"th",55),e._uU(10,"Montant"),e.qZA(),e.TgZ(11,"th",55),e._uU(12,"Motif"),e.qZA(),e.TgZ(13,"th",55),e._uU(14,"Statut"),e.qZA(),e._UZ(15,"th"),e.qZA()(),e.TgZ(16,"tbody"),e.YNc(17,ge,17,7,"tr",43),e.qZA()()),2&M){const u=e.oxw();e.xp6(17),e.Q6J("ngForOf",u.virementList)}}function Ae(M,Se){if(1&M&&(e.TgZ(0,"div",33)(1,"div",63)(2,"span",64),e._uU(3),e.qZA(),e._UZ(4,"br")(5,"br"),e.TgZ(6,"textarea",65),e._uU(7),e.qZA()()()),2&M){const u=e.oxw();e.xp6(3),e.hij("Motif du rejet (R\xe9f\xe9rence: ",null==u.virementDetails?null:u.virementDetails.Reference,") "),e.xp6(4),e.Oqu(null==u.virementDetails?null:u.virementDetails.Comment)}}function Fe(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"div",70)(1,"button",71),e.NdJ("click",function(){return e.CHM(u),e.oxw(2).Modifier()}),e._uU(2,"Modifier "),e.qZA()()}}function Ie(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"div",66)(1,"div",67)(2,"button",68),e.NdJ("click",function(){return e.CHM(u),e.oxw().Rejeter()}),e._uU(3,"Accepter le rejet "),e.qZA()(),e.YNc(4,Fe,3,0,"div",69),e.qZA()}if(2&M){const u=e.oxw();e.xp6(4),e.Q6J("ngIf","Virement Unitaire"==(null==u.virementDetails?null:u.virementDetails.TransactionType))}}function Re(M,Se){if(1&M&&(e.TgZ(0,"div",33)(1,"div",63)(2,"span",72),e._uU(3),e.qZA(),e._UZ(4,"br")(5,"br"),e.qZA(),e.TgZ(6,"div",63)(7,"div",33)(8,"div",73)(9,"div",35),e._uU(10,"Compte \xe0 d\xe9biter "),e.qZA(),e._UZ(11,"input",74),e.qZA(),e.TgZ(12,"div",73)(13,"div",35),e._uU(14,"Lib\xe9lle Compte"),e.qZA(),e._UZ(15,"input",74),e.qZA()()()()),2&M){const u=e.oxw();e.xp6(3),e.hij("R\xe9f\xe9rence: ",null==u.virementDetails?null:u.virementDetails.Reference," "),e.xp6(8),e.s9C("value",null==u.virementDetails?null:u.virementDetails.OrderingCustomerAccount),e.xp6(4),e.s9C("value",null==u.virementDetails?null:u.virementDetails.AccountName)}}function Oe(M,Se){if(1&M&&(e.TgZ(0,"div",33)(1,"div",63)(2,"div",33)(3,"div",75)(4,"div",35),e._uU(5,"Montant Total en chiffres"),e.qZA(),e._UZ(6,"input",74),e.qZA(),e.TgZ(7,"div",75)(8,"div",35),e._uU(9,"Motif"),e.qZA(),e._UZ(10,"input",74),e.qZA(),e.TgZ(11,"div",73)(12,"div",35),e._uU(13,"Commentaire (facultatif)"),e.qZA(),e._UZ(14,"input",74),e.qZA()()()()),2&M){const u=e.oxw();e.xp6(6),e.s9C("value",null==u.virementDetails?null:u.virementDetails.Amount),e.xp6(4),e.s9C("value",null==u.virementDetails?null:u.virementDetails.Reason),e.xp6(4),e.s9C("value",null==u.virementDetails?null:u.virementDetails.Comment)}}function We(M,Se){1&M&&(e.TgZ(0,"span",76),e._uU(1,"Liste des b\xe9n\xe9ficiaires ayant un num\xe9ro de paiement invalide"),e.qZA())}function He(M,Se){1&M&&(e.TgZ(0,"th",55),e._uU(1,"Matricule"),e.qZA())}function tt(M,Se){if(1&M&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.Oqu(null==u?null:u.BenefIdentity)}}function V(M,Se){if(1&M&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.YNc(3,tt,2,1,"td",79),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA()()),2&M){const u=Se.$implicit,I=e.oxw(2);e.xp6(2),e.Oqu(null==u?null:u.FullName),e.xp6(1),e.Q6J("ngIf","FS"==(null==I.virementDetails?null:I.virementDetails.sourcetype)),e.xp6(2),e.Oqu(null==u?null:u.Amount),e.xp6(2),e.hij("",null==u?null:u.Account," \u200b"),e.xp6(2),e.Oqu(null==u?null:u.Reason),e.xp6(2),e.Oqu(null==u?null:u.Reference)}}function Q(M,Se){if(1&M&&(e.TgZ(0,"table",52)(1,"thead",53)(2,"tr",77)(3,"th",55),e._uU(4,"Nom & Pr\xe9nom B\xe9n\xe9ficiaire"),e.qZA(),e.YNc(5,He,2,0,"th",78),e.TgZ(6,"th",55),e._uU(7,"Montant"),e.qZA(),e.TgZ(8,"th",55),e._uU(9,"RIB"),e.qZA(),e.TgZ(10,"th",55),e._uU(11,"Motif"),e.qZA(),e.TgZ(12,"th",55),e._uU(13,"R\xe9f\xe9rence"),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,V,12,6,"tr",43),e.qZA()()),2&M){const u=e.oxw();e.xp6(5),e.Q6J("ngIf","FS"==(null==u.virementDetails?null:u.virementDetails.sourcetype)),e.xp6(10),e.Q6J("ngForOf",null==u.virementDetails?null:u.virementDetails.BeneffListInvalid)}}function Ee(M,Se){1&M&&(e.TgZ(0,"span",80),e._uU(1,"Liste des b\xe9n\xe9ficiaires valides "),e.qZA())}function Y(M,Se){1&M&&(e.TgZ(0,"th",55),e._uU(1,"Matricule"),e.qZA())}function fe(M,Se){if(1&M&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.Oqu(null==u?null:u.BenefIdentity)}}const Te=function(M){return{benefClass:M}};function Ve(M,Se){if(1&M&&(e.TgZ(0,"tr",82)(1,"td"),e._uU(2),e.qZA(),e.YNc(3,fe,2,1,"td",79),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA()()),2&M){const u=Se.$implicit,I=e.oxw(2);e.Q6J("ngClass",e.VKq(7,Te,"0"==(null==u?null:u.StatNumPayement))),e.xp6(2),e.Oqu(null==u?null:u.FullName),e.xp6(1),e.Q6J("ngIf","FS"==(null==I.virementDetails?null:I.virementDetails.sourcetype)),e.xp6(2),e.Oqu(null==u?null:u.Amount),e.xp6(2),e.hij("",null==u?null:u.Account," \u200b"),e.xp6(2),e.Oqu(null==u?null:u.Reason),e.xp6(2),e.Oqu(null==u?null:u.Reference)}}function qe(M,Se){if(1&M&&(e.TgZ(0,"table",52)(1,"thead",53)(2,"tr",77)(3,"th",55),e._uU(4,"Nom & Pr\xe9nom B\xe9n\xe9ficiaire"),e.qZA(),e.YNc(5,Y,2,0,"th",78),e.TgZ(6,"th",55),e._uU(7,"Montant"),e.qZA(),e.TgZ(8,"th",55),e._uU(9,"RIB"),e.qZA(),e.TgZ(10,"th",55),e._uU(11,"Motif"),e.qZA(),e.TgZ(12,"th",55),e._uU(13,"R\xe9f\xe9rence"),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,Ve,12,9,"tr",81),e.qZA()()),2&M){const u=e.oxw();e.xp6(5),e.Q6J("ngIf","FS"==(null==u.virementDetails?null:u.virementDetails.sourcetype)),e.xp6(10),e.Q6J("ngForOf",null==u.virementDetails?null:u.virementDetails.BeneffList)}}function Ke(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"div",66)(1,"div",83)(2,"button",68),e.NdJ("click",function(){return e.CHM(u),e.oxw().Valider()}),e._uU(3,"Valider "),e.qZA(),e._uU(4,"\xa0 "),e.TgZ(5,"button",71),e.NdJ("click",function(){return e.CHM(u),e.oxw().Rejeter()}),e._uU(6,"Annuler "),e.qZA()()()}}let it=(()=>{class M{constructor(u,I,$,Ze,Ge){this.auth=u,this.fb=I,this.http=$,this.router=Ze,this.VirServ=Ge,this.resValid=[],this.resInvalid=[],this.ListBenef=[],this.chargedData=!1,this.Matricule=!0,this.vs=new _.Q,this.ListMoy=[],this.validation_messages={moyPaiement:[{type:"required",message:"Veuillez choisir le moyen de paiement"}],montant:[{type:"required",message:"Veuillez saisir le montant"}],motif:[{type:"required",message:"Veuillez Choisir  le motif"}]},this.ListOfBenefToBePaid=[],this.vali=!0,this.loader=!1,this.ListTiers=[],this.onetiers=!0,this.listTiers=[],this.MotifRejet=!1,this.createform()}get AllTypeBenef(){return this.tableForm.get("AllTypeBenef")}createform(){this.FormTiers=this.fb.group({Tiers:["",ce.kI.required]})}ngOnInit(){this.chargedData=!0,this.token=localStorage.getItem("token"),this.istrue=localStorage.getItem("istrue"),"true"==this.istrue?(this.NiveauValidationAgent="Validation finale",this.auth.getTiersByIdDigital(this.token).subscribe(u=>{this.ListTiers=u,this.chargedData=!1,0==this.ListTiers.length&&(this.onetiers=!0),1==this.ListTiers.length&&(this.tiersClient=this.ListTiers[0].Referentiel,this.onetiers=!0,this.FormTiers.controls.Tiers.setValue(this.tiersClient),this.getTransactionByRef(),this.listTiers.push(this.tiersClient),console.log("only one"))},u=>{console.log("error API"),this.chargedData=!1,-1!=u.indexOf("401")&&this.router.navigate(["/"])})):this.router.navigate(["/"])}Valider(){var u,I;this.msgAlert="Voulez vous valider ce virement enregistr\xe9?",null===(u=document.getElementById("exampleModalLabelProcessedpopValider"))||void 0===u||u.setAttribute("style","color:blue;font-weight:bold"),null===(I=document.getElementById("btnalertPopValider"))||void 0===I||I.click()}ValiderVirement(){let u={user:localStorage.getItem("cuser"),comment:this.virementDetails.Comment,pk:this.virementDetails.Pkhash};this.VirServ.ValidateTransactionInitiation(u,this.token).subscribe(I=>{var $,Ze,Ge,$e,rt;this.responseWS=I,"403"==(null===($=this.responseWS)||void 0===$?void 0:$.OBP)?this.msgAlert="Vous n'avez pas le droit de valider cette transaction enregistr\xe9e.":"00"==(null===(Ze=this.responseWS)||void 0===Ze?void 0:Ze.status)?(this.msgAlert="Virement initi\xe9 avec succ\xe8s.",null===(Ge=document.getElementById("exampleModalLabelProcessed"))||void 0===Ge||Ge.setAttribute("style","color:green;font-weight:bold")):(this.msgAlert="Veuillez r\xe9essayer plus tard.",null===($e=document.getElementById("exampleModalLabelProcessed"))||void 0===$e||$e.setAttribute("style","color:blue;font-weight:bold")),null===(rt=document.getElementById("btnalertPopfresh"))||void 0===rt||rt.click()},I=>{console.log("error API"),-1!=I.indexOf("401")&&this.router.navigate(["/"])})}FermerAlertValider(){var u;null===(u=document.getElementById("alertPopValider"))||void 0===u||u.setAttribute("class","modal fade  hide")}scroll(u){u.scrollIntoView({behavior:"smooth"})}getTransactionByRef(){this.chargedData=!0,this.VirServ.GetListTransactionDetails({status:"R",pk:this.FormTiers.controls.Tiers.value},this.token).subscribe(I=>{this.virementList=I,this.chargedData=!1},I=>{console.log("error API"),this.chargedData=!1,-1!=I.indexOf("401")&&this.router.navigate(["/"])})}FermeraletMotifOblig(){var u;null===(u=document.getElementById("aletMotifOblig"))||void 0===u||u.setAttribute("class","modal fade  hide")}GetDetails(u){this.virementDetails=u,null!=document.getElementById("CardDetails")&&(console.log("test"),this.element=document.getElementById("CardDetails"),this.element.scrollIntoView(),this.element.style.display="block")}Modifier(){localStorage.setItem("statusVirement","Modified"),localStorage.setItem("Vir",JSON.stringify(this.virementDetails)),this.router.navigate("Virement Unitaire"==this.virementDetails.TransactionType?["/home/create-virement/virement-unitaire"]:"Virement Multiple"==this.virementDetails.TransactionType?["/home/create-virement/virement-multiple"]:["/home/create-virement/virement-salaire"])}Rejeter(){var u,I;this.msgAlert="Voulez vous continuer la suppression?",null===(u=document.getElementById("exampleModalLabelProcessedpop"))||void 0===u||u.setAttribute("style","color:red;font-weight:bold"),null===(I=document.getElementById("btnalertPop"))||void 0===I||I.click()}FermerAlertAvecRefresh(){var u;null===(u=document.getElementById("alertPopfresh"))||void 0===u||u.setAttribute("class","modal fade  hide"),location.reload()}Delete(){localStorage.removeItem("statusVirement"),localStorage.removeItem("Vir");let u={user:localStorage.getItem("cuser"),pk:this.virementDetails.Pkhash};this.VirServ.RejectTransaction(u,this.token).subscribe(I=>{var $,Ze,Ge,$e,rt;this.responseWS=I,"403"==(null===($=this.responseWS)||void 0===$?void 0:$.OBP)?this.msgAlert="Vous n'avez pas le droit de rejeter cette transaction.":"00"==(null===(Ze=this.responseWS)||void 0===Ze?void 0:Ze.status)?(this.msgAlert="Virement annul\xe9.",null===(Ge=document.getElementById("exampleModalLabelProcessed"))||void 0===Ge||Ge.setAttribute("style","color:red;font-weight:bold")):(this.msgAlert="Veuillez r\xe9essayer plus tard.",null===($e=document.getElementById("exampleModalLabelProcessed"))||void 0===$e||$e.setAttribute("style","color:blue;font-weight:bold")),null===(rt=document.getElementById("btnalertPopfresh"))||void 0===rt||rt.click()},I=>{console.log("error API"),-1!=I.indexOf("401")&&this.router.navigate(["/"])})}FermerAlert(){var u;null===(u=document.getElementById("alertPop"))||void 0===u||u.setAttribute("class","modal fade  hide")}}return M.\u0275fac=function(u){return new(u||M)(e.Y36(R.r),e.Y36(ce.qu),e.Y36(pe.eN),e.Y36(z.F0),e.Y36(f.t))},M.\u0275cmp=e.Xpm({type:M,selectors:[["app-valider-virement-initiateur"]],inputs:{FormInitaitionTitre:"FormInitaitionTitre"},decls:66,vars:16,consts:[[1,"card"],[1,"card-body"],[1,"card-title",2,"text-align","center"],[3,"formGroup",4,"ngIf"],[1,"row","text-center"],["class","col-lg-12 ","style","text-align: -webkit-center;",4,"ngIf"],["class","col-lg-12 text-center",4,"ngIf"],["class","table table-bordered",4,"ngIf"],["id","CardDetails"],["CardDetails",""],["class","row",4,"ngIf"],["class","row pt-3 text-left",4,"ngIf"],["class","badge bg-danger",4,"ngIf"],["class","table table-bordered ",4,"ngIf"],["class","badge bg-success",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#alertPopfresh","id","btnalertPopfresh",1,"btn","btn-primary",2,"display","none"],["id","alertPopfresh","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content",2,"place-items","center"],[1,"modal-header",2,"border-bottom","0"],["id","exampleModalLabelProcessed",1,"modal-title",2,"color","rgb(7, 7, 7)"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#alertPop","id","btnalertPop",1,"btn","btn-primary",2,"display","none"],["id","alertPop","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],[1,"modal-header",2,"border-bottom","0 !important"],["id","exampleModalLabelProcessedpop",1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#alertPopValider","id","btnalertPopValider",1,"btn","btn-primary",2,"display","none"],["id","alertPopValider","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["id","exampleModalLabelProcessedpopValider",1,"modal-title"],[3,"formGroup"],[1,"row"],[1,"col-4"],[1,"font-weight-bold","TitleMobile",2,"text-align","initial"],[2,"color","red"],["name","origin_country","formControlName","Tiers",1,"custom-select","form-control",3,"ngClass","change"],["Value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],[3,"value"],[1,"alert","alert-danger"],[4,"ngFor","ngForOf"],["style","font-size:12px",4,"ngIf"],[2,"font-size","12px"],[1,"col-lg-12",2,"text-align","-webkit-center"],[1,"card",2,"width","fit-content"],[1,"card-header"],[1,"col-lg-12","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"table","table-bordered"],[2,"border-bottom","hidden"],[1,"",2,"background","#0b5ed7","color","white"],["scope","col"],["scope","row"],["class"," badge bg-success spanStat","style","text-align: initial;",4,"ngIf"],["class"," badge bg-danger spanStat","style","text-align: initial;",4,"ngIf"],[2,"text-align","right"],["type","button","target","#CardDetails",1,"btn","btn-primary",3,"click"],[1,"badge","bg-success","spanStat",2,"text-align","initial"],[1,"badge","bg-danger","spanStat",2,"text-align","initial"],[1,"col-12"],[1,"badge","bg-secondary",2,"text-align","initial"],["disabled","",1,"custom-select","form-control"],[1,"row","pt-3","text-left"],[1,"col-lg-3","col-md-3","col-3",2,"margin-left","auto","width","fit-content"],[1,"btn","btn-success","btn-md",3,"click"],["class","col-lg-3 col-md-3 col-3 ","style","margin-right: auto;width: fit-content;",4,"ngIf"],[1,"col-lg-3","col-md-3","col-3",2,"margin-right","auto","width","fit-content"],[1,"btn","btn-danger","btn-md",3,"click"],[1,"badge","bg-primary",2,"text-align","initial"],[1,"col-6"],["disabled","",1,"custom-select","form-control",3,"value"],[1,"col-3"],[1,"badge","bg-danger"],[2,"background","#488cf1","color","white"],["scope","col",4,"ngIf"],[4,"ngIf"],[1,"badge","bg-success"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"col-lg-12","col-md-12","col-12",2,"margin-left","auto","width","fit-content"]],template:function(u,I){1&u&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3,"Validation interne"),e.qZA(),e.YNc(4,O,12,7,"form",3),e._UZ(5,"br"),e.TgZ(6,"div",4),e.YNc(7,ne,4,0,"div",5),e.qZA(),e.YNc(8,v,4,0,"div",6),e.YNc(9,q,18,1,"table",7),e._UZ(10,"br")(11,"br"),e.TgZ(12,"div",8,9),e.YNc(14,Ae,8,2,"div",10),e.YNc(15,Ie,5,1,"div",11),e.YNc(16,Re,16,3,"div",10),e._UZ(17,"br"),e.YNc(18,Oe,15,3,"div",10),e._UZ(19,"br"),e.YNc(20,We,2,0,"span",12),e._UZ(21,"br")(22,"br"),e.YNc(23,Q,16,2,"table",13),e.YNc(24,Ee,2,0,"span",14),e._UZ(25,"br")(26,"br"),e.YNc(27,qe,16,2,"table",13),e.YNc(28,Ke,7,0,"div",11),e.qZA()()(),e._UZ(29,"button",15),e.TgZ(30,"div",16)(31,"div",17)(32,"div",18)(33,"div",19)(34,"h5",20)(35,"p"),e._uU(36),e.qZA()()(),e.TgZ(37,"div",21)(38,"button",22),e.NdJ("click",function(){return I.FermerAlertAvecRefresh()}),e._uU(39,"Fermer"),e.qZA()()()()(),e._UZ(40,"button",23),e.TgZ(41,"div",24)(42,"div",17)(43,"div",18)(44,"div",25)(45,"h5",26)(46,"p"),e._uU(47),e.qZA()()(),e.TgZ(48,"div",21)(49,"button",27),e.NdJ("click",function(){return I.FermerAlert()}),e._uU(50,"Annuler"),e.qZA(),e.TgZ(51,"button",28),e.NdJ("click",function(){return I.Delete()}),e._uU(52,"Continuer la suppression"),e.qZA()()()()(),e._UZ(53,"button",29),e.TgZ(54,"div",30)(55,"div",17)(56,"div",18)(57,"div",25)(58,"h5",31)(59,"p"),e._uU(60),e.qZA()()(),e.TgZ(61,"div",21)(62,"button",27),e.NdJ("click",function(){return I.FermerAlertValider()}),e._uU(63,"Annuler"),e.qZA(),e.TgZ(64,"button",28),e.NdJ("click",function(){return I.ValiderVirement()}),e._uU(65,"Valider"),e.qZA()()()()()),2&u&&(e.xp6(4),e.Q6J("ngIf",(null==I.ListTiers?null:I.ListTiers.length)>=2),e.xp6(3),e.Q6J("ngIf",0==(null==I.virementList?null:I.virementList.length)&&""!=I.FormTiers.controls.Tiers.value),e.xp6(1),e.Q6J("ngIf",I.chargedData),e.xp6(1),e.Q6J("ngIf",!I.chargedData),e.xp6(5),e.Q6J("ngIf","Enregistr\xe9"!=(null==I.virementDetails?null:I.virementDetails.Statut)&&null!=(null==I.virementDetails?null:I.virementDetails.Statut)),e.xp6(1),e.Q6J("ngIf","Enregistr\xe9"!=(null==I.virementDetails?null:I.virementDetails.Statut)&&null!=(null==I.virementDetails?null:I.virementDetails.Statut)),e.xp6(1),e.Q6J("ngIf","Enregistr\xe9"==(null==I.virementDetails?null:I.virementDetails.Statut)),e.xp6(2),e.Q6J("ngIf","Enregistr\xe9"==(null==I.virementDetails?null:I.virementDetails.Statut)),e.xp6(2),e.Q6J("ngIf","Enregistr\xe9"==(null==I.virementDetails?null:I.virementDetails.Statut)&&(null==I.virementDetails?null:I.virementDetails.BeneffListInvalid.length)>0),e.xp6(3),e.Q6J("ngIf","Enregistr\xe9"==(null==I.virementDetails?null:I.virementDetails.Statut)&&(null==I.virementDetails?null:I.virementDetails.BeneffListInvalid.length)>0),e.xp6(1),e.Q6J("ngIf","Enregistr\xe9"==(null==I.virementDetails?null:I.virementDetails.Statut)&&(null==I.virementDetails?null:I.virementDetails.BeneffList.length)>0),e.xp6(3),e.Q6J("ngIf","Enregistr\xe9"==(null==I.virementDetails?null:I.virementDetails.Statut)&&(null==I.virementDetails?null:I.virementDetails.BeneffList.length)>0),e.xp6(1),e.Q6J("ngIf","Enregistr\xe9"==(null==I.virementDetails?null:I.virementDetails.Statut)),e.xp6(8),e.hij(" ",I.msgAlert," "),e.xp6(11),e.hij(" ",I.msgAlert," "),e.xp6(13),e.hij(" ",I.msgAlert," "))},directives:[c.O5,ce._Y,ce.JL,ce.sg,ce.EJ,ce.JJ,ce.u,c.mk,ce.YN,ce.Kr,c.sg],styles:[".show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}.spanStat[_ngcontent-%COMP%]{width:-webkit-fill-available;text-align-last:center}.benefClass[_ngcontent-%COMP%]{background-color:#565656;color:#fff}"]}),M})();function at(M,Se){1&M&&(e.TgZ(0,"div",17)(1,"div",18)(2,"h5",19),e._uU(3,"Initiation Virement multiple"),e.qZA(),e.TgZ(4,"div",20)(5,"div",21)(6,"span",22),e._uU(7,"Loading..."),e.qZA()()()()())}function lt(M,Se){if(1&M&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&M){const u=Se.$implicit;e.s9C("value",u.Referentiel),e.xp6(1),e.hij(" ",u.FullName," ")}}function gt(M,Se){if(1&M&&(e.TgZ(0,"div",54),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function ot(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,gt,2,1,"div",53),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(3);e.xp6(1),e.Q6J("ngIf",I.FormVir.get("Tiers").hasError(u.type)&&(I.FormVir.get("Tiers").dirty||I.FormVir.get("Tiers").touched))}}function ft(M,Se){if(1&M&&(e.TgZ(0,"div",51),e.YNc(1,ot,2,1,"div",52),e.qZA()),2&M){const u=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.Tiers)}}function Ft(M,Se){if(1&M&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&M){const u=Se.$implicit;e.s9C("value",u.account_routings[0].scheme),e.xp6(1),e.hij(" ",u.account_routings[0].scheme," ")}}function Mt(M,Se){if(1&M&&(e.TgZ(0,"div",54),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function Ue(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,Mt,2,1,"div",53),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(3);e.xp6(1),e.Q6J("ngIf",I.FormVir.get("TypeCompteVir").hasError(u.type)&&(I.FormVir.get("TypeCompteVir").dirty||I.FormVir.get("TypeCompteVir").touched))}}function Le(M,Se){if(1&M&&(e.TgZ(0,"div",51),e.YNc(1,Ue,2,1,"div",52),e.qZA()),2&M){const u=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.TypeCompteVir)}}function Be(M,Se){1&M&&(e.TgZ(0,"option",55),e._uU(1," Paiement Xpress "),e.qZA())}function nt(M,Se){1&M&&(e.TgZ(0,"option",56),e._uU(1," Virement Xpress "),e.qZA())}function ht(M,Se){if(1&M&&(e.TgZ(0,"span",69),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.Oqu(u.Statut)}}function Ct(M,Se){if(1&M&&(e.TgZ(0,"span",70),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.Oqu(u.Statut)}}function wt(M,Se){if(1&M&&(e.TgZ(0,"span",71),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.Oqu(u.Statut)}}function Vt(M,Se){if(1&M&&(e.TgZ(0,"span",72),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.Oqu(u.Statut)}}function Ut(M,Se){if(1&M&&(e.TgZ(0,"span",73),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.Oqu(u.Statut)}}function qt(M,Se){if(1&M&&(e.TgZ(0,"span",73),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.Oqu(u.Statut)}}function Nt(M,Se){if(1&M&&(e.TgZ(0,"span",74),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.Oqu(u.Statut)}}function ti(M,Se){1&M&&(e.TgZ(0,"p"),e._uU(1,"Ex\xe9cut\xe9"),e.qZA())}function jt(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"ul")(1,"li")(2,"a",75),e.NdJ("click",function(){e.CHM(u);const $=e.oxw().$implicit;return e.oxw(3).getOrdreVirement($.Pkhash)}),e._uU(3,"Ordre de virement"),e.qZA()(),e.TgZ(4,"li")(5,"a",75),e.NdJ("click",function(){e.CHM(u);const $=e.oxw().$implicit;return e.oxw(3).getRejectedTransactionsReport($.Pkhash)}),e._uU(6,"Etat virements rejet\xe9(s)"),e.qZA()(),e.TgZ(7,"li")(8,"a",75),e.NdJ("click",function(){e.CHM(u);const $=e.oxw().$implicit;return e.oxw(3).getPaidTransactionsReport($.Pkhash)}),e._uU(9,"Etat virements pay\xe9(s)"),e.qZA()()()}}function ni(M,Se){1&M&&(e.TgZ(0,"p"),e._uU(1,"Rejet\xe9"),e.qZA())}function It(M,Se){1&M&&(e.TgZ(0,"p"),e._uU(1,"Annul\xe9"),e.qZA())}function Pe(M,Se){1&M&&(e.TgZ(0,"p"),e._uU(1,"En cours d'ex\xe9cution"),e.qZA())}function Ye(M,Se){if(1&M&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e.YNc(16,ht,2,1,"span",62),e.YNc(17,Ct,2,1,"span",63),e.YNc(18,wt,2,1,"span",64),e.YNc(19,Vt,2,1,"span",65),e.YNc(20,Ut,2,1,"span",66),e.YNc(21,qt,2,1,"span",66),e.YNc(22,Nt,2,1,"span",67),e.qZA(),e.TgZ(23,"td"),e._uU(24),e.qZA(),e.TgZ(25,"td"),e.YNc(26,ti,2,0,"p",68),e.YNc(27,jt,10,0,"ul",68),e.YNc(28,ni,2,0,"p",68),e.YNc(29,It,2,0,"p",68),e.YNc(30,Pe,2,0,"p",68),e.qZA()()),2&M){const u=Se.$implicit;e.xp6(2),e.Oqu(u.Date),e.xp6(2),e.Oqu(u.OrderingCustomerAccount),e.xp6(2),e.hij("",u.AccountName," \u200b"),e.xp6(2),e.Oqu(u.Amount),e.xp6(2),e.Oqu(u.Reason),e.xp6(2),e.Oqu(u.Reference),e.xp6(2),e.Oqu(u.Comment),e.xp6(2),e.Q6J("ngIf","Enregistr\xe9"==u.Statut),e.xp6(1),e.Q6J("ngIf","Cr\xe9\xe9"==u.Statut),e.xp6(1),e.Q6J("ngIf","En cours de validation en interne"==u.Statut),e.xp6(1),e.Q6J("ngIf","Valid\xe9"==u.Statut),e.xp6(1),e.Q6J("ngIf","Rejet\xe9"==u.Statut),e.xp6(1),e.Q6J("ngIf","Invalide"==u.Statut),e.xp6(1),e.Q6J("ngIf","Modifi\xe9"==u.Statut),e.xp6(2),e.Oqu(u.TransactionType),e.xp6(2),e.Q6J("ngIf","Partial"==u.StatutExt||"Executed"==u.StatutExt),e.xp6(1),e.Q6J("ngIf",("Partial"==u.StatutExt||"Executed"==u.StatutExt)&&"Invalide"!=u.Statut),e.xp6(1),e.Q6J("ngIf","Rejected"==u.StatutExt),e.xp6(1),e.Q6J("ngIf","Cancelled"==u.StatutExt),e.xp6(1),e.Q6J("ngIf","Initiliazed"==u.StatutExt)}}function he(M,Se){if(1&M&&(e.TgZ(0,"div",57)(1,"table",58)(2,"thead",59)(3,"tr",60)(4,"th",61),e._uU(5,"Date"),e.qZA(),e.TgZ(6,"th",61),e._uU(7,"Compte Donneur d\u2019ordre"),e.qZA(),e.TgZ(8,"th",61),e._uU(9,"Libell\xe9 Compte Donneur d\u2019ordre"),e.qZA(),e.TgZ(10,"th",61),e._uU(11,"Montant"),e.qZA(),e.TgZ(12,"th",61),e._uU(13,"Motif"),e.qZA(),e.TgZ(14,"th",61),e._uU(15,"R\xe9f\xe9rence"),e.qZA(),e.TgZ(16,"th",61),e._uU(17," Commentaire"),e.qZA(),e.TgZ(18,"th",61),e._uU(19,"Statut\u200b de la demande"),e.qZA(),e.TgZ(20,"th",61),e._uU(21,"Type"),e.qZA(),e.TgZ(22,"th",61),e._uU(23,"Statut virement"),e.qZA()()(),e.TgZ(24,"tbody"),e.YNc(25,Ye,31,20,"tr",52),e.qZA()()()),2&M){const u=e.oxw(2);e.xp6(25),e.Q6J("ngForOf",u.transactions)}}const De=function(M,Se){return{"is-invalid":M,"is-valid":Se}};function Qe(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"div",17)(1,"div",23)(2,"h3",24),e._uU(3,"Consultation Virement"),e.qZA(),e.TgZ(4,"form",25)(5,"div",5)(6,"h5")(7,"i"),e._uU(8,"Compte \xe0 d\xe9biter\u200b"),e.qZA()()(),e.TgZ(9,"div",5)(10,"div",6)(11,"div",5)(12,"div",26)(13,"div",27),e._uU(14," S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(15,"span",28),e._uU(16,"*"),e.qZA()(),e.TgZ(17,"select",29),e.NdJ("change",function(){return e.CHM(u),e.oxw().getAccountsBytiers()}),e.TgZ(18,"option",30),e._uU(19," Choisir soci\xe9t\xe9 "),e.qZA(),e.YNc(20,lt,2,2,"option",31),e.qZA(),e.YNc(21,ft,2,1,"div",32),e.qZA(),e.TgZ(22,"div",26)(23,"div",27),e._uU(24," Choisir un compte "),e.TgZ(25,"span",28),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"select",33),e.NdJ("change",function(){return e.CHM(u),e.oxw().getAccountName()}),e.TgZ(28,"option",30),e._uU(29," Choisir compte "),e.qZA(),e.YNc(30,Ft,2,2,"option",31),e.qZA(),e.YNc(31,Le,2,1,"div",32),e.qZA(),e.TgZ(32,"div",26)(33,"div",27),e._uU(34," Libell\xe9s des comptes"),e.TgZ(35,"span",28),e._uU(36,"*"),e.qZA()(),e._UZ(37,"input",34),e.qZA()()()(),e._UZ(38,"br"),e.TgZ(39,"div",5)(40,"div",6)(41,"div",5)(42,"div",26)(43,"div",27),e._uU(44," Date d\xe9but"),e.TgZ(45,"span",28),e._uU(46,"*"),e.qZA()(),e._UZ(47,"input",35),e.ALo(48,"date"),e.qZA(),e.TgZ(49,"div",26)(50,"div",27),e._uU(51," Date fin"),e.TgZ(52,"span",28),e._uU(53,"*"),e.qZA()(),e._UZ(54,"input",36),e.ALo(55,"date"),e.qZA(),e.TgZ(56,"div",26)(57,"div",27),e._uU(58," S\xe9lectionnez un type de virement"),e.qZA(),e.TgZ(59,"select",37),e.NdJ("change",function(){return e.CHM(u),e.oxw().getTypeVir()}),e.TgZ(60,"option",38),e._uU(61," Choisir type virement "),e.qZA(),e.TgZ(62,"option",39),e._uU(63," Virement Unitaire "),e.qZA(),e.TgZ(64,"option",40),e._uU(65," Virement Multiple "),e.qZA(),e.TgZ(66,"option",41),e._uU(67," Virement Salaire "),e.qZA(),e.YNc(68,Be,2,0,"option",42),e.YNc(69,nt,2,0,"option",43),e.qZA()()()()(),e.TgZ(70,"div",44)(71,"div",45)(72,"button",46),e.NdJ("click",function(){return e.CHM(u),e.oxw().SearchVirement()}),e._uU(73," Rechercher "),e.qZA()()(),e.TgZ(74,"div",47)(75,"div",6)(76,"div",48),e._uU(77),e.qZA()()()(),e._UZ(78,"br"),e.YNc(79,he,26,1,"div",49),e.qZA()()}if(2&M){const u=e.oxw();let I,$,Ze,Ge,$e,rt;e.xp6(4),e.Q6J("formGroup",u.FormVir),e.xp6(13),e.Q6J("ngClass",e.WLB(23,De,(null==(I=u.FormVir.get("Tiers"))?null:I.touched)&&(null==(I=u.FormVir.get("Tiers"))?null:I.invalid),null==(I=u.FormVir.get("Tiers"))?null:I.valid)),e.xp6(3),e.Q6J("ngForOf",u.ListTiers),e.xp6(1),e.Q6J("ngIf",(null==($=u.FormVir.get("Tiers"))?null:$.touched)&&(null==($=u.FormVir.get("Tiers"))?null:$.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(26,De,(null==(Ze=u.FormVir.get("TypeCompteVir"))?null:Ze.touched)&&(null==(Ze=u.FormVir.get("TypeCompteVir"))?null:Ze.invalid),null==(Ze=u.FormVir.get("TypeCompteVir"))?null:Ze.valid)),e.xp6(3),e.Q6J("ngForOf",u.listCompts),e.xp6(1),e.Q6J("ngIf",(null==(Ge=u.FormVir.get("TypeCompteVir"))?null:Ge.touched)&&(null==(Ge=u.FormVir.get("TypeCompteVir"))?null:Ge.invalid)),e.xp6(6),e.s9C("value",u.AccounName),e.xp6(10),e.s9C("max",e.xi3(48,17,u.date,"yyyy-MM-dd")),e.Q6J("ngClass",e.WLB(29,De,(null==($e=u.FormVir.get("DateD"))?null:$e.touched)&&(null==($e=u.FormVir.get("DateD"))?null:$e.invalid),null==($e=u.FormVir.get("DateD"))?null:$e.valid)),e.xp6(7),e.s9C("max",e.xi3(55,20,u.date,"yyyy-MM-dd")),e.Q6J("ngClass",e.WLB(32,De,(null==(rt=u.FormVir.get("DateF"))?null:rt.touched)&&(null==(rt=u.FormVir.get("DateF"))?null:rt.invalid),null==(rt=u.FormVir.get("DateF"))?null:rt.valid)),e.xp6(14),e.Q6J("ngIf",u.hasAccess),e.xp6(1),e.Q6J("ngIf",u.hasAccessVirementExpress),e.xp6(3),e.Q6J("disabled",!u.FormVir.valid),e.xp6(5),e.hij(" ",u.msgDateValidate," "),e.xp6(2),e.Q6J("ngIf",(null==u.transactions?null:u.transactions.length)>0)}}let st=(()=>{class M{constructor(u,I,$,Ze,Ge,$e){this.fb=u,this.http=I,this.router=$,this.VirServ=Ze,this.auth=Ge,this.OpImp=$e,this.chargedData=!1,this.ListMenu=[],this.ListSubMenu=[],this.ListTypes=[],this.msgAlert="",this.msgDateValidate="",this.loader=!1,this.Download=!1,this.ListTiers=[],this.onetiers=!0,this.listTiers=[],this.list0=[],this.VirFileForm()}VirFileForm(){this.FormVir=this.fb.group({LibelleCpt:new ce.NI,Tiers:new ce.NI("",ce.kI.required),TypeCompteVir:new ce.NI("",ce.kI.required),DateD:new ce.NI("",ce.kI.required),DateF:new ce.NI("",ce.kI.required),TypeVir:new ce.NI("")})}ngOnInit(){this.chargedData=!0;let u=(0,c.p6)(new Date,"yyyy-MM-dd","en_US");this.date=u,null!=document.getElementById("VirDet")&&(this.element=document.getElementById("VirDet"),this.element.style.display="none"),this.token=localStorage.getItem("token"),this.auth.getTiersByIdDigital(this.token).subscribe(I=>{this.ListTiers=I,this.chargedData=!1,0==this.ListTiers.length&&(this.onetiers=!0),1==this.ListTiers.length&&(this.tiersClient=this.ListTiers[0].Referentiel,this.onetiers=!0,this.listTiers.push(this.tiersClient),console.log("only one"));let $=localStorage.getItem("transactiontypes"),Ze=this.auth.b64_to_utf8($);console.log(Ze),this.ListTypes=JSON.parse(Ze||"[]"),console.log(this.ListTypes);let Ge=localStorage.getItem("listmenu"),$e=this.auth.b64_to_utf8(Ge);this.ListMenu=JSON.parse($e||"[]"),this.ListMenu.some(pt=>"M002"===pt.idmenu);for(var dt=0;dt<this.ListMenu.length;dt++)for(var xt=0;xt<this.ListMenu[dt].SubMenus.length;xt++)"M002"==this.ListMenu[dt].idmenu&&(this.hasAccess=this.ListMenu[dt].SubMenus.some(pt=>"SM0208"===pt.idsousmenu));for(var bt=0;bt<this.ListTypes.length;bt++)console.log(this.ListTypes[bt]),"Virement Xpress"===this.ListTypes[bt]&&(this.hasAccessVirementExpress=!0);console.log(this.hasAccessVirementExpress)},I=>{console.log("error API"),-1!=I.indexOf("401")&&this.router.navigate(["/"])})}getAccountsBytiers(){var u,I;this.list0=[],null===(u=this.FormVir.controls.TypeCompteVir)||void 0===u||u.reset(),this.VirServ.MinimalByRef(this.token,null===(I=this.FormVir.get("Tiers"))||void 0===I?void 0:I.value).subscribe($=>{this.listCompts=$.accounts;for(var Ze=0;Ze<this.listCompts.length;Ze++)this.list0.push(this.listCompts[Ze].account_routings[0])},$=>{console.log("error API"),-1!=$.indexOf("401")&&this.router.navigate(["/"])})}getAccountName(){var u;this.AccNum=null===(u=this.FormVir.get("TypeCompteVir"))||void 0===u?void 0:u.value;for(var I=0;I<this.listCompts.length;I++)this.AccNum==this.listCompts[I].account_routings[0].scheme&&(this.pk=this.listCompts[I].id);this.OpImp.getDataByAccount(this.token,this.pk).subscribe($=>{this.AccounName=$.fullname},$=>{console.log("error API"),-1!=$.indexOf("401")&&this.router.navigate(["/"])})}getTypeVir(){var u;this.TypeVir=null===(u=this.FormVir.get("TypeVir"))||void 0===u?void 0:u.value}SearchVirement(){var u,I,$,Ze,Ge,$e,rt,dt;if(this.msgDateValidate="",new Date(this.FormVir.controls.DateD.value)>new Date(this.date))console.log("---date1 is greater----"),null===(u=document.getElementById("rowDate"))||void 0===u||u.setAttribute("style","display:block"),null===(I=document.getElementById("alertDateSup"))||void 0===I||I.setAttribute("class","alert alert-danger alert-dismissible fade show"),this.msgDateValidate+="Date d\xe9but saisie est sup\xe9rieur \xe0 celle d'aujourd'hui.";else if(new Date(this.FormVir.controls.DateF.value)>new Date(this.date))console.log("---date1 is greater----"),null===($=document.getElementById("rowDate"))||void 0===$||$.setAttribute("style","display:block"),null===(Ze=document.getElementById("alertDateSup"))||void 0===Ze||Ze.setAttribute("class","alert alert-danger alert-dismissible fade show"),this.msgDateValidate+="Date fin saisie est sup\xe9rieur \xe0 celle d'aujourd'hui.";else if(new Date(this.FormVir.controls.DateD.value)>new Date(this.FormVir.controls.DateF.value))console.log("---date1 is greater----"),null===(Ge=document.getElementById("rowDate"))||void 0===Ge||Ge.setAttribute("style","display:block"),null===($e=document.getElementById("alertDateSup"))||void 0===$e||$e.setAttribute("class","alert alert-danger alert-dismissible fade show"),this.msgDateValidate+="Date d\xe9but saisie est sup\xe9rieur \xe0 celle de la date fin saisie.";else{null===(rt=document.getElementById("rowDate"))||void 0===rt||rt.removeAttribute("style"),null===(dt=document.getElementById("alertDateSup"))||void 0===dt||dt.setAttribute("class","alert alert-danger alert-dismissible fade hide"),this.chargedData=!0;let xt=new c.uU("en-US").transform(this.FormVir.controls.DateD.value,"dd-MM-yyyy"),bt=new c.uU("en-US").transform(this.FormVir.controls.DateF.value,"dd-MM-yyyy");this.VirServ.GetListTransactionByData({startDate:xt,endDate:bt,status:"A",pk:this.FormVir.controls.TypeCompteVir.value,transactionType:this.FormVir.controls.TypeVir.value},this.token).subscribe(mt=>{this.transactions=mt,this.chargedData=!1,null!=document.getElementById("VirDet")&&(this.element=document.getElementById("VirDet"),this.element.style.display="block"),this.FormVir.controls.TypeCompteVir.setValue(this.FormVir.controls.TypeCompteVir.value),this.FormVir.controls.LibelleCpt.setValue(this.AccounName)},mt=>{console.log("error API"),this.chargedData=!1,-1!=mt.indexOf("401")&&this.router.navigate(["/"])})}}getPaidTransactionsReport(u){this.VirServ.getPaidTransferReport({Pkhash:u},this.token).subscribe($=>{var Ze,Ge,$e,rt,dt,xt;if("RejectMessage"in $)this.msgAlert=$.RejectMessage,null!=document.getElementById("exampleModalLabelProcessedpop")&&(null===(Ze=document.getElementById("exampleModalLabelProcessedpop"))||void 0===Ze||Ze.setAttribute("style","color:blue;font-weight:bold")),null===(Ge=document.getElementById("btnalertPop"))||void 0===Ge||Ge.click();else if("content"in $){null===($e=document.getElementById("fullscreenModal"))||void 0===$e||$e.setAttribute("class","modal fade show"),null===(rt=document.getElementById("ifrm"))||void 0===rt||rt.setAttribute("src","data:application/pdf;base64,"+$.content);let mt=document.getElementById("ifrm");null!=mt&&(mt.style.display="block")}else this.msgAlert="Merci de r\xe9essayer plus tard",null!=document.getElementById("exampleModalLabelProcessedpop")&&(null===(dt=document.getElementById("exampleModalLabelProcessedpop"))||void 0===dt||dt.setAttribute("style","color:blue;font-weight:bold")),null===(xt=document.getElementById("btnalertPop"))||void 0===xt||xt.click()},$=>{console.log("error API"),this.chargedData=!1,-1!=$.indexOf("401")&&this.router.navigate(["/"])})}getRejectedTransactionsReport(u){this.VirServ.getRejectedTransferReport({Pkhash:u},this.token).subscribe($=>{var Ze,Ge,$e,rt,dt,xt;if("RejectMessage"in $)this.msgAlert=$.RejectMessage,null!=document.getElementById("exampleModalLabelProcessedpop")&&(null===(Ze=document.getElementById("exampleModalLabelProcessedpop"))||void 0===Ze||Ze.setAttribute("style","color:blue;font-weight:bold")),null===(Ge=document.getElementById("btnalertPop"))||void 0===Ge||Ge.click();else if("content"in $){null===($e=document.getElementById("fullscreenModal"))||void 0===$e||$e.setAttribute("class","modal fade show"),null===(rt=document.getElementById("ifrm"))||void 0===rt||rt.setAttribute("src","data:application/pdf;base64,"+$.content);let mt=document.getElementById("ifrm");null!=mt&&(mt.style.display="block")}else this.msgAlert="Merci de r\xe9essayer plus tard",null!=document.getElementById("exampleModalLabelProcessedpop")&&(null===(dt=document.getElementById("exampleModalLabelProcessedpop"))||void 0===dt||dt.setAttribute("style","color:blue;font-weight:bold")),null===(xt=document.getElementById("btnalertPop"))||void 0===xt||xt.click()},$=>{console.log("error API"),this.chargedData=!1,-1!=$.indexOf("401")&&this.router.navigate(["/"])})}getOrdreVirement(u){this.VirServ.getTransferOrderReport({Pkhash:u},this.token).subscribe($=>{var Ze,Ge,$e,rt,dt,xt;if("RejectMessage"in $)this.msgAlert=$.RejectMessage,null!=document.getElementById("exampleModalLabelProcessedpop")&&(null===(Ze=document.getElementById("exampleModalLabelProcessedpop"))||void 0===Ze||Ze.setAttribute("style","color:blue;font-weight:bold")),null===(Ge=document.getElementById("btnalertPop"))||void 0===Ge||Ge.click();else if("content"in $){null===($e=document.getElementById("fullscreenModal"))||void 0===$e||$e.setAttribute("class","modal fade show"),null===(rt=document.getElementById("ifrm"))||void 0===rt||rt.setAttribute("src","data:application/pdf;base64,"+$.content);let mt=document.getElementById("ifrm");null!=mt&&(mt.style.display="block")}else this.msgAlert="Merci de r\xe9essayer plus tard",null!=document.getElementById("exampleModalLabelProcessedpop")&&(null===(dt=document.getElementById("exampleModalLabelProcessedpop"))||void 0===dt||dt.setAttribute("style","color:blue;font-weight:bold")),null===(xt=document.getElementById("btnalertPop"))||void 0===xt||xt.click()},$=>{console.log("error API"),this.chargedData=!1,-1!=$.indexOf("401")&&this.router.navigate(["/"])})}closeDetail(){var u,I;null===(u=document.getElementById("fullscreenModal"))||void 0===u||u.setAttribute("class","modal fade hide"),null===(I=document.getElementById("irfm"))||void 0===I||I.removeAttribute("src");let $=document.getElementById("irfm");null!=$&&($.style.display="none")}FermerAlert(){var u;null===(u=document.getElementById("alertPop"))||void 0===u||u.setAttribute("class","modal fade  hide")}}return M.\u0275fac=function(u){return new(u||M)(e.Y36(ce.qu),e.Y36(pe.eN),e.Y36(z.F0),e.Y36(f.t),e.Y36(R.r),e.Y36(x.e))},M.\u0275cmp=e.Xpm({type:M,selectors:[["app-consultation"]],decls:23,vars:3,consts:[["class","card",4,"ngIf"],["id","fullscreenModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-fullscreen"],[1,"modal-content"],[1,"modal-body"],[1,"row"],[1,"col-12"],["id","ifrm",2,"width","inherit","height","1000px","display","none"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#alertPop","id","btnalertPop",1,"btn","btn-primary",2,"display","none"],["id","alertPop","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content",2,"place-items","center"],[1,"modal-header",2,"border-bottom","0 !important"],["id","exampleModalLabelProcessedpop",1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-lg-12","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["id","divfichier1",1,"card-body"],[1,"card-title",2,"text-align","center"],[3,"formGroup"],[1,"col-4"],[1,"font-weight-bold","TitleMobile",2,"text-align","initial"],[2,"color","red"],["name","origin_country","formControlName","Tiers",1,"custom-select","form-control",3,"ngClass","change"],["Value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],["name","origin_country","formControlName","TypeCompteVir",1,"custom-select","form-control",3,"ngClass","change"],["formControlName","LibelleCpt","disabled","",1,"custom-select","form-control",3,"value"],["formControlName","DateD","type","date",1,"custom-select","form-control",3,"max","ngClass"],["formControlName","DateF","type","date",1,"custom-select","form-control",3,"max","ngClass"],["name","origin_country","formControlName","TypeVir",1,"custom-select","form-control",3,"change"],["Value","","selected",""],["Value","Virement Unitaire"],["Value","Virement Multiple"],["Value","Virement Salaire"],["Value","Paiement Xpress",4,"ngIf"],["Value","Virement Xpress",4,"ngIf"],[1,"row","pt-3","text-left"],[1,"col-lg-3","col-md-3","col-3",2,"margin-left","auto","width","fit-content"],[1,"btn","btn-primary","btn-md",3,"disabled","click"],["id","rowDate",1,"row","pt-3",2,"display","none"],["id","alertDateSup","role","alert",1,"alert","alert-danger","alert-dismissible","fade"],["id","VirDet",4,"ngIf"],[3,"value"],[1,"alert","alert-danger"],[4,"ngFor","ngForOf"],["style","font-size:12px",4,"ngIf"],[2,"font-size","12px"],["Value","Paiement Xpress"],["Value","Virement Xpress"],["id","VirDet"],[1,"table","table-bordered"],[2,"border-bottom","hidden"],[2,"background","#0b5ed7","color","white"],["scope","col"],["class","badge bg-secondary spanStat",4,"ngIf"],["class","badge bg-primary spanStat",4,"ngIf"],["class","badge bg-warning spanStat",4,"ngIf"],["class","badge bg-success spanStat",4,"ngIf"],["class","badge bg-danger spanStat",4,"ngIf"],["class","badge bg-info spanStat",4,"ngIf"],[4,"ngIf"],[1,"badge","bg-secondary","spanStat"],[1,"badge","bg-primary","spanStat"],[1,"badge","bg-warning","spanStat"],[1,"badge","bg-success","spanStat"],[1,"badge","bg-danger","spanStat"],[1,"badge","bg-info","spanStat"],["href","javascript:void(0);",3,"click"]],template:function(u,I){1&u&&(e.YNc(0,at,8,0,"div",0),e.YNc(1,Qe,80,35,"div",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),e._UZ(8,"iframe",7),e.qZA()()(),e.TgZ(9,"div",8)(10,"button",9),e.NdJ("click",function(){return I.closeDetail()}),e._uU(11,"Fermer"),e.qZA()()()()(),e._UZ(12,"button",10),e.TgZ(13,"div",11)(14,"div",12)(15,"div",13)(16,"div",14)(17,"h5",15)(18,"p"),e._uU(19),e.qZA()()(),e.TgZ(20,"div",8)(21,"button",16),e.NdJ("click",function(){return I.FermerAlert()}),e._uU(22,"Fermer"),e.qZA()()()()()),2&u&&(e.Q6J("ngIf",I.chargedData),e.xp6(1),e.Q6J("ngIf",!I.chargedData),e.xp6(18),e.hij(" ",I.msgAlert," "))},directives:[c.O5,ce._Y,ce.JL,ce.sg,ce.EJ,ce.JJ,ce.u,c.mk,ce.YN,ce.Kr,c.sg,ce.Fj],pipes:[c.uU],styles:[".spanStat[_ngcontent-%COMP%]{width:-webkit-fill-available}.show[_ngcontent-%COMP%]{display:block}.hide[_ngcontent-%COMP%]{display:none}"]}),M})();var kt=oe(3007),Lt=oe(4368),Ot=oe(9758),fi=oe(1809),si=oe(5045),mi=oe(9280),te=oe(2363),i=oe(3290);const t=["fileReader"],n=["filefmandat"];function a(M,Se){1&M&&(e.TgZ(0,"div",51)(1,"div",52)(2,"h5",53),e._uU(3,"Paiement Xpress"),e.qZA(),e.TgZ(4,"div",54)(5,"div",55)(6,"span",56),e._uU(7,"Loading..."),e.qZA()()()()())}function r(M,Se){if(1&M&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&M){const u=Se.$implicit;e.s9C("value",u.Referentiel),e.xp6(1),e.Oqu(u.FullName)}}function s(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function o(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,s,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(5);e.xp6(1),e.Q6J("ngIf",I.tiersForm.get("tiers").hasError(u.type)&&(I.tiersForm.get("tiers").dirty||I.tiersForm.get("tiers").touched))}}function l(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,o,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.tiers)}}const d=function(M,Se){return{"is-invalid":M,"is-valid":Se}};function g(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"form",59)(1,"div",34)(2,"div",72)(3,"label",70),e._uU(4,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(5,"b",63),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"select",106),e.NdJ("change",function(){return e.CHM(u),e.oxw(3).gettiers()}),e.TgZ(8,"option",85),e._uU(9," Choisir "),e.qZA(),e.YNc(10,r,2,2,"option",107),e.qZA(),e.YNc(11,l,2,1,"div",65),e.qZA()()()}if(2&M){const u=e.oxw(3);let I,$;e.Q6J("formGroup",u.tiersForm),e.xp6(7),e.Q6J("ngClass",e.WLB(4,d,(null==(I=u.tiersForm.get("tiers"))?null:I.touched)&&(null==(I=u.tiersForm.get("tiers"))?null:I.invalid),null==(I=u.tiersForm.get("tiers"))?null:I.valid)),e.xp6(3),e.Q6J("ngForOf",u.ListTiers),e.xp6(1),e.Q6J("ngIf",(null==($=u.tiersForm.get("tiers"))?null:$.touched)&&(null==($=u.tiersForm.get("tiers"))?null:$.invalid))}}function p(M,Se){if(1&M&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&M){const u=Se.$implicit;e.s9C("value",u.account_routings[0].scheme),e.xp6(1),e.hij(" ",u.account_routings[0].scheme," ")}}function m(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function y(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,m,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(5);e.xp6(1),e.Q6J("ngIf",I.virementFForm.get("numcpt").hasError(u.type)&&(I.virementFForm.get("numcpt").dirty||I.virementFForm.get("numcpt").touched))}}function E(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,y,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.numcpt)}}function P(M,Se){if(1&M&&(e.TgZ(0,"div",112)(1,"label",62),e._uU(2,"Libell\xe9 compte"),e.qZA(),e.TgZ(3,"span",116),e._uU(4),e.qZA()()),2&M){const u=e.oxw(4);e.xp6(4),e.Oqu(u.AccountName)}}function Z(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"div",34)(1,"div",112)(2,"label",70),e._uU(3,"Compte \xe0 d\xe9biter"),e.TgZ(4,"b",63),e._uU(5,"*"),e.qZA()(),e.TgZ(6,"select",113),e.NdJ("change",function(){return e.CHM(u),e.oxw(3).getAcc()}),e.TgZ(7,"option",114),e._uU(8," Choisir compte "),e.qZA(),e.YNc(9,p,2,2,"option",107),e.qZA(),e.YNc(10,E,2,1,"div",65),e.qZA(),e.YNc(11,P,5,1,"div",115),e.qZA()}if(2&M){const u=e.oxw(3);let I,$;e.xp6(6),e.Q6J("ngClass",e.WLB(4,d,(null==(I=u.virementFForm.get("numcpt"))?null:I.touched)&&(null==(I=u.virementFForm.get("numcpt"))?null:I.invalid),null==(I=u.virementFForm.get("numcpt"))?null:I.valid)),e.xp6(3),e.Q6J("ngForOf",u.listCompts),e.xp6(1),e.Q6J("ngIf",(null==($=u.virementFForm.get("numcpt"))?null:$.touched)&&(null==($=u.virementFForm.get("numcpt"))?null:$.invalid)),e.xp6(1),e.Q6J("ngIf",u.choseRib)}}function K(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function ae(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,K,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(4);let $;e.xp6(1),e.Q6J("ngIf",(null==($=I.virementFForm.get("mntTot"))?null:$.hasError(u.type))&&((null==($=I.virementFForm.get("mntTot"))?null:$.dirty)||(null==($=I.virementFForm.get("mntTot"))?null:$.touched)))}}function le(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,ae,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.mntTot)}}function h(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function b(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,h,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(4);let $;e.xp6(1),e.Q6J("ngIf",(null==($=I.virementFForm.get("motif"))?null:$.hasError(u.type))&&((null==($=I.virementFForm.get("motif"))?null:$.dirty)||(null==($=I.virementFForm.get("motif"))?null:$.touched)))}}function D(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,b,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.motif)}}function ee(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function Ce(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,ee,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(4);let $;e.xp6(1),e.Q6J("ngIf",(null==($=I.virementFForm.get("reference"))?null:$.hasError(u.type))&&((null==($=I.virementFForm.get("reference"))?null:$.dirty)||(null==($=I.virementFForm.get("reference"))?null:$.touched)))}}function Ne(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,Ce,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.reference)}}function Me(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function je(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,Me,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(4);let $;e.xp6(1),e.Q6J("ngIf",(null==($=I.benefForm.get("nomBenef"))?null:$.hasError(u.type))&&((null==($=I.benefForm.get("nomBenef"))?null:$.dirty)||(null==($=I.benefForm.get("nomBenef"))?null:$.touched)))}}function Xe(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,je,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.nomBenef)}}function et(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function ct(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,et,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(4);let $;e.xp6(1),e.Q6J("ngIf",(null==($=I.benefForm.get("prenomBenef"))?null:$.hasError(u.type))&&((null==($=I.benefForm.get("prenomBenef"))?null:$.dirty)||(null==($=I.benefForm.get("prenomBenef"))?null:$.touched)))}}function St(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,ct,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.prenomBenef)}}function At(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function Zt(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,At,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(4);let $;e.xp6(1),e.Q6J("ngIf",(null==($=I.benefForm.get("refBenef"))?null:$.hasError(u.type))&&((null==($=I.benefForm.get("refBenef"))?null:$.dirty)||(null==($=I.benefForm.get("refBenef"))?null:$.touched)))}}function Yt(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,Zt,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.refBenef)}}function ri(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function gi(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,ri,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(4);let $;e.xp6(1),e.Q6J("ngIf",(null==($=I.benefForm.get("motifbenef"))?null:$.hasError(u.type))&&((null==($=I.benefForm.get("motifbenef"))?null:$.dirty)||(null==($=I.benefForm.get("motifbenef"))?null:$.touched)))}}function pi(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,gi,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.motifbenef)}}function Ri(M,Se){if(1&M&&(e.TgZ(0,"option",117),e._uU(1),e.qZA()),2&M){const u=Se.$implicit;e.s9C("value",u),e.Q6J("disabled","Wallet"==u),e.xp6(1),e.Oqu(u)}}function ki(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function Pi(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,ki,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(4);e.xp6(1),e.Q6J("ngIf",I.benefForm.get("typeVir").hasError(u.type)&&(I.benefForm.get("typeVir").dirty||I.benefForm.get("typeVir").touched))}}function Ei(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,Pi,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.typeVir)}}function ii(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function Kt(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,ii,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(5);let $;e.xp6(1),e.Q6J("ngIf",(null==($=I.benefForm.get("ribBenef"))?null:$.hasError(u.type))&&((null==($=I.benefForm.get("ribBenef"))?null:$.dirty)||(null==($=I.benefForm.get("ribBenef"))?null:$.touched)))}}function Fi(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,Kt,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.ribBenef)}}function Gi(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"div",83)(1,"label",62),e._uU(2,"RIB"),e.TgZ(3,"b",63),e._uU(4,"*"),e.qZA()(),e.TgZ(5,"input",118),e.NdJ("keyup",function(){return e.CHM(u),e.oxw(3).ControlRIB()}),e.qZA(),e.YNc(6,Fi,2,1,"div",65),e.qZA()}if(2&M){const u=e.oxw(3);let I,$;e.xp6(5),e.Q6J("ngClass",e.WLB(2,d,(null==(I=u.benefForm.get("ribBenef"))?null:I.touched)&&(null==(I=u.benefForm.get("ribBenef"))?null:I.invalid),null==(I=u.benefForm.get("ribBenef"))?null:I.valid)),e.xp6(1),e.Q6J("ngIf",(null==($=u.benefForm.get("ribBenef"))?null:$.touched)&&(null==($=u.benefForm.get("ribBenef"))?null:$.invalid))}}function Ji(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function Qi(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,Ji,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(5);let $;e.xp6(1),e.Q6J("ngIf",(null==($=I.benefForm.get("cardBenef"))?null:$.hasError(u.type))&&((null==($=I.benefForm.get("cardBenef"))?null:$.dirty)||(null==($=I.benefForm.get("cardBenef"))?null:$.touched)))}}function $i(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,Qi,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.cardBenef)}}function Ki(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"div",83)(1,"label",62),e._uU(2,"N\xb0 Carte"),e.TgZ(3,"b",63),e._uU(4,"*"),e.qZA()(),e.TgZ(5,"input",119),e.NdJ("keyup",function(){return e.CHM(u),e.oxw(3).ControlCarte()}),e.qZA(),e.YNc(6,$i,2,1,"div",65),e.qZA()}if(2&M){const u=e.oxw(3);let I,$;e.xp6(5),e.Q6J("ngClass",e.WLB(2,d,(null==(I=u.benefForm.get("cardBenef"))?null:I.touched)&&(null==(I=u.benefForm.get("cardBenef"))?null:I.invalid),null==(I=u.benefForm.get("cardBenef"))?null:I.valid)),e.xp6(1),e.Q6J("ngIf",(null==($=u.benefForm.get("cardBenef"))?null:$.touched)&&(null==($=u.benefForm.get("cardBenef"))?null:$.invalid))}}function en(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function tn(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,en,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(4);let $;e.xp6(1),e.Q6J("ngIf",(null==($=I.benefForm.get("mntBenef"))?null:$.hasError(u.type))&&((null==($=I.benefForm.get("mntBenef"))?null:$.dirty)||(null==($=I.benefForm.get("mntBenef"))?null:$.touched)))}}function nn(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,tn,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.mntBenef)}}function an(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function rn(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,an,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(4);let $;e.xp6(1),e.Q6J("ngIf",(null==($=I.benefForm.get("referenceB"))?null:$.hasError(u.type))&&((null==($=I.benefForm.get("referenceB"))?null:$.dirty)||(null==($=I.benefForm.get("referenceB"))?null:$.touched)))}}function sn(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,rn,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.referenceB)}}function on(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"button",120),e.NdJ("click",function(){const $=e.CHM(u),Ze=$.$implicit,Ge=$.index;return e.oxw(3).EditBenef(Ze,Ge)}),e._UZ(15,"i",121),e.qZA()(),e.TgZ(16,"td")(17,"button",122),e.NdJ("click",function(){const Ze=e.CHM(u).index;return e.oxw(3).RemoveBenef(Ze)}),e._UZ(18,"i",123),e.qZA()()()}if(2&M){const u=Se.$implicit,I=e.oxw(3);e.xp6(2),e.AsE("",u.benefFirstName," ",u.benefLastName,""),e.xp6(2),e.Oqu(u.benefReference),e.xp6(2),e.Oqu(u.benefAmount),e.xp6(2),e.Oqu(u.benefIdentity),e.xp6(2),e.Oqu(u.numVirement),e.xp6(2),e.Oqu(u.benefMotif),e.xp6(2),e.Q6J("disabled",I.benefForm.valid)}}function ln(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"button",124),e.NdJ("click",function(){return e.CHM(u),e.oxw(3).showDocument()}),e._uU(1),e.qZA()}if(2&M){const u=e.oxw(3);e.xp6(1),e.hij("Visualiser ",u.fileName,"")}}function cn(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"button",125),e.NdJ("click",function(){return e.CHM(u),e.oxw(3).hideDocument()}),e._uU(1),e.qZA()}if(2&M){const u=e.oxw(3);e.xp6(1),e.hij("Cacher ",u.fileName,"")}}function dn(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"button",122),e.NdJ("click",function(){return e.CHM(u),e.oxw(3).removeFileOrdreForm()}),e._UZ(1,"i",123),e.qZA()}}function hn(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"div"),e._UZ(1,"br"),e.TgZ(2,"h5")(3,"i"),e._uU(4,"(Donneur d'ordre)"),e.qZA()(),e.YNc(5,g,12,7,"form",58),e.TgZ(6,"form",59),e.YNc(7,Z,12,7,"div",60),e.TgZ(8,"div",34)(9,"div",61)(10,"label",62),e._uU(11,"Montant total en chiffre"),e.TgZ(12,"b",63),e._uU(13,"*"),e.qZA()(),e.TgZ(14,"input",64),e.NdJ("change",function(){return e.CHM(u),e.oxw(2).getFormatedAmount()}),e.qZA(),e.YNc(15,le,2,1,"div",65),e.qZA(),e.TgZ(16,"div",61)(17,"label",62),e._uU(18,"Montant introduit"),e.qZA(),e._UZ(19,"input",66),e.qZA(),e.TgZ(20,"div",61)(21,"label",62),e._uU(22,"Motif"),e.TgZ(23,"b",63),e._uU(24,"*"),e.qZA(),e.TgZ(25,"input",67),e.NdJ("click",function($){return e.CHM(u),e.oxw(2).getMotifCommun($)}),e.qZA(),e.TgZ(26,"label",68),e._uU(27," Motif commun \xa0\xa0 "),e.qZA()(),e.TgZ(28,"input",69),e.NdJ("keyup",function(){return e.CHM(u),e.oxw(2).getMotif()}),e.qZA(),e.YNc(29,D,2,1,"div",65),e.qZA(),e.TgZ(30,"div",61)(31,"label",70),e._uU(32,"R\xe9f\xe9rence"),e.TgZ(33,"b",63),e._uU(34,"*"),e.qZA()(),e.TgZ(35,"input",71),e.NdJ("keyup",function(){return e.CHM(u),e.oxw(2).checkReference()}),e.qZA(),e.YNc(36,Ne,2,1,"div",65),e.qZA()(),e.TgZ(37,"div",34)(38,"div",72)(39,"label",62),e._uU(40,"Montant format\xe9"),e.qZA(),e._UZ(41,"input",73),e.qZA(),e.TgZ(42,"div",74)(43,"label",62),e._uU(44,"Commentaire"),e.qZA(),e._UZ(45,"textarea",75),e.qZA()(),e.TgZ(46,"div",34)(47,"div",76)(48,"label",62),e._uU(49,"Montant en lettres"),e.qZA(),e._UZ(50,"input",77),e.qZA()(),e._UZ(51,"br"),e.TgZ(52,"h5")(53,"i"),e._uU(54,"(B\xe9n\xe9ficiaire)"),e.qZA()()(),e.TgZ(55,"form",59)(56,"div",34)(57,"div",61)(58,"label",62),e._uU(59,"Nom B\xe9n\xe9ficiaire"),e.TgZ(60,"b",63),e._uU(61,"*"),e.qZA()(),e._UZ(62,"input",78),e.YNc(63,Xe,2,1,"div",65),e.qZA(),e.TgZ(64,"div",61)(65,"label",62),e._uU(66,"Pr\xe9nom B\xe9n\xe9ficiaire"),e.TgZ(67,"b",63),e._uU(68,"*"),e.qZA()(),e._UZ(69,"input",79),e.YNc(70,St,2,1,"div",65),e.qZA(),e.TgZ(71,"div",61)(72,"label",62),e._uU(73,"Matricule"),e.qZA(),e.TgZ(74,"input",80),e.NdJ("keyup",function(){return e.CHM(u),e.oxw(2).controlMatricule()}),e.qZA(),e.YNc(75,Yt,2,1,"div",65),e.qZA(),e.TgZ(76,"div",61)(77,"label",62),e._uU(78,"Motif b\xe9n\xe9ficiaire"),e.TgZ(79,"b",81),e._uU(80,"*"),e.qZA()(),e._UZ(81,"input",82),e.YNc(82,pi,2,1,"div",65),e.qZA()(),e.TgZ(83,"div",34)(84,"div",83)(85,"label",70),e._uU(86,"Type de virement"),e.TgZ(87,"b",63),e._uU(88,"*"),e.qZA()(),e.TgZ(89,"select",84),e.NdJ("change",function(){return e.CHM(u),e.oxw(2).getTypeVirement()}),e.TgZ(90,"option",85),e._uU(91," Choisir "),e.qZA(),e.YNc(92,Ri,2,3,"option",86),e.qZA(),e.YNc(93,Ei,2,1,"div",65),e.qZA(),e.YNc(94,Gi,7,5,"div",87),e.YNc(95,Ki,7,5,"div",87),e.TgZ(96,"div",83)(97,"label",62),e._uU(98,"Montant"),e.TgZ(99,"b",63),e._uU(100,"*"),e.qZA()(),e._UZ(101,"input",88),e.YNc(102,nn,2,1,"div",65),e.qZA(),e.TgZ(103,"div",83)(104,"label",62),e._uU(105,"R\xe9f\xe9rence"),e.TgZ(106,"b",63),e._uU(107,"*"),e.qZA()(),e.TgZ(108,"input",89),e.NdJ("keyup",function(){return e.CHM(u),e.oxw(2).controlRefBenef()}),e.qZA(),e.YNc(109,sn,2,1,"div",65),e.qZA()(),e.TgZ(110,"div",34)(111,"div",35)(112,"button",90),e.NdJ("click",function(){return e.CHM(u),e.oxw(2).addBenefToTable()}),e._uU(113,"Ajouter b\xe9n\xe9ficiaire"),e._UZ(114,"i",91),e.qZA()()(),e.TgZ(115,"div",34)(116,"div",35)(117,"table",36)(118,"thead")(119,"tr")(120,"th",37),e._uU(121,"Nom & pr\xe9nom b\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(122,"th",37),e._uU(123,"R\xe9f\xe9rence B\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(124,"th",37),e._uU(125,"Montant"),e.qZA(),e.TgZ(126,"th",37),e._uU(127,"Matricule"),e.qZA(),e.TgZ(128,"th",37),e._uU(129,"RIB / N\xb0 Carte"),e.qZA(),e.TgZ(130,"th",37),e._uU(131,"Motif b\xe9n\xe9ficiaire"),e.qZA(),e._UZ(132,"th"),e.qZA()(),e.TgZ(133,"tbody"),e.YNc(134,on,19,8,"tr",38),e.qZA()()()(),e.TgZ(135,"div",34)(136,"div",92)(137,"label",93),e._uU(138,"Joindre ordre de virement "),e._UZ(139,"i",91),e.qZA(),e.TgZ(140,"input",94,95),e.NdJ("change",function($){return e.CHM(u),e.oxw(2).upload($)}),e.qZA(),e.TgZ(142,"input",96),e.NdJ("click",function(){e.CHM(u);const $=e.MAs(141);return $.value="",$.click()}),e.qZA(),e._UZ(143,"br")(144,"br"),e.TgZ(145,"div"),e._UZ(146,"br"),e.qZA()(),e.TgZ(147,"div",97),e.YNc(148,ln,2,1,"button",98),e.YNc(149,cn,2,1,"button",99),e.qZA(),e.TgZ(150,"div",100),e.YNc(151,dn,2,0,"button",101),e.qZA()(),e.TgZ(152,"div",102)(153,"div",35),e._UZ(154,"iframe",103),e.qZA()()(),e.TgZ(155,"div",34)(156,"div",104)(157,"div",92)(158,"button",105),e.NdJ("click",function(){return e.CHM(u),e.oxw(2).initiateVir("F")}),e._uU(159," Enregistrer "),e.qZA()()()()()}if(2&M){const u=e.oxw(2);let I,$,Ze,Ge,$e,rt,dt,xt,bt,pt,mt,yt,Tt,_t,vt,Pt,ei,Ht,Rt;e.xp6(5),e.Q6J("ngIf",!u.onetiers),e.xp6(1),e.Q6J("formGroup",u.virementFForm),e.xp6(1),e.Q6J("ngIf",u.choseTiers),e.xp6(7),e.Q6J("ngClass",e.WLB(32,d,(null==(I=u.virementFForm.get("mntTot"))?null:I.touched)&&(null==(I=u.virementFForm.get("mntTot"))?null:I.invalid),null==(I=u.virementFForm.get("mntTot"))?null:I.valid)),e.xp6(1),e.Q6J("ngIf",(null==($=u.virementFForm.get("mntTot"))?null:$.touched)&&(null==($=u.virementFForm.get("mntTot"))?null:$.invalid)),e.xp6(13),e.Q6J("ngClass",e.WLB(35,d,(null==(Ze=u.virementFForm.get("motif"))?null:Ze.touched)&&(null==(Ze=u.virementFForm.get("motif"))?null:Ze.invalid),null==(Ze=u.virementFForm.get("motif"))?null:Ze.valid)),e.xp6(1),e.Q6J("ngIf",(null==(Ge=u.virementFForm.get("motif"))?null:Ge.touched)&&(null==(Ge=u.virementFForm.get("motif"))?null:Ge.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(38,d,(null==($e=u.virementFForm.get("reference"))?null:$e.touched)&&(null==($e=u.virementFForm.get("reference"))?null:$e.invalid),null==($e=u.virementFForm.get("reference"))?null:$e.valid)),e.xp6(1),e.Q6J("ngIf",(null==(rt=u.virementFForm.get("reference"))?null:rt.touched)&&(null==(rt=u.virementFForm.get("reference"))?null:rt.invalid)),e.xp6(19),e.Q6J("formGroup",u.benefForm),e.xp6(7),e.Q6J("ngClass",e.WLB(41,d,(null==(dt=u.benefForm.get("nomBenef"))?null:dt.touched)&&(null==(dt=u.benefForm.get("nomBenef"))?null:dt.invalid),null==(dt=u.benefForm.get("nomBenef"))?null:dt.valid)),e.xp6(1),e.Q6J("ngIf",(null==(xt=u.benefForm.get("nomBenef"))?null:xt.touched)&&(null==(xt=u.benefForm.get("nomBenef"))?null:xt.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(44,d,(null==(bt=u.benefForm.get("prenomBenef"))?null:bt.touched)&&(null==(bt=u.benefForm.get("prenomBenef"))?null:bt.invalid),null==(bt=u.benefForm.get("prenomBenef"))?null:bt.valid)),e.xp6(1),e.Q6J("ngIf",(null==(pt=u.benefForm.get("prenomBenef"))?null:pt.touched)&&(null==(pt=u.benefForm.get("prenomBenef"))?null:pt.invalid)),e.xp6(5),e.Q6J("ngIf",(null==(mt=u.benefForm.get("refBenef"))?null:mt.touched)&&(null==(mt=u.benefForm.get("refBenef"))?null:mt.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(47,d,(null==(yt=u.benefForm.get("motifbenef"))?null:yt.touched)&&(null==(yt=u.benefForm.get("motifbenef"))?null:yt.invalid),null==(yt=u.benefForm.get("motifbenef"))?null:yt.valid)),e.xp6(1),e.Q6J("ngIf",(null==(Tt=u.benefForm.get("motifbenef"))?null:Tt.touched)&&(null==(Tt=u.benefForm.get("motifbenef"))?null:Tt.invalid)),e.xp6(7),e.Q6J("ngClass",e.WLB(50,d,(null==(_t=u.benefForm.get("typeVir"))?null:_t.touched)&&(null==(_t=u.benefForm.get("typeVir"))?null:_t.invalid),null==(_t=u.benefForm.get("typeVir"))?null:_t.valid)),e.xp6(3),e.Q6J("ngForOf",u.listTypeVir),e.xp6(1),e.Q6J("ngIf",(null==(vt=u.benefForm.get("typeVir"))?null:vt.touched)&&(null==(vt=u.benefForm.get("typeVir"))?null:vt.invalid)),e.xp6(1),e.Q6J("ngIf",u.isRib),e.xp6(1),e.Q6J("ngIf",u.isCard),e.xp6(6),e.Q6J("ngClass",e.WLB(53,d,(null==(Pt=u.benefForm.get("mntBenef"))?null:Pt.touched)&&(null==(Pt=u.benefForm.get("mntBenef"))?null:Pt.invalid),null==(Pt=u.benefForm.get("mntBenef"))?null:Pt.valid)),e.xp6(1),e.Q6J("ngIf",(null==(ei=u.benefForm.get("mntBenef"))?null:ei.touched)&&(null==(ei=u.benefForm.get("mntBenef"))?null:ei.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(56,d,(null==(Ht=u.benefForm.get("referenceB"))?null:Ht.touched)&&(null==(Ht=u.benefForm.get("referenceB"))?null:Ht.invalid),null==(Ht=u.benefForm.get("referenceB"))?null:Ht.valid)),e.xp6(1),e.Q6J("ngIf",(null==(Rt=u.benefForm.get("referenceB"))?null:Rt.touched)&&(null==(Rt=u.benefForm.get("referenceB"))?null:Rt.invalid)),e.xp6(3),e.Q6J("disabled",u.benefForm.invalid),e.xp6(22),e.Q6J("ngForOf",u.listBenef),e.xp6(14),e.Q6J("ngIf",(null==u.fileName?null:u.fileName.length)>0&&u.toshow),e.xp6(1),e.Q6J("ngIf",(null==u.fileName?null:u.fileName.length)>0&&!u.toshow),e.xp6(2),e.Q6J("ngIf",(null==u.fileName?null:u.fileName.length)>0),e.xp6(7),e.Q6J("disabled",u.tiersForm.invalid||u.virementFForm.invalid||0==u.listBenef.length)}}function un(M,Se){if(1&M&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&M){const u=Se.$implicit;e.s9C("value",u.Referentiel),e.xp6(1),e.Oqu(u.FullName)}}function gn(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function pn(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,gn,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(5);e.xp6(1),e.Q6J("ngIf",I.tiersForm.get("tiers").hasError(u.type)&&(I.tiersForm.get("tiers").dirty||I.tiersForm.get("tiers").touched))}}function fn(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,pn,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.tiers)}}function mn(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"form",59)(1,"div",34)(2,"div",72)(3,"label",70),e._uU(4,"S\xe9lectionnez une soci\xe9t\xe9"),e.TgZ(5,"b",63),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"select",106),e.NdJ("change",function(){return e.CHM(u),e.oxw(3).gettiers()}),e.TgZ(8,"option",85),e._uU(9," Choisir "),e.qZA(),e.YNc(10,un,2,2,"option",107),e.qZA(),e.YNc(11,fn,2,1,"div",65),e.qZA()()()}if(2&M){const u=e.oxw(3);let I,$;e.Q6J("formGroup",u.tiersForm),e.xp6(7),e.Q6J("ngClass",e.WLB(4,d,(null==(I=u.tiersForm.get("tiers"))?null:I.touched)&&(null==(I=u.tiersForm.get("tiers"))?null:I.invalid),null==(I=u.tiersForm.get("tiers"))?null:I.valid)),e.xp6(3),e.Q6J("ngForOf",u.ListTiers),e.xp6(1),e.Q6J("ngIf",(null==($=u.tiersForm.get("tiers"))?null:$.touched)&&(null==($=u.tiersForm.get("tiers"))?null:$.invalid))}}function vn(M,Se){if(1&M&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&M){const u=Se.$implicit;e.s9C("value",u.account_routings[0].scheme),e.xp6(1),e.hij(" ",u.account_routings[0].scheme," ")}}function bn(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function xn(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,bn,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(5);e.xp6(1),e.Q6J("ngIf",I.virementFForm.get("numcpt").hasError(u.type)&&(I.virementFForm.get("numcpt").dirty||I.virementFForm.get("numcpt").touched))}}function _n(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,xn,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.numcpt)}}function yn(M,Se){if(1&M&&(e.TgZ(0,"div",112)(1,"label",62),e._uU(2,"Libell\xe9 compte"),e.qZA(),e.TgZ(3,"span",116),e._uU(4),e.qZA()()),2&M){const u=e.oxw(4);e.xp6(4),e.Oqu(u.AccountName)}}function An(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"div",34)(1,"div",112)(2,"label",70),e._uU(3,"Compte \xe0 d\xe9biter"),e.TgZ(4,"b",63),e._uU(5,"*"),e.qZA()(),e.TgZ(6,"select",113),e.NdJ("change",function(){return e.CHM(u),e.oxw(3).getAcc()}),e.TgZ(7,"option",114),e._uU(8," Choisir compte "),e.qZA(),e.YNc(9,vn,2,2,"option",107),e.qZA(),e.YNc(10,_n,2,1,"div",65),e.qZA(),e.YNc(11,yn,5,1,"div",115),e.qZA()}if(2&M){const u=e.oxw(3);let I,$;e.xp6(6),e.Q6J("ngClass",e.WLB(4,d,(null==(I=u.virementFForm.get("numcpt"))?null:I.touched)&&(null==(I=u.virementFForm.get("numcpt"))?null:I.invalid),null==(I=u.virementFForm.get("numcpt"))?null:I.valid)),e.xp6(3),e.Q6J("ngForOf",u.listCompts),e.xp6(1),e.Q6J("ngIf",(null==($=u.virementFForm.get("numcpt"))?null:$.touched)&&(null==($=u.virementFForm.get("numcpt"))?null:$.invalid)),e.xp6(1),e.Q6J("ngIf",u.choseRib)}}function Cn(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"button",122),e.NdJ("click",function(){return e.CHM(u),e.oxw(3).removeCsvBenefFile()}),e._UZ(1,"i",123),e.qZA()}}function wn(M,Se){if(1&M&&(e.TgZ(0,"tr")(1,"td")(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"span"),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"span"),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"span"),e._uU(21),e.qZA()(),e.TgZ(22,"td")(23,"span"),e._uU(24),e.qZA()()()),2&M){const u=Se.$implicit;e.xp6(3),e.Oqu(u.NOM),e.xp6(3),e.Oqu(u.MATRICULE),e.xp6(3),e.Oqu(u.NUMPAIEMENT),e.xp6(3),e.Oqu(u.TELBENEF),e.xp6(3),e.Oqu(u.EMAILBENEF),e.xp6(3),e.Oqu(u.MONTANT),e.xp6(3),e.Oqu(u.REFERENCE),e.xp6(3),e.Oqu(u.MOTIF)}}function Tn(M,Se){if(1&M&&(e.TgZ(0,"table",147)(1,"thead")(2,"tr")(3,"th"),e._uU(4,"Nom "),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Matricule "),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Num\xe9ro de paiement "),e.qZA(),e.TgZ(9,"th"),e._uU(10,"T\xe9l\xe9phone "),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Email "),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Montant "),e.qZA(),e.TgZ(15,"th"),e._uU(16,"R\xe9f\xe9rence "),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Motif "),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,wn,25,8,"tr",38),e.qZA()()),2&M){const u=e.oxw(3);e.xp6(20),e.Q6J("ngForOf",u.records)}}function Sn(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"input",148),e.NdJ("change",function(){return e.CHM(u),e.oxw(3).getFormatedAmount()}),e.qZA()}if(2&M){const u=e.oxw(3);let I;e.Q6J("ngClass",e.WLB(1,d,(null==(I=u.virementFForm.get("mntTot"))?null:I.touched)&&(null==(I=u.virementFForm.get("mntTot"))?null:I.invalid),null==(I=u.virementFForm.get("mntTot"))?null:I.valid))}}function kn(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"input",149),e.NdJ("change",function(){return e.CHM(u),e.oxw(3).getFormatedAmount()}),e.qZA()}if(2&M){const u=e.oxw(3);let I;e.Q6J("ngClass",e.WLB(1,d,(null==(I=u.virementFForm.get("mntTot"))?null:I.touched)&&(null==(I=u.virementFForm.get("mntTot"))?null:I.invalid),null==(I=u.virementFForm.get("mntTot"))?null:I.valid))}}function Pn(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function En(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,Pn,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(4);let $;e.xp6(1),e.Q6J("ngIf",(null==($=I.virementFForm.get("mntTot"))?null:$.hasError(u.type))&&((null==($=I.virementFForm.get("mntTot"))?null:$.dirty)||(null==($=I.virementFForm.get("mntTot"))?null:$.touched)))}}function Mn(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,En,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.mntTot)}}function Fn(M,Se){if(1&M&&e._UZ(0,"input",150),2&M){const u=e.oxw(3);let I;e.Q6J("ngClass",e.WLB(1,d,(null==(I=u.virementFForm.get("motif"))?null:I.touched)&&(null==(I=u.virementFForm.get("motif"))?null:I.invalid),null==(I=u.virementFForm.get("motif"))?null:I.valid))}}function In(M,Se){if(1&M&&e._UZ(0,"input",151),2&M){const u=e.oxw(3);let I;e.Q6J("ngClass",e.WLB(1,d,(null==(I=u.virementFForm.get("motif"))?null:I.touched)&&(null==(I=u.virementFForm.get("motif"))?null:I.invalid),null==(I=u.virementFForm.get("motif"))?null:I.valid))}}function Ln(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function Rn(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,Ln,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(4);let $;e.xp6(1),e.Q6J("ngIf",(null==($=I.virementFForm.get("motif"))?null:$.hasError(u.type))&&((null==($=I.virementFForm.get("motif"))?null:$.dirty)||(null==($=I.virementFForm.get("motif"))?null:$.touched)))}}function Bn(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,Rn,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.motif)}}function On(M,Se){if(1&M&&e._UZ(0,"input",152),2&M){const u=e.oxw(3);let I;e.Q6J("ngClass",e.WLB(1,d,(null==(I=u.virementFForm.get("reference"))?null:I.touched)&&(null==(I=u.virementFForm.get("reference"))?null:I.invalid),null==(I=u.virementFForm.get("reference"))?null:I.valid))}}function Nn(M,Se){if(1&M&&e._UZ(0,"input",153),2&M){const u=e.oxw(3);let I;e.Q6J("ngClass",e.WLB(1,d,(null==(I=u.virementFForm.get("reference"))?null:I.touched)&&(null==(I=u.virementFForm.get("reference"))?null:I.invalid),null==(I=u.virementFForm.get("reference"))?null:I.valid))}}function Dn(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function Vn(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,Dn,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(4);let $;e.xp6(1),e.Q6J("ngIf",(null==($=I.virementFForm.get("reference"))?null:$.hasError(u.type))&&((null==($=I.virementFForm.get("reference"))?null:$.dirty)||(null==($=I.virementFForm.get("reference"))?null:$.touched)))}}function Zn(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,Vn,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.reference)}}function Un(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"button",124),e.NdJ("click",function(){return e.CHM(u),e.oxw(3).showDocument()}),e._uU(1),e.qZA()}if(2&M){const u=e.oxw(3);e.xp6(1),e.hij("Visualiser ",u.fileName,"")}}function qn(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"button",125),e.NdJ("click",function(){return e.CHM(u),e.oxw(3).hideDocument()}),e._uU(1),e.qZA()}if(2&M){const u=e.oxw(3);e.xp6(1),e.hij("Cacher ",u.fileName,"")}}function zn(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"button",122),e.NdJ("click",function(){return e.CHM(u),e.oxw(3).removeFileOrdre()}),e._UZ(1,"i",123),e.qZA()}}function Yn(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"div")(1,"button",126),e.NdJ("click",function(){return e.CHM(u),e.oxw(2).downloadCSVStruct()}),e._UZ(2,"i",127),e._uU(3," T\xe9l\xe9charger Structure CSV"),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"h5")(6,"i"),e._uU(7,"(Donneur d'ordre)"),e.qZA()(),e.YNc(8,mn,12,7,"form",58),e.TgZ(9,"form",59),e.YNc(10,An,12,7,"div",60),e._UZ(11,"br")(12,"br"),e.TgZ(13,"h5")(14,"i"),e._uU(15,"(B\xe9n\xe9ficiaire)"),e.qZA()(),e.TgZ(16,"div",34)(17,"div",92)(18,"label",128),e._uU(19,"T\xe9l\xe9charger fichier B\xe9n\xe9ficiaire "),e.qZA(),e.TgZ(20,"input",129,130),e.NdJ("change",function($){return e.CHM(u),e.oxw(2).uploadBenef($)}),e.qZA(),e.TgZ(22,"input",131),e.NdJ("click",function(){e.CHM(u);const $=e.MAs(21);return $.value="",$.click()}),e.qZA()(),e.TgZ(23,"div",132)(24,"div",133)(25,"span"),e._uU(26),e.qZA()()(),e.TgZ(27,"div",100),e.YNc(28,Cn,2,0,"button",101),e.qZA()(),e.TgZ(29,"div",102)(30,"div",134),e.YNc(31,Tn,21,1,"table",135),e.qZA()(),e.TgZ(32,"div",34)(33,"div",61)(34,"label",62),e._uU(35,"Montant total en chiffre"),e.TgZ(36,"b",63),e._uU(37,"*"),e.qZA()(),e.YNc(38,Sn,1,4,"input",136),e.YNc(39,kn,1,4,"input",137),e.YNc(40,Mn,2,1,"div",65),e.qZA(),e.TgZ(41,"div",61)(42,"label",62),e._uU(43,"Montant introduit"),e.qZA(),e._UZ(44,"input",66),e.qZA(),e.TgZ(45,"div",61)(46,"label",70),e._uU(47,"Motif"),e.TgZ(48,"b",63),e._uU(49,"*"),e.qZA()(),e.YNc(50,Fn,1,4,"input",138),e.YNc(51,In,1,4,"input",139),e.YNc(52,Bn,2,1,"div",65),e.qZA(),e.TgZ(53,"div",61)(54,"label",70),e._uU(55,"R\xe9f\xe9rence"),e.TgZ(56,"b",63),e._uU(57,"*"),e.qZA()(),e.YNc(58,On,1,4,"input",140),e.YNc(59,Nn,1,4,"input",141),e.YNc(60,Zn,2,1,"div",65),e.qZA()(),e.TgZ(61,"div",34)(62,"div",72)(63,"label",62),e._uU(64,"Montant format\xe9"),e.qZA(),e._UZ(65,"input",73),e.qZA(),e.TgZ(66,"div",74)(67,"label",62),e._uU(68,"Commentaire"),e.qZA(),e._UZ(69,"textarea",75),e.qZA()(),e.TgZ(70,"div",34)(71,"div",76)(72,"label",62),e._uU(73,"Montant en lettres"),e.qZA(),e._UZ(74,"input",77),e.qZA()(),e._UZ(75,"br"),e.TgZ(76,"div",34)(77,"div",92)(78,"label",142),e._uU(79,"Joindre ordre de virement "),e._UZ(80,"i",91),e.qZA(),e.TgZ(81,"input",143,144),e.NdJ("change",function($){return e.CHM(u),e.oxw(2).upload($)}),e.qZA(),e.TgZ(83,"input",145),e.NdJ("click",function(){e.CHM(u);const $=e.MAs(82);return $.value="",$.click()}),e.qZA(),e._UZ(84,"br")(85,"br"),e.TgZ(86,"div"),e._UZ(87,"br"),e.qZA()(),e.TgZ(88,"div",97),e.YNc(89,Un,2,1,"button",98),e.YNc(90,qn,2,1,"button",99),e.qZA(),e.TgZ(91,"div",100),e.YNc(92,zn,2,0,"button",101),e.qZA()(),e.TgZ(93,"div",102)(94,"div",35),e._UZ(95,"iframe",103),e.qZA()()(),e.TgZ(96,"div",34)(97,"div",104)(98,"div",92)(99,"button",146),e.NdJ("click",function(){return e.CHM(u),e.oxw(2).initiateVir("CSV")}),e._uU(100," Valider "),e.qZA()()()()()}if(2&M){const u=e.oxw(2);let I,$,Ze;e.xp6(8),e.Q6J("ngIf",!u.onetiers),e.xp6(1),e.Q6J("formGroup",u.virementFForm),e.xp6(1),e.Q6J("ngIf",u.choseTiers),e.xp6(16),e.hij(" ",u.fileNameBenef," "),e.xp6(2),e.Q6J("ngIf",(null==u.fileNameBenef?null:u.fileNameBenef.length)>0),e.xp6(3),e.Q6J("ngIf",u.records.length>0),e.xp6(7),e.Q6J("ngIf",1==u.records.length||0==u.records.length),e.xp6(1),e.Q6J("ngIf",u.records.length>1),e.xp6(1),e.Q6J("ngIf",(null==(I=u.virementFForm.get("mntTot"))?null:I.touched)&&(null==(I=u.virementFForm.get("mntTot"))?null:I.invalid)),e.xp6(10),e.Q6J("ngIf",1==u.records.length||0==u.records.length),e.xp6(1),e.Q6J("ngIf",u.records.length>1),e.xp6(1),e.Q6J("ngIf",(null==($=u.virementFForm.get("motif"))?null:$.touched)&&(null==($=u.virementFForm.get("motif"))?null:$.invalid)),e.xp6(6),e.Q6J("ngIf",1==u.records.length||0==u.records.length),e.xp6(1),e.Q6J("ngIf",u.records.length>1),e.xp6(1),e.Q6J("ngIf",(null==(Ze=u.virementFForm.get("reference"))?null:Ze.touched)&&(null==(Ze=u.virementFForm.get("reference"))?null:Ze.invalid)),e.xp6(29),e.Q6J("ngIf",(null==u.fileName?null:u.fileName.length)>0&&u.toshow),e.xp6(1),e.Q6J("ngIf",(null==u.fileName?null:u.fileName.length)>0&&!u.toshow),e.xp6(2),e.Q6J("ngIf",(null==u.fileName?null:u.fileName.length)>0),e.xp6(7),e.Q6J("disabled",u.tiersForm.invalid||u.virementFForm.invalid)}}function Hn(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function Wn(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,Hn,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(4);let $;e.xp6(1),e.Q6J("ngIf",(null==($=I.FMandatForm.get("motif"))?null:$.hasError(u.type))&&((null==($=I.FMandatForm.get("motif"))?null:$.dirty)||(null==($=I.FMandatForm.get("motif"))?null:$.touched)))}}function jn(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,Wn,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.motif)}}function Xn(M,Se){if(1&M&&(e.TgZ(0,"div",111),e._uU(1),e.qZA()),2&M){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.message,"")}}function Gn(M,Se){if(1&M&&(e.TgZ(0,"div"),e.YNc(1,Xn,2,1,"div",110),e.qZA()),2&M){const u=Se.$implicit,I=e.oxw(4);let $;e.xp6(1),e.Q6J("ngIf",(null==($=I.FMandatForm.get("reference"))?null:$.hasError(u.type))&&((null==($=I.FMandatForm.get("reference"))?null:$.dirty)||(null==($=I.FMandatForm.get("reference"))?null:$.touched)))}}function Jn(M,Se){if(1&M&&(e.TgZ(0,"div",109),e.YNc(1,Gn,2,1,"div",38),e.qZA()),2&M){const u=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",u.validation_messages.reference)}}function Qn(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"button",124),e.NdJ("click",function(){return e.CHM(u),e.oxw(3).showDocumentFM()}),e._uU(1),e.qZA()}if(2&M){const u=e.oxw(3);e.xp6(1),e.hij("Visualiser ",u.fileNameBenef,"")}}function $n(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"button",125),e.NdJ("click",function(){return e.CHM(u),e.oxw(3).hideDocumentFM()}),e._uU(1),e.qZA()}if(2&M){const u=e.oxw(3);e.xp6(1),e.hij("Cacher ",u.fileNameBenef,"")}}function Kn(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"button",122),e.NdJ("click",function(){return e.CHM(u),e.oxw(3).removeFMBenefFile()}),e._UZ(1,"i",123),e.qZA()}}function ea(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"button",124),e.NdJ("click",function(){return e.CHM(u),e.oxw(3).showDocument()}),e._uU(1),e.qZA()}if(2&M){const u=e.oxw(3);e.xp6(1),e.hij("Visualiser ",u.fileName,"")}}function ta(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"button",125),e.NdJ("click",function(){return e.CHM(u),e.oxw(3).hideDocument()}),e._uU(1),e.qZA()}if(2&M){const u=e.oxw(3);e.xp6(1),e.hij("Cacher ",u.fileName,"")}}function ia(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"button",122),e.NdJ("click",function(){return e.CHM(u),e.oxw(3).removeFileOrdreFM()}),e._UZ(1,"i",123),e.qZA()}}function na(M,Se){if(1&M){const u=e.EpF();e.TgZ(0,"div")(1,"form",59)(2,"div",34)(3,"div",72)(4,"label",70),e._uU(5,"Motif"),e.TgZ(6,"b",63),e._uU(7,"*"),e.qZA()(),e._UZ(8,"input",154),e.YNc(9,jn,2,1,"div",65),e.qZA(),e.TgZ(10,"div",72)(11,"label",70),e._uU(12,"R\xe9f\xe9rence"),e.TgZ(13,"b",63),e._uU(14,"*"),e.qZA()(),e._UZ(15,"input",155),e.YNc(16,Jn,2,1,"div",65),e.qZA(),e.TgZ(17,"div",72)(18,"label",62),e._uU(19,"Commentaire"),e.qZA(),e._UZ(20,"textarea",75),e.qZA()(),e._UZ(21,"br"),e.TgZ(22,"h5")(23,"i"),e._uU(24,"(B\xe9n\xe9ficiaire)"),e.qZA()(),e.TgZ(25,"div",34)(26,"div",92)(27,"label",128),e._uU(28,"T\xe9l\xe9charger fichier B\xe9n\xe9ficiaire "),e.qZA(),e.TgZ(29,"input",156,157),e.NdJ("change",function($){return e.CHM(u),e.oxw(2).uploadBenef($)}),e.qZA(),e.TgZ(31,"input",158),e.NdJ("click",function(){return e.CHM(u),e.MAs(30).click()}),e.qZA()(),e.TgZ(32,"div",159),e.YNc(33,Qn,2,1,"button",98),e.YNc(34,$n,2,1,"button",99),e.qZA(),e.TgZ(35,"div",100),e.YNc(36,Kn,2,0,"button",101),e.qZA()(),e.TgZ(37,"div",160)(38,"div",35)(39,"pre"),e._uU(40),e.qZA()()(),e._UZ(41,"br"),e.TgZ(42,"div",34)(43,"div",92)(44,"label",142),e._uU(45,"Joindre ordre de virement "),e._UZ(46,"i",91),e.qZA(),e.TgZ(47,"input",143,161),e.NdJ("change",function($){return e.CHM(u),e.oxw(2).upload($)}),e.qZA(),e.TgZ(49,"input",145),e.NdJ("click",function(){e.CHM(u);const $=e.MAs(48);return $.value="",$.click()}),e.qZA(),e._UZ(50,"br")(51,"br"),e.TgZ(52,"div"),e._UZ(53,"br"),e.qZA()(),e.TgZ(54,"div",97),e.YNc(55,ea,2,1,"button",98),e.YNc(56,ta,2,1,"button",99),e.qZA(),e.TgZ(57,"div",100),e.YNc(58,ia,2,0,"button",101),e.qZA()(),e.TgZ(59,"div",102)(60,"div",35),e._UZ(61,"iframe",103),e.qZA()(),e.TgZ(62,"div",34)(63,"div",104)(64,"div",92)(65,"button",162),e.NdJ("click",function(){return e.CHM(u),e.oxw(2).initiateVir("FM")}),e._uU(66," Enregistrer "),e.qZA()()()()()()}if(2&M){const u=e.oxw(2);let I,$,Ze,Ge;e.xp6(1),e.Q6J("formGroup",u.FMandatForm),e.xp6(7),e.Q6J("ngClass",e.WLB(13,d,(null==(I=u.FMandatForm.get("motif"))?null:I.touched)&&(null==(I=u.FMandatForm.get("motif"))?null:I.invalid),null==(I=u.FMandatForm.get("motif"))?null:I.valid)),e.xp6(1),e.Q6J("ngIf",(null==($=u.FMandatForm.get("motif"))?null:$.touched)&&(null==($=u.FMandatForm.get("motif"))?null:$.invalid)),e.xp6(6),e.Q6J("ngClass",e.WLB(16,d,(null==(Ze=u.FMandatForm.get("reference"))?null:Ze.touched)&&(null==(Ze=u.FMandatForm.get("reference"))?null:Ze.invalid),null==(Ze=u.FMandatForm.get("reference"))?null:Ze.valid)),e.xp6(1),e.Q6J("ngIf",(null==(Ge=u.FMandatForm.get("reference"))?null:Ge.touched)&&(null==(Ge=u.FMandatForm.get("reference"))?null:Ge.invalid)),e.xp6(17),e.Q6J("ngIf",(null==u.fileNameBenef?null:u.fileNameBenef.length)>0&&u.toshowfm),e.xp6(1),e.Q6J("ngIf",(null==u.fileNameBenef?null:u.fileNameBenef.length)>0&&!u.toshowfm),e.xp6(2),e.Q6J("ngIf",(null==u.fileNameBenef?null:u.fileNameBenef.length)>0),e.xp6(4),e.hij(" ",u.textfileContent," "),e.xp6(15),e.Q6J("ngIf",(null==u.fileName?null:u.fileName.length)>0&&u.toshow),e.xp6(1),e.Q6J("ngIf",(null==u.fileName?null:u.fileName.length)>0&&!u.toshow),e.xp6(2),e.Q6J("ngIf",(null==u.fileName?null:u.fileName.length)>0),e.xp6(7),e.Q6J("disabled",u.FMandatForm.invalid)}}function aa(M,Se){if(1&M&&(e.TgZ(0,"div",51)(1,"div",52)(2,"h5",53),e._uU(3,"Paiement Xpress"),e.qZA(),e.YNc(4,hn,160,59,"div",57),e.YNc(5,Yn,101,19,"div",57),e.YNc(6,na,67,19,"div",57),e.qZA()()),2&M){const u=e.oxw();e.xp6(4),e.Q6J("ngIf",u.isForm),e.xp6(1),e.Q6J("ngIf",u.isCSV),e.xp6(1),e.Q6J("ngIf",u.isFM)}}function ra(M,Se){if(1&M&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&M){const u=Se.$implicit;e.xp6(2),e.hij("",u.Fullname," "),e.xp6(2),e.Oqu(u.Amount),e.xp6(2),e.Oqu(u.NumeroPayement)}}const oa=[{path:"",component:w},{path:"update-virement/:id",component:xe,canActivate:[kt.a],data:{breadcrumb:{alias:"virementDetails"}}},{path:"create-virement",component:ue.B,canActivate:[kt.a],data:{breadcrumb:{alias:"virementDetails"}}},{path:"valider-virement",component:we,canActivate:[kt.a],data:{breadcrumb:{alias:"virementDetails"}}},{path:"valider-virement-initiateur",component:it,canActivate:[kt.a],data:{breadcrumb:{alias:"ValidationInitiateur"}}},{path:"consultation-virement",component:st,canActivate:[kt.a],data:{breadcrumb:{alias:"ConsultationVirement"}}},{path:"paiement-xpress",component:(()=>{class M{constructor(u,I,$,Ze,Ge,$e,rt){this.BenefServ=u,this.fb=I,this.http=$,this.router=Ze,this.auth=Ge,this.VirServ=$e,this.opImpService=rt,this.formatedAmount="",this.checkreference=!0,this.benefformModel=new Lt.z,this.benefformList=[],this.virementModel=new mi.T,this.records=[],this.virFileModel=new si.O,this.textfileContent="",this.PathReportString="",this.chargedData=!1,this.checkreferencebenef=!0,this.checkCardBenef=!0,this.checkribbenef=!0,this.motifcommun=!1,this.listTypeVir=["Carte","Compte","Wallet"],this.libDevise="DINARS",this.onetiers=!0,this.choseTiers=!1,this.ListTiers=[],this.hasTiersClient=!1,this.listTiers=[],this.benefModel=new Ot.O,this.listBenef=[],this.validation_messages={numcpt:[{type:"required",message:"Ce champs est obligatoire"}],tiers:[{type:"required",message:"Veuillez choisir un tiers"}],mntTot:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Valeur invalide"}],motif:[{type:"required",message:"Ce champs est obligatoire"}],nomBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Ce champ n'accepte pas des chiffres"}],prenomBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Ce champ n'accepte pas des chiffres"}],ribBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Le RIB doit \xeatre compos\xe9 de 20 chiffres"},{type:"checkControl",message:"Veuillez saisir un autre compte"}],cardBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Le n\xb0 de carte doit \xeatre compos\xe9 de 16 chiffres"},{type:"checkControl",message:"Veuillez saisir une autre carte"}],mntBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"pattern",message:"Valeur invalide"}],refBenef:[{type:"required",message:"Ce champs est obligatoire"},{type:"checkControl",message:"Veuillez saisir une autre r\xe9f\xe9rence"}],motifbenef:[{type:"required",message:"Ce champs est obligatoire"}],reference:[{type:"required",message:"Ce champs est obligatoire"},{type:"checkControl",message:"R\xe9f\xe9rence existe d\xe9j\xe0."}],referenceB:[{type:"required",message:"Ce champs est obligatoire"},{type:"checkControl",message:"Veuillez saisir une autre r\xe9f\xe9rence"}]},this.list0=[],this.listCompts=[],this.mntIntroduit=0,this.createForm()}ngOnInit(){this.chargedData=!0,this.motifcommun=!1,this.istrue=localStorage.getItem("istrue"),this.token=localStorage.getItem("token"),this.cuser=localStorage.getItem("cuser"),this.cuser=this.cuser.toLowerCase(),this.tiersForm.reset(),"true"==this.istrue?(this.isForm=!1,this.isCSV=!1,this.isFM=!1,this.isCSV=!0,this.cuser=localStorage.getItem("cuser"),this.auth.getTiersByIdDigital(this.token).subscribe(u=>{this.ListTiers=u,this.chargedData=!1,0==this.ListTiers.length?(this.onetiers=!0,this.choseTiers=!0,this.hasTiersClient=!0):1==this.ListTiers.length?(this.tiersClient=this.ListTiers[0].Referentiel,this.onetiers=!0,this.choseTiers=!0,this.hasTiersClient=!0,this.listTiers.push(this.tiersClient),this.tiersForm.controls.tiers.setValue(this.tiersClient),this.gettiers()):(this.createForm(),(null==this.tiersClient||""==this.tiersClient)&&(this.tiersClient=void 0),null!=this.tiersClient&&(this.hasTiersClient=!0),this.onetiers=!1)},u=>{this.chargedData=!1,-1!=u.indexOf("401")&&this.router.navigate(["/"])})):this.router.navigate(["/"])}checkReference(){var u,I,$;this.checkreference=!0,null===(u=this.virementFForm.get("reference"))||void 0===u||u.clearValidators(),null===(I=this.virementFForm.get("reference"))||void 0===I||I.addValidators(ce.kI.required),null===($=this.virementFForm.get("reference"))||void 0===$||$.updateValueAndValidity()}createForm(){this.tiersForm=this.fb.group({tiers:["",ce.kI.required]}),this.virementFForm=this.fb.group({numcpt:["",ce.kI.required],mntTot:new ce.NI("",ce.kI.compose([ce.kI.required,ce.kI.pattern("^[0-9,.]*$")])),formattedAmount:new ce.NI,amountLetters:new ce.NI,mntCalculated:new ce.NI,motif:["",ce.kI.required],comment:new ce.NI,fileCsv:new ce.NI,ordreVirement:new ce.NI,filenameO:"",filenameCSV:"",reference:["",ce.kI.required]}),this.benefForm=this.fb.group({nomBenef:new ce.NI("",ce.kI.compose([ce.kI.required,ce.kI.pattern("^([a-zA-Z ]*)$")])),prenomBenef:new ce.NI("",ce.kI.compose([ce.kI.required,ce.kI.pattern("^([a-zA-Z ]*)$")])),ribBenef:new ce.NI("",ce.kI.compose([ce.kI.required,ce.kI.pattern("^[0-9]{20}$")])),cardBenef:new ce.NI,mntBenef:new ce.NI("",ce.kI.compose([ce.kI.required,ce.kI.pattern("^[0-9,.]*$")])),referenceB:["",ce.kI.required],refBenef:new ce.NI,motifbenef:["",ce.kI.required],ordreVirementBenef:new ce.NI,fileNameOrdreF:"",typeVir:["",ce.kI.required]}),this.FMandatForm=this.fb.group({motif:["",ce.kI.required],reference:["",ce.kI.required],comment:new ce.NI,fileNameFM:["",ce.kI.required],fileFmondat:"",ordreVirement:new ce.NI,fileNameOrdreV:""})}countSubstring(u,I){let $=0,Ze=0;for(;Ze<u.length&&(Ze=u.indexOf(I,Ze),-1!==Ze);)$++,Ze+=I.length;return $}getAccountsBytiers(){var u;this.list0=[],this.listCompts=[],this.VirServ.MinimalByRef(this.token,null===(u=this.tiersForm.get("tiers"))||void 0===u?void 0:u.value).subscribe(I=>{this.listCompts=I.accounts;for(var $=0;$<this.listCompts.length;$++)this.list0.push(this.listCompts[$].account_routings[0])},I=>{-1!=I.indexOf("401")&&this.router.navigate(["/"])})}getAcc(){var u;let I=null===(u=this.virementFForm.get("numcpt"))||void 0===u?void 0:u.value,$="";for(var Ze=0;Ze<this.listCompts.length;Ze++)I==this.listCompts[Ze].account_routings[0].scheme&&($=this.listCompts[Ze].id);this.choseRib=!0,this.opImpService.getDataByAccount(this.token,$).subscribe(Ge=>{this.AccountName=Ge.fullname.replace("null"," ")},Ge=>{-1!=Ge.indexOf("401")&&this.router.navigate(["/"])})}gettiers(){var u;null===(u=this.virementFForm.controls.numcpt)||void 0===u||u.reset(),this.choseRib=!1,this.listTiers=[],this.choseTiers=!0,this.hasTiersClient=!0,this.listTiers.push(this.tiersClient),this.getAccountsBytiers()}getChosenType(u){this.isForm=!1,this.records=[],this.isCSV=!1,this.isFM=!1,this.listBenef=[],this.choseRib=!1,this.mntIntroduit=0,this.choseTiers=!1,1==this.ListTiers.length?this.choseTiers=!0:this.tiersForm.reset(),this.AccountName="",this.fileName="",this.fileNameBenef="",this.virementFForm.reset(),this.benefForm.reset(),this.FMandatForm.reset(),this.virementFForm.controls.reference.clearValidators(),this.virementFForm.controls.reference.addValidators([ce.kI.required]),this.virementFForm.controls.reference.updateValueAndValidity(),this.virementFForm.controls.fileCsv.clearValidators(),this.virementFForm.controls.fileCsv.updateValueAndValidity(),"Via Formulaire"==this.typechoice?this.isForm=!0:"Via fichier CSV"==this.typechoice?(this.virementFForm.controls.fileCsv.setValidators([ce.kI.required]),this.virementFForm.controls.fileCsv.updateValueAndValidity(),this.isCSV=!0):this.isFM=!0}getWord(u){this.opImpService.getWordFromAmount(u,this.token,this.libDevise,"MILLIMES").subscribe(I=>{this.virementFForm.controls.amountLetters.setValue(I.body)},I=>{-1!=I.indexOf("401")&&this.router.navigate(["/"])})}getWordByAmount(){var u=this.virementFForm.controls.formattedAmount.value.toString();this.getWord(u)}getFormatedAmount(){this.virementFForm.controls.amountLetters.reset(),this.virementFForm.controls.formattedAmount.reset(),this.valueletters="",this.opImpService.getFormatedAmount("TND",this.virementFForm.controls.mntTot.value,this.token).subscribe(u=>{this.virementFForm.controls.formattedAmount.setValue(u.body),this.formatedAmount=u.body,this.getWordByAmount()},u=>{-1!=u.indexOf("401")&&this.router.navigate(["/"])})}getMotif(){1==this.motifcommun&&this.benefForm.controls.motifbenef.setValue(this.virementFForm.controls.motif.value)}addBenefToTable(){var u,I,$,Ze,Ge,$e,rt,dt,xt,bt,pt,mt,yt,Tt;this.benefModel.benefFirstName=this.benefForm.controls.prenomBenef.value,this.benefModel.benefLastName=this.benefForm.controls.nomBenef.value;let _t=this.benefModel.benefFirstName+" "+this.benefModel.benefLastName;console.log(_t),this.benefModel.benefAmount=this.benefForm.controls.mntBenef.value,this.benefModel.benefReference=this.benefForm.controls.referenceB.value,this.benefModel.benefMotif=1==this.motifcommun?this.virementFForm.controls.motif.value:this.benefForm.controls.motifbenef.value,this.benefModel.benefIdentity=this.benefForm.controls.refBenef.value,this.benefModel.typeVirement=this.benefForm.controls.typeVir.value,"Carte"==this.benefModel.typeVirement?this.benefModel.numVirement=this.benefForm.controls.cardBenef.value:"Compte"==this.benefModel.typeVirement&&(this.benefModel.numVirement=this.benefForm.controls.ribBenef.value),this.benefModel.benefReference==this.virementFForm.controls.reference.value?(this.modalBody="La r\xe9f\xe9rence virement ne peut pas \xeatre la m\xeame du b\xe9n\xe9ficiaire",this.modalButtonLeft="OK",this.checkreferencebenef=!1,null===(u=document.getElementById("exampleModalLabelProcessedalert"))||void 0===u||u.setAttribute("style","color:blue;font-weight:bold"),null===(I=this.benefForm.get("referenceB"))||void 0===I||I.addValidators([(0,te.b)("referenceB",this.checkreferencebenef)]),null===($=this.benefForm.get("referenceB"))||void 0===$||$.updateValueAndValidity(),null===(Ze=document.getElementById("btnAlert"))||void 0===Ze||Ze.click()):this.listBenef.length>0?this.listBenef.some(vt=>vt.benefReference.toLocaleLowerCase()===this.benefModel.benefReference.toLocaleLowerCase())?(this.modalTitle="Alerte",this.modalBody="La r\xe9f\xe9rence du b\xe9n\xe9ficiaire que vous voudrez ajouter "+this.benefModel.benefReference+" existe d\xe9j\xe0",this.modalButtonLeft="OK",this.checkreferencebenef=!1,null===(Ge=document.getElementById("exampleModalLabelProcessedalert"))||void 0===Ge||Ge.setAttribute("style","color:blue;font-weight:bold"),null===($e=this.benefForm.get("referenceB"))||void 0===$e||$e.addValidators([(0,te.b)("referenceB",this.checkreferencebenef)]),null===(rt=this.benefForm.get("referenceB"))||void 0===rt||rt.updateValueAndValidity(),null===(dt=document.getElementById("btnAlert"))||void 0===dt||dt.click()):this.listBenef.some(vt=>vt.benefFirstName.toLocaleLowerCase()+" "+vt.benefLastName.toLocaleLowerCase()!=_t)?this.listBenef.some(vt=>vt.benefIdentity.toLocaleLowerCase()==this.benefModel.benefIdentity.toLocaleLowerCase())?(this.modalBody="Vous avez d\xe9j\xe0 ins\xe9rer un b\xe9n\xe9ficiaire ayant la matricule "+this.benefModel.benefIdentity+" mais avec un nom diff\xe9rent",this.modalButtonLeft="OK",null===(xt=document.getElementById("exampleModalLabelProcessedalert"))||void 0===xt||xt.setAttribute("style","color:blue;font-weight:bold"),null===(bt=document.getElementById("btnAlert"))||void 0===bt||bt.click()):this.listBenef.some(vt=>vt.numVirement==this.benefModel.numVirement)?(this.modalBody="Vous avez d\xe9j\xe0 ins\xe9rer un b\xe9n\xe9ficiaire ayant le num\xe9ro du paiement "+this.benefModel.numVirement+" mais avec un nom diff\xe9rent",this.modalButtonLeft="OK",null===(pt=document.getElementById("exampleModalLabelProcessedalert"))||void 0===pt||pt.setAttribute("style","color:blue;font-weight:bold"),null===(mt=document.getElementById("btnAlert"))||void 0===mt||mt.click()):this.listBenef.some(vt=>vt.benefAmount===this.benefModel.benefAmount)&&this.listBenef.some(vt=>vt.numVirement===this.benefModel.numVirement)?(this.modalTitle="Rappel",this.modalBody="B\xe9n\xe9ficiaire d\xe9j\xe0 existant",this.modalButtonLeft="Annuler",this.modalButtonRight="OK",null===(yt=document.getElementById("btnVerifexist"))||void 0===yt||yt.click()):(this.listBenef.push(this.benefModel),this.isCard=!1,this.isRib=!1,this.benefModel=new Ot.O,this.benefForm.controls.prenomBenef.reset(),this.benefForm.controls.nomBenef.reset(),this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.mntBenef.reset(),this.benefForm.controls.refBenef.reset(),0==this.motifcommun&&this.benefForm.controls.motifbenef.reset(),this.benefForm.controls.typeVir.reset(),this.benefForm.controls.cardBenef.reset(),this.benefForm.controls.referenceB.reset()):this.listBenef.some(vt=>vt.benefAmount===this.benefModel.benefAmount)&&this.listBenef.some(vt=>vt.numVirement===this.benefModel.numVirement)?(this.modalTitle="Rappel",this.modalBody="B\xe9n\xe9ficiaire d\xe9j\xe0 existant",this.modalButtonLeft="Annuler",this.modalButtonRight="OK",null===(Tt=document.getElementById("btnVerifexist"))||void 0===Tt||Tt.click()):(this.listBenef.push(this.benefModel),this.isCard=!1,this.isRib=!1,this.benefModel=new Ot.O,this.benefForm.controls.prenomBenef.reset(),this.benefForm.controls.nomBenef.reset(),this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.mntBenef.reset(),this.benefForm.controls.refBenef.reset(),0==this.motifcommun&&this.benefForm.controls.motifbenef.reset(),this.benefForm.controls.typeVir.reset(),this.benefForm.controls.cardBenef.reset(),this.benefForm.controls.referenceB.reset()):(this.listBenef.push(this.benefModel),this.benefModel=new Ot.O,this.isCard=!1,this.isRib=!1,this.benefForm.controls.prenomBenef.reset(),this.benefForm.controls.nomBenef.reset(),this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.mntBenef.reset(),this.benefForm.controls.refBenef.reset(),0==this.motifcommun&&this.benefForm.controls.motifbenef.reset(),this.benefForm.controls.typeVir.reset(),this.benefForm.controls.cardBenef.reset(),this.benefForm.controls.referenceB.reset())}controlMatricule(){var u,I;null===(u=this.benefForm.get("refBenef"))||void 0===u||u.clearValidators(),null===(I=this.benefForm.get("refBenef"))||void 0===I||I.updateValueAndValidity()}RemoveBenef(u){this.listBenef.splice(u,1)}EditBenef(u,I){this.benefForm.controls.nomBenef.setValue(u.benefLastName),this.benefForm.controls.prenomBenef.setValue(u.benefFirstName),this.benefForm.controls.ribBenef.setValue(u.numVirement),this.benefForm.controls.mntBenef.setValue(u.benefAmount),this.benefForm.controls.refBenef.setValue(u.benefIdentity),this.benefForm.controls.motifbenef.setValue(u.benefMotif),this.benefForm.controls.referenceB.setValue(u.benefReference),this.benefForm.controls.typeVir.setValue(u.typeVirement),"Carte"==u.typeVirement?(this.isCard=!0,this.isRib=!1,this.benefForm.controls.cardBenef.setValue(u.numVirement)):"Compte"==u.typeVirement&&(this.isCard=!1,this.isRib=!0,this.benefForm.controls.ribBenef.setValue(u.numVirement)),this.listBenef.splice(I,1)}Ok(){var u;this.listBenef.push(this.benefModel),this.benefModel=new Ot.O,this.benefForm.controls.prenomBenef.reset(),this.benefForm.controls.nomBenef.reset(),this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.mntBenef.reset(),this.benefForm.controls.refBenef.reset(),0==this.motifcommun&&this.benefForm.controls.motifbenef.reset(),this.benefForm.controls.typeVir.reset(),this.benefForm.controls.cardBenef.reset(),this.benefForm.controls.referenceB.reset(),null===(u=document.getElementById("dismissmodal"))||void 0===u||u.click()}initiateVir(u){var I,$,Ze,Ge,$e,rt,dt,xt,bt;if(this.chargedData=!0,"F"==u){this.virementModel.benefmultiple=[],this.benefformModel=new Lt.z,this.benefformList=[],null===(I=document.getElementById("btninit"))||void 0===I||I.setAttribute("disabled","disabled"),this.virementModel.AccountName=this.AccountName,this.virementModel.Comment=this.virementFForm.controls.comment.value,this.virementModel.Reference=this.virementFForm.controls.reference.value,this.virementModel.CommonCause=1==this.motifcommun?"O":"N",this.virementModel.FileOrdreVirement=this.benefForm.controls.fileNameOrdreF.value;let mt=localStorage.getItem("cuser");if(null!=mt&&(this.virementModel.RequestUser=mt),null==this.nom&&(this.nom=""),""==this.nom)this.virementModel.FileType="";else{let Rt=null===($=this.nom)||void 0===$?void 0:$.indexOf("."),zt=null===(Ze=this.nom)||void 0===Ze?void 0:Ze.substr(Rt+1);this.virementModel.FileType=zt}this.virementModel.FileName=this.nom;let yt=new Date;console.log(yt);let Tt=yt.getMonth()+1,_t=yt.getDate(),vt=yt.getFullYear(),Pt=yt.getHours(),ei=yt.getMinutes(),Ht=yt.getSeconds();this.virementModel.IdTransaction=Tt.toString()+_t.toString()+this.virementModel.Reference+vt.toString().substring(2)+Ht.toString()+ei.toString()+Pt.toString(),this.virementModel.OrderingCustomerAccount=this.virementFForm.controls.numcpt.value,this.virementModel.Reason=this.virementFForm.controls.motif.value,this.virementModel.TotalAmount=this.virementFForm.controls.mntTot.value,this.virementModel.TransactionType="Autre Virement",this.virementModel.sourcetype="FS";for(var pt=0;pt<this.listBenef.length;pt++)this.benefformModel.Amount=this.listBenef[pt].benefAmount,this.benefformModel.Fullname=this.listBenef[pt].benefFirstName+" "+this.listBenef[pt].benefLastName,this.benefformModel.benefFirstName=this.listBenef[pt].benefFirstName,this.benefformModel.benefLastName=this.listBenef[pt].benefLastName,this.benefformModel.Currency="788",this.benefformModel.PaymentNumber=this.listBenef[pt].numVirement,this.benefformModel.MeanOfPayment=16==this.benefformModel.PaymentNumber.length?"02":"01",this.benefformModel.Reason=this.listBenef[pt].benefMotif,this.benefformModel.Reference=this.listBenef[pt].benefReference,this.benefformModel.IdBenef=this.listBenef[pt].benefIdentity,this.benefformList.push(this.benefformModel),this.benefformModel=new Lt.z;this.virementModel.benefmultiple=this.benefformList,this.VirServ.createtransactionbenefmultiple(this.virementModel,this.token).subscribe(Rt=>{var zt,Je,Bt,Xt,Gt,Jt,Qt,$t,ai,oi,li,ci,di,hi,ui;this.reponseIV=Rt,"00"==this.reponseIV.ResponseCode?(this.msgAlert="Virement enregistr\xe9 avec succ\xe8s.",null!=document.getElementById("exampleModalLabelProcessed")&&(null===(zt=document.getElementById("exampleModalLabelProcessed"))||void 0===zt||zt.setAttribute("style","color:green;font-weight:bold")),null===(Je=document.getElementById("btnalertPopfresh"))||void 0===Je||Je.click()):"01"==this.reponseIV.ResponseCode?(this.msgAlert="V\xe9rifier vos entr\xe9es",null===(Bt=document.getElementById("exampleModalLabelProcessedpop"))||void 0===Bt||Bt.setAttribute("style","color:blue;font-weight:bold"),null===(Xt=document.getElementById("btnalertPop"))||void 0===Xt||Xt.click()):"11"==this.reponseIV.ResponseCode?(this.virementFForm.controls.mntCalculated.setValue(null==Rt?void 0:Rt.Status),this.msgAlert="La somme totale saisie n'est pas \xe9gale \xe0 celle du total b\xe9n\xe9ficiaire ("+(null==Rt?void 0:Rt.Status)+")",null===(Gt=document.getElementById("exampleModalLabelProcessedpop"))||void 0===Gt||Gt.setAttribute("style","color:red;font-weight:bold"),null===(Jt=document.getElementById("btnalertPop"))||void 0===Jt||Jt.click()):"02"==this.reponseIV.ResponseCode?(this.msgAlert="Veuillez r\xe9essayer plus tard (acc\xe8s)",null===(Qt=document.getElementById("exampleModalLabelProcessedpop"))||void 0===Qt||Qt.setAttribute("style","color:blue;font-weight:bold"),null===($t=document.getElementById("btnalertPop"))||void 0===$t||$t.click()):"05"==this.reponseIV.ResponseCode?(this.checkreference=!1,null===(ai=this.virementFForm.get("reference"))||void 0===ai||ai.addValidators([(0,te.b)("reference",this.checkreference)]),null===(oi=this.virementFForm.get("reference"))||void 0===oi||oi.updateValueAndValidity(),this.msgAlert="R\xe9f\xe9rence "+this.virementFForm.controls.reference.value+" existe d\xe9j\xe0.",null===(li=document.getElementById("exampleModalLabelProcessedpop"))||void 0===li||li.setAttribute("style","color:blue;font-weight:bold"),null===(ci=document.getElementById("btnalertPop"))||void 0===ci||ci.click()):(this.msgAlert="Merci de r\xe9essayer plus tard",null===(di=document.getElementById("exampleModalLabelProcessedpop"))||void 0===di||di.setAttribute("style","color:blue;font-weight:bold"),null===(hi=document.getElementById("btnalertPop"))||void 0===hi||hi.click()),null===(ui=document.getElementById("btninit"))||void 0===ui||ui.removeAttribute("disabled"),this.chargedData=!1},Rt=>{var zt;this.chargedData=!1,null===(zt=document.getElementById("btninit"))||void 0===zt||zt.removeAttribute("disabled"),-1!=Rt.indexOf("401")&&this.router.navigate(["/"])})}else if("CSV"==u){null===(Ge=document.getElementById("btncsv"))||void 0===Ge||Ge.setAttribute("disabled","disabled"),this.virFileModel.FichierCsvFmandat="02",this.virFileModel.OrderingCustomerAccount=this.virementFForm.controls.numcpt.value,this.virFileModel.FileName=this.fileNameBenef,this.virFileModel.Base64=this.virementFForm.controls.filenameCSV.value,this.virFileModel.Comment=this.virementFForm.controls.comment.value,this.virFileModel.Reason=this.virementFForm.controls.motif.value,this.virFileModel.MontantTotal=this.virementFForm.controls.mntTot.value,this.virFileModel.MontantIntroduit=this.virementFForm.controls.mntCalculated.value,this.virFileModel.MontantFormate=this.virementFForm.controls.formattedAmount.value,this.virFileModel.MontantLettre=this.virementFForm.controls.amountLetters.value;let mt=localStorage.getItem("cuser");null!=mt&&(this.virFileModel.RequestUser=mt);let yt=null===($e=this.nom)||void 0===$e?void 0:$e.indexOf("."),Tt=null===(rt=this.nom)||void 0===rt?void 0:rt.substr(yt+1);this.virFileModel.FileType=Tt,this.virFileModel.Reference=this.virementFForm.controls.reference.value,this.virFileModel.TransactionType="Paiement Xpress",this.virFileModel.FileOrdreVirement=this.virementFForm.controls.filenameO.value;let _t=new Date;console.log(_t);let vt=_t.getMonth()+1,Pt=_t.getDate(),ei=_t.getFullYear(),Ht=_t.getHours(),Rt=_t.getMinutes(),zt=_t.getSeconds();this.virFileModel.IdTransaction=vt.toString()+Pt.toString()+this.virFileModel.Reference+ei.toString().substring(2)+zt.toString()+Rt.toString()+Ht.toString(),console.log(this.virFileModel),this.VirServ.InitiationbyFmandatCsv(this.virFileModel,this.token).subscribe(Je=>{var Bt,Xt,Gt,Jt,Qt,$t,ai,oi,li,ci,di,hi,ui,vi,bi,xi,_i,yi,Ai,Ci,wi,Ti,Si,Bi,Oi,Ni,Di,Vi;if(this.RetourCompte=Je,null===(Bt=document.getElementById("btncsv"))||void 0===Bt||Bt.removeAttribute("disabled"),null===(Xt=document.getElementById("refcsv"))||void 0===Xt||Xt.setAttribute("disabled","true"),null===(Gt=document.getElementById("mntcsv"))||void 0===Gt||Gt.setAttribute("disabled","true"),null===(Jt=document.getElementById("motifcsv"))||void 0===Jt||Jt.setAttribute("disabled","true"),"00"==(null==Je?void 0:Je.OK)){this.pkhash=Je.Pkhash;let Mi={user:localStorage.getItem("cuser"),comment:"",pk:Je.Pkhash};this.validationinterne(Mi,Je.Pkhash)}else if((null===(Qt=this.RetourCompte)||void 0===Qt?void 0:Qt.length)>0)this.doublons=Je,this.msgAlert="2"==(null===($t=this.RetourCompte[1])||void 0===$t?void 0:$t.TotalLines)?"Des doublons ont \xe9t\xe9 d\xe9tect\xe9s au niveau du fichier.":"Virement enregistr\xe9 avec succ\xe8s. N.B: Des doublons ont \xe9t\xe9 d\xe9tect\xe9s au niveau du fichier.",null===(ai=document.getElementById("exampleModalLabelProcessedpopdoublons"))||void 0===ai||ai.setAttribute("style","color:blue;font-weight:bold"),null===(oi=document.getElementById("btnalertPopdoublons"))||void 0===oi||oi.click(),this.virementFForm.controls.fileCsv.reset();else if("07"==(null==Je?void 0:Je.StatusCode))this.virementFForm.controls.mntCalculated.setValue(null==Je?void 0:Je.CalculatedAmount),this.msgAlert="Le montant introduit n'est pas \xe9gale \xe0 la somme des montants dans le fichier ("+(null==Je?void 0:Je.CalculatedAmount)+")",null===(li=document.getElementById("exampleModalLabelProcessedpop"))||void 0===li||li.setAttribute("style","color:blue;font-weight:bold"),null===(ci=document.getElementById("btnalertPop"))||void 0===ci||ci.click(),this.chargedData=!1;else if("05"==(null==Je?void 0:Je.ResponseCode))this.msgAlert="Identifiant virement existe",null===(di=document.getElementById("exampleModalLabelProcessedpop"))||void 0===di||di.setAttribute("style","color:blue;font-weight:bold"),null===(hi=document.getElementById("btnalertPop"))||void 0===hi||hi.click(),this.chargedData=!1;else if("10"==(null==Je?void 0:Je.StatusCode))this.msgAlert="Le num\xe9ro de carte "+(null==Je?void 0:Je.Ref)+" est invalide",null===(ui=document.getElementById("exampleModalLabelProcessedpop"))||void 0===ui||ui.setAttribute("style","color:blue;font-weight:bold"),this.virementFForm.controls.fileCsv.reset(),null===(vi=document.getElementById("btnalertPop"))||void 0===vi||vi.click(),this.chargedData=!1;else if("11"==(null==Je?void 0:Je.StatusCode)){let Mi=null==Je?void 0:Je.Ref;1==this.countSubstring(null==Je?void 0:Je.Ref,",")&&(Mi=null==Je?void 0:Je.Ref.replace(",","")),this.msgAlert="1"==(null==Je?void 0:Je.TotalLines)?"Le num\xe9ro de paiement suivant est \xe9rron\xe9: "+Mi:"Votre demande \xe0 \xe9t\xe9 bien enregistr\xe9. N.B: Le(s) num\xe9ro(s) de paiement suivant(s) est/sont \xe9rron\xe9(s): "+Mi,null===(bi=document.getElementById("exampleModalLabelProcessed"))||void 0===bi||bi.setAttribute("style","color:blue;font-weight:bold"),this.virementFForm.controls.fileCsv.reset(),null===(xi=document.getElementById("btnalertPopfresh"))||void 0===xi||xi.click()}else"12"==(null==Je?void 0:Je.ResponseCode)?(null===(_i=document.getElementById("refcsv"))||void 0===_i||_i.setAttribute("disabled","true"),null===(yi=document.getElementById("mntcsv"))||void 0===yi||yi.setAttribute("disabled","true"),null===(Ai=document.getElementById("motifcsv"))||void 0===Ai||Ai.setAttribute("disabled","true"),this.msgAlert="R\xe9f\xe9rence "+this.virementFForm.controls.reference.value+" existante",null===(Ci=document.getElementById("exampleModalLabelProcessedpop"))||void 0===Ci||Ci.setAttribute("style","color:blue;font-weight:bold"),null===(wi=document.getElementById("btnalertPop"))||void 0===wi||wi.click(),this.chargedData=!1):"Fichier erron\xe9"==(null==Je?void 0:Je.OBP2)?(this.msgAlert="Fichier erron\xe9",null===(Ti=document.getElementById("exampleModalLabelProcessedpop"))||void 0===Ti||Ti.setAttribute("style","color:red;font-weight:bold"),this.virementFForm.controls.fileCsv.reset(),null===(Si=document.getElementById("btnalertPop"))||void 0===Si||Si.click(),this.chargedData=!1):(this.msgAlert="Veuillez r\xe9essayer plus tard",null===(Bi=document.getElementById("exampleModalLabelProcessed"))||void 0===Bi||Bi.setAttribute("style","color:blue;font-weight:bold"),null===(Oi=document.getElementById("btnalertPopfresh"))||void 0===Oi||Oi.click());1==this.records.length&&(this.virementFForm.controls.mntTot.setValue(this.records[0].MONTANT),this.getFormatedAmount(),this.virementFForm.controls.motif.setValue(this.records[0].MOTIF),this.virementFForm.controls.reference.setValue(this.records[0].REFERENCE),null===(Ni=document.getElementById("refcsv"))||void 0===Ni||Ni.setAttribute("disabled","true"),null===(Di=document.getElementById("mntcsv"))||void 0===Di||Di.setAttribute("disabled","true"),null===(Vi=document.getElementById("motifcsv"))||void 0===Vi||Vi.setAttribute("disabled","true"))},Je=>{var Bt;this.chargedData=!1,null===(Bt=document.getElementById("btncsv"))||void 0===Bt||Bt.setAttribute("disabled","disabled"),-1!=Je.indexOf("401")&&this.router.navigate(["/"])})}else{null===(dt=document.getElementById("btnfm"))||void 0===dt||dt.setAttribute("disabled","disabled"),this.virFileModel.FileName=this.fileNameBenef,this.virFileModel.Base64=this.FMandatForm.controls.fileNameFM.value;let mt=null===(xt=this.nom)||void 0===xt?void 0:xt.indexOf("."),yt=null===(bt=this.nom)||void 0===bt?void 0:bt.substr(mt+1);this.virFileModel.FileType=yt;let Tt=localStorage.getItem("cuser");null!=Tt&&(this.virFileModel.RequestUser=Tt),this.virFileModel.Reference=this.FMandatForm.controls.reference.value,this.virFileModel.TransactionType="Virement Salaire",this.virFileModel.FileOrdreVirement=this.FMandatForm.controls.fileNameOrdreV.value,this.virFileModel.Comment=this.FMandatForm.controls.comment.value,this.virFileModel.Reason=this.FMandatForm.controls.motif.value,this.virFileModel.FichierCsvFmandat="01";let _t=new Date;console.log(_t);let vt=_t.getMonth()+1,Pt=_t.getDate(),ei=_t.getFullYear(),Ht=_t.getHours(),Rt=_t.getMinutes(),zt=_t.getSeconds();this.virFileModel.IdTransaction=vt.toString()+Pt.toString()+this.virFileModel.Reference+ei.toString().substring(2)+zt.toString()+Rt.toString()+Ht.toString(),this.VirServ.InitiationbyFmandatCsv(this.virFileModel,this.token).subscribe(Je=>{var Bt,Xt,Gt,Jt,Qt,$t,ai,oi,li,ci,di,hi,ui,vi,bi,xi,_i,yi,Ai,Ci,wi,Ti;if(this.chargedData=!1,this.RetourCompte=Je,null===(Bt=document.getElementById("btnfm"))||void 0===Bt||Bt.removeAttribute("disabled"),"00"==(null==Je?void 0:Je.OK))this.msgAlert="Virement enregistr\xe9 avec succ\xe8s",null===(Xt=document.getElementById("exampleModalLabelProcessed"))||void 0===Xt||Xt.setAttribute("style","color:green;font-weight:bold"),null===(Gt=document.getElementById("btnalertPopfresh"))||void 0===Gt||Gt.click();else if((null===(Jt=this.RetourCompte)||void 0===Jt?void 0:Jt.length)>0)this.doublons=Je,this.msgAlert="Virement enregistr\xe9 avec succ\xe8s. N.B: Des doublons ont \xe9t\xe9 d\xe9tect\xe9s au niveau du fichier.",null===(Qt=document.getElementById("exampleModalLabelProcessedpopdoublons"))||void 0===Qt||Qt.setAttribute("style","color:blue;font-weight:bold"),null===($t=document.getElementById("btnalertPopdoublons"))||void 0===$t||$t.click();else if("07"==(null==Je?void 0:Je.StatusCode))this.virementFForm.controls.mntCalculated.setValue(null==Je?void 0:Je.CalculatedAmount),this.msgAlert="Le montant introduit n'est pas \xe9gale \xe0 la somme des montants dans le fichier ("+(null==Je?void 0:Je.CalculatedAmount)+")",null===(ai=document.getElementById("exampleModalLabelProcessedpop"))||void 0===ai||ai.setAttribute("style","color:blue;font-weight:bold"),null===(oi=document.getElementById("btnalertPop"))||void 0===oi||oi.click();else if("05"==(null==Je?void 0:Je.ResponseCode))this.msgAlert="Identifiant virement existe",null===(li=document.getElementById("exampleModalLabelProcessedpop"))||void 0===li||li.setAttribute("style","color:blue;font-weight:bold"),null===(ci=document.getElementById("btnalertPop"))||void 0===ci||ci.click();else if("12"==(null==Je?void 0:Je.ResponseCode))this.msgAlert="R\xe9f\xe9rence virement existe",null===(di=document.getElementById("exampleModalLabelProcessedpop"))||void 0===di||di.setAttribute("style","color:blue;font-weight:bold"),null===(hi=document.getElementById("btnalertPop"))||void 0===hi||hi.click();else if("11"==(null==Je?void 0:Je.StatusCode)){let Si=null==Je?void 0:Je.Ref;1==this.countSubstring(null==Je?void 0:Je.Ref,",")&&(Si=null==Je?void 0:Je.Ref.replace(",","")),this.msgAlert="Votre demande \xe0 \xe9t\xe9 bien enregistr\xe9. N.B: Le(s) num\xe9ro(s) de paiement suivant(s) est/sont \xe9rron\xe9(s): "+Si,null===(ui=document.getElementById("exampleModalLabelProcessed"))||void 0===ui||ui.setAttribute("style","color:blue;font-weight:bold"),this.virementFForm.controls.fileCsv.reset(),null===(vi=document.getElementById("btnalertPopfresh"))||void 0===vi||vi.click()}else"Fichier erron\xe9"==(null==Je?void 0:Je.OBP2)?(this.msgAlert="Fichier erron\xe9",null===(bi=document.getElementById("exampleModalLabelProcessedpop"))||void 0===bi||bi.setAttribute("style","color:red;font-weight:bold"),null===(xi=document.getElementById("alertPop"))||void 0===xi||xi.setAttribute("class","modal fade  show"),null===(_i=document.getElementById("btnalertPop"))||void 0===_i||_i.click()):"Forbidden"==(null==Je?void 0:Je.Status)?(this.msgAlert="Vous n'\xeates pas autoris\xe9 \xe0 d\xe9biter le compte existant dans le fichier choisi.",null===(yi=document.getElementById("exampleModalLabelProcessedpop"))||void 0===yi||yi.setAttribute("style","color:red;font-weight:bold"),null===(Ai=document.getElementById("alertPop"))||void 0===Ai||Ai.setAttribute("class","modal fade  show"),null===(Ci=document.getElementById("btnalertPop"))||void 0===Ci||Ci.click()):(this.msgAlert="Veuillez r\xe9essayer plus tard",null===(wi=document.getElementById("exampleModalLabelProcessed"))||void 0===wi||wi.setAttribute("style","color:blue;font-weight:bold"),null===(Ti=document.getElementById("btnalertPopfresh"))||void 0===Ti||Ti.click())},Je=>{var Bt;this.chargedData=!1,null===(Bt=document.getElementById("btnfm"))||void 0===Bt||Bt.removeAttribute("disabled"),-1!=Je.indexOf("401")&&this.router.navigate(["/"])})}}validationinterne(u,I){this.VirServ.ValidateTransactionInitiation(u,this.token).subscribe($=>{var Ze,Ge,$e,rt,dt;this.responseWS=$,"403"==(null===(Ze=this.responseWS)||void 0===Ze?void 0:Ze.OBP)?(this.msgAlert="Vous n'avez pas le droit de valider cette transaction enregistr\xe9e.",null===(Ge=document.getElementById("btnalertPopfresh"))||void 0===Ge||Ge.click()):"00"==(null===($e=this.responseWS)||void 0===$e?void 0:$e.status)?this.PreValiderVirement(I):(this.msgAlert="Veuillez r\xe9essayer plus tard.",null===(rt=document.getElementById("exampleModalLabelProcessed"))||void 0===rt||rt.setAttribute("style","color:blue;font-weight:bold"),null===(dt=document.getElementById("btnalertPopfresh"))||void 0===dt||dt.click())},$=>{console.log("error API"),-1!=$.indexOf("401")&&this.router.navigate(["/"])})}PreValiderVirement(u){console.log(this.virementFForm.controls.formattedAmount.value+" "+this.formatedAmount);let $={AppName:"DigiCorp",Amount:this.formatedAmount,pkHash:u,FinalValidation:"true",UserValidation:{Username:localStorage.getItem("cuser"),MeanofValidation:"01",Canal:"01"}};this.VirServ.prevalidatetransaction($,this.token).subscribe(Ze=>{var Ge,$e,rt;this.dataRet=Ze,"00"==this.dataRet.ResponseCode?(document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",null===(Ge=document.getElementById("ModalCompare"))||void 0===Ge||Ge.setAttribute("class","modal fade  show"),this.element1=document.getElementById("input1"),this.element1.focus()):"10"==this.dataRet.ResponseCode&&(this.msgAlert=this.dataRet.Status,null===($e=document.getElementById("exampleModalLabelProcessed"))||void 0===$e||$e.setAttribute("style","color:blue;font-weight:bold"),null===(rt=document.getElementById("btnalertPopfresh"))||void 0===rt||rt.click()),this.chargedData=!1},Ze=>{this.chargedData=!1,console.log("error API"),-1!=Ze.indexOf("401")&&this.router.navigate(["/"])})}FermerOTP(){var u;null===(u=document.getElementById("ModalCompare"))||void 0===u||u.setAttribute("class","modal fade  hide")}ValiderOtpDelivrance(){var u;this.chargedData=!0,null===(u=document.getElementById("otpvalidation"))||void 0===u||u.setAttribute("disabled","disabled");var I=document.getElementById("input1").value,$=document.getElementById("input2").value,Ze=document.getElementById("input3").value,Ge=document.getElementById("input4").value,$e=document.getElementById("input5").value;let dt={Amount:this.virementFForm.controls.formattedAmount.value,pkHash:this.pkhash,Status:"",RejectReason:"",Otp:I+$+Ze+Ge+$e,UserValidation:{Username:localStorage.getItem("cuser")}};this.VirServ.validatetransaction(dt,this.token).subscribe(xt=>{var bt,pt,mt,yt,Tt,_t,vt,Pt,ei,Ht,Rt,zt,Je,Bt,Xt,Gt,Jt,Qt,$t,ai;this.dataRet=xt,this.chargedData=!1,null===(bt=document.getElementById("otpvalidation"))||void 0===bt||bt.removeAttribute("disabled"),"00"==this.dataRet.ResponseCode?(document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",null===(pt=document.getElementById("ModalCompare"))||void 0===pt||pt.setAttribute("class","modal fade  hide"),this.msgAlert="Virement effectu\xe9 avec succ\xe8s.",null===(mt=document.getElementById("exampleModalLabelProcessed"))||void 0===mt||mt.setAttribute("style","color:green;font-weight:bold"),null===(yt=document.getElementById("btnalertPopfresh"))||void 0===yt||yt.click()):"10"==this.dataRet.ResponseCode?(this.msgAlert=this.dataRet.Status,null===(Tt=document.getElementById("ModalCompare"))||void 0===Tt||Tt.setAttribute("class","modal fade  hide"),null===(_t=document.getElementById("exampleModalLabelProcessed"))||void 0===_t||_t.setAttribute("style","color:blue;font-weight:bold"),null===(vt=document.getElementById("btnalertPopfresh"))||void 0===vt||vt.click()):"06"==this.dataRet.ResponseCode?(document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",this.msgAlert="Veuillez r\xe9essayer plus tard",null===(Pt=document.getElementById("ModalCompare"))||void 0===Pt||Pt.setAttribute("class","modal fade  hide"),null===(ei=document.getElementById("exampleModalLabelProcessed"))||void 0===ei||ei.setAttribute("style","color:blue;font-weight:bold"),null===(Ht=document.getElementById("btnalertPopfresh"))||void 0===Ht||Ht.click()):"99"==this.dataRet.ResponseCode?(document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",null===(Rt=document.getElementById("ModalCompare"))||void 0===Rt||Rt.setAttribute("class","modal fade  hide"),this.msgAlert="Veuillez r\xe9essayer plus tard. "+(null===(zt=this.dataRet)||void 0===zt?void 0:zt.RejectMessage)+".",null===(Je=document.getElementById("exampleModalLabelProcessed"))||void 0===Je||Je.setAttribute("style","color:blue;font-weight:bold"),null===(Bt=document.getElementById("btnalertPopfresh"))||void 0===Bt||Bt.click()):"01"==this.dataRet.ResponseCode?(document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",this.msgAlert="Code OTP invalide",null===(Xt=document.getElementById("ModalCompare"))||void 0===Xt||Xt.setAttribute("class","modal fade  hide"),null===(Gt=document.getElementById("exampleModalLabelProcessedpop"))||void 0===Gt||Gt.setAttribute("style","color:red;font-weight:bold"),null===(Jt=document.getElementById("btnalertPop"))||void 0===Jt||Jt.click()):(document.getElementById("input1").value="",document.getElementById("input2").value="",document.getElementById("input3").value="",document.getElementById("input4").value="",document.getElementById("input5").value="",this.msgAlert="Veuillez r\xe9essayer plus tard",null===(Qt=document.getElementById("ModalCompare"))||void 0===Qt||Qt.setAttribute("class","modal fade  hide"),null===($t=document.getElementById("exampleModalLabelProcessedpop"))||void 0===$t||$t.setAttribute("style","color:blue;font-weight:bold"),null===(ai=document.getElementById("btnalertPop"))||void 0===ai||ai.click())},xt=>{var bt,pt,mt,yt;console.log("error API"),this.chargedData=!1,this.msgAlert="Veuillez r\xe9essayer plus tard",null===(bt=document.getElementById("ModalCompare"))||void 0===bt||bt.setAttribute("class","modal fade  hide"),null===(pt=document.getElementById("exampleModalLabelProcessedpop"))||void 0===pt||pt.setAttribute("style","color:blue;font-weight:bold"),null===(mt=document.getElementById("btnalertPop"))||void 0===mt||mt.click(),null===(yt=document.getElementById("otpvalidation"))||void 0===yt||yt.removeAttribute("disabled"),-1!=xt.indexOf("401")&&this.router.navigate(["/"])})}FermerAlertAvecRefresh(){var u;null===(u=document.getElementById("alertPopfresh"))||void 0===u||u.setAttribute("class","modal fade  hide"),location.reload()}uploadBenef(u){var I,$;this.fileNameBenef="",this.textfileContent="",this.records=[],u.target.files&&u.target.files[0]&&(this.isCSV?-1==u.target.files[0].type.toString().indexOf("csv")?(this.modalTitle="Alerte",this.modalBody="Veuillez choisir un document type CSV",this.modalButtonLeft="Fermer",null===(I=document.getElementById("btnAlert"))||void 0===I||I.click(),this.FMandatForm.controls.fileCsv.reset()):this.uploadListener(u):this.isFM&&(-1==u.target.files[0].type.toString().indexOf("plain")?(this.modalTitle="Alerte",this.modalBody="Veuillez choisir un document type text/plain",this.modalButtonLeft="Fermer",null===($=document.getElementById("btnAlert"))||void 0===$||$.click(),this.FMandatForm.controls.fileFmondat.reset()):this.uploadbeneffile(u)))}removeFMBenefFile(){this.FMandatForm.controls.fileFmondat.reset(),this.FMandatForm.controls.fileNameFM.reset(),this.fileNameBenef="",this.textfileContent="",this.hideDocumentFM()}removeFileOrdreForm(){this.benefForm.controls.ordreVirementBenef.reset(),this.fileName="",this.hideDocument()}removeFileOrdreFM(){this.FMandatForm.controls.ordreVirement.reset(),this.FMandatForm.controls.fileNameOrdreV.reset(),this.fileName="",this.PathReportString="",this.hideDocument()}removeFileOrdre(){this.virementFForm.controls.ordreVirement.reset(),this.virementFForm.controls.filenameO.reset(),this.fileName="",this.hideDocument()}removeCsvBenefFile(){var u,I,$;this.virementFForm.controls.fileCsv.reset(),this.virementFForm.controls.filenameCSV.reset(),this.fileNameBenef="",1==this.records.length&&(this.virementFForm.controls.mntTot.reset(),this.virementFForm.controls.motif.reset(),this.virementFForm.controls.reference.reset(),this.virementFForm.controls.mntCalculated.reset(),this.virementFForm.controls.formattedAmount.reset(),this.virementFForm.controls.amountLetters.reset(),this.virementFForm.controls.mntTot.updateValueAndValidity(),this.virementFForm.controls.motif.updateValueAndValidity(),this.virementFForm.controls.reference.updateValueAndValidity(),this.virementFForm.controls.mntCalculated.updateValueAndValidity(),this.virementFForm.controls.formattedAmount.updateValueAndValidity(),this.virementFForm.controls.amountLetters.updateValueAndValidity(),null===(u=document.getElementById("refcsv"))||void 0===u||u.removeAttribute("disabled"),null===(I=document.getElementById("mntcsv"))||void 0===I||I.removeAttribute("disabled"),null===($=document.getElementById("motifcsv"))||void 0===$||$.removeAttribute("disabled")),this.records=[]}uploadbeneffile(u){this.hideDocumentFM();var I=new FileReader;this.fileNameBenef=u.target.files[0].name,this.filefmandat=this.fileNameBenef;let $=this;$.textfileContent="",console.log(this.fileNameBenef),I.onload=Ze=>{null!=I.result&&($.textfileContent=I.result);let $e,Ge=Ze.target;null!=Ge&&($e=Ge.result),null!=$e&&(this.base=btoa($e.toString())),this.FMandatForm.controls.fileNameFM.setValue(this.base)},this.nom=u.target.files[0].name,I.readAsText(u.target.files[0]),this.toshowfm=!0}upload(u){var I;this.fileName="",this.PathReportString="";let $=document.getElementById("ifrm");if(null!=$&&($.style.display="none"),u.target.files&&u.target.files[0])if(-1!=u.target.files[0].type.toString().indexOf("image")||-1!=u.target.files[0].type.toString().indexOf("pdf")){console.log("image or pdf");var Ze=new FileReader;this.fileName=u.target.files[0].name,Ze.onload=Ge=>{this.filePath=Ge.target.result;var $e=this.filePath.toString().indexOf(",");this.base=this.filePath.toString().substr($e+1,this.filePath.toString().length),this.isFM?this.FMandatForm.controls.fileNameOrdreV.setValue(this.base):this.isCSV?this.virementFForm.controls.filenameO.setValue(this.base):this.benefForm.controls.fileNameOrdreF.setValue(this.base),this.PathReportString=this.filePath,this.toshow=!0},this.nom=u.target.files[0].name,Ze.readAsDataURL(u.target.files[0])}else console.log("not image nor pdf"),this.modalTitle="Alerte",this.modalBody="Veuillez choisir un document type image ou bien PDF",this.modalButtonLeft="Fermer",null===(I=document.getElementById("btnAlert"))||void 0===I||I.click()}test(){}getTypeVirement(){this.benefForm.controls.ribBenef.reset(),this.benefForm.controls.cardBenef.reset(),this.benefForm.controls.ribBenef.clearValidators(),this.benefForm.controls.cardBenef.clearValidators(),this.benefForm.controls.ribBenef.updateValueAndValidity(),this.benefForm.controls.cardBenef.updateValueAndValidity(),this.isCard=!1,this.isRib=!1,"carte"==this.benefForm.controls.typeVir.value.toLowerCase()?(this.benefForm.controls.cardBenef.setValidators([ce.kI.required,ce.kI.pattern("^[0-9]{16}$")]),this.isCard=!0):"compte"==this.benefForm.controls.typeVir.value.toLowerCase()&&(this.benefForm.controls.ribBenef.setValidators([ce.kI.required,ce.kI.pattern("^[0-9]{20}$")]),this.isRib=!0),this.benefForm.controls.ribBenef.updateValueAndValidity(),this.benefForm.controls.cardBenef.updateValueAndValidity()}getMotifCommun(u){if(this.benefForm.controls.motifbenef.reset(),this.motifcommun=null==u?void 0:u.target.checked,1==(null==u?void 0:u.target.checked)){var I=document.getElementById("motifbenef");document.getElementById("motifopt").style.display="none",I.disabled=!0,this.benefForm.controls.motifbenef.clearValidators(),this.benefForm.controls.motifbenef.updateValueAndValidity(),this.benefForm.controls.motifbenef.setValue(this.virementFForm.controls.motif.value)}else this.benefForm.controls.motifbenef.addValidators(ce.kI.required),this.benefForm.controls.motifbenef.updateValueAndValidity(),I=document.getElementById("motifbenef"),document.getElementById("motifopt").style.display="inline",I.disabled=!1}isValidCSVFile(u){return u.name.endsWith(".csv")}getDataRecordsArrayFromCSVFile(u,I){var $,Ze,Ge,$e,rt,dt,xt,bt,pt,mt,yt;let Tt=[];for(let _t=1;_t<u.length;_t++){let vt=u[_t].split(";");if(vt.length==I){let Pt=new fi.t;Pt.NOM=null===($=vt[0])||void 0===$?void 0:$.trim(),Pt.MATRICULE=null===(Ze=vt[1])||void 0===Ze?void 0:Ze.trim(),Pt.NUMPAIEMENT=null===(Ge=vt[2])||void 0===Ge?void 0:Ge.trim(),Pt.TELBENEF=null===($e=vt[3])||void 0===$e?void 0:$e.trim(),Pt.EMAILBENEF=null===(rt=vt[4])||void 0===rt?void 0:rt.trim(),Pt.MONTANT=null===(dt=vt[5])||void 0===dt?void 0:dt.trim(),Pt.REFERENCE=null===(xt=vt[6])||void 0===xt?void 0:xt.trim(),Pt.MOTIF=null===(bt=vt[7])||void 0===bt?void 0:bt.trim(),Tt.push(Pt)}}return 1==Tt.length&&(this.virementFForm.controls.mntTot.setValue(Tt[0].MONTANT),this.getFormatedAmount(),this.virementFForm.controls.motif.setValue(Tt[0].MOTIF),this.virementFForm.controls.reference.setValue(Tt[0].REFERENCE),null===(pt=document.getElementById("refcsv"))||void 0===pt||pt.setAttribute("disabled","true"),null===(mt=document.getElementById("mntcsv"))||void 0===mt||mt.setAttribute("disabled","true"),null===(yt=document.getElementById("motifcsv"))||void 0===yt||yt.setAttribute("disabled","true")),Tt}getHeaderArray(u){let I=u[0].split(","),$=[];for(let Ze=0;Ze<I.length;Ze++)$.push(I[Ze]);return $}uploadListener(u){let $=u.srcElement.files;if(this.fileNameBenef=u.target.files[0].name,this.isValidCSVFile($[0])){var Ze=new FileReader;Ze.onload=$e=>{this.filePath=$e.target.result;var rt=this.filePath.toString().replace("data:application/vnd.ms-excel;base64,","");this.base=rt.replace("data:text/csv;base64,",""),this.virementFForm.controls.filenameCSV.setValue(this.base)},Ze.readAsDataURL(u.target.files[0]),this.uploadListener2(u),Ze.onerror=function(){}}else alert("Please import valid .csv file."),this.fileReset()}uploadListener2(u){let $=u.srcElement.files;if(this.fileNameBenef=u.target.files[0].name,this.isValidCSVFile($[0])){let Ze=u.target,Ge=new FileReader;Ge.readAsText(Ze.files[0]),Ge.onload=$e=>{let dt=Ge.result.split(/\r\n|\n/),bt=(this.getHeaderArray(dt),dt[0].split(";"));this.records=this.getDataRecordsArrayFromCSVFile(dt,bt.length)},Ge.onerror=function(){}}else alert("Please import valid .csv file."),this.fileReset()}fileReset(){this.csvReader.nativeElement.value="",this.records=[]}ControlRIB(){var u,I,$,Ze,Ge;null===(u=this.benefForm.get("ribBenef"))||void 0===u||u.clearValidators(),null===(I=this.benefForm.get("ribBenef"))||void 0===I||I.updateValueAndValidity(),null===($=this.benefForm.get("ribBenef"))||void 0===$||$.setValidators([ce.kI.required,ce.kI.pattern("^[0-9]{20}$")]),null===(Ze=this.benefForm.get("ribBenef"))||void 0===Ze||Ze.updateValueAndValidity();let $e=null===(Ge=this.benefForm.get("ribBenef"))||void 0===Ge?void 0:Ge.value;if(20==$e.length){let rt={NumeroCompte:$e};null!=$e&&null!=$e&&""!=$e&&this.BenefServ.ControlAccountBenef(rt,this.token).subscribe(dt=>{var xt,bt,pt,mt,yt,Tt,_t,vt;this.RetourCompte=dt,("01"==this.RetourCompte.ResponseCode||"99"==this.RetourCompte.ResponseCode)&&(this.checkribbenef=!1,null===(xt=this.benefForm.get("ribBenef"))||void 0===xt||xt.addValidators([(0,te.b)("ribBenef",this.checkribbenef)]),null===(bt=this.benefForm.get("ribBenef"))||void 0===bt||bt.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="V\xe9rifier le  RIB en input !",this.modalButtonLeft="OK",null===(pt=document.getElementById("exampleModalLabelProcessedalert"))||void 0===pt||pt.setAttribute("style","color:red;font-weight:bold;text-align: center;"),null===(mt=document.getElementById("btnAlert"))||void 0===mt||mt.click()),"00"==this.RetourCompte.ResponseCode&&("Active"!=this.RetourCompte.Status?(this.checkribbenef=!1,null===(yt=this.benefForm.get("ribBenef"))||void 0===yt||yt.addValidators([(0,te.b)("ribBenef",this.checkribbenef)]),null===(Tt=this.benefForm.get("ribBenef"))||void 0===Tt||Tt.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="Verifier le  RIB en input !",this.modalButtonLeft="OK",null===(_t=document.getElementById("exampleModalLabelProcessedalert"))||void 0===_t||_t.setAttribute("style","color:red;font-weight:bold;text-align: center;"),null===(vt=document.getElementById("btnAlert"))||void 0===vt||vt.click()):this.checkribbenef=!0)},dt=>{console.log("error API"),-1!=dt.indexOf("401")&&this.router.navigate(["/"])})}else this.checkribbenef=!0}controlRefBenef(){var u,I,$,Ze;null===(u=this.benefForm.get("referenceB"))||void 0===u||u.clearValidators(),null===(I=this.benefForm.get("referenceB"))||void 0===I||I.updateValueAndValidity(),null===($=this.benefForm.get("referenceB"))||void 0===$||$.setValidators([ce.kI.required]),null===(Ze=this.benefForm.get("referenceB"))||void 0===Ze||Ze.updateValueAndValidity()}ControlCarte(){var u,I,$,Ze,Ge;null===(u=this.benefForm.get("cardBenef"))||void 0===u||u.clearValidators(),null===(I=this.benefForm.get("cardBenef"))||void 0===I||I.updateValueAndValidity(),null===($=this.benefForm.get("cardBenef"))||void 0===$||$.setValidators([ce.kI.required,ce.kI.pattern("^[0-9]{16}$")]),null===(Ze=this.benefForm.get("cardBenef"))||void 0===Ze||Ze.updateValueAndValidity();let $e=null===(Ge=this.benefForm.get("cardBenef"))||void 0===Ge?void 0:Ge.value;if(16==$e.length){let rt={cardNumber:$e};null!=$e&&null!=$e&&""!=$e&&this.BenefServ.ControlCardBenef(rt,this.token).subscribe(dt=>{var xt,bt,pt,mt,yt,Tt,_t,vt,Pt;this.RetourCompte=dt,("01"==this.RetourCompte.CodeResponse||"99"==this.RetourCompte.CodeResponse||"04"==this.RetourCompte.CodeResponse)&&(this.checkCardBenef=!1,null===(xt=this.benefForm.get("cardBenef"))||void 0===xt||xt.addValidators([(0,te.b)("cardBenef",this.checkCardBenef)]),null===(bt=this.benefForm.get("cardBenef"))||void 0===bt||bt.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="Verifier la carte en input !",this.modalButtonLeft="OK",null===(pt=document.getElementById("btnAlert"))||void 0===pt||pt.click()),"00"==this.RetourCompte.CodeResponse&&("Delivered"!=this.RetourCompte.Status?(this.checkCardBenef=!1,null===(mt=this.benefForm.get("cardBenef"))||void 0===mt||mt.addValidators([(0,te.b)("cardBenef",this.checkCardBenef)]),null===(yt=this.benefForm.get("cardBenef"))||void 0===yt||yt.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="Carte Non Valide !",this.modalButtonLeft="OK",null===(Tt=document.getElementById("btnAlert"))||void 0===Tt||Tt.click()):"Delivered"==this.RetourCompte.Status&&("PFBB13"==this.RetourCompte.CardCode||"PFBB14"==this.RetourCompte.CardCode?this.checkCardBenef=!0:(this.checkCardBenef=!1,null===(_t=this.benefForm.get("cardBenef"))||void 0===_t||_t.addValidators([(0,te.b)("cardBenef",this.checkCardBenef)]),null===(vt=this.benefForm.get("cardBenef"))||void 0===vt||vt.updateValueAndValidity(),this.modalTitle="Alerte",this.modalBody="Type Carte Non Valide !",this.modalButtonLeft="OK",null===(Pt=document.getElementById("btnAlert"))||void 0===Pt||Pt.click())))},dt=>{console.log("error API"),-1!=dt.indexOf("401")&&this.router.navigate(["/"])})}}showDocument(){var u;(this.PathReportString.toLowerCase().includes("tiff")||this.PathReportString.toLowerCase().includes("tif"))&&(this.PathReportString=this.PathReportString.replace("tiff","png"),this.PathReportString=this.PathReportString.replace("tif","png")),this.toshow=!1,null===(u=document.getElementById("ifrm"))||void 0===u||u.setAttribute("src",this.PathReportString);let I=document.getElementById("ifrm");null!=I&&(I.style.display="block")}hideDocument(){var u;this.toshow=!0,null===(u=document.getElementById("ifrm"))||void 0===u||u.removeAttribute("src");let I=document.getElementById("ifrm");null!=I&&(I.style.display="none")}showDocumentFM(){this.toshowfm=!1;let u=document.getElementById("framefm");null!=u&&(u.style.display="block")}hideDocumentFM(){this.toshowfm=!0;let u=document.getElementById("framefm");null!=u&&(u.style.display="none")}FermerAlert(){var u;null===(u=document.getElementById("alertPop"))||void 0===u||u.setAttribute("class","modal fade  hide")}downloadCSVStruct(){this.VirServ.DownloadF("vm",this.token).subscribe(u=>{this.FileStructure=u.body;const I=`data:application/csv;base64,${this.FileStructure}`,$=document.createElement("a");$.href=I,$.download="StructureVM.csv",$.click()},u=>{this.chargedData=!1,-1!=u.indexOf("401")&&this.router.navigate(["/"])})}}return M.\u0275fac=function(u){return new(u||M)(e.Y36(i.I),e.Y36(ce.qu),e.Y36(pe.eN),e.Y36(z.F0),e.Y36(R.r),e.Y36(f.t),e.Y36(x.e))},M.\u0275cmp=e.Xpm({type:M,selectors:[["app-recharge-card"]],viewQuery:function(u,I){if(1&u&&(e.Gf(t,5),e.Gf(n,5)),2&u){let $;e.iGM($=e.CRH())&&(I.csvReader=$.first),e.iGM($=e.CRH())&&(I.filefmandat=$.first)}},decls:97,vars:13,consts:[["class","card",4,"ngIf"],["id","verticalycentered","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"width","fit-content !important"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","id","dismissmodal","data-bs-dismiss","modal",1,"btn","btn-secondary",2,"margin-right","auto"],["type","button","id","btnright",1,"btn","btn-primary",3,"click"],["id","alert","tabindex","-1",1,"modal","fade"],[1,"modal-header",2,"align-self","center"],["id","exampleModalLabelProcessedalert",1,"modal-body"],[1,"modal-footer",2,"align-self","center"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-toggle","modal","data-bs-target","#alertPop","id","btnalertPop",1,"btn","btn-primary",2,"display","none"],["id","alertPop","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog"],[1,"modal-content",2,"place-items","center"],[1,"modal-header",2,"border-bottom","0"],["id","exampleModalLabelProcessedpop",1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#alertPopfresh","id","btnalertPopfresh",1,"btn","btn-primary",2,"display","none"],["id","alertPopfresh","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],[1,"modal-header",2,"border-bottom","0 !important"],["id","exampleModalLabelProcessed",1,"modal-title"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["id","btnVerifexist","data-bs-toggle","modal","data-bs-target","#verticalycentered","hidden",""],["id","btnAlert","data-bs-toggle","modal","data-bs-target","#alert","hidden",""],["type","button","data-bs-toggle","modal","data-bs-target","#alertPopdoublons","id","btnalertPopdoublons",1,"btn","btn-primary",2,"display","none"],["id","alertPopdoublons","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","15%"],["role","document",1,"modal-dialog","modal-lg"],["id","exampleModalLabelProcessedpopdoublons",1,"modal-title"],[1,"row","pt-2"],[1,"col-12"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["type","button","data-bs-toggle","modal","data-bs-target","#ModalCompare","id","btnModalCompare",1,"btn","btn-primary",2,"display","none"],["id","ModalCompare","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","hide",2,"margin-top","15%"],[1,"modal-content"],["id","exampleModalLabel",1,"modal-title",2,"color","rgb(7, 7, 7)"],[1,"modal-body",2,"text-align","center"],[1,"inline-flex"],["type","text","maxlength","1","id","input1","onkeyup","document.getElementById('input2').focus();",1,"uk-input"],["type","text","maxlength","1","id","input2","onkeyup","document.getElementById('input3').focus();",1,"uk-input"],["type","text","maxlength","1","id","input3","onkeyup","document.getElementById('input4').focus();",1,"uk-input"],["type","text","maxlength","1","id","input4","onkeyup","document.getElementById('input5').focus();",1,"uk-input"],["type","text","maxlength","1","id","input5","onkeyup","document.getElementById('input5').blur();",1,"uk-input"],["type","button","id","otpvalidation",1,"btn","btn-primary",3,"click"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-lg-12","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[4,"ngIf"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["class","row pt-2",4,"ngIf"],[1,"col-sm-12","col-lg-3","col-md-6"],[1,"col-12","col-form-label"],[2,"color","red"],["autocomplete","off","type","text","name","mntTot","formControlName","mntTot",1,"form-control",3,"ngClass","change"],["class","alert alert-danger",4,"ngIf"],["formControlName","mntCalculated","disabled","",1,"col-12","other","form-control"],["type","checkbox","id","motifcommunid",1,"form-check-input",2,"float","right",3,"click"],["for","motifcommunid",1,"form-check-label",2,"float","right"],["autocomplete","off","type","text","name","motif","formControlName","motif",1,"form-control",3,"ngClass","keyup"],[1,"col-6","col-form-label"],["autocomplete","off","type","text","name","reference","formControlName","reference","id","refvirement",1,"form-control",3,"ngClass","keyup"],[1,"col-sm-12","col-lg-4","col-md-4"],["formControlName","formattedAmount","disabled","",1,"col-12","other","form-control"],[1,"col-sm-12","col-lg-8","col-md-8"],["autocomplete","off","type","text","name","motif","formControlName","comment","rows","1",1,"form-control"],[1,"col-sm-12","col-lg-12","col-md-12"],["formControlName","amountLetters","disabled","",1,"col-12","other","form-control"],["autocomplete","off","type","text","name","nomBenef","formControlName","nomBenef",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","prenomBenef","formControlName","prenomBenef",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","refBenef","formControlName","refBenef",1,"form-control",3,"keyup"],["id","motifopt",2,"color","red"],["id","motifbenef","autocomplete","off","type","text","name","motifbenef","formControlName","motifbenef",1,"form-control",3,"ngClass"],[1,"col-sm-12","col-lg-3","col-md-4"],["name","typeVir","formControlName","typeVir","required","",1,"form-select",3,"ngClass","change"],["selected","","disabled","","value",""],[3,"value","disabled",4,"ngFor","ngForOf"],["class","col-sm-12 col-lg-3 col-md-4 ",4,"ngIf"],["autocomplete","off","type","text","name","mntBenef","formControlName","mntBenef",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","referenceB","formControlName","referenceB",1,"form-control",3,"ngClass","keyup"],["type","button","id","btnAdd",1,"btn","btn-primary",3,"disabled","click"],[1,"bi","bi-plus"],[1,"col-4"],["for","declarationB",1,"label-file"],["formControlName","ordreVirementBenef","type","file",2,"visibility","hidden",3,"change"],["fileordre",""],["id","declarationB",1,"input-file",3,"click"],[1,"col-3","text-left"],["class","btn btn-primary btn-md btnFile",3,"click",4,"ngIf"],["class","btn btn-warning btn-md btnFile",3,"disabled","click",4,"ngIf"],[1,"col-1"],["type","button","class","btn btn-danger ",3,"click",4,"ngIf"],[1,"row"],["id","ifrm",2,"width","inherit","height","1000px","display","none"],[1,"col-12",2,"text-align","-webkit-right"],["id","btninit",1,"btn","btn-primary","btn-md",3,"disabled","click"],["name","tiers","formControlName","tiers","required","",1,"form-select",3,"ngClass","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"alert","alert-danger"],["style","font-size:12px",4,"ngIf"],[2,"font-size","12px"],[1,"col-sm-12","col-lg-6","col-md-6"],["name","numcpt","formControlName","numcpt","required","",1,"form-select",3,"ngClass","change"],["Value","","hidden","","selected",""],["class","col-sm-12 col-lg-6 col-md-6 ",4,"ngIf"],[1,"col-12","other","form-control"],[3,"value","disabled"],["autocomplete","off","type","text","name","ribBenef","formControlName","ribBenef",1,"form-control",3,"ngClass","keyup"],["autocomplete","off","type","text","name","cardBenef","formControlName","cardBenef",1,"form-control",3,"ngClass","keyup"],["type","button",1,"btn","btn-dark",3,"disabled","click"],[1,"bi","bi-pencil-square"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],[1,"btn","btn-primary","btn-md","btnFile",3,"click"],[1,"btn","btn-warning","btn-md","btnFile",3,"disabled","click"],["type","button",1,"btn","btn-primary",2,"float","right",3,"click"],[1,"bi","bi-download"],["for","declarationBenef",1,"label-file"],["formControlName","fileCsv","type","file",2,"visibility","hidden",3,"change"],["fileReader",""],["id","declarationBenef",1,"input-file",3,"click"],[1,"col-6"],[1,"col-6","text-left"],[1,"pt-2"],["class","table table-bordered",4,"ngIf"],["id","mntcsv","disabled","","autocomplete","off","type","text","name","mntTot","class","form-control","formControlName","mntTot",3,"ngClass","change",4,"ngIf"],["id","mntcsv","autocomplete","off","type","text","name","mntTot","class","form-control","formControlName","mntTot",3,"ngClass","change",4,"ngIf"],["disabled","","autocomplete","off","type","text","name","motif","class","form-control","id","motifcsv","formControlName","motif",3,"ngClass",4,"ngIf"],["autocomplete","off","type","text","name","motif","class","form-control","id","motifcsv","formControlName","motif",3,"ngClass",4,"ngIf"],["disabled","","autocomplete","off","type","text","id","refcsv","name","reference","class","form-control","formControlName","reference",3,"ngClass",4,"ngIf"],["autocomplete","off","type","text","id","refcsv","name","reference","class","form-control","formControlName","reference",3,"ngClass",4,"ngIf"],["for","declaration",1,"label-file"],["formControlName","ordreVirement","type","file",2,"visibility","hidden",3,"change"],["fileordrecsv",""],["id","declaration",1,"input-file",3,"click"],["id","btncsv",1,"btn","btn-primary","btn-md",3,"disabled","click"],[1,"table","table-bordered"],["id","mntcsv","disabled","","autocomplete","off","type","text","name","mntTot","formControlName","mntTot",1,"form-control",3,"ngClass","change"],["id","mntcsv","autocomplete","off","type","text","name","mntTot","formControlName","mntTot",1,"form-control",3,"ngClass","change"],["disabled","","autocomplete","off","type","text","name","motif","id","motifcsv","formControlName","motif",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","motif","id","motifcsv","formControlName","motif",1,"form-control",3,"ngClass"],["disabled","","autocomplete","off","type","text","id","refcsv","name","reference","formControlName","reference",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","id","refcsv","name","reference","formControlName","reference",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","motif","formControlName","motif",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","name","reference","formControlName","reference",1,"form-control",3,"ngClass"],["type","file",2,"visibility","hidden",3,"change"],["filefmandat",""],["formControlName","fileNameFM","id","declarationBenef",1,"input-file",3,"click"],[1,"col-3"],["id","framefm",1,"row","pt-2",2,"display","none"],["fileordreVfm",""],["id","btnfm",1,"btn","btn-primary","btn-md",3,"disabled","click"]],template:function(u,I){1&u&&(e.YNc(0,a,8,0,"div",0),e.YNc(1,aa,7,3,"div",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5",5),e._uU(7),e.qZA(),e._UZ(8,"button",6),e.qZA(),e.TgZ(9,"div",7),e._uU(10),e.qZA(),e.TgZ(11,"div",8)(12,"button",9),e._uU(13),e.qZA(),e.TgZ(14,"button",10),e.NdJ("click",function(){return I.Ok()}),e._uU(15),e.qZA()()()()(),e.TgZ(16,"div",11)(17,"div",2)(18,"div",3)(19,"div",12)(20,"h5",5),e._uU(21),e.qZA()(),e.TgZ(22,"div",13),e._uU(23),e.qZA(),e.TgZ(24,"div",14)(25,"button",15),e._uU(26),e.qZA()()()()(),e._UZ(27,"button",16),e.TgZ(28,"div",17)(29,"div",18)(30,"div",19)(31,"div",20)(32,"h5",21)(33,"p"),e._uU(34),e.qZA()()(),e.TgZ(35,"div",8)(36,"button",22),e.NdJ("click",function(){return I.FermerAlert()}),e._uU(37,"Fermer"),e.qZA()()()()(),e._UZ(38,"button",23),e.TgZ(39,"div",24)(40,"div",18)(41,"div",19)(42,"div",25)(43,"h5",26)(44,"p"),e._uU(45),e.qZA()()(),e.TgZ(46,"div",8)(47,"button",27),e.NdJ("click",function(){return I.FermerAlertAvecRefresh()}),e._uU(48,"Fermer"),e.qZA()()()()(),e._UZ(49,"button",28)(50,"button",29)(51,"button",30),e.TgZ(52,"div",31)(53,"div",32)(54,"div",19)(55,"div",20)(56,"h5",33)(57,"p"),e._uU(58),e.qZA()()(),e.TgZ(59,"div",7)(60,"div",34)(61,"div",35)(62,"table",36)(63,"thead")(64,"tr")(65,"th",37),e._uU(66,"Nom & pr\xe9nom b\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(67,"th",37),e._uU(68,"Montant"),e.qZA(),e.TgZ(69,"th",37),e._uU(70,"Num\xe9ro du paiement"),e.qZA(),e._UZ(71,"th"),e.qZA()(),e.TgZ(72,"tbody"),e.YNc(73,ra,7,3,"tr",38),e.qZA()()()()(),e.TgZ(74,"div",8)(75,"button",22),e.NdJ("click",function(){return I.FermerAlertAvecRefresh()}),e._uU(76,"Fermer"),e.qZA()()()()(),e._UZ(77,"button",39),e.TgZ(78,"div",40)(79,"div",18)(80,"div",41)(81,"div",4)(82,"h5",42)(83,"p"),e._uU(84," Veuillez introduire le code de s\xe9curit\xe9 envoy\xe9 par SMS "),e.qZA()()(),e.TgZ(85,"div",43)(86,"div",44),e._UZ(87,"input",45)(88,"input",46)(89,"input",47)(90,"input",48)(91,"input",49),e.qZA()(),e.TgZ(92,"div",8)(93,"button",22),e.NdJ("click",function(){return I.FermerOTP()}),e._uU(94,"Fermer"),e.qZA(),e.TgZ(95,"button",50),e.NdJ("click",function(){return I.ValiderOtpDelivrance()}),e._uU(96,"Valider"),e.qZA()()()()()),2&u&&(e.Q6J("ngIf",I.chargedData),e.xp6(1),e.Q6J("ngIf",!I.chargedData),e.xp6(6),e.Oqu(I.modalTitle),e.xp6(3),e.hij(" ",I.modalBody," "),e.xp6(3),e.Oqu(I.modalButtonLeft),e.xp6(2),e.Oqu(I.modalButtonRight),e.xp6(6),e.Oqu(I.modalTitle),e.xp6(2),e.hij(" ",I.modalBody," "),e.xp6(3),e.Oqu(I.modalButtonLeft),e.xp6(8),e.hij(" ",I.msgAlert," "),e.xp6(11),e.hij(" ",I.msgAlert," "),e.xp6(13),e.hij(" ",I.msgAlert," "),e.xp6(15),e.Q6J("ngForOf",I.doublons))},directives:[c.O5,ce._Y,ce.JL,ce.sg,ce.EJ,ce.JJ,ce.u,ce.Q7,c.mk,ce.YN,ce.Kr,c.sg,ce.Fj],styles:[".other[_ngcontent-%COMP%]{background-color:#e7e7e7;color:#000}.show[_ngcontent-%COMP%]{display:block!important}.hide[_ngcontent-%COMP%]{display:none!important}.label-file[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;cursor:pointer;background-color:#27597a;color:#fff;font-weight:700;height:auto;border-radius:5px;padding:6px 10px 10px}.label-file[_ngcontent-%COMP%]:hover{color:#fff;background-color:#007bff}.input-file[_ngcontent-%COMP%]{display:none}.btnFile[_ngcontent-%COMP%]{width:-webkit-fill-available}.uk-input[_ngcontent-%COMP%]{width:14%;height:50px;border-radius:5px;text-align:center;margin-right:10px!important;border:1px solid #949292;padding:0;margin:0;font-size:25px}"]}),M})(),canActivate:[kt.a],data:{breadcrumb:{alias:"Paiement Xpress"}}},{path:"**",redirectTo:"",pathMatch:"full"}];let la=(()=>{class M{}return M.\u0275fac=function(u){return new(u||M)},M.\u0275mod=e.oAB({type:M}),M.\u0275inj=e.cJS({imports:[[z.Bz.forChild(oa)],z.Bz]}),M})();var ca=oe(8567),da=oe(1535);let ha=(()=>{class M{}return M.\u0275fac=function(u){return new(u||M)},M.\u0275mod=e.oAB({type:M}),M.\u0275inj=e.cJS({imports:[[c.ez,la,ce.u5,ce.UX,ca.JX,da.xC]]}),M})()},3007:(ze,re,oe)=>{"use strict";oe.d(re,{a:()=>ce});var c=oe(1223),e=oe(7656),xe=oe(9860);let ce=(()=>{class pe{constructor(f,R,x){this.router=f,this.loginService=R,this.r=x}canActivate(f,R){let x;return x=f,!!this.verifIfUserIsAuthorizedToRoute(x._routerState.url)||(this.router.navigate(["/home"]),!1)}verifIfUserIsAuthorizedToRoute(f){let R=!1,x=localStorage.getItem("listmenu"),w=this.loginService.b64_to_utf8(x),_=JSON.parse(w||"[]");for(var B=0;B<_.length;B++)for(var k=0;k<_[B].SubMenus.length;k++)if(_[B].SubMenus[k].route==f)return R=!0,R;return R}}return pe.\u0275fac=function(f){return new(f||pe)(c.LFG(e.F0),c.LFG(xe.r),c.LFG(e.gz))},pe.\u0275prov=c.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})()},3597:(ze,re,oe)=>{"use strict";var c;function e(te,i){var t=Object.keys(te);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(te);i&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(te,a).enumerable})),t.push.apply(t,n)}return t}function xe(te){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?e(Object(t),!0).forEach(function(n){R(te,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(t)):e(Object(t)).forEach(function(n){Object.defineProperty(te,n,Object.getOwnPropertyDescriptor(t,n))})}return te}function ce(te){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(te)}function pe(te,i){if(!(te instanceof i))throw new TypeError("Cannot call a class as a function")}function z(te,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(te,n.key,n)}}function f(te,i,t){return i&&z(te.prototype,i),t&&z(te,t),te}function R(te,i,t){return i in te?Object.defineProperty(te,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):te[i]=t,te}function x(te,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(i&&i.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),i&&_(te,i)}function w(te){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)})(te)}function _(te,i){return(_=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(te,i)}function B(te,i){if(i&&("object"==typeof i||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(te)}function k(te){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,n=w(te);if(i){var a=w(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return B(this,t)}}function X(te){return function(i){if(Array.isArray(i))return j(i)}(te)||function(i){if("undefined"!=typeof Symbol&&null!=i[Symbol.iterator]||null!=i["@@iterator"])return Array.from(i)}(te)||se(te)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(te,i){if(te){if("string"==typeof te)return j(te,i);var t=Object.prototype.toString.call(te).slice(8,-1);return"Object"===t&&te.constructor&&(t=te.constructor.name),"Map"===t||"Set"===t?Array.from(te):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?j(te,i):void 0}}function j(te,i){(null==i||i>te.length)&&(i=te.length);for(var t=0,n=new Array(i);t<i;t++)n[t]=te[t];return n}var S=function(){function te(){pe(this,te)}return f(te,[{key:"shadeRGBColor",value:function(i,t){var n=t.split(","),a=i<0?0:255,r=i<0?-1*i:i,s=parseInt(n[0].slice(4),10),o=parseInt(n[1],10),l=parseInt(n[2],10);return"rgb("+(Math.round((a-s)*r)+s)+","+(Math.round((a-o)*r)+o)+","+(Math.round((a-l)*r)+l)+")"}},{key:"shadeHexColor",value:function(i,t){var n=parseInt(t.slice(1),16),a=i<0?0:255,r=i<0?-1*i:i,s=n>>16,o=n>>8&255,l=255&n;return"#"+(16777216+65536*(Math.round((a-s)*r)+s)+256*(Math.round((a-o)*r)+o)+(Math.round((a-l)*r)+l)).toString(16).slice(1)}},{key:"shadeColor",value:function(i,t){return te.isColorHex(t)?this.shadeHexColor(i,t):this.shadeRGBColor(i,t)}}],[{key:"bind",value:function(i,t){return function(){return i.apply(t,arguments)}}},{key:"isObject",value:function(i){return i&&"object"===ce(i)&&!Array.isArray(i)&&null!=i}},{key:"is",value:function(i,t){return Object.prototype.toString.call(t)==="[object "+i+"]"}},{key:"listToArray",value:function(i){var t,n=[];for(t=0;t<i.length;t++)n[t]=i[t];return n}},{key:"extend",value:function(i,t){var n=this;"function"!=typeof Object.assign&&(Object.assign=function(r){if(null==r)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(r),o=1;o<arguments.length;o++){var l=arguments[o];if(null!=l)for(var d in l)l.hasOwnProperty(d)&&(s[d]=l[d])}return s});var a=Object.assign({},i);return this.isObject(i)&&this.isObject(t)&&Object.keys(t).forEach(function(r){n.isObject(t[r])&&r in i?a[r]=n.extend(i[r],t[r]):Object.assign(a,R({},r,t[r]))}),a}},{key:"extendArray",value:function(i,t){var n=[];return i.map(function(a){n.push(te.extend(t,a))}),n}},{key:"monthMod",value:function(i){return i%12}},{key:"clone",value:function(i){if(te.is("Array",i)){for(var t=[],n=0;n<i.length;n++)t[n]=this.clone(i[n]);return t}if(te.is("Null",i))return null;if(te.is("Date",i))return i;if("object"===ce(i)){var a={};for(var r in i)i.hasOwnProperty(r)&&(a[r]=this.clone(i[r]));return a}return i}},{key:"log10",value:function(i){return Math.log(i)/Math.LN10}},{key:"roundToBase10",value:function(i){return Math.pow(10,Math.floor(Math.log10(i)))}},{key:"roundToBase",value:function(i,t){return Math.pow(t,Math.floor(Math.log(i)/Math.log(t)))}},{key:"parseNumber",value:function(i){return null===i?i:parseFloat(i)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(i){var t=String(i).split(/[eE]/);if(1===t.length)return t[0];var n="",a=i<0?"-":"",r=t[0].replace(".",""),s=Number(t[1])+1;if(s<0){for(n=a+"0.";s++;)n+="0";return n+r.replace(/^-/,"")}for(s-=r.length;s--;)n+="0";return r+n}},{key:"getDimensions",value:function(i){var t=getComputedStyle(i,null),n=i.clientHeight,a=i.clientWidth;return n-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[a-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),n]}},{key:"getBoundingClientRect",value:function(i){var t=i.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:i.clientWidth,height:i.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(i){return i.reduce(function(t,n){return Array.isArray(n)&&(n=n.reduce(function(a,r){return a.length>r.length?a:r})),t.length>n.length?t:n},0)}},{key:"hexToRgba",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==i.substring(0,1)&&(i="#999999");var n=i.replace("#","");n=n.match(new RegExp("(.{"+n.length/3+"})","g"));for(var a=0;a<n.length;a++)n[a]=parseInt(1===n[a].length?n[a]+n[a]:n[a],16);return void 0!==t&&n.push(t),"rgba("+n.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(i){return parseFloat(i.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(i){return(i=i.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===i.length?"#"+("0"+parseInt(i[1],10).toString(16)).slice(-2)+("0"+parseInt(i[2],10).toString(16)).slice(-2)+("0"+parseInt(i[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(i){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(i)}},{key:"getPolygonPos",value:function(i,t){for(var n=[],a=2*Math.PI/t,r=0;r<t;r++){var s={};s.x=i*Math.sin(r*a),s.y=-i*Math.cos(r*a),n.push(s)}return n}},{key:"polarToCartesian",value:function(i,t,n,a){var r=(a-90)*Math.PI/180;return{x:i+n*Math.cos(r),y:t+n*Math.sin(r)}}},{key:"escapeString",value:function(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",n=i.toString().slice();return n.replace(/[` ~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(i){return i<0?0:i}},{key:"moveIndexInArray",value:function(i,t,n){if(n>=i.length)for(var a=n-i.length+1;a--;)i.push(void 0);return i.splice(n,0,i.splice(t,1)[0]),i}},{key:"extractNumber",value:function(i){return parseFloat(i.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(i,t){for(;(i=i.parentElement)&&!i.classList.contains(t););return i}},{key:"setELstyles",value:function(i,t){for(var n in t)t.hasOwnProperty(n)&&(i.style.key=t[n])}},{key:"isNumber",value:function(i){return!isNaN(i)&&parseFloat(Number(i))===i&&!isNaN(parseInt(i,10))}},{key:"isFloat",value:function(i){return Number(i)===i&&i%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var i=window.navigator.userAgent,t=i.indexOf("MSIE ");if(t>0)return parseInt(i.substring(t+5,i.indexOf(".",t)),10);if(i.indexOf("Trident/")>0){var n=i.indexOf("rv:");return parseInt(i.substring(n+3,i.indexOf(".",n)),10)}var a=i.indexOf("Edge/");return a>0&&parseInt(i.substring(a+5,i.indexOf(".",a)),10)}}]),te}(),A=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w,this.setEasingFunctions()}return f(te,[{key:"setEasingFunctions",value:function(){var i;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":i="-";break;case"easein":i="<";break;case"easeout":i=">";break;case"easeinout":default:i="<>";break;case"swing":i=function(t){var n=1.70158;return(t-=1)*t*((n+1)*t+n)+1};break;case"bounce":i=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};break;case"elastic":i=function(t){return t===!!t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=i}}},{key:"animateLine",value:function(i,t,n,a){i.attr(t).animate(a).attr(n)}},{key:"animateMarker",value:function(i,t,n,a,r,s){t||(t=0),i.attr({r:t,width:t,height:t}).animate(a,r).attr({r:n,width:n.width,height:n.height}).afterAll(function(){s()})}},{key:"animateCircle",value:function(i,t,n,a,r){i.attr({r:t.r,cx:t.cx,cy:t.cy}).animate(a,r).attr({r:n.r,cx:n.cx,cy:n.cy})}},{key:"animateRect",value:function(i,t,n,a,r){i.attr(t).animate(a).attr(n).afterAll(function(){return r()})}},{key:"animatePathsGradually",value:function(i){var g=this.w,p=0;g.config.chart.animations.animateGradually.enabled&&(p=g.config.chart.animations.animateGradually.delay),g.config.chart.animations.dynamicAnimation.enabled&&g.globals.dataChanged&&"bar"!==g.config.chart.type&&(p=0),this.morphSVG(i.el,i.realIndex,i.j,"line"!==g.config.chart.type||g.globals.comboCharts?i.fill:"stroke",i.pathFrom,i.pathTo,i.speed,i.delay*p)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(i){i.el.classList.remove("apexcharts-element-hidden")})}},{key:"animationCompleted",value:function(i){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof t.config.chart.events.animationEnd&&t.config.chart.events.animationEnd(this.ctx,{el:i,w:t}))}},{key:"morphSVG",value:function(i,t,n,a,r,s,o,l){var d=this,g=this.w;r||(r=i.attr("pathFrom")),s||(s=i.attr("pathTo"));var p=function(m){return"radar"===g.config.chart.type&&(o=1),"M 0 ".concat(g.globals.gridHeight)};(!r||r.indexOf("undefined")>-1||r.indexOf("NaN")>-1)&&(r=p()),(!s||s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s=p()),g.globals.shouldAnimate||(o=1),i.plot(r).animate(1,g.globals.easing,l).plot(r).animate(o,g.globals.easing,l).plot(s).afterAll(function(){S.isNumber(n)?n===g.globals.series[g.globals.maxValsInArrayIndex].length-2&&g.globals.shouldAnimate&&d.animationCompleted(i):"none"!==a&&g.globals.shouldAnimate&&(!g.globals.comboCharts&&t===g.globals.series.length-1||g.globals.comboCharts)&&d.animationCompleted(i),d.showDelayedElements()})}}]),te}(),T=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w}return f(te,[{key:"getDefaultFilter",value:function(i,t){var n=this.w;i.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==n.config.states.normal.filter?this.applyFilter(i,t,n.config.states.normal.filter.type,n.config.states.normal.filter.value):n.config.chart.dropShadow.enabled&&this.dropShadow(i,n.config.chart.dropShadow,t)}},{key:"addNormalFilter",value:function(i,t){var n=this.w;n.config.chart.dropShadow.enabled&&!i.node.classList.contains("apexcharts-marker")&&this.dropShadow(i,n.config.chart.dropShadow,t)}},{key:"addLightenFilter",value:function(i,t,n){var a=this,r=this.w,s=n.intensity;i.unfilter(!0),new window.SVG.Filter,i.filter(function(o){var l=r.config.chart.dropShadow;(l.enabled?a.addShadow(o,t,l):o).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:s}})}),i.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(i.filterer.node)}},{key:"addDarkenFilter",value:function(i,t,n){var a=this,r=this.w,s=n.intensity;i.unfilter(!0),new window.SVG.Filter,i.filter(function(o){var l=r.config.chart.dropShadow;(l.enabled?a.addShadow(o,t,l):o).componentTransfer({rgb:{type:"linear",slope:s}})}),i.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(i.filterer.node)}},{key:"applyFilter",value:function(i,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(n){case"none":this.addNormalFilter(i,t);break;case"lighten":this.addLightenFilter(i,t,{intensity:a});break;case"darken":this.addDarkenFilter(i,t,{intensity:a})}}},{key:"addShadow",value:function(i,t,n){var a=n.blur,r=n.top,s=n.left,o=n.color,l=n.opacity,d=i.flood(Array.isArray(o)?o[t]:o,l).composite(i.sourceAlpha,"in").offset(s,r).gaussianBlur(a).merge(i.source);return i.blend(i.source,d)}},{key:"dropShadow",value:function(i,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=t.top,r=t.left,s=t.blur,o=t.color,l=t.opacity,d=t.noUserSpaceOnUse,g=this.w;return i.unfilter(!0),S.isIE()&&"radialBar"===g.config.chart.type||(o=Array.isArray(o)?o[n]:o,i.filter(function(p){var m;m=S.isSafari()||S.isFirefox()||S.isIE()?p.flood(o,l).composite(p.sourceAlpha,"in").offset(r,a).gaussianBlur(s):p.flood(o,l).composite(p.sourceAlpha,"in").offset(r,a).gaussianBlur(s).merge(p.source),p.blend(p.source,m)}),d||i.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(i.filterer.node)),i}},{key:"setSelectionFilter",value:function(i,t,n){var a=this.w;if(void 0!==a.globals.selectedDataPoints[t]&&a.globals.selectedDataPoints[t].indexOf(n)>-1){i.node.setAttribute("selected",!0);var r=a.config.states.active.filter;"none"!==r&&this.applyFilter(i,t,r.type,r.value)}}},{key:"_scaleFilterSize",value:function(i){!function(t){for(var n in t)t.hasOwnProperty(n)&&i.setAttribute(n,t[n])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),te}(),L=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w}return f(te,[{key:"drawLine",value:function(i,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt",d=this.w,g=d.globals.dom.Paper.line().attr({x1:i,y1:t,x2:n,y2:a,stroke:r,"stroke-dasharray":s,"stroke-width":o,"stroke-linecap":l});return g}},{key:"drawRect",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,g=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,p=this.w,m=p.globals.dom.Paper.rect();return m.attr({x:i,y:t,width:n>0?n:0,height:a>0?a:0,rx:r,ry:r,opacity:o,"stroke-width":null!==l?l:0,stroke:null!==d?d:"none","stroke-dasharray":g}),m.node.setAttribute("fill",s),m}},{key:"drawPolygon",value:function(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",r=this.w,s=r.globals.dom.Paper.polygon(i).attr({fill:a,stroke:t,"stroke-width":n});return s}},{key:"drawCircle",value:function(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.w;i<0&&(i=0);var a=n.globals.dom.Paper.circle(2*i);return null!==t&&a.attr(t),a}},{key:"drawPath",value:function(i){var t=i.d,n=void 0===t?"":t,a=i.stroke,r=void 0===a?"#a8a8a8":a,s=i.strokeWidth,o=void 0===s?1:s,l=i.fill,d=i.fillOpacity,g=void 0===d?1:d,p=i.strokeOpacity,m=void 0===p?1:p,y=i.classes,E=i.strokeLinecap,P=void 0===E?null:E,Z=i.strokeDashArray,K=void 0===Z?0:Z,ae=this.w;return null===P&&(P=ae.config.stroke.lineCap),(n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n="M 0 ".concat(ae.globals.gridHeight)),ae.globals.dom.Paper.path(n).attr({fill:l,"fill-opacity":g,stroke:r,"stroke-opacity":m,"stroke-linecap":P,"stroke-width":o,"stroke-dasharray":K,class:y})}},{key:"group",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w,n=t.globals.dom.Paper.group();return null!==i&&n.attr(i),n}},{key:"move",value:function(i,t){return["M",i,t].join(" ")}},{key:"line",value:function(i,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=null;return null===n?a=["L",i,t].join(" "):"H"===n?a=["H",i].join(" "):"V"===n&&(a=["V",t].join(" ")),a}},{key:"curve",value:function(i,t,n,a,r,s){return["C",i,t,n,a,r,s].join(" ")}},{key:"quadraticCurve",value:function(i,t,n,a){return["Q",i,t,n,a].join(" ")}},{key:"arc",value:function(i,t,n,a,r,s,o){var l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],d="A";l&&(d="a");var g=[d,i,t,n,a,r,s,o].join(" ");return g}},{key:"renderPaths",value:function(i){var t,n=i.j,a=i.realIndex,r=i.pathFrom,s=i.pathTo,o=i.stroke,l=i.strokeWidth,d=i.strokeLinecap,g=i.fill,p=i.animationDelay,m=i.initialSpeed,y=i.dataChangeSpeed,E=i.className,P=i.shouldClipToGrid,Z=void 0===P||P,K=i.bindEventsOnPaths,ae=void 0===K||K,le=i.drawShadow,h=void 0===le||le,b=this.w,D=new T(this.ctx),ee=new A(this.ctx),Ce=this.w.config.chart.animations.enabled,Ne=Ce&&this.w.config.chart.animations.dynamicAnimation.enabled,Me=!!(Ce&&!b.globals.resized||Ne&&b.globals.dataChanged&&b.globals.shouldAnimate);Me?t=r:(t=s,b.globals.animationEnded=!0);var Xe,je=b.config.stroke.dashArray;Xe=Array.isArray(je)?je[a]:b.config.stroke.dashArray;var et=this.drawPath({d:t,stroke:o,strokeWidth:l,fill:g,fillOpacity:1,classes:E,strokeLinecap:d,strokeDashArray:Xe});et.attr("index",a),Z&&et.attr({"clip-path":"url(#gridRectMask".concat(b.globals.cuid,")")}),"none"!==b.config.states.normal.filter.type?D.getDefaultFilter(et,a):b.config.chart.dropShadow.enabled&&h&&(!b.config.chart.dropShadow.enabledOnSeries||b.config.chart.dropShadow.enabledOnSeries&&-1!==b.config.chart.dropShadow.enabledOnSeries.indexOf(a))&&D.dropShadow(et,b.config.chart.dropShadow,a),ae&&(et.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,et)),et.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,et)),et.node.addEventListener("mousedown",this.pathMouseDown.bind(this,et))),et.attr({pathTo:s,pathFrom:r});var St={el:et,j:n,realIndex:a,pathFrom:r,pathTo:s,fill:g,strokeWidth:l,delay:p};return!Ce||b.globals.resized||b.globals.dataChanged?!b.globals.resized&&b.globals.dataChanged||ee.showDelayedElements():ee.animatePathsGradually(xe(xe({},St),{},{speed:m})),b.globals.dataChanged&&Ne&&Me&&ee.animatePathsGradually(xe(xe({},St),{},{speed:y})),et}},{key:"drawPattern",value:function(i,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=this.w,o=s.globals.dom.Paper.pattern(t,n,function(l){"horizontalLines"===i?l.line(0,0,n,0).stroke({color:a,width:r+1}):"verticalLines"===i?l.line(0,0,0,t).stroke({color:a,width:r+1}):"slantedLines"===i?l.line(0,0,t,n).stroke({color:a,width:r}):"squares"===i?l.rect(t,n).fill("none").stroke({color:a,width:r}):"circles"===i&&l.circle(t).fill("none").stroke({color:a,width:r})});return o}},{key:"drawGradient",value:function(i,t,n,a,r){var s,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,g=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,p=this.w;t.length<9&&0===t.indexOf("#")&&(t=S.hexToRgba(t,a)),n.length<9&&0===n.indexOf("#")&&(n=S.hexToRgba(n,r));var m=0,y=1,E=1,P=null;null!==l&&(m=void 0!==l[0]?l[0]/100:0,y=void 0!==l[1]?l[1]/100:1,E=void 0!==l[2]?l[2]/100:1,P=void 0!==l[3]?l[3]/100:null);var Z=!("donut"!==p.config.chart.type&&"pie"!==p.config.chart.type&&"polarArea"!==p.config.chart.type&&"bubble"!==p.config.chart.type);if(s=p.globals.dom.Paper.gradient(Z?"radial":"linear",null===d||0===d.length?function(le){le.at(m,t,a),le.at(y,n,r),le.at(E,n,r),null!==P&&le.at(P,t,a)}:function(le){(Array.isArray(d[g])?d[g]:d).forEach(function(h){le.at(h.offset/100,h.color,h.opacity)})}),Z){var K=p.globals.gridWidth/2,ae=p.globals.gridHeight/2;s.attr("bubble"!==p.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:K,cy:ae,r:o}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===i?s.from(0,0).to(0,1):"diagonal"===i?s.from(0,0).to(1,1):"horizontal"===i?s.from(0,1).to(1,1):"diagonal2"===i&&s.from(1,0).to(0,1);return s}},{key:"getTextBasedOnMaxWidth",value:function(i){var t=i.text,n=i.maxWidth,s=this.getTextRects(t,i.fontSize,i.fontFamily),l=Math.floor(n/(s.width/t.length));return n<s.width?t.slice(0,l-3)+"...":t}},{key:"drawText",value:function(i){var t=this,n=i.x,a=i.y,r=i.text,s=i.textAnchor,o=i.fontSize,l=i.fontFamily,d=i.fontWeight,g=i.foreColor,p=i.opacity,m=i.maxWidth,y=i.cssClass,E=void 0===y?"":y,P=i.isPlainText,Z=void 0===P||P,K=this.w;void 0===r&&(r="");var ae=r;s||(s="start"),g&&g.length||(g=K.config.chart.foreColor),d=d||"regular";var le,h={maxWidth:m,fontSize:o=o||"11px",fontFamily:l=l||K.config.chart.fontFamily};return Array.isArray(r)?le=K.globals.dom.Paper.text(function(b){for(var D=0;D<r.length;D++)ae=r[D],m&&(ae=t.getTextBasedOnMaxWidth(xe({text:r[D]},h))),0===D?b.tspan(ae):b.tspan(ae).newLine()}):(m&&(ae=this.getTextBasedOnMaxWidth(xe({text:r},h))),le=Z?K.globals.dom.Paper.plain(r):K.globals.dom.Paper.text(function(b){return b.tspan(ae)})),le.attr({x:n,y:a,"text-anchor":s,"dominant-baseline":"auto","font-size":o,"font-family":l,"font-weight":d,fill:g,class:"apexcharts-text "+E}),le.node.style.fontFamily=l,le.node.style.opacity=p,le}},{key:"drawMarker",value:function(i,t,n){i=i||0;var a=n.pSize||0,r=null;if("square"===n.shape||"rect"===n.shape){var s=void 0===n.pRadius?a/2:n.pRadius;null!==t&&a||(a=0,s=0);var o=1.2*a+s,l=this.drawRect(o,o,o,o,s);l.attr({x:i-o/2,y:t-o/2,cx:i,cy:t,class:n.class?n.class:"",fill:n.pointFillColor,"fill-opacity":n.pointFillOpacity?n.pointFillOpacity:1,stroke:n.pointStrokeColor,"stroke-width":n.pointStrokeWidth?n.pointStrokeWidth:0,"stroke-opacity":n.pointStrokeOpacity?n.pointStrokeOpacity:1}),r=l}else"circle"!==n.shape&&n.shape||(S.isNumber(t)||(a=0,t=0),r=this.drawCircle(a,{cx:i,cy:t,class:n.class?n.class:"",stroke:n.pointStrokeColor,fill:n.pointFillColor,"fill-opacity":n.pointFillOpacity?n.pointFillOpacity:1,"stroke-width":n.pointStrokeWidth?n.pointStrokeWidth:0,"stroke-opacity":n.pointStrokeOpacity?n.pointStrokeOpacity:1}));return r}},{key:"pathMouseEnter",value:function(i,t){var n=this.w,a=new T(this.ctx),r=parseInt(i.node.getAttribute("index"),10),s=parseInt(i.node.getAttribute("j"),10);if("function"==typeof n.config.chart.events.dataPointMouseEnter&&n.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:r,dataPointIndex:s,w:n}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:r,dataPointIndex:s,w:n}]),("none"===n.config.states.active.filter.type||"true"!==i.node.getAttribute("selected"))&&"none"!==n.config.states.hover.filter.type&&!n.globals.isTouchDevice){var o=n.config.states.hover.filter;a.applyFilter(i,r,o.type,o.value)}}},{key:"pathMouseLeave",value:function(i,t){var n=this.w,a=new T(this.ctx),r=parseInt(i.node.getAttribute("index"),10),s=parseInt(i.node.getAttribute("j"),10);"function"==typeof n.config.chart.events.dataPointMouseLeave&&n.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:r,dataPointIndex:s,w:n}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:r,dataPointIndex:s,w:n}]),"none"!==n.config.states.active.filter.type&&"true"===i.node.getAttribute("selected")||"none"!==n.config.states.hover.filter.type&&a.getDefaultFilter(i,r)}},{key:"pathMouseDown",value:function(i,t){var n=this.w,a=new T(this.ctx),r=parseInt(i.node.getAttribute("index"),10),s=parseInt(i.node.getAttribute("j"),10),o="false";if("true"===i.node.getAttribute("selected")){if(i.node.setAttribute("selected","false"),n.globals.selectedDataPoints[r].indexOf(s)>-1){var l=n.globals.selectedDataPoints[r].indexOf(s);n.globals.selectedDataPoints[r].splice(l,1)}}else{if(!n.config.states.active.allowMultipleDataPointsSelection&&n.globals.selectedDataPoints.length>0){n.globals.selectedDataPoints=[];var d=n.globals.dom.Paper.select(".apexcharts-series path").members,g=n.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,p=function(E){Array.prototype.forEach.call(E,function(P){P.node.setAttribute("selected","false"),a.getDefaultFilter(P,r)})};p(d),p(g)}i.node.setAttribute("selected","true"),o="true",void 0===n.globals.selectedDataPoints[r]&&(n.globals.selectedDataPoints[r]=[]),n.globals.selectedDataPoints[r].push(s)}if("true"===o){var m=n.config.states.active.filter;if("none"!==m)a.applyFilter(i,r,m.type,m.value);else if("none"!==n.config.states.hover.filter&&!n.globals.isTouchDevice){var y=n.config.states.hover.filter;a.applyFilter(i,r,y.type,y.value)}}else"none"!==n.config.states.active.filter.type&&("none"===n.config.states.hover.filter.type||n.globals.isTouchDevice?a.getDefaultFilter(i,r):a.applyFilter(i,r,(y=n.config.states.hover.filter).type,y.value));"function"==typeof n.config.chart.events.dataPointSelection&&n.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:s,w:n}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:s,w:n}])}},{key:"rotateAroundCenter",value:function(i){var t={};return i&&"function"==typeof i.getBBox&&(t=i.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(i,t,n,a){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=this.w,o=this.drawText({x:-200,y:-200,text:i,textAnchor:"start",fontSize:t,fontFamily:n,foreColor:"#fff",opacity:0});a&&o.attr("transform",a),s.globals.dom.Paper.add(o);var l=o.bbox();return r||(l=o.node.getBoundingClientRect()),o.remove(),{width:l.width,height:l.height}}},{key:"placeTextWithEllipsis",value:function(i,t,n){if("function"==typeof i.getComputedTextLength&&(i.textContent=t,t.length>0&&i.getComputedTextLength()>=n/1.1)){for(var a=t.length-3;a>0;a-=3)if(i.getSubStringLength(0,a)<=n/1.1)return void(i.textContent=t.substring(0,a)+"...");i.textContent="."}}}],[{key:"setAttrs",value:function(i,t){for(var n in t)t.hasOwnProperty(n)&&i.setAttribute(n,t[n])}}]),te}(),W=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w}return f(te,[{key:"getStackedSeriesTotals",value:function(){var i=this.w,t=[];if(0===i.globals.series.length)return t;for(var n=0;n<i.globals.series[i.globals.maxValsInArrayIndex].length;n++){for(var a=0,r=0;r<i.globals.series.length;r++)void 0!==i.globals.series[r][n]&&(a+=i.globals.series[r][n]);t.push(a)}return i.globals.stackedSeriesTotals=t,t}},{key:"getSeriesTotalByIndex",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===i?this.w.config.series.reduce(function(t,n){return t+n},0):this.w.globals.series[i].reduce(function(t,n){return t+n},0)}},{key:"isSeriesNull",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===i?this.w.config.series.filter(function(t){return null!==t}):this.w.config.series[i].data.filter(function(t){return null!==t})).length}},{key:"seriesHaveSameValues",value:function(i){return this.w.globals.series[i].every(function(t,n,a){return t===a[0]})}},{key:"getCategoryLabels",value:function(i){var t=this.w,n=i.slice();return t.config.xaxis.convertedCatToNumeric&&(n=i.map(function(a,r){return t.config.xaxis.labels.formatter(a-t.globals.minX+1)})),n}},{key:"getLargestSeries",value:function(){var i=this.w;i.globals.maxValsInArrayIndex=i.globals.series.map(function(t){return t.length}).indexOf(Math.max.apply(Math,i.globals.series.map(function(t){return t.length})))}},{key:"getLargestMarkerSize",value:function(){var i=this.w,t=0;return i.globals.markers.size.forEach(function(n){t=Math.max(t,n)}),i.config.markers.discrete&&i.config.markers.discrete.length&&i.config.markers.discrete.forEach(function(n){t=Math.max(t,n.size)}),t>0&&(t+=i.config.markers.hover.sizeOffset+1),i.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var i=this.w;i.globals.seriesTotals=i.globals.series.map(function(t,n){var a=0;if(Array.isArray(t))for(var r=0;r<t.length;r++)a+=t[r];else a+=t;return a})}},{key:"getSeriesTotalsXRange",value:function(i,t){var n=this.w;return n.globals.series.map(function(a,r){for(var s=0,o=0;o<a.length;o++)n.globals.seriesX[r][o]>i&&n.globals.seriesX[r][o]<t&&(s+=a[o]);return s})}},{key:"getPercentSeries",value:function(){var i=this.w;i.globals.seriesPercent=i.globals.series.map(function(t,n){var a=[];if(Array.isArray(t))for(var r=0;r<t.length;r++){var s=i.globals.stackedSeriesTotals[r],o=0;s&&(o=100*t[r]/s),a.push(o)}else{var l=100*t/i.globals.seriesTotals.reduce(function(d,g){return d+g},0);a.push(l)}return a})}},{key:"getCalculatedRatios",value:function(){var i,t,n,a,r=this.w.globals,s=[],o=0,l=[],d=.1,g=0;if(r.yRange=[],r.isMultipleYAxis)for(var p=0;p<r.minYArr.length;p++)r.yRange.push(Math.abs(r.minYArr[p]-r.maxYArr[p])),l.push(0);else r.yRange.push(Math.abs(r.minY-r.maxY));r.xRange=Math.abs(r.maxX-r.minX),r.zRange=Math.abs(r.maxZ-r.minZ);for(var m=0;m<r.yRange.length;m++)s.push(r.yRange[m]/r.gridHeight);if(t=r.xRange/r.gridWidth,n=Math.abs(r.initialMaxX-r.initialMinX)/r.gridWidth,i=r.yRange/r.gridWidth,a=r.xRange/r.gridHeight,(o=r.zRange/r.gridHeight*16)||(o=1),r.minY!==Number.MIN_VALUE&&0!==Math.abs(r.minY)&&(r.hasNegs=!0),r.isMultipleYAxis){l=[];for(var y=0;y<s.length;y++)l.push(-r.minYArr[y]/s[y])}else l.push(-r.minY/s[0]),r.minY!==Number.MIN_VALUE&&0!==Math.abs(r.minY)&&(d=-r.minY/i,g=r.minX/t);return{yRatio:s,invertedYRatio:i,zRatio:o,xRatio:t,initialXRatio:n,invertedXRatio:a,baseLineInvertedY:d,baseLineY:l,baseLineX:g}}},{key:"getLogSeries",value:function(i){var t=this,n=this.w;return n.globals.seriesLog=i.map(function(a,r){return n.config.yaxis[r]&&n.config.yaxis[r].logarithmic?a.map(function(s){return null===s?null:t.getLogVal(n.config.yaxis[r].logBase,s,r)}):a}),n.globals.invalidLogScale?i:n.globals.seriesLog}},{key:"getBaseLog",value:function(i,t){return Math.log(t)/Math.log(i)}},{key:"getLogVal",value:function(i,t,n){if(0===t)return 0;var a=this.w,r=0===a.globals.minYArr[n]?-1:this.getBaseLog(i,a.globals.minYArr[n]),s=(0===a.globals.maxYArr[n]?0:this.getBaseLog(i,a.globals.maxYArr[n]))-r;return t<1?t/s:(this.getBaseLog(i,t)-r)/s}},{key:"getLogYRatios",value:function(i){var t=this,n=this.w,a=this.w.globals;return a.yLogRatio=i.slice(),a.logYRange=a.yRange.map(function(r,s){if(n.config.yaxis[s]&&t.w.config.yaxis[s].logarithmic){var o,l=-Number.MAX_VALUE,d=Number.MIN_VALUE;return a.seriesLog.forEach(function(g,p){g.forEach(function(m){n.config.yaxis[p]&&n.config.yaxis[p].logarithmic&&(l=Math.max(m,l),d=Math.min(m,d))})}),o=Math.pow(a.yRange[s],Math.abs(d-l)/a.yRange[s]),a.yLogRatio[s]=o/a.gridHeight,o}}),a.invalidLogScale?i.slice():a.yLogRatio}}],[{key:"checkComboSeries",value:function(i){var t=!1,n=0,a=0;return i.length&&void 0!==i[0].type&&i.forEach(function(r){"bar"!==r.type&&"column"!==r.type&&"candlestick"!==r.type&&"boxPlot"!==r.type||n++,void 0!==r.type&&a++}),a>0&&(t=!0),{comboBarCount:n,comboCharts:t}}},{key:"extendArrayProps",value:function(i,t,n){return t.yaxis&&(t=i.extendYAxis(t,n)),t.annotations&&(t.annotations.yaxis&&(t=i.extendYAxisAnnotations(t)),t.annotations.xaxis&&(t=i.extendXAxisAnnotations(t)),t.annotations.points&&(t=i.extendPointAnnotations(t))),t}}]),te}(),G=function(){function te(i){pe(this,te),this.w=i.w,this.annoCtx=i}return f(te,[{key:"setOrientations",value:function(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.w;if("vertical"===i.label.orientation){var a=null!==t?t:0,r=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(a,"']"));if(null!==r){var s=r.getBoundingClientRect();r.setAttribute("x",parseFloat(r.getAttribute("x"))-s.height+4),r.setAttribute("y","top"===i.label.position?parseFloat(r.getAttribute("y"))+s.width:parseFloat(r.getAttribute("y"))-s.width);var o=this.annoCtx.graphics.rotateAroundCenter(r),l=o.x,d=o.y;r.setAttribute("transform","rotate(-90 ".concat(l," ").concat(d,")"))}}}},{key:"addBackgroundToAnno",value:function(i,t){var n=this.w;if(!i||void 0===t.label.text||void 0!==t.label.text&&!String(t.label.text).trim())return null;var a=n.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),r=i.getBoundingClientRect(),s=t.label.style.padding.left,o=t.label.style.padding.right,l=t.label.style.padding.top,d=t.label.style.padding.bottom;"vertical"===t.label.orientation&&(l=t.label.style.padding.left,d=t.label.style.padding.right,s=t.label.style.padding.top,o=t.label.style.padding.bottom);var m=this.annoCtx.graphics.drawRect(r.left-a.left-s-n.globals.barPadForNumericAxis,r.top-a.top-l,r.width+s+o,r.height+l+d,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&m.node.classList.add(t.id),m}},{key:"annotationsBackground",value:function(){var i=this,t=this.w,n=function(a,r,s){var o=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations .apexcharts-").concat(s,"-annotation-label[rel='").concat(r,"']"));if(o){var l=o.parentNode,d=i.addBackgroundToAnno(o,a);d&&(l.insertBefore(d.node,o),a.label.mouseEnter&&d.node.addEventListener("mouseenter",a.label.mouseEnter.bind(i,a)),a.label.mouseLeave&&d.node.addEventListener("mouseleave",a.label.mouseLeave.bind(i,a)))}};t.config.annotations.xaxis.map(function(a,r){n(a,r,"xaxis")}),t.config.annotations.yaxis.map(function(a,r){n(a,r,"yaxis")}),t.config.annotations.points.map(function(a,r){n(a,r,"point")})}},{key:"getY1Y2",value:function(i,t){var n,a="y1"===i?t.y:t.y2,r=this.w;if(this.annoCtx.invertAxis){var s=r.globals.labels.indexOf(a);r.config.xaxis.convertedCatToNumeric&&(s=r.globals.categoryLabels.indexOf(a));var o=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(s+1)+")");o&&(n=parseFloat(o.getAttribute("y")))}else{var l;l=r.config.yaxis[t.yAxisIndex].logarithmic?(a=new W(this.annoCtx.ctx).getLogVal(a,t.yAxisIndex))/r.globals.yLogRatio[t.yAxisIndex]:(a-r.globals.minYArr[t.yAxisIndex])/(r.globals.yRange[t.yAxisIndex]/r.globals.gridHeight),n=r.globals.gridHeight-l,r.config.yaxis[t.yAxisIndex]&&r.config.yaxis[t.yAxisIndex].reversed&&(n=l)}return n}},{key:"getX1X2",value:function(i,t){var n=this.w,a=this.annoCtx.invertAxis?n.globals.minY:n.globals.minX,r=this.annoCtx.invertAxis?n.globals.maxY:n.globals.maxX,s=this.annoCtx.invertAxis?n.globals.yRange[0]:n.globals.xRange,o=(t.x-a)/(s/n.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(o=(r-t.x)/(s/n.globals.gridWidth)),"category"!==n.config.xaxis.type&&!n.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||n.globals.dataFormatXNumeric||(o=this.getStringX(t.x));var l=(t.x2-a)/(s/n.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(l=(r-t.x2)/(s/n.globals.gridWidth)),"category"!==n.config.xaxis.type&&!n.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||n.globals.dataFormatXNumeric||(l=this.getStringX(t.x2)),"x1"===i?o:l}},{key:"getStringX",value:function(i){var t=this.w,n=i;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(i=t.globals.categoryLabels.indexOf(i)+1);var a=t.globals.labels.indexOf(i),r=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(a+1)+")");return r&&(n=parseFloat(r.getAttribute("x"))),n}}]),te}(),be=function(){function te(i){pe(this,te),this.w=i.w,this.annoCtx=i,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new G(this.annoCtx)}return f(te,[{key:"addXaxisAnnotation",value:function(i,t,n){var a,r=this.w,s=this.helpers.getX1X2("x1",i),o=i.label.text,l=i.strokeDashArray;if(S.isNumber(s)){if(null==i.x2){var d=this.annoCtx.graphics.drawLine(s+i.offsetX,0+i.offsetY,s+i.offsetX,r.globals.gridHeight+i.offsetY,i.borderColor,l,i.borderWidth);t.appendChild(d.node),i.id&&d.node.classList.add(i.id)}else{if((a=this.helpers.getX1X2("x2",i))<s){var g=s;s=a,a=g}var p=this.annoCtx.graphics.drawRect(s+i.offsetX,0+i.offsetY,a-s,r.globals.gridHeight+i.offsetY,0,i.fillColor,i.opacity,1,i.borderColor,l);p.node.classList.add("apexcharts-annotation-rect"),p.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),t.appendChild(p.node),i.id&&p.node.classList.add(i.id)}var m="top"===i.label.position?4:r.globals.gridHeight,y=this.annoCtx.graphics.getTextRects(o,parseFloat(i.label.style.fontSize)),E=this.annoCtx.graphics.drawText({x:s+i.label.offsetX,y:m+i.label.offsetY-("vertical"===i.label.orientation?"top"===i.label.position?y.width/2-12:-y.width/2:0),text:o,textAnchor:i.label.textAnchor,fontSize:i.label.style.fontSize,fontFamily:i.label.style.fontFamily,fontWeight:i.label.style.fontWeight,foreColor:i.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(i.label.style.cssClass," ").concat(i.id?i.id:"")});E.attr({rel:n}),t.appendChild(E.node),this.annoCtx.helpers.setOrientations(i,n)}}},{key:"drawXAxisAnnotations",value:function(){var i=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(a,r){i.addXaxisAnnotation(a,n.node,r)}),n}}]),te}(),de=function(){function te(i){pe(this,te),this.w=i.w,this.annoCtx=i,this.helpers=new G(this.annoCtx)}return f(te,[{key:"addYaxisAnnotation",value:function(i,t,n){var a,r=this.w,s=i.strokeDashArray,o=this.helpers.getY1Y2("y1",i),l=i.label.text;if(null==i.y2){var d=this.annoCtx.graphics.drawLine(0+i.offsetX,o+i.offsetY,this._getYAxisAnnotationWidth(i),o+i.offsetY,i.borderColor,s,i.borderWidth);t.appendChild(d.node),i.id&&d.node.classList.add(i.id)}else{if((a=this.helpers.getY1Y2("y2",i))>o){var g=o;o=a,a=g}var p=this.annoCtx.graphics.drawRect(0+i.offsetX,a+i.offsetY,this._getYAxisAnnotationWidth(i),o-a,0,i.fillColor,i.opacity,1,i.borderColor,s);p.node.classList.add("apexcharts-annotation-rect"),p.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),t.appendChild(p.node),i.id&&p.node.classList.add(i.id)}var y=this.annoCtx.graphics.drawText({x:("right"===i.label.position?r.globals.gridWidth:0)+i.label.offsetX,y:(null!=a?a:o)+i.label.offsetY-3,text:l,textAnchor:i.label.textAnchor,fontSize:i.label.style.fontSize,fontFamily:i.label.style.fontFamily,fontWeight:i.label.style.fontWeight,foreColor:i.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(i.label.style.cssClass," ").concat(i.id?i.id:"")});y.attr({rel:n}),t.appendChild(y.node)}},{key:"_getYAxisAnnotationWidth",value:function(i){var t=this.w;return(i.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(i.width,10)/100:parseInt(i.width,10))+i.offsetX}},{key:"drawYAxisAnnotations",value:function(){var i=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.map(function(a,r){i.addYaxisAnnotation(a,n.node,r)}),n}}]),te}(),_e=function(){function te(i){pe(this,te),this.w=i.w,this.annoCtx=i,this.helpers=new G(this.annoCtx)}return f(te,[{key:"addPointAnnotation",value:function(i,t,n){var a=this.helpers.getX1X2("x1",i),r=this.helpers.getY1Y2("y1",i);if(S.isNumber(a)){var s={pSize:i.marker.size,pointStrokeWidth:i.marker.strokeWidth,pointFillColor:i.marker.fillColor,pointStrokeColor:i.marker.strokeColor,shape:i.marker.shape,pRadius:i.marker.radius,class:"apexcharts-point-annotation-marker ".concat(i.marker.cssClass," ").concat(i.id?i.id:"")},o=this.annoCtx.graphics.drawMarker(a+i.marker.offsetX,r+i.marker.offsetY,s);t.appendChild(o.node);var l=i.label.text?i.label.text:"",d=this.annoCtx.graphics.drawText({x:a+i.label.offsetX,y:r+i.label.offsetY-i.marker.size-parseFloat(i.label.style.fontSize)/1.6,text:l,textAnchor:i.label.textAnchor,fontSize:i.label.style.fontSize,fontFamily:i.label.style.fontFamily,fontWeight:i.label.style.fontWeight,foreColor:i.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(i.label.style.cssClass," ").concat(i.id?i.id:"")});if(d.attr({rel:n}),t.appendChild(d.node),i.customSVG.SVG){var g=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+i.customSVG.cssClass});g.attr({transform:"translate(".concat(a+i.customSVG.offsetX,", ").concat(r+i.customSVG.offsetY,")")}),g.node.innerHTML=i.customSVG.SVG,t.appendChild(g.node)}if(i.image.path){var p=i.image.width?i.image.width:20,m=i.image.height?i.image.height:20;o=this.annoCtx.addImage({x:a+i.image.offsetX-p/2,y:r+i.image.offsetY-m/2,width:p,height:m,path:i.image.path,appendTo:".apexcharts-point-annotations"})}i.mouseEnter&&o.node.addEventListener("mouseenter",i.mouseEnter.bind(this,i)),i.mouseLeave&&o.node.addEventListener("mouseleave",i.mouseLeave.bind(this,i))}}},{key:"drawPointAnnotations",value:function(){var i=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map(function(a,r){i.addPointAnnotation(a,n.node,r)}),n}}]),te}(),ye={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},me=function(){function te(){pe(this,te),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return f(te,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[ye],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(i){return new Date(i).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal"}},bubble:{minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(i){return i}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(i){return i+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(i){return i.globals.seriesTotals.reduce(function(t,n){return t+n},0)/i.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(i){return i}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(i){return i}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(i){return i.globals.seriesTotals.reduce(function(t,n){return t+n},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(i){return null!==i?i:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(i){return i?i+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),te}(),ve=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w,this.graphics=new L(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new G(this),this.xAxisAnnotations=new be(this),this.yAxisAnnotations=new de(this),this.pointsAnnotations=new _e(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return f(te,[{key:"drawAxesAnnotations",value:function(){var i=this.w;if(i.globals.axisCharts){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),n=this.xAxisAnnotations.drawXAxisAnnotations(),a=this.pointsAnnotations.drawPointAnnotations(),r=i.config.chart.animations.enabled,s=[t,n,a],o=[n.node,t.node,a.node],l=0;l<3;l++)i.globals.dom.elGraphical.add(s[l]),!r||i.globals.resized||i.globals.dataChanged||"scatter"!==i.config.chart.type&&"bubble"!==i.config.chart.type&&i.globals.dataPoints>1&&o[l].classList.add("apexcharts-element-hidden"),i.globals.delayedElements.push({el:o[l],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var i=this;this.w.config.annotations.images.map(function(t,n){i.addImage(t,n)})}},{key:"drawTextAnnos",value:function(){var i=this;this.w.config.annotations.texts.map(function(t,n){i.addText(t,n)})}},{key:"addXaxisAnnotation",value:function(i,t,n){this.xAxisAnnotations.addXaxisAnnotation(i,t,n)}},{key:"addYaxisAnnotation",value:function(i,t,n){this.yAxisAnnotations.addYaxisAnnotation(i,t,n)}},{key:"addPointAnnotation",value:function(i,t,n){this.pointsAnnotations.addPointAnnotation(i,t,n)}},{key:"addText",value:function(i,t){var r=i.text,m=i.backgroundColor,y=i.borderWidth,E=i.strokeDashArray,P=i.borderRadius,Z=i.borderColor,K=i.appendTo,ae=void 0===K?".apexcharts-annotations":K,le=i.paddingLeft,h=void 0===le?4:le,b=i.paddingRight,D=void 0===b?4:b,ee=i.paddingBottom,Ce=void 0===ee?2:ee,Ne=i.paddingTop,Me=void 0===Ne?2:Ne,je=this.w,Xe=this.graphics.drawText({x:i.x,y:i.y,text:r,textAnchor:i.textAnchor||"start",fontSize:i.fontSize||"12px",fontWeight:i.fontWeight||"regular",fontFamily:i.fontFamily||je.config.chart.fontFamily,foreColor:i.foreColor||je.config.chart.foreColor,cssClass:i.cssClass}),et=je.globals.dom.baseEl.querySelector(ae);et&&et.appendChild(Xe.node);var ct=Xe.bbox();if(r){var St=this.graphics.drawRect(ct.x-h,ct.y-Me,ct.width+h+D,ct.height+Ce+Me,P,m||"transparent",1,y,Z,E);et.insertBefore(St.node,Xe.node)}}},{key:"addImage",value:function(i,t){var n=this.w,r=i.x,s=void 0===r?0:r,o=i.y,l=void 0===o?0:o,d=i.width,g=void 0===d?20:d,p=i.height,m=void 0===p?20:p,y=i.appendTo,E=void 0===y?".apexcharts-annotations":y,P=n.globals.dom.Paper.image(i.path);P.size(g,m).move(s,l);var Z=n.globals.dom.baseEl.querySelector(E);return Z&&Z.appendChild(P.node),P}},{key:"addXaxisAnnotationExternal",value:function(i,t,n){return this.addAnnotationExternal({params:i,pushToMemory:t,context:n,type:"xaxis",contextMethod:n.addXaxisAnnotation}),n}},{key:"addYaxisAnnotationExternal",value:function(i,t,n){return this.addAnnotationExternal({params:i,pushToMemory:t,context:n,type:"yaxis",contextMethod:n.addYaxisAnnotation}),n}},{key:"addPointAnnotationExternal",value:function(i,t,n){return void 0===this.invertAxis&&(this.invertAxis=n.w.globals.isBarHorizontal),this.addAnnotationExternal({params:i,pushToMemory:t,context:n,type:"point",contextMethod:n.addPointAnnotation}),n}},{key:"addAnnotationExternal",value:function(i){var t=i.params,n=i.pushToMemory,a=i.context,r=i.type,s=i.contextMethod,o=a,l=o.w,d=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations")),g=d.childNodes.length+1,p=new me,m=Object.assign({},"xaxis"===r?p.xAxisAnnotation:"yaxis"===r?p.yAxisAnnotation:p.pointAnnotation),y=S.extend(m,t);switch(r){case"xaxis":this.addXaxisAnnotation(y,d,g);break;case"yaxis":this.addYaxisAnnotation(y,d,g);break;case"point":this.addPointAnnotation(y,d,g)}var E=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(g,"']")),P=this.helpers.addBackgroundToAnno(E,y);return P&&d.insertBefore(P.node,E),n&&l.globals.memory.methodsToExec.push({context:o,id:y.id?y.id:S.randomId(),method:s,label:"addAnnotation",params:t}),a}},{key:"clearAnnotations",value:function(i){var t=i.w,n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");t.globals.memory.methodsToExec.map(function(a,r){"addText"!==a.label&&"addAnnotation"!==a.label||t.globals.memory.methodsToExec.splice(r,1)}),n=S.listToArray(n),Array.prototype.forEach.call(n,function(a){for(;a.firstChild;)a.removeChild(a.firstChild)})}},{key:"removeAnnotation",value:function(i,t){var n=i.w,a=n.globals.dom.baseEl.querySelectorAll(".".concat(t));a&&(n.globals.memory.methodsToExec.map(function(r,s){r.id===t&&n.globals.memory.methodsToExec.splice(s,1)}),Array.prototype.forEach.call(a,function(r){r.parentElement.removeChild(r)}))}}]),te}(),we=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w,this.opts=null,this.seriesIndex=0}return f(te,[{key:"clippedImgArea",value:function(i){var t=this.w,n=t.config,a=parseInt(t.globals.gridWidth,10),r=parseInt(t.globals.gridHeight,10),s=a>r?a:r,o=i.image,l=0,d=0;void 0===i.width&&void 0===i.height?void 0!==n.fill.image.width&&void 0!==n.fill.image.height?(l=n.fill.image.width+1,d=n.fill.image.height):(l=s+1,d=s):(l=i.width,d=i.height);var g=document.createElementNS(t.globals.SVGNS,"pattern");L.setAttrs(g,{id:i.patternID,patternUnits:i.patternUnits?i.patternUnits:"userSpaceOnUse",width:l+"px",height:d+"px"});var p=document.createElementNS(t.globals.SVGNS,"image");g.appendChild(p),p.setAttributeNS(window.SVG.xlink,"href",o),L.setAttrs(p,{x:0,y:0,preserveAspectRatio:"none",width:l+"px",height:d+"px"}),p.style.opacity=i.opacity,t.globals.dom.elDefs.node.appendChild(g)}},{key:"getSeriesIndex",value:function(i){var t=this.w;return this.seriesIndex=("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)&&t.config.plotOptions.bar.distributed||"heatmap"===t.config.chart.type||"treemap"===t.config.chart.type?i.seriesNumber:i.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(i){var t=this.w;this.opts=i;var n,a,r,s=this.w.config;this.seriesIndex=this.getSeriesIndex(i);var o=this.getFillColors()[this.seriesIndex];void 0!==t.globals.seriesColors[this.seriesIndex]&&(o=t.globals.seriesColors[this.seriesIndex]),"function"==typeof o&&(o=o({seriesIndex:this.seriesIndex,dataPointIndex:i.dataPointIndex,value:i.value,w:t}));var l=this.getFillType(this.seriesIndex),d=Array.isArray(s.fill.opacity)?s.fill.opacity[this.seriesIndex]:s.fill.opacity;i.color&&(o=i.color);var g=o;if(-1===o.indexOf("rgb")?o.length<9&&(g=S.hexToRgba(o,d)):o.indexOf("rgba")>-1&&(d=S.getOpacityFromRGBA(o)),i.opacity&&(d=i.opacity),"pattern"===l&&(a=this.handlePatternFill(a,o,d,g)),"gradient"===l&&(r=this.handleGradientFill(o,d,this.seriesIndex)),"image"===l){var p=s.fill.image.src,m=i.patternID?i.patternID:"";this.clippedImgArea({opacity:d,image:Array.isArray(p)?i.seriesNumber<p.length?p[i.seriesNumber]:p[0]:p,width:i.width?i.width:void 0,height:i.height?i.height:void 0,patternUnits:i.patternUnits,patternID:"pattern".concat(t.globals.cuid).concat(i.seriesNumber+1).concat(m)}),n="url(#pattern".concat(t.globals.cuid).concat(i.seriesNumber+1).concat(m,")")}else n="gradient"===l?r:"pattern"===l?a:g;return i.solid&&(n=g),n}},{key:"getFillType",value:function(i){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[i]:t.config.fill.type}},{key:"getFillColors",value:function(){var i=this.w,t=i.config,n=this.opts,a=[];return i.globals.comboCharts?"line"===i.config.series[this.seriesIndex].type?Array.isArray(i.globals.stroke.colors)?a=i.globals.stroke.colors:a.push(i.globals.stroke.colors):Array.isArray(i.globals.fill.colors)?a=i.globals.fill.colors:a.push(i.globals.fill.colors):"line"===t.chart.type?Array.isArray(i.globals.stroke.colors)?a=i.globals.stroke.colors:a.push(i.globals.stroke.colors):Array.isArray(i.globals.fill.colors)?a=i.globals.fill.colors:a.push(i.globals.fill.colors),void 0!==n.fillColors&&(a=[],Array.isArray(n.fillColors)?a=n.fillColors.slice():a.push(n.fillColors)),a}},{key:"handlePatternFill",value:function(i,t,n,a){var r=this.w.config,s=this.opts,o=new L(this.ctx),l=void 0===r.fill.pattern.strokeWidth?Array.isArray(r.stroke.width)?r.stroke.width[this.seriesIndex]:r.stroke.width:Array.isArray(r.fill.pattern.strokeWidth)?r.fill.pattern.strokeWidth[this.seriesIndex]:r.fill.pattern.strokeWidth,d=t;return Array.isArray(r.fill.pattern.style)?void 0!==r.fill.pattern.style[s.seriesNumber]?o.drawPattern(r.fill.pattern.style[s.seriesNumber],r.fill.pattern.width,r.fill.pattern.height,d,l,n):a:o.drawPattern(r.fill.pattern.style,r.fill.pattern.width,r.fill.pattern.height,d,l,n)}},{key:"handleGradientFill",value:function(i,t,n){var a,r=this.w.config,s=this.opts,o=new L(this.ctx),l=new S,d=r.fill.gradient.type,g=i,p=void 0===r.fill.gradient.opacityFrom?t:Array.isArray(r.fill.gradient.opacityFrom)?r.fill.gradient.opacityFrom[n]:r.fill.gradient.opacityFrom;g.indexOf("rgba")>-1&&(p=S.getOpacityFromRGBA(g));var m=void 0===r.fill.gradient.opacityTo?t:Array.isArray(r.fill.gradient.opacityTo)?r.fill.gradient.opacityTo[n]:r.fill.gradient.opacityTo;if(void 0===r.fill.gradient.gradientToColors||0===r.fill.gradient.gradientToColors.length)a=l.shadeColor("dark"===r.fill.gradient.shade?-1*parseFloat(r.fill.gradient.shadeIntensity):parseFloat(r.fill.gradient.shadeIntensity),i.indexOf("rgb")>-1?S.rgb2hex(i):i);else if(r.fill.gradient.gradientToColors[s.seriesNumber]){var y=r.fill.gradient.gradientToColors[s.seriesNumber];a=y,y.indexOf("rgba")>-1&&(m=S.getOpacityFromRGBA(y))}else a=i;if(r.fill.gradient.inverseColors){var E=g;g=a,a=E}return g.indexOf("rgb")>-1&&(g=S.rgb2hex(g)),a.indexOf("rgb")>-1&&(a=S.rgb2hex(a)),o.drawGradient(d,g,a,p,m,s.size,r.fill.gradient.stops,r.fill.gradient.colorStops,n)}}]),te}(),ue=function(){function te(i,t){pe(this,te),this.ctx=i,this.w=i.w}return f(te,[{key:"setGlobalMarkerSize",value:function(){var i=this.w;if(i.globals.markers.size=Array.isArray(i.config.markers.size)?i.config.markers.size:[i.config.markers.size],i.globals.markers.size.length>0){if(i.globals.markers.size.length<i.globals.series.length+1)for(var t=0;t<=i.globals.series.length;t++)void 0===i.globals.markers.size[t]&&i.globals.markers.size.push(i.globals.markers.size[0])}else i.globals.markers.size=i.config.series.map(function(n){return i.config.markers.size})}},{key:"plotChartMarkers",value:function(i,t,n,a){var r,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.w,l=t,d=i,g=null,p=new L(this.ctx),m=o.config.markers.discrete&&o.config.markers.discrete.length;if((o.globals.markers.size[t]>0||s||m)&&(g=p.group({class:s||m?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(o.globals.cuid,")")),Array.isArray(d.x))for(var y=0;y<d.x.length;y++){var E=n;1===n&&0===y&&(E=0),1===n&&1===y&&(E=1);var P="apexcharts-marker";"line"!==o.config.chart.type&&"area"!==o.config.chart.type||o.globals.comboCharts||o.config.tooltip.intersect||(P+=" no-pointer-events");var Z=Array.isArray(o.config.markers.size)?o.globals.markers.size[t]>0:o.config.markers.size>0;if(Z||s||m){S.isNumber(d.y[y])?P+=" w".concat(S.randomId()):P="apexcharts-nullpoint";var K=this.getMarkerConfig({cssClass:P,seriesIndex:t,dataPointIndex:E});o.config.series[l].data[E]&&(o.config.series[l].data[E].fillColor&&(K.pointFillColor=o.config.series[l].data[E].fillColor),o.config.series[l].data[E].strokeColor&&(K.pointStrokeColor=o.config.series[l].data[E].strokeColor)),a&&(K.pSize=a),(r=p.drawMarker(d.x[y],d.y[y],K)).attr("rel",E),r.attr("j",E),r.attr("index",t),r.node.setAttribute("default-marker-size",K.pSize);var ae=new T(this.ctx);ae.setSelectionFilter(r,t,E),this.addEvents(r),g&&g.add(r)}else void 0===o.globals.pointsArray[t]&&(o.globals.pointsArray[t]=[]),o.globals.pointsArray[t].push([d.x[y],d.y[y]])}return g}},{key:"getMarkerConfig",value:function(i){var t=i.cssClass,n=i.seriesIndex,a=i.dataPointIndex,r=void 0===a?null:a,s=i.finishRadius,o=void 0===s?null:s,l=this.w,d=this.getMarkerStyle(n),g=l.globals.markers.size[n],p=l.config.markers;return null!==r&&p.discrete.length&&p.discrete.map(function(m){m.seriesIndex===n&&m.dataPointIndex===r&&(d.pointStrokeColor=m.strokeColor,d.pointFillColor=m.fillColor,g=m.size,d.pointShape=m.shape)}),{pSize:null===o?g:o,pRadius:p.radius,width:Array.isArray(p.width)?p.width[n]:p.width,height:Array.isArray(p.height)?p.height[n]:p.height,pointStrokeWidth:Array.isArray(p.strokeWidth)?p.strokeWidth[n]:p.strokeWidth,pointStrokeColor:d.pointStrokeColor,pointFillColor:d.pointFillColor,shape:d.pointShape||(Array.isArray(p.shape)?p.shape[n]:p.shape),class:t,pointStrokeOpacity:Array.isArray(p.strokeOpacity)?p.strokeOpacity[n]:p.strokeOpacity,pointStrokeDashArray:Array.isArray(p.strokeDashArray)?p.strokeDashArray[n]:p.strokeDashArray,pointFillOpacity:Array.isArray(p.fillOpacity)?p.fillOpacity[n]:p.fillOpacity,seriesIndex:n}}},{key:"addEvents",value:function(i){var t=this.w,n=new L(this.ctx);i.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this.ctx,i)),i.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this.ctx,i)),i.node.addEventListener("mousedown",n.pathMouseDown.bind(this.ctx,i)),i.node.addEventListener("click",t.config.markers.onClick),i.node.addEventListener("dblclick",t.config.markers.onDblClick),i.node.addEventListener("touchstart",n.pathMouseDown.bind(this.ctx,i),{passive:!0})}},{key:"getMarkerStyle",value:function(i){var t=this.w,n=t.globals.markers.colors,a=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(a)?a[i]:a,pointFillColor:Array.isArray(n)?n[i]:n}}}]),te}(),ke=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return f(te,[{key:"draw",value:function(i,t,n){var a=this.w,r=new L(this.ctx),s=n.realIndex,o=n.pointsPos,l=n.zRatio,d=n.elParent,g=r.group({class:"apexcharts-series-markers apexcharts-series-".concat(a.config.chart.type)});if(g.attr("clip-path","url(#gridRectMarkerMask".concat(a.globals.cuid,")")),Array.isArray(o.x))for(var p=0;p<o.x.length;p++){var m=t+1,y=!0;0===t&&0===p&&(m=0),0===t&&1===p&&(m=1);var E=0,P=a.globals.markers.size[s];if(l!==1/0){P=a.globals.seriesZ[s][m]/l;var Z=a.config.plotOptions.bubble;Z.minBubbleRadius&&P<Z.minBubbleRadius&&(P=Z.minBubbleRadius),Z.maxBubbleRadius&&P>Z.maxBubbleRadius&&(P=Z.maxBubbleRadius)}a.config.chart.animations.enabled||(E=P);var ae=o.y[p];if(E=E||0,null!==ae&&void 0!==a.globals.series[s][m]||(y=!1),y){var le=this.drawPoint(o.x[p],ae,E,P,s,m,t);g.add(le)}d.add(g)}}},{key:"drawPoint",value:function(i,t,n,a,r,s,o){var l=this.w,d=r,g=new A(this.ctx),p=new T(this.ctx),m=new we(this.ctx),y=new ue(this.ctx),E=new L(this.ctx),P=y.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:d,dataPointIndex:s,finishRadius:"bubble"===l.config.chart.type||l.globals.comboCharts&&l.config.series[r]&&"bubble"===l.config.series[r].type?a:null});a=P.pSize;var Z,K=m.fillPath({seriesNumber:r,dataPointIndex:s,color:P.pointFillColor,patternUnits:"objectBoundingBox",value:l.globals.series[r][o]});if("circle"===P.shape?Z=E.drawCircle(n):"square"!==P.shape&&"rect"!==P.shape||(Z=E.drawRect(0,0,P.width-P.pointStrokeWidth/2,P.height-P.pointStrokeWidth/2,P.pRadius)),l.config.series[d].data[s]&&l.config.series[d].data[s].fillColor&&(K=l.config.series[d].data[s].fillColor),Z.attr({x:i-P.width/2-P.pointStrokeWidth/2,y:t-P.height/2-P.pointStrokeWidth/2,cx:i,cy:t,fill:K,"fill-opacity":P.pointFillOpacity,stroke:P.pointStrokeColor,r:a,"stroke-width":P.pointStrokeWidth,"stroke-dasharray":P.pointStrokeDashArray,"stroke-opacity":P.pointStrokeOpacity}),l.config.chart.dropShadow.enabled&&p.dropShadow(Z,l.config.chart.dropShadow,r),!this.initialAnim||l.globals.dataChanged||l.globals.resized?l.globals.animationEnded=!0:g.animateMarker(Z,0,"circle"===P.shape?a:{width:P.width,height:P.height},l.config.chart.animations.speed,l.globals.easing,function(){window.setTimeout(function(){g.animationCompleted(Z)},100)}),l.globals.dataChanged&&"circle"===P.shape)if(this.dynamicAnim){var h,b,D,ee,Ce=l.config.chart.animations.dynamicAnimation.speed;null!=(ee=l.globals.previousPaths[r]&&l.globals.previousPaths[r][o])&&(h=ee.x,b=ee.y,D=void 0!==ee.r?ee.r:a);for(var Ne=0;Ne<l.globals.collapsedSeries.length;Ne++)l.globals.collapsedSeries[Ne].index===r&&(Ce=1,a=0);0===i&&0===t&&(a=0),g.animateCircle(Z,{cx:h,cy:b,r:D},{cx:i,cy:t,r:a},Ce,l.globals.easing)}else Z.attr({r:a});return Z.attr({rel:s,j:s,index:r,"default-marker-size":a}),p.setSelectionFilter(Z,r,s),y.addEvents(Z),Z.node.classList.add("apexcharts-marker"),Z}},{key:"centerTextInBubble",value:function(i){return{y:i+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),te}(),J=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w}return f(te,[{key:"dataLabelsCorrection",value:function(i,t,n,a,r,s,o){var l=this.w,d=!1,g=new L(this.ctx).getTextRects(n,o),p=g.width,m=g.height;if(t<0&&(t=0),t>l.globals.gridHeight+m&&(t=l.globals.gridHeight+m/2),void 0===l.globals.dataLabelsRects[a]&&(l.globals.dataLabelsRects[a]=[]),l.globals.dataLabelsRects[a].push({x:i,y:t,width:p,height:m}),void 0!==l.globals.dataLabelsRects[a][l.globals.dataLabelsRects[a].length-2]){var P=l.globals.dataLabelsRects[a][void 0!==l.globals.lastDrawnDataLabelsIndexes[a]?l.globals.lastDrawnDataLabelsIndexes[a][l.globals.lastDrawnDataLabelsIndexes[a].length-1]:0];(i>P.x+P.width+2||t>P.y+P.height+2||i+p<P.x)&&(d=!0)}return(0===r||s)&&(d=!0),{x:i,y:t,textRects:g,drawnextLabel:d}}},{key:"drawDataLabel",value:function(i,t,n){var a=this,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,s=this.w,o=new L(this.ctx),l=s.config.dataLabels,d=0,g=0,p=n,m=null;if(!l.enabled||!Array.isArray(i.x))return m;m=o.group({class:"apexcharts-data-labels"});for(var y=0;y<i.x.length;y++)if(d=i.x[y]+l.offsetX,g=i.y[y]+l.offsetY+r,!isNaN(d)){1===n&&0===y&&(p=0),1===n&&1===y&&(p=1);var E=s.globals.series[t][p],P="",Z=function(le){return s.config.dataLabels.formatter(le,{ctx:a.ctx,seriesIndex:t,dataPointIndex:p,w:s})};if("bubble"===s.config.chart.type){P=Z(E=s.globals.seriesZ[t][p]),g=i.y[y];var K=new ke(this.ctx),ae=K.centerTextInBubble(g,t,p);g=ae.y}else void 0!==E&&(P=Z(E));this.plotDataLabelsText({x:d,y:g,text:P,i:t,j:p,parent:m,offsetCorrection:!0,dataLabelsConfig:s.config.dataLabels})}return m}},{key:"plotDataLabelsText",value:function(i){var t=this.w,n=new L(this.ctx),a=i.x,r=i.y,s=i.i,o=i.j,l=i.text,d=i.textAnchor,g=i.fontSize,p=i.parent,m=i.dataLabelsConfig,y=i.color,E=i.alwaysDrawDataLabel,P=i.offsetCorrection;if(!(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(s)<0)){var Z={x:a,y:r,drawnextLabel:!0,textRects:null};P&&(Z=this.dataLabelsCorrection(a,r,l,s,o,E,parseInt(m.style.fontSize,10))),t.globals.zoomed||(a=Z.x,r=Z.y),Z.textRects&&(a<-10-Z.textRects.width||a>t.globals.gridWidth+Z.textRects.width+10)&&(l="");var K=t.globals.dataLabels.style.colors[s];(("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(K=t.globals.dataLabels.style.colors[o]),"function"==typeof K&&(K=K({series:t.globals.series,seriesIndex:s,dataPointIndex:o,w:t})),y&&(K=y);var ae=m.offsetX,le=m.offsetY;if("bar"!==t.config.chart.type&&"rangeBar"!==t.config.chart.type||(ae=0,le=0),Z.drawnextLabel){var h=n.drawText({width:100,height:parseInt(m.style.fontSize,10),x:a+ae,y:r+le,foreColor:K,textAnchor:d||m.textAnchor,text:l,fontSize:g||m.style.fontSize,fontFamily:m.style.fontFamily,fontWeight:m.style.fontWeight||"normal"});if(h.attr({class:"apexcharts-datalabel",cx:a,cy:r}),m.dropShadow.enabled){var b=m.dropShadow;new T(this.ctx).dropShadow(h,b)}p.add(h),void 0===t.globals.lastDrawnDataLabelsIndexes[s]&&(t.globals.lastDrawnDataLabelsIndexes[s]=[]),t.globals.lastDrawnDataLabelsIndexes[s].push(o)}}}},{key:"addBackgroundToDataLabel",value:function(i,t){var n=this.w,a=n.config.dataLabels.background,r=a.padding,s=a.padding/2,o=t.width,l=t.height,d=new L(this.ctx).drawRect(t.x-r,t.y-s/2,o+2*r,l+s,a.borderRadius,"transparent"===n.config.chart.background?"#fff":n.config.chart.background,a.opacity,a.borderWidth,a.borderColor);return a.dropShadow.enabled&&new T(this.ctx).dropShadow(d,a.dropShadow),d}},{key:"dataLabelsBackground",value:function(){var i=this.w;if("bubble"!==i.config.chart.type)for(var t=i.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),n=0;n<t.length;n++){var a=t[n],r=a.getBBox(),s=null;if(r.width&&r.height&&(s=this.addBackgroundToDataLabel(a,r)),s){a.parentNode.insertBefore(s.node,a);var o=a.getAttribute("fill");!i.config.chart.animations.enabled||i.globals.resized||i.globals.dataChanged?s.attr({fill:o}):s.animate().attr({fill:o}),a.setAttribute("fill",i.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var i=this.w,t=i.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),n=i.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),a=0;a<t.length;a++)n&&n.insertBefore(t[a],n.nextSibling)}}]),te}(),N=function(){function te(i){pe(this,te),this.w=i.w,this.barCtx=i}return f(te,[{key:"handleBarDataLabels",value:function(i){var t=i.x,n=i.y,a=i.y1,r=i.y2,s=i.i,o=i.j,l=i.realIndex,d=i.series,g=i.barHeight,p=i.barWidth,m=i.barYPosition,y=i.visibleSeries,E=i.renderedPath,P=this.w,Z=new L(this.barCtx.ctx),K=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[l]:this.barCtx.strokeWidth,ae=t+parseFloat(p*y),le=n+parseFloat(g*y);P.globals.isXNumeric&&!P.globals.isBarHorizontal&&(ae=t+parseFloat(p*(y+1)),le=n+parseFloat(g*(y+1))-K);var D,h=t,b=n,ee=P.config.dataLabels,Ce=this.barCtx.barOptions.dataLabels;void 0!==m&&this.barCtx.isRangeBar&&(le=m,b=m);var Ne=ee.offsetX,Me=ee.offsetY,je={width:0,height:0};P.config.dataLabels.enabled&&(je=Z.getTextRects(P.globals.yLabelFormatters[0](this.barCtx.series[s][o]),parseFloat(ee.style.fontSize)));var et={x:t,y:n,i:s,j:o,renderedPath:E,bcx:ae,bcy:le,barHeight:g,barWidth:p,textRects:je,strokeWidth:K,dataLabelsX:h,dataLabelsY:b,barDataLabelsConfig:Ce,offX:Ne,offY:Me};return D=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(et):this.calculateColumnsDataLabelsPosition(et),E.attr({cy:D.bcy,cx:D.bcx,j:o,val:d[s][o],barHeight:g,barWidth:p}),this.drawCalculatedDataLabels({x:D.dataLabelsX,y:D.dataLabelsY,val:this.barCtx.isRangeBar?[a,r]:d[s][o],i:l,j:o,barWidth:p,barHeight:g,textRects:je,dataLabelsConfig:ee})}},{key:"calculateColumnsDataLabelsPosition",value:function(i){var t,n=this.w,a=i.i,r=i.j,s=i.y,o=i.bcx,l=i.barWidth,d=i.barHeight,g=i.textRects,p=i.dataLabelsY,m=i.barDataLabelsConfig,y=i.strokeWidth,E=i.offX,P=i.offY;d=Math.abs(d);var Z="vertical"===n.config.plotOptions.bar.dataLabels.orientation;o-=y/2,t=n.globals.isXNumeric?o-l/2+E:o-n.globals.gridWidth/n.globals.dataPoints+l/2+E,Z&&(t=t+g.height/2-y/2-2);var ae=this.barCtx.series[a][r]<0,le=s;switch(this.barCtx.isReversed&&(le=s-d+(ae?2*d:0),s-=d),m.position){case"center":p=Z?ae?le+d/2+P:le+d/2-P:ae?le-d/2+g.height/2+P:le+d/2+g.height/2-P;break;case"bottom":p=Z?ae?le+d+P:le+d-P:ae?le-d+g.height+y+P:le+d-g.height/2+y-P;break;case"top":p=Z?ae?le+P:le-P:ae?le-g.height/2-P:le+g.height+P}return n.config.chart.stacked||(p<0?p=0+y:p+g.height/3>n.globals.gridHeight&&(p=n.globals.gridHeight-y)),{bcx:o,bcy:s,dataLabelsX:t,dataLabelsY:p}}},{key:"calculateBarsDataLabelsPosition",value:function(i){var t=this.w,n=i.x,a=i.i,r=i.j,s=i.bcy,o=i.barHeight,l=i.barWidth,d=i.textRects,g=i.dataLabelsX,p=i.strokeWidth,m=i.barDataLabelsConfig,y=i.offX,E=i.offY,P=t.globals.gridHeight/t.globals.dataPoints;l=Math.abs(l);var Z=s-(this.barCtx.isRangeBar?0:P)+o/2+d.height/2+E-3,K=this.barCtx.series[a][r]<0,ae=n;switch(this.barCtx.isReversed&&(ae=n+l-(K?2*l:0),n=t.globals.gridWidth-l),m.position){case"center":g=K?ae+l/2-y:Math.max(d.width/2,ae-l/2)+y;break;case"bottom":g=K?ae+l-p-Math.round(d.width/2)-y:ae-l+p+Math.round(d.width/2)+y;break;case"top":g=K?ae-p+Math.round(d.width/2)-y:ae-p-Math.round(d.width/2)+y}return t.config.chart.stacked||(g<0?g=g+d.width+p:g+d.width/2>t.globals.gridWidth&&(g=t.globals.gridWidth-d.width-p)),{bcx:n,bcy:s,dataLabelsX:g,dataLabelsY:Z}}},{key:"drawCalculatedDataLabels",value:function(i){var t=i.x,n=i.y,a=i.val,r=i.i,s=i.j,o=i.textRects,l=i.barHeight,d=i.barWidth,g=i.dataLabelsConfig,p=this.w,m="rotate(0)";"vertical"===p.config.plotOptions.bar.dataLabels.orientation&&(m="rotate(-90, ".concat(t,", ").concat(n,")"));var y=new J(this.barCtx.ctx),E=new L(this.barCtx.ctx),P=g.formatter,Z=null,K=p.globals.collapsedSeriesIndices.indexOf(r)>-1;if(g.enabled&&!K){Z=E.group({class:"apexcharts-data-labels",transform:m});var ae="";void 0!==a&&(ae=P(a,{seriesIndex:r,dataPointIndex:s,w:p}));var le=p.globals.series[r][s]<0,h=p.config.plotOptions.bar.dataLabels.position;"vertical"===p.config.plotOptions.bar.dataLabels.orientation&&("top"===h&&(g.textAnchor=le?"end":"start"),"center"===h&&(g.textAnchor="middle"),"bottom"===h&&(g.textAnchor=le?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&d<E.getTextRects(ae,parseFloat(g.style.fontSize)).width&&(ae=""),p.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?o.width/1.6>Math.abs(d)&&(ae=""):o.height/1.6>Math.abs(l)&&(ae=""));var b=xe({},g);this.barCtx.isHorizontal&&a<0&&("start"===g.textAnchor?b.textAnchor="end":"end"===g.textAnchor&&(b.textAnchor="start")),y.plotDataLabelsText({x:t,y:n,text:ae,i:r,j:s,parent:Z,dataLabelsConfig:b,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return Z}}]),te}(),F=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w,this.legendInactiveClass="legend-mouseover-inactive"}return f(te,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(i){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(S.escapeString(i),"']"))}},{key:"isSeriesHidden",value:function(i){var t=this.getSeriesByName(i),n=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:n}}},{key:"addCollapsedClassToSeries",value:function(i,t){var n=this.w;function a(r){for(var s=0;s<r.length;s++)r[s].index===t&&i.node.classList.add("apexcharts-series-collapsed")}a(n.globals.collapsedSeries),a(n.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(i){var t=this.isSeriesHidden(i);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(i){var t=this.isSeriesHidden(i);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(i){var t=this.isSeriesHidden(i);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this.w,r=S.clone(a.globals.initialSeries);a.globals.previousPaths=[],n?(a.globals.collapsedSeries=[],a.globals.ancillaryCollapsedSeries=[],a.globals.collapsedSeriesIndices=[],a.globals.ancillaryCollapsedSeriesIndices=[]):r=this.emptyCollapsedSeries(r),a.config.series=r,i&&(t&&(a.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(r,a.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(i){for(var t=this.w,n=0;n<i.length;n++)t.globals.collapsedSeriesIndices.indexOf(n)>-1&&(i[n].data=[]);return i}},{key:"toggleSeriesOnHover",value:function(i,t){var n=this.w;t||(t=i.target);var a=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===i.type){var r=parseInt(t.getAttribute("rel"),10)-1,s=null,o=null;n.globals.axisCharts||"radialBar"===n.config.chart.type?n.globals.axisCharts?(s=n.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"']")),o=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(r,"']"))):s=n.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"']")):s=n.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"'] path"));for(var l=0;l<a.length;l++)a[l].classList.add(this.legendInactiveClass);null!==s&&(n.globals.axisCharts||s.parentNode.classList.remove(this.legendInactiveClass),s.classList.remove(this.legendInactiveClass),null!==o&&o.classList.remove(this.legendInactiveClass))}else if("mouseout"===i.type)for(var d=0;d<a.length;d++)a[d].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(i,t){var n=this,a=this.w,r=a.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),s=function(l){for(var d=0;d<r.length;d++)r[d].classList[l](n.legendInactiveClass)};if("mousemove"===i.type){var o=parseInt(t.getAttribute("rel"),10)-1;s("add"),function(l){for(var d=0;d<r.length;d++){var g=parseInt(r[d].getAttribute("val"),10);g>=l.from&&g<=l.to&&r[d].classList.remove(n.legendInactiveClass)}}(a.config.plotOptions.heatmap.colorScale.ranges[o])}else"mouseout"===i.type&&s("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=this.w,a=0;if(n.config.series.length>1)for(var r=n.config.series.map(function(o,l){var d=!1;return i&&(d="bar"===n.config.series[l].type||"column"===n.config.series[l].type),o.data&&o.data.length>0&&!d?l:-1}),s="asc"===t?0:r.length-1;"asc"===t?s<r.length:s>=0;"asc"===t?s++:s--)if(-1!==r[s]){a=r[s];break}return a}},{key:"getPreviousPaths",value:function(){var i=this.w;function t(s,o,l){for(var d=s[o].childNodes,g={type:l,paths:[],realIndex:s[o].getAttribute("data:realIndex")},p=0;p<d.length;p++)if(d[p].hasAttribute("pathTo")){var m=d[p].getAttribute("pathTo");g.paths.push({d:m})}i.globals.previousPaths.push(g)}i.globals.previousPaths=[],["line","area","bar","rangebar","candlestick","radar"].forEach(function(s){for(var l=i.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(s,"-series .apexcharts-series")),d=0;d<l.length;d++)t(l,d,s)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var n=i.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(i.config.chart.type," .apexcharts-series"));if(n.length>0)for(var a=function(s){for(var o=i.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(i.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(s,"'] rect")),l=[],d=function(p){var m=function(E){return o[p].getAttribute(E)},y={x:parseFloat(m("x")),y:parseFloat(m("y")),width:parseFloat(m("width")),height:parseFloat(m("height"))};l.push({rect:y,color:o[p].getAttribute("color")})},g=0;g<o.length;g++)d(g);i.globals.previousPaths.push(l)},r=0;r<n.length;r++)a(r);i.globals.axisCharts||(i.globals.previousPaths=i.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(i){var t=this.w,n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(i,"-series .apexcharts-series"));if(n.length>0)for(var a=0;a<n.length;a++){for(var r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(i,"-series .apexcharts-series[data\\:realIndex='").concat(a,"'] circle")),s=[],o=0;o<r.length;o++)s.push({x:r[o].getAttribute("cx"),y:r[o].getAttribute("cy"),r:r[o].getAttribute("r")});t.globals.previousPaths.push(s)}}},{key:"clearPreviousPaths",value:function(){var i=this.w;i.globals.previousPaths=[],i.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var i=this.w,t=i.config.noData,n=new L(this.ctx),a=i.globals.svgWidth/2,r=i.globals.svgHeight/2,s="middle";if(i.globals.noData=!0,i.globals.animationEnded=!0,"left"===t.align?(a=10,s="start"):"right"===t.align&&(a=i.globals.svgWidth-10,s="end"),"top"===t.verticalAlign?r=50:"bottom"===t.verticalAlign&&(r=i.globals.svgHeight-50),a+=t.offsetX,r=r+parseInt(t.style.fontSize,10)+2+t.offsetY,void 0!==t.text&&""!==t.text){var o=n.drawText({x:a,y:r,text:t.text,textAnchor:s,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});i.globals.dom.Paper.add(o)}}},{key:"setNullSeriesToZeroValues",value:function(i){for(var t=this.w,n=0;n<i.length;n++)if(0===i[n].length)for(var a=0;a<i[t.globals.maxValsInArrayIndex].length;a++)i[n].push(0);return i}},{key:"hasAllSeriesEqualX",value:function(){for(var i=!0,t=this.w,n=this.filteredSeriesX(),a=0;a<n.length-1;a++)if(n[a][0]!==n[a+1][0]){i=!1;break}return t.globals.allSeriesHasEqualX=i,i}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(t){return t.length>0?t:[]})}}]),te}(),ie=function(){function te(i){pe(this,te),this.w=i.w,this.barCtx=i}return f(te,[{key:"initVariables",value:function(i){var t=this.w;this.barCtx.series=i,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var n=0;n<i.length;n++)if(i[n].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=i[n].length),t.globals.isXNumeric)for(var a=0;a<i[n].length;a++)t.globals.seriesX[n][a]>t.globals.minX&&t.globals.seriesX[n][a]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=i.length-1,t.globals.comboCharts||this.checkZeroSeries({series:i})}},{key:"initialPositions",value:function(){var i,t,n,a,r,s,o,l,d=this.w,g=d.globals.dataPoints;this.barCtx.isRangeBar&&(g=d.globals.labels.length);var p=this.barCtx.seriesLen;if(d.config.plotOptions.bar.rangeBarGroupRows&&(p=1),this.barCtx.isHorizontal)r=(n=d.globals.gridHeight/g)/p,d.globals.isXNumeric&&(r=(n=d.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),r=r*parseInt(this.barCtx.barOptions.barHeight,10)/100,l=this.barCtx.baseLineInvertedY+d.globals.padHorizontal+(this.barCtx.isReversed?d.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),t=(n-r*this.barCtx.seriesLen)/2;else{if(a=d.globals.gridWidth/this.barCtx.visibleItems,d.config.xaxis.convertedCatToNumeric&&(a=d.globals.gridWidth/d.globals.dataPoints),s=a/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,d.globals.isXNumeric){var m=this.barCtx.xRatio;d.config.xaxis.convertedCatToNumeric&&(m=this.barCtx.initialXRatio),d.globals.minXDiff&&.5!==d.globals.minXDiff&&d.globals.minXDiff/m>0&&(a=d.globals.minXDiff/m),(s=a/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(s=1)}o=d.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?d.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),i=d.globals.padHorizontal+(a-s*this.barCtx.seriesLen)/2}return{x:i,y:t,yDivision:n,xDivision:a,barHeight:r,barWidth:s,zeroH:o,zeroW:l}}},{key:"getPathFillColor",value:function(i,t,n,a){var r=this.w,s=new we(this.barCtx.ctx),o=null,l=this.barCtx.barOptions.distributed?n:t;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(d){i[t][n]>=d.from&&i[t][n]<=d.to&&(o=d.color)}),r.config.series[t].data[n]&&r.config.series[t].data[n].fillColor&&(o=r.config.series[t].data[n].fillColor),s.fillPath({seriesNumber:this.barCtx.barOptions.distributed?l:a,dataPointIndex:n,color:o,value:i[t][n]})}},{key:"getStrokeWidth",value:function(i,t,n){var a=0,r=this.w;return this.barCtx.isNullValue=null==this.barCtx.series[i][t],r.config.stroke.show&&(this.barCtx.isNullValue||(a=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[n]:this.barCtx.strokeWidth)),a}},{key:"barBackground",value:function(i){var t=i.j,n=i.i,a=i.x1,r=i.x2,s=i.y1,o=i.y2,l=i.elSeries,d=this.w,g=new L(this.barCtx.ctx),p=new F(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&p===n){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var y=g.drawRect(void 0!==a?a:0,void 0!==s?s:0,void 0!==r?r:d.globals.gridWidth,void 0!==o?o:d.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[t],this.barCtx.barOptions.colors.backgroundBarOpacity);l.add(y),y.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(i){var t=i.barWidth,n=i.barXPosition,a=i.yRatio,r=i.y1,s=i.y2,o=i.strokeWidth,l=i.series,d=i.realIndex,g=i.i,p=i.j,m=i.w,y=new L(this.barCtx.ctx);(o=Array.isArray(o)?o[d]:o)||(o=0);var P=this.getRoundedBars(m,{barWidth:t,strokeWidth:o,yRatio:a,barXPosition:n,y1:r,y2:s},l,g,p),Z=n,K=n+t,ae=y.move(Z,r),le=y.move(Z,r),h=y.line(K-o,r);return m.globals.previousPaths.length>0&&(le=this.barCtx.getPreviousPath(d,p,!1)),ae=ae+y.line(Z,P.y2)+P.pathWithRadius+y.line(K-o,P.y2)+h+h+"z",le=le+y.line(Z,r)+h+h+h+h+h+y.line(Z,r),m.config.chart.stacked&&(this.barCtx.yArrj.push(P.y2),this.barCtx.yArrjF.push(Math.abs(r-P.y2)),this.barCtx.yArrjVal.push(this.barCtx.series[g][p])),{pathTo:ae,pathFrom:le}}},{key:"getBarpaths",value:function(i){var t=i.barYPosition,n=i.barHeight,a=i.x1,r=i.x2,s=i.strokeWidth,o=i.series,l=i.realIndex,d=i.i,g=i.j,p=i.w,m=new L(this.barCtx.ctx);(s=Array.isArray(s)?s[l]:s)||(s=0);var E=this.getRoundedBars(p,{barHeight:n,strokeWidth:s,barYPosition:t,x2:r,x1:a},o,d,g),P=m.move(a,t),Z=m.move(a,t);p.globals.previousPaths.length>0&&(Z=this.barCtx.getPreviousPath(l,g,!1));var K=t,ae=t+n,le=m.line(a,ae-s);return P=P+m.line(E.x2,K)+E.pathWithRadius+m.line(E.x2,ae-s)+le+le+"z",Z=Z+m.line(a,K)+le+le+le+le+le+m.line(a,K),p.config.chart.stacked&&(this.barCtx.xArrj.push(E.x2),this.barCtx.xArrjF.push(Math.abs(a-E.x2)),this.barCtx.xArrjVal.push(this.barCtx.series[d][g])),{pathTo:P,pathFrom:Z}}},{key:"getRoundedBars",value:function(i,t,n,a,r){var s=new L(this.barCtx.ctx),o=0,l=i.config.plotOptions.bar.borderRadius,d=Array.isArray(l);if(o=d?l[a>l.length-1?l.length-1:a]:l,i.config.chart.stacked&&n.length>1&&a!==this.barCtx.radiusOnSeriesNumber&&!d&&(o=0),this.barCtx.isHorizontal){var g="",p=t.x2;if(Math.abs(t.x1-t.x2)<o&&(o=Math.abs(t.x1-t.x2)),void 0!==n[a][r]||null!==n[a][r]){var m=this.barCtx.isReversed?n[a][r]>0:n[a][r]<0;m&&(o*=-1),g=s.quadraticCurve((p-=o)+o,t.barYPosition,p+o,t.barYPosition+(m?-1*o:o))+s.line(p+o,t.barYPosition+t.barHeight-t.strokeWidth-(m?-1*o:o))+s.quadraticCurve(p+o,t.barYPosition+t.barHeight-t.strokeWidth,p,t.barYPosition+t.barHeight-t.strokeWidth)}return{pathWithRadius:g,x2:p}}var y="",E=t.y2;if(Math.abs(t.y1-t.y2)<o&&(o=Math.abs(t.y1-t.y2)),void 0!==n[a][r]||null!==n[a][r]){var P=n[a][r]<0;P&&(o*=-1),y=s.quadraticCurve(t.barXPosition,(E+=o)-o,t.barXPosition+(P?-1*o:o),E-o)+s.line(t.barXPosition+t.barWidth-t.strokeWidth-(P?-1*o:o),E-o)+s.quadraticCurve(t.barXPosition+t.barWidth-t.strokeWidth,E-o,t.barXPosition+t.barWidth-t.strokeWidth,E)}return{pathWithRadius:y,y2:E}}},{key:"checkZeroSeries",value:function(i){for(var t=i.series,n=this.w,a=0;a<t.length;a++){for(var r=0,s=0;s<t[n.globals.maxValsInArrayIndex].length;s++)r+=t[a][s];0===r&&this.barCtx.zeroSerieses.push(a)}for(var o=t.length-1;o>=0;o--)this.barCtx.zeroSerieses.indexOf(o)>-1&&o===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var l=t.length-1;l>=0;l--)n.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(i,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=n?t:null;return null!=i&&(a=t+i/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?i/this.barCtx.invertedYRatio:0)),a}},{key:"getYForValue",value:function(i,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=n?t:null;return null!=i&&(a=t-i/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?i/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),a}},{key:"getGoalValues",value:function(i,t,n,a,r){var s=this,o=this.w,l=[];return o.globals.seriesGoals[a]&&o.globals.seriesGoals[a][r]&&Array.isArray(o.globals.seriesGoals[a][r])&&o.globals.seriesGoals[a][r].forEach(function(d){var g;l.push((R(g={},i,"x"===i?s.getXForValue(d.value,t,!1):s.getYForValue(d.value,n,!1)),R(g,"attrs",d),g))}),l}},{key:"drawGoalLine",value:function(i){var t=i.barXPosition,n=i.barYPosition,a=i.goalX,r=i.goalY,s=i.barWidth,o=i.barHeight,l=new L(this.barCtx.ctx),d=l.group({className:"apexcharts-bar-goals-groups"}),g=null;return this.barCtx.isHorizontal?Array.isArray(a)&&a.forEach(function(p){var m=void 0!==p.attrs.strokeHeight?p.attrs.strokeHeight:o/2,y=n+m+o/2;g=l.drawLine(p.x,y-2*m,p.x,y,p.attrs.strokeColor?p.attrs.strokeColor:void 0,p.attrs.strokeDashArray,p.attrs.strokeWidth?p.attrs.strokeWidth:2,p.attrs.strokeLineCap),d.add(g)}):Array.isArray(r)&&r.forEach(function(p){var m=void 0!==p.attrs.strokeWidth?p.attrs.strokeWidth:s/2,y=t+m+s/2;g=l.drawLine(y-2*m,p.y,y,p.y,p.attrs.strokeColor?p.attrs.strokeColor:void 0,p.attrs.strokeDashArray,p.attrs.strokeHeight?p.attrs.strokeHeight:2,p.attrs.strokeLineCap),d.add(g)}),d}}]),te}(),O=function(){function te(i,t){pe(this,te),this.ctx=i,this.w=i.w;var n=this.w;this.barOptions=n.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=n.config.stroke.width,this.isNullValue=!1,this.isRangeBar=n.globals.seriesRangeBar.length&&this.isHorizontal,this.xyRatios=t,null!==this.xyRatios&&(this.xRatio=t.xRatio,this.initialXRatio=t.initialXRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.barHelpers=new ie(this)}return f(te,[{key:"draw",value:function(i,t){var n=this.w,a=new L(this.ctx),r=new W(this.ctx,n);i=r.getLogSeries(i),this.series=i,this.yRatio=r.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i);var s=a.group({class:"apexcharts-bar-series apexcharts-plot-series"});n.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var o=0,l=0;o<i.length;o++,l++){var d,g,p,m,y=void 0,E=void 0,P=[],Z=[],K=n.globals.comboCharts?t[o]:o,ae=a.group({class:"apexcharts-series",rel:o+1,seriesName:S.escapeString(n.globals.seriesNames[K]),"data:realIndex":K});this.ctx.series.addCollapsedClassToSeries(ae,K),i[o].length>0&&(this.visibleI=this.visibleI+1);var le=0,h=0;this.yRatio.length>1&&(this.yaxisIndex=K),this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed;var b=this.barHelpers.initialPositions();E=b.y,le=b.barHeight,g=b.yDivision,m=b.zeroW,y=b.x,h=b.barWidth,d=b.xDivision,p=b.zeroH,this.horizontal||Z.push(y+h/2);for(var D=a.group({class:"apexcharts-datalabels","data:realIndex":K}),ee=a.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),Ce=0;Ce<n.globals.dataPoints;Ce++){var Ne=this.barHelpers.getStrokeWidth(o,Ce,K),Me=null,je={indexes:{i:o,j:Ce,realIndex:K,bc:l},x:y,y:E,strokeWidth:Ne,elSeries:ae};this.isHorizontal?(Me=this.drawBarPaths(xe(xe({},je),{},{barHeight:le,zeroW:m,yDivision:g})),h=this.series[o][Ce]/this.invertedYRatio):(Me=this.drawColumnPaths(xe(xe({},je),{},{xDivision:d,barWidth:h,zeroH:p})),le=this.series[o][Ce]/this.yRatio[this.yaxisIndex]);var Xe=this.barHelpers.drawGoalLine({barXPosition:Me.barXPosition,barYPosition:Me.barYPosition,goalX:Me.goalX,goalY:Me.goalY,barHeight:le,barWidth:h});Xe&&ee.add(Xe),E=Me.y,y=Me.x,Ce>0&&Z.push(y+h/2),P.push(E);var et=this.barHelpers.getPathFillColor(i,o,Ce,K);this.renderSeries({realIndex:K,pathFill:et,j:Ce,i:o,pathFrom:Me.pathFrom,pathTo:Me.pathTo,strokeWidth:Ne,elSeries:ae,x:y,y:E,series:i,barHeight:le,barWidth:h,elDataLabelsWrap:D,elGoalsMarkers:ee,visibleSeries:this.visibleI,type:"bar"})}n.globals.seriesXvalues[K]=Z,n.globals.seriesYvalues[K]=P,s.add(ae)}return s}},{key:"renderSeries",value:function(i){var t=i.realIndex,n=i.pathFill,a=i.lineFill,r=i.j,s=i.i,o=i.pathFrom,l=i.pathTo,d=i.strokeWidth,g=i.elSeries,p=i.x,m=i.y,y=i.y1,E=i.y2,P=i.series,Z=i.barHeight,K=i.barWidth,ae=i.barYPosition,le=i.elDataLabelsWrap,h=i.elGoalsMarkers,b=i.visibleSeries,D=i.type,ee=this.w,Ce=new L(this.ctx);a||(a=this.barOptions.distributed?ee.globals.stroke.colors[r]:ee.globals.stroke.colors[t]),ee.config.series[s].data[r]&&ee.config.series[s].data[r].strokeColor&&(a=ee.config.series[s].data[r].strokeColor),this.isNullValue&&(n="none");var Me=Ce.renderPaths({i:s,j:r,realIndex:t,pathFrom:o,pathTo:l,stroke:a,strokeWidth:d,strokeLineCap:ee.config.stroke.lineCap,fill:n,animationDelay:r/ee.config.chart.animations.animateGradually.delay*(ee.config.chart.animations.speed/ee.globals.dataPoints)/2.4,initialSpeed:ee.config.chart.animations.speed,dataChangeSpeed:ee.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(D,"-area")});Me.attr("clip-path","url(#gridRectMask".concat(ee.globals.cuid,")"));var je=ee.config.forecastDataPoints;je.count>0&&r>=ee.globals.dataPoints-je.count&&(Me.node.setAttribute("stroke-dasharray",je.dashArray),Me.node.setAttribute("stroke-width",je.strokeWidth),Me.node.setAttribute("fill-opacity",je.fillOpacity)),void 0!==y&&void 0!==E&&(Me.attr("data-range-y1",y),Me.attr("data-range-y2",E)),new T(this.ctx).setSelectionFilter(Me,t,r),g.add(Me);var Xe=new N(this).handleBarDataLabels({x:p,y:m,y1:y,y2:E,i:s,j:r,series:P,realIndex:t,barHeight:Z,barWidth:K,barYPosition:ae,renderedPath:Me,visibleSeries:b});return null!==Xe&&le.add(Xe),g.add(le),h&&g.add(h),g}},{key:"drawBarPaths",value:function(i){var s,t=i.indexes,n=i.barHeight,a=i.strokeWidth,r=i.zeroW,o=i.y,l=i.yDivision,d=i.elSeries,g=this.w,p=t.i,m=t.j;g.globals.isXNumeric&&(o=(g.globals.seriesX[p][m]-g.globals.minX)/this.invertedXRatio-n);var y=o+n*this.visibleI;s=this.barHelpers.getXForValue(this.series[p][m],r);var E=this.barHelpers.getBarpaths({barYPosition:y,barHeight:n,x1:r,x2:s,strokeWidth:a,series:this.series,realIndex:t.realIndex,i:p,j:m,w:g});return g.globals.isXNumeric||(o+=l),this.barHelpers.barBackground({j:m,i:p,y1:y-n*this.visibleI,y2:n*this.seriesLen,elSeries:d}),{pathTo:E.pathTo,pathFrom:E.pathFrom,x:s,y:o,goalX:this.barHelpers.getGoalValues("x",r,null,p,m),barYPosition:y}}},{key:"drawColumnPaths",value:function(i){var a,t=i.indexes,n=i.x,r=i.xDivision,s=i.barWidth,o=i.zeroH,l=i.strokeWidth,d=i.elSeries,g=this.w,p=t.realIndex,m=t.i,y=t.j,E=t.bc;if(g.globals.isXNumeric){var P=p;g.globals.seriesX[p].length||(P=g.globals.maxValsInArrayIndex),n=(g.globals.seriesX[P][y]-g.globals.minX)/this.xRatio-s*this.seriesLen/2}var Z=n+s*this.visibleI;a=this.barHelpers.getYForValue(this.series[m][y],o);var K=this.barHelpers.getColumnPaths({barXPosition:Z,barWidth:s,y1:o,y2:a,strokeWidth:l,series:this.series,realIndex:t.realIndex,i:m,j:y,w:g});return g.globals.isXNumeric||(n+=r),this.barHelpers.barBackground({bc:E,j:y,i:m,x1:Z-l/2-s*this.visibleI,x2:s*this.seriesLen+l/2,elSeries:d}),{pathTo:K.pathTo,pathFrom:K.pathFrom,x:n,y:a,goalY:this.barHelpers.getGoalValues("y",null,o,m,y),barXPosition:Z}}},{key:"getPreviousPath",value:function(i,t){for(var n,a=this.w,r=0;r<a.globals.previousPaths.length;r++){var s=a.globals.previousPaths[r];s.paths&&s.paths.length>0&&parseInt(s.realIndex,10)===parseInt(i,10)&&void 0!==a.globals.previousPaths[r].paths[t]&&(n=a.globals.previousPaths[r].paths[t].d)}return n}}]),te}(),ne=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return f(te,[{key:"isValidDate",value:function(i){return!isNaN(this.parseDate(i))}},{key:"getTimeStamp",value:function(i){return Date.parse(i)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(i).toISOString().substr(0,25)).getTime():new Date(i).getTime():i}},{key:"getDate",value:function(i){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(i).toUTCString()):new Date(i)}},{key:"parseDate",value:function(i){var t=Date.parse(i);if(!isNaN(t))return this.getTimeStamp(i);var n=Date.parse(i.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(n)}},{key:"parseDateWithTimezone",value:function(i){return Date.parse(i.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(i,t){var n=this.w.globals.locale,a=this.w.config.xaxis.labels.datetimeUTC,r=["\0"].concat(X(n.months)),s=["\x01"].concat(X(n.shortMonths)),o=["\x02"].concat(X(n.days)),l=["\x03"].concat(X(n.shortDays));function d(Ce,Ne){var Me=Ce+"";for(Ne=Ne||2;Me.length<Ne;)Me="0"+Me;return Me}var g=a?i.getUTCFullYear():i.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+g)).replace(/(^|[^\\])yy/g,"$1"+g.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+g);var p=(a?i.getUTCMonth():i.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+r[0])).replace(/(^|[^\\])MMM/g,"$1"+s[0])).replace(/(^|[^\\])MM/g,"$1"+d(p))).replace(/(^|[^\\])M/g,"$1"+p);var m=a?i.getUTCDate():i.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+o[0])).replace(/(^|[^\\])ddd/g,"$1"+l[0])).replace(/(^|[^\\])dd/g,"$1"+d(m))).replace(/(^|[^\\])d/g,"$1"+m);var y=a?i.getUTCHours():i.getHours(),E=y>12?y-12:0===y?12:y;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+d(y))).replace(/(^|[^\\])H/g,"$1"+y)).replace(/(^|[^\\])hh+/g,"$1"+d(E))).replace(/(^|[^\\])h/g,"$1"+E);var P=a?i.getUTCMinutes():i.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+d(P))).replace(/(^|[^\\])m/g,"$1"+P);var Z=a?i.getUTCSeconds():i.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+d(Z))).replace(/(^|[^\\])s/g,"$1"+Z);var K=a?i.getUTCMilliseconds():i.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+d(K,3)),K=Math.round(K/10),t=t.replace(/(^|[^\\])ff/g,"$1"+d(K)),K=Math.round(K/10);var ae=y<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+K)).replace(/(^|[^\\])TT+/g,"$1"+ae)).replace(/(^|[^\\])T/g,"$1"+ae.charAt(0));var le=ae.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+le)).replace(/(^|[^\\])t/g,"$1"+le.charAt(0));var h=-i.getTimezoneOffset(),b=a||!h?"Z":h>0?"+":"-";if(!a){var D=(h=Math.abs(h))%60;b+=d(Math.floor(h/60))+":"+d(D)}t=t.replace(/(^|[^\\])K/g,"$1"+b);var ee=(a?i.getUTCDay():i.getDay())+1;return(t=(t=(t=(t=t.replace(new RegExp(o[0],"g"),o[ee])).replace(new RegExp(l[0],"g"),l[ee])).replace(new RegExp(r[0],"g"),r[p])).replace(new RegExp(s[0],"g"),s[p])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(i,t,n){var a=this.w;void 0!==a.config.xaxis.min&&(i=a.config.xaxis.min),void 0!==a.config.xaxis.max&&(t=a.config.xaxis.max);var r=this.getDate(i),s=this.getDate(t),o=this.formatDate(r,"yyyy MM dd HH mm ss fff").split(" "),l=this.formatDate(s,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(o[6],10),maxMillisecond:parseInt(l[6],10),minSecond:parseInt(o[5],10),maxSecond:parseInt(l[5],10),minMinute:parseInt(o[4],10),maxMinute:parseInt(l[4],10),minHour:parseInt(o[3],10),maxHour:parseInt(l[3],10),minDate:parseInt(o[2],10),maxDate:parseInt(l[2],10),minMonth:parseInt(o[1],10)-1,maxMonth:parseInt(l[1],10)-1,minYear:parseInt(o[0],10),maxYear:parseInt(l[0],10)}}},{key:"isLeapYear",value:function(i){return i%4==0&&i%100!=0||i%400==0}},{key:"calculcateLastDaysOfMonth",value:function(i,t,n){return this.determineDaysOfMonths(i,t)-n}},{key:"determineDaysOfYear",value:function(i){var t=365;return this.isLeapYear(i)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(i,t,n){var a=this.daysCntOfYear[t]+n;return t>1&&this.isLeapYear()&&a++,a}},{key:"determineDaysOfMonths",value:function(i,t){var n=30;switch(i=S.monthMod(i),!0){case this.months30.indexOf(i)>-1:2===i&&(n=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(i)>-1:default:n=31}return n}}]),te}(),v=function(te){x(t,O);var i=k(t);function t(){return pe(this,t),i.apply(this,arguments)}return f(t,[{key:"draw",value:function(n,a){var r=this.w,s=new L(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=n,this.seriesRangeStart=r.globals.seriesRangeStart,this.seriesRangeEnd=r.globals.seriesRangeEnd,this.barHelpers.initVariables(n);for(var o=s.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),l=0;l<n.length;l++){var d,g,p,m=void 0,y=void 0,E=void 0,P=r.globals.comboCharts?a[l]:l,Z=s.group({class:"apexcharts-series",seriesName:S.escapeString(r.globals.seriesNames[P]),rel:l+1,"data:realIndex":P});this.ctx.series.addCollapsedClassToSeries(Z,P),n[l].length>0&&(this.visibleI=this.visibleI+1);var K=0,ae=0;this.yRatio.length>1&&(this.yaxisIndex=P);var le=this.barHelpers.initialPositions();y=le.y,p=le.zeroW,m=le.x,ae=le.barWidth,d=le.xDivision,g=le.zeroH;for(var h=s.group({class:"apexcharts-datalabels","data:realIndex":P}),b=s.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),D=0;D<r.globals.dataPoints;D++){var ee=this.barHelpers.getStrokeWidth(l,D,P),Ce=this.seriesRangeStart[l][D],Ne=this.seriesRangeEnd[l][D],Me=null,je=null,Xe={x:m,y,strokeWidth:ee,elSeries:Z};if(E=le.yDivision,K=le.barHeight,this.isHorizontal){je=y+K*this.visibleI;var et=this.seriesLen;r.config.plotOptions.bar.rangeBarGroupRows&&(et=1);var ct=(E-K*et)/2;if(void 0===r.config.series[l].data[D])break;if(r.config.series[l].data[D].x){var St=this.detectOverlappingBars({i:l,j:D,barYPosition:je,srty:ct,barHeight:K,yDivision:E,initPositions:le});K=St.barHeight,je=St.barYPosition}ae=(Me=this.drawRangeBarPaths(xe({indexes:{i:l,j:D,realIndex:P},barHeight:K,barYPosition:je,zeroW:p,yDivision:E,y1:Ce,y2:Ne},Xe))).barWidth}else K=(Me=this.drawRangeColumnPaths(xe({indexes:{i:l,j:D,realIndex:P},zeroH:g,barWidth:ae,xDivision:d},Xe))).barHeight;var At=this.barHelpers.drawGoalLine({barXPosition:Me.barXPosition,barYPosition:je,goalX:Me.goalX,goalY:Me.goalY,barHeight:K,barWidth:ae});At&&b.add(At),y=Me.y,m=Me.x;var Zt=this.barHelpers.getPathFillColor(n,l,D,P);this.renderSeries({realIndex:P,pathFill:Zt,lineFill:r.globals.stroke.colors[P],j:D,i:l,x:m,y,y1:Ce,y2:Ne,pathFrom:Me.pathFrom,pathTo:Me.pathTo,strokeWidth:ee,elSeries:Z,series:n,barHeight:K,barYPosition:je,barWidth:ae,elDataLabelsWrap:h,elGoalsMarkers:b,visibleSeries:this.visibleI,type:"rangebar"})}o.add(Z)}return o}},{key:"detectOverlappingBars",value:function(n){var a=n.i,r=n.j,s=n.barYPosition,o=n.srty,l=n.barHeight,d=n.yDivision,g=n.initPositions,p=this.w,m=[],y=p.config.series[a].data[r].rangeName,E=p.config.series[a].data[r].x,P=p.globals.labels.indexOf(E),Z=p.globals.seriesRangeBar[a].findIndex(function(K){return K.x===E&&K.overlaps.length>0});return s=p.config.plotOptions.bar.rangeBarGroupRows?o+d*P:o+l*this.visibleI+d*P,Z>-1&&!p.config.plotOptions.bar.rangeBarOverlap&&(m=p.globals.seriesRangeBar[a][Z].overlaps).indexOf(y)>-1&&(s=(l=g.barHeight/m.length)*this.visibleI+d*(100-parseInt(this.barOptions.barHeight,10))/100/2+l*(this.visibleI+m.indexOf(y))+d*P),{barYPosition:s,barHeight:l}}},{key:"drawRangeColumnPaths",value:function(n){var a=n.indexes,r=n.x,s=n.xDivision,o=n.barWidth,l=n.zeroH,d=this.w,g=a.i,p=a.j,m=this.yRatio[this.yaxisIndex],y=a.realIndex,E=this.getRangeValue(y,p),P=Math.min(E.start,E.end),Z=Math.max(E.start,E.end);d.globals.isXNumeric&&(r=(d.globals.seriesX[g][p]-d.globals.minX)/this.xRatio-o/2);var K=r+o*this.visibleI;null==this.series[g][p]?P=l:(P=l-P/m,Z=l-Z/m);var ae=Math.abs(Z-P),le=this.barHelpers.getColumnPaths({barXPosition:K,barWidth:o,y1:P,y2:Z,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:a.realIndex,i:y,j:p,w:d});return d.globals.isXNumeric||(r+=s),{pathTo:le.pathTo,pathFrom:le.pathFrom,barHeight:ae,x:r,y:Z,goalY:this.barHelpers.getGoalValues("y",null,l,g,p),barXPosition:K}}},{key:"drawRangeBarPaths",value:function(n){var a=n.indexes,r=n.y,l=n.yDivision,d=n.barHeight,g=n.barYPosition,p=n.zeroW,m=this.w,y=p+n.y1/this.invertedYRatio,E=p+n.y2/this.invertedYRatio,P=Math.abs(E-y),Z=this.barHelpers.getBarpaths({barYPosition:g,barHeight:d,x1:y,x2:E,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:a.realIndex,realIndex:a.realIndex,j:a.j,w:m});return m.globals.isXNumeric||(r+=l),{pathTo:Z.pathTo,pathFrom:Z.pathFrom,barWidth:P,x:E,goalX:this.barHelpers.getGoalValues("x",p,null,a.realIndex,a.j),y:r}}},{key:"getRangeValue",value:function(n,a){var r=this.w;return{start:r.globals.seriesRangeStart[n][a],end:r.globals.seriesRangeEnd[n][a]}}},{key:"getTooltipValues",value:function(n){var a=n.ctx,r=n.seriesIndex,s=n.dataPointIndex,o=n.y1,l=n.y2,d=n.w,g=d.globals.seriesRangeStart[r][s],p=d.globals.seriesRangeEnd[r][s],m=d.globals.labels[s],y=d.config.series[r].name?d.config.series[r].name:"",E=d.config.tooltip.y.formatter,P=d.config.tooltip.y.title.formatter,Z={w:d,seriesIndex:r,dataPointIndex:s,start:g,end:p};"function"==typeof P&&(y=P(y,Z)),Number.isFinite(o)&&Number.isFinite(l)&&(g=o,p=l,d.config.series[r].data[s].x&&(m=d.config.series[r].data[s].x+":"),"function"==typeof E&&(m=E(m,Z)));var K="",ae="",le=d.globals.colors[r];if(void 0===d.config.tooltip.x.formatter)if("datetime"===d.config.xaxis.type){var h=new ne(a);K=h.formatDate(h.getDate(g),d.config.tooltip.x.format),ae=h.formatDate(h.getDate(p),d.config.tooltip.x.format)}else K=g,ae=p;else K=d.config.tooltip.x.formatter(g),ae=d.config.tooltip.x.formatter(p);return{start:g,end:p,startVal:K,endVal:ae,ylabel:m,color:le,seriesName:y}}},{key:"buildCustomTooltipHTML",value:function(n){return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+n.color+'">'+(n.seriesName||"")+'</span></div><div> <span class="category">'+n.ylabel+' </span> <span class="value start-value">'+n.start+'</span> <span class="separator">-</span> <span class="value end-value">'+n.end+"</span></div></div>"}}]),t}(),U=function(){function te(i){pe(this,te),this.opts=i}return f(te,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(i){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,S.extend(i,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var i=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){return i._getBoxTooltip(t.w,t.seriesIndex,t.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var i=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){return i._getBoxTooltip(t.w,t.seriesIndex,t.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(i,t){var n=t.seriesIndex,a=t.dataPointIndex,r=t.w;return r.globals.seriesRangeEnd[n][a]-r.globals.seriesRangeStart[n][a]},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(i){return i.w.config.plotOptions&&i.w.config.plotOptions.bar&&i.w.config.plotOptions.bar.horizontal?(a=(n=new v((t=i).ctx,null)).getTooltipValues(t),n.buildCustomTooltipHTML({color:a.color,seriesName:a.seriesName,ylabel:a.ylabel,start:a.startVal,end:a.endVal})):function(t){var n=new v(t.ctx,null),a=n.getTooltipValues(t);return n.buildCustomTooltipHTML({color:a.color,seriesName:a.seriesName,ylabel:a.ylabel,start:a.start,end:a.end})}(i);var t,n,a}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"brush",value:function(i){return S.extend(i,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(i){i.dataLabels=i.dataLabels||{},i.dataLabels.formatter=i.dataLabels.formatter||void 0;var t=i.dataLabels.formatter;return i.yaxis.forEach(function(n,a){i.yaxis[a].min=0,i.yaxis[a].max=100}),"bar"===i.chart.type&&(i.dataLabels.formatter=t||function(n){return"number"==typeof n&&n?n.toFixed(0)+"%":n}),i}},{key:"convertCatToNumeric",value:function(i){return i.xaxis.convertedCatToNumeric=!0,i}},{key:"convertCatToNumericXaxis",value:function(i,t,n){i.xaxis.type="numeric",i.xaxis.labels=i.xaxis.labels||{},i.xaxis.labels.formatter=i.xaxis.labels.formatter||function(s){return S.isNumber(s)?Math.floor(s):s};var a=i.xaxis.labels.formatter,r=i.xaxis.categories&&i.xaxis.categories.length?i.xaxis.categories:i.labels;return n&&n.length&&(r=n.map(function(s){return Array.isArray(s)?s:String(s)})),r&&r.length&&(i.xaxis.labels.formatter=function(s){return S.isNumber(s)?a(r[Math.floor(s)-1]):a(s)}),i.xaxis.categories=[],i.labels=[],i.xaxis.tickAmount=i.xaxis.tickAmount||"dataPoints",i}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(i){return i.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(i){return i.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(i){return i.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(i){return i},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(i,t,n,a,r){var s=i.globals.seriesCandleO[t][n],o=i.globals.seriesCandleH[t][n],l=i.globals.seriesCandleM[t][n],d=i.globals.seriesCandleL[t][n],g=i.globals.seriesCandleC[t][n];return i.config.series[t].type&&i.config.series[t].type!==r?'<div class="apexcharts-custom-tooltip">\n          '.concat(i.config.series[t].name?i.config.series[t].name:"series-"+(t+1),": <strong>").concat(i.globals.series[t][n],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(i.config.chart.type,'">')+"<div>".concat(a[0],': <span class="value">')+s+"</span></div>"+"<div>".concat(a[1],': <span class="value">')+o+"</span></div>"+(l?"<div>".concat(a[2],': <span class="value">')+l+"</span></div>":"")+"<div>".concat(a[3],': <span class="value">')+d+"</span></div>"+"<div>".concat(a[4],': <span class="value">')+g+"</span></div></div>"}}]),te}(),H=function(){function te(i){pe(this,te),this.opts=i}return f(te,[{key:"init",value:function(i){var t=i.responsiveOverride,n=this.opts,a=new me,r=new U(n);this.chartType=n.chart.type,"histogram"===this.chartType&&(n.chart.type="bar",n=S.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},n)),n=this.extendYAxis(n),n=this.extendAnnotations(n);var s=a.init(),o={};if(n&&"object"===ce(n)){var l={};l=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(n.chart.type)?r[n.chart.type]():r.line(),n.chart.brush&&n.chart.brush.enabled&&(l=r.brush(l)),n.chart.stacked&&"100%"===n.chart.stackType&&(n=r.stacked100(n)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(n),n.xaxis=n.xaxis||window.Apex.xaxis||{},t||(n.xaxis.convertedCatToNumeric=!1),((n=this.checkForCatToNumericXAxis(this.chartType,l,n)).chart.sparkline&&n.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(l=r.sparkline(l)),o=S.extend(s,l)}var d=S.extend(o,window.Apex);return s=S.extend(d,n),this.handleUserInputErrors(s)}},{key:"checkForCatToNumericXAxis",value:function(i,t,n){var a=new U(n);return("bar"===i||"boxPlot"===i)&&n.plotOptions&&n.plotOptions.bar&&n.plotOptions.bar.horizontal||"pie"===i||"polarArea"===i||"donut"===i||"radar"===i||"radialBar"===i||"heatmap"===i||!("datetime"!==n.xaxis.type&&"numeric"!==n.xaxis.type)||"between"===(n.xaxis.tickPlacement?n.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement)||(n=a.convertCatToNumeric(n)),n}},{key:"extendYAxis",value:function(i,t){var n=new me;(void 0===i.yaxis||!i.yaxis||Array.isArray(i.yaxis)&&0===i.yaxis.length)&&(i.yaxis={}),i.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(i.yaxis=S.extend(i.yaxis,window.Apex.yaxis)),i.yaxis=i.yaxis.constructor!==Array?[S.extend(n.yAxis,i.yaxis)]:S.extendArray(i.yaxis,n.yAxis);var a=!1;i.yaxis.forEach(function(s){s.logarithmic&&(a=!0)});var r=i.series;return t&&!r&&(r=t.config.series),a&&r.length!==i.yaxis.length&&r.length&&(i.yaxis=r.map(function(s,o){if(s.name||(r[o].name="series-".concat(o+1)),i.yaxis[o])return i.yaxis[o].seriesName=r[o].name,i.yaxis[o];var l=S.extend(n.yAxis,i.yaxis[0]);return l.show=!1,l})),a&&r.length>1&&r.length!==i.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),i}},{key:"extendAnnotations",value:function(i){return void 0===i.annotations&&(i.annotations={},i.annotations.yaxis=[],i.annotations.xaxis=[],i.annotations.points=[]),i=this.extendYAxisAnnotations(i),i=this.extendXAxisAnnotations(i),this.extendPointAnnotations(i)}},{key:"extendYAxisAnnotations",value:function(i){var t=new me;return i.annotations.yaxis=S.extendArray(void 0!==i.annotations.yaxis?i.annotations.yaxis:[],t.yAxisAnnotation),i}},{key:"extendXAxisAnnotations",value:function(i){var t=new me;return i.annotations.xaxis=S.extendArray(void 0!==i.annotations.xaxis?i.annotations.xaxis:[],t.xAxisAnnotation),i}},{key:"extendPointAnnotations",value:function(i){var t=new me;return i.annotations.points=S.extendArray(void 0!==i.annotations.points?i.annotations.points:[],t.pointAnnotation),i}},{key:"checkForDarkTheme",value:function(i){i.theme&&"dark"===i.theme.mode&&(i.tooltip||(i.tooltip={}),"light"!==i.tooltip.theme&&(i.tooltip.theme="dark"),i.chart.foreColor||(i.chart.foreColor="#f6f7f8"),i.chart.background||(i.chart.background="#424242"),i.theme.palette||(i.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(i){var t=i;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===t.chart.type&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return"bar"!==t.chart.type&&"rangeBar"!==t.chart.type||t.tooltip.shared&&"barWidth"===t.xaxis.crosshairs.width&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),"candlestick"!==t.chart.type&&"boxPlot"!==t.chart.type||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),te}(),ge=function(){function te(){pe(this,te)}return f(te,[{key:"initGlobalVars",value:function(i){i.series=[],i.seriesCandleO=[],i.seriesCandleH=[],i.seriesCandleM=[],i.seriesCandleL=[],i.seriesCandleC=[],i.seriesRangeStart=[],i.seriesRangeEnd=[],i.seriesRangeBar=[],i.seriesPercent=[],i.seriesGoals=[],i.seriesX=[],i.seriesZ=[],i.seriesNames=[],i.seriesTotals=[],i.seriesLog=[],i.seriesColors=[],i.stackedSeriesTotals=[],i.seriesXvalues=[],i.seriesYvalues=[],i.labels=[],i.hasGroups=!1,i.groups=[],i.categoryLabels=[],i.timescaleLabels=[],i.noLabelsProvided=!1,i.resizeTimer=null,i.selectionResizeTimer=null,i.delayedElements=[],i.pointsArray=[],i.dataLabelsRects=[],i.isXNumeric=!1,i.xaxisLabelsCount=0,i.skipLastTimelinelabel=!1,i.skipFirstTimelinelabel=!1,i.isDataXYZ=!1,i.isMultiLineX=!1,i.isMultipleYAxis=!1,i.maxY=-Number.MAX_VALUE,i.minY=Number.MIN_VALUE,i.minYArr=[],i.maxYArr=[],i.maxX=-Number.MAX_VALUE,i.minX=Number.MAX_VALUE,i.initialMaxX=-Number.MAX_VALUE,i.initialMinX=Number.MAX_VALUE,i.maxDate=0,i.minDate=Number.MAX_VALUE,i.minZ=Number.MAX_VALUE,i.maxZ=-Number.MAX_VALUE,i.minXDiff=Number.MAX_VALUE,i.yAxisScale=[],i.xAxisScale=null,i.xAxisTicksPositions=[],i.yLabelsCoords=[],i.yTitleCoords=[],i.barPadForNumericAxis=0,i.padHorizontal=0,i.xRange=0,i.yRange=[],i.zRange=0,i.dataPoints=0,i.xTickAmount=0}},{key:"globalVars",value:function(i){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:i.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===i.chart.toolbar.autoSelected&&i.chart.toolbar.tools.zoom&&i.chart.zoom.enabled,panEnabled:"pan"===i.chart.toolbar.autoSelected&&i.chart.toolbar.tools.pan,selectionEnabled:"selection"===i.chart.toolbar.autoSelected&&i.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(i){var t=this.globalVars(i);return this.initGlobalVars(t),t.initialConfig=S.extend({},i),t.initialSeries=S.clone(i.series),t.lastXAxis=S.clone(t.initialConfig.xaxis),t.lastYAxis=S.clone(t.initialConfig.yaxis),t}}]),te}(),q=function(){function te(i){pe(this,te),this.opts=i}return f(te,[{key:"init",value:function(){var i=new H(this.opts).init({responsiveOverride:!1});return{config:i,globals:(new ge).init(i)}}}]),te}(),Ae=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new W(this.ctx)}return f(te,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var i=this.w.config.series.slice(),t=new F(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==i[this.activeSeriesIndex].data&&i[this.activeSeriesIndex].data.length>0&&null!==i[this.activeSeriesIndex].data[0]&&void 0!==i[this.activeSeriesIndex].data[0].x&&null!==i[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var i=this.w.config.series.slice(),t=new F(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==i[this.activeSeriesIndex].data&&i[this.activeSeriesIndex].data.length>0&&null!=i[this.activeSeriesIndex].data[0]&&i[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(i,t){for(var n=this.w.config,a=this.w.globals,r="boxPlot"===n.chart.type||"boxPlot"===n.series[t].type,s=0;s<i[t].data.length;s++)if(void 0!==i[t].data[s][1]&&(Array.isArray(i[t].data[s][1])&&4===i[t].data[s][1].length&&!r?this.twoDSeries.push(S.parseNumber(i[t].data[s][1][3])):this.twoDSeries.push(S.parseNumber(i[t].data[s].length>=5?i[t].data[s][4]:i[t].data[s][1])),a.dataFormatXNumeric=!0),"datetime"===n.xaxis.type){var o=new Date(i[t].data[s][0]);o=new Date(o).getTime(),this.twoDSeriesX.push(o)}else this.twoDSeriesX.push(i[t].data[s][0]);for(var l=0;l<i[t].data.length;l++)void 0!==i[t].data[l][2]&&(this.threeDSeries.push(i[t].data[l][2]),a.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(i,t){var n=this.w.config,a=this.w.globals,r=new ne(this.ctx),s=t;a.collapsedSeriesIndices.indexOf(t)>-1&&(s=this.activeSeriesIndex);for(var o=0;o<i[t].data.length;o++)void 0!==i[t].data[o].y&&(Array.isArray(i[t].data[o].y)?this.twoDSeries.push(S.parseNumber(i[t].data[o].y[i[t].data[o].y.length-1])):this.twoDSeries.push(S.parseNumber(i[t].data[o].y))),void 0!==i[t].data[o].goals&&Array.isArray(i[t].data[o].goals)?(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(i[t].data[o].goals)):(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var l=0;l<i[s].data.length;l++){var d="string"==typeof i[s].data[l].x,g=Array.isArray(i[s].data[l].x),p=!g&&!!r.isValidDate(i[s].data[l].x.toString());d||p?d||n.xaxis.convertedCatToNumeric?"datetime"!==n.xaxis.type||a.isBarHorizontal&&a.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(i[s].data[l].x)):this.twoDSeriesX.push(r.parseDate(i[s].data[l].x)):"datetime"===n.xaxis.type?this.twoDSeriesX.push(r.parseDate(i[s].data[l].x.toString())):(a.dataFormatXNumeric=!0,a.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(i[s].data[l].x))):g?(this.fallbackToCategory=!0,this.twoDSeriesX.push(i[s].data[l].x)):(a.isXNumeric=!0,a.dataFormatXNumeric=!0,this.twoDSeriesX.push(i[s].data[l].x))}if(i[t].data[0]&&void 0!==i[t].data[0].z){for(var y=0;y<i[t].data.length;y++)this.threeDSeries.push(i[t].data[y].z);a.isDataXYZ=!0}}},{key:"handleRangeData",value:function(i,t){var n=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleRangeDataFormat("array",i,t):this.isFormatXY()&&(a=this.handleRangeDataFormat("xy",i,t)),n.seriesRangeStart.push(a.start),n.seriesRangeEnd.push(a.end),n.seriesRangeBar.push(a.rangeUniques),n.seriesRangeBar.forEach(function(r,s){r&&r.forEach(function(o,l){o.y.forEach(function(d,g){for(var p=0;p<o.y.length;p++)g!==p&&d.y1<=o.y[p].y2&&o.y[p].y1<=d.y2&&(o.overlaps.indexOf(d.rangeName)<0&&o.overlaps.push(d.rangeName),o.overlaps.indexOf(o.y[p].rangeName)<0&&o.overlaps.push(o.y[p].rangeName))})})}),a}},{key:"handleCandleStickBoxData",value:function(i,t){var n=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleCandleStickBoxDataFormat("array",i,t):this.isFormatXY()&&(a=this.handleCandleStickBoxDataFormat("xy",i,t)),n.seriesCandleO[t]=a.o,n.seriesCandleH[t]=a.h,n.seriesCandleM[t]=a.m,n.seriesCandleL[t]=a.l,n.seriesCandleC[t]=a.c,a}},{key:"handleRangeDataFormat",value:function(i,t,n){var a=[],r=[],s=t[n].data.filter(function(m,y,E){return y===E.findIndex(function(P){return P.x===m.x})}).map(function(m,y){return{x:m.x,overlaps:[],y:[]}}),o="Please provide [Start, End] values in valid format. Read more https://apexcharts.com/docs/series/#rangecharts",l=new F(this.ctx).getActiveConfigSeriesIndex();if("array"===i){if(2!==t[l].data[0][1].length)throw new Error(o);for(var d=0;d<t[n].data.length;d++)a.push(t[n].data[d][1][0]),r.push(t[n].data[d][1][1])}else if("xy"===i){if(2!==t[l].data[0].y.length)throw new Error(o);for(var g=function(m){var y=S.randomId(),E=t[n].data[m].x,P={y1:t[n].data[m].y[0],y2:t[n].data[m].y[1],rangeName:y};t[n].data[m].rangeName=y;var Z=s.findIndex(function(K){return K.x===E});s[Z].y.push(P),a.push(P.y1),r.push(P.y2)},p=0;p<t[n].data.length;p++)g(p)}return{start:a,end:r,rangeUniques:s}}},{key:"handleCandleStickBoxDataFormat",value:function(i,t,n){var a=this.w,r="boxPlot"===a.config.chart.type||"boxPlot"===a.config.series[n].type,s=[],o=[],l=[],d=[],g=[];if("array"===i)if(r&&6===t[n].data[0].length||!r&&5===t[n].data[0].length)for(var p=0;p<t[n].data.length;p++)s.push(t[n].data[p][1]),o.push(t[n].data[p][2]),r?(l.push(t[n].data[p][3]),d.push(t[n].data[p][4]),g.push(t[n].data[p][5])):(d.push(t[n].data[p][3]),g.push(t[n].data[p][4]));else for(var m=0;m<t[n].data.length;m++)Array.isArray(t[n].data[m][1])&&(s.push(t[n].data[m][1][0]),o.push(t[n].data[m][1][1]),r?(l.push(t[n].data[m][1][2]),d.push(t[n].data[m][1][3]),g.push(t[n].data[m][1][4])):(d.push(t[n].data[m][1][2]),g.push(t[n].data[m][1][3])));else if("xy"===i)for(var y=0;y<t[n].data.length;y++)Array.isArray(t[n].data[y].y)&&(s.push(t[n].data[y].y[0]),o.push(t[n].data[y].y[1]),r?(l.push(t[n].data[y].y[2]),d.push(t[n].data[y].y[3]),g.push(t[n].data[y].y[4])):(d.push(t[n].data[y].y[2]),g.push(t[n].data[y].y[3])));return{o:s,h:o,m:l,l:d,c:g}}},{key:"parseDataAxisCharts",value:function(i){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,a=this.w.config,r=this.w.globals,s=new ne(n),o=a.labels.length>0?a.labels.slice():a.xaxis.categories.slice();r.isRangeBar="rangeBar"===a.chart.type&&r.isBarHorizontal,r.hasGroups="category"===a.xaxis.type&&a.xaxis.group.groups.length>0,r.hasGroups&&(r.groups=a.xaxis.group.groups);for(var l=function(){for(var p=0;p<o.length;p++)if("string"==typeof o[p]){if(!s.isValidDate(o[p]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(s.parseDate(o[p]))}else t.twoDSeriesX.push(o[p])},d=0;d<i.length;d++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===i[d].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==a.chart.type&&"rangeArea"!==a.chart.type&&"rangeBar"!==i[d].type&&"rangeArea"!==i[d].type||(r.isRangeData=!0,this.handleRangeData(i,d)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(i,d):this.isFormatXY()&&this.handleFormatXY(i,d),"candlestick"!==a.chart.type&&"candlestick"!==i[d].type&&"boxPlot"!==a.chart.type&&"boxPlot"!==i[d].type||this.handleCandleStickBoxData(i,d),r.series.push(this.twoDSeries),r.labels.push(this.twoDSeriesX),r.seriesX.push(this.twoDSeriesX),r.seriesGoals=this.seriesGoals,d!==this.activeSeriesIndex||this.fallbackToCategory||(r.isXNumeric=!0);else{"datetime"===a.xaxis.type?(r.isXNumeric=!0,l(),r.seriesX.push(this.twoDSeriesX)):"numeric"===a.xaxis.type&&(r.isXNumeric=!0,o.length>0&&(this.twoDSeriesX=o,r.seriesX.push(this.twoDSeriesX))),r.labels.push(this.twoDSeriesX);var g=i[d].data.map(function(p){return S.parseNumber(p)});r.series.push(g)}r.seriesZ.push(this.threeDSeries),r.seriesNames.push(void 0!==i[d].name?i[d].name:"series-"+parseInt(d+1,10)),r.seriesColors.push(void 0!==i[d].color?i[d].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(i){var t=this.w.globals,n=this.w.config;t.series=i.slice(),t.seriesNames=n.labels.slice();for(var a=0;a<t.series.length;a++)void 0===t.seriesNames[a]&&t.seriesNames.push("series-"+(a+1));return this.w}},{key:"handleExternalLabelsData",value:function(i){var t=this.w.config,n=this.w.globals;t.xaxis.categories.length>0?n.labels=t.xaxis.categories:t.labels.length>0?n.labels=t.labels.slice():this.fallbackToCategory?(n.labels=n.labels[0],n.seriesRangeBar.length&&(n.seriesRangeBar.map(function(a){a.forEach(function(r){n.labels.indexOf(r.x)<0&&r.x&&n.labels.push(r.x)})}),n.labels=n.labels.filter(function(a,r,s){return s.indexOf(a)===r})),t.xaxis.convertedCatToNumeric&&(new U(t).convertCatToNumericXaxis(t,this.ctx,n.seriesX[0]),this._generateExternalLabels(i))):this._generateExternalLabels(i)}},{key:"_generateExternalLabels",value:function(i){var t=this.w.globals,n=this.w.config,a=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var r=n.series.map(function(p,m){return p.data.filter(function(y,E,P){return P.findIndex(function(Z){return Z.x===y.x})===E})}),s=r.reduce(function(p,m,y,E){return E[p].length>m.length?p:y},0),o=0;o<r[s].length;o++)a.push(o+1);else for(var l=0;l<t.series[t.maxValsInArrayIndex].length;l++)a.push(l+1);t.seriesX=[];for(var d=0;d<i.length;d++)t.seriesX.push(a);t.isXNumeric=!0}if(0===a.length){a=t.axisCharts?[]:t.series.map(function(p,m){return m+1});for(var g=0;g<i.length;g++)t.seriesX.push(a)}t.labels=a,n.xaxis.convertedCatToNumeric&&(t.categoryLabels=a.map(function(p){return n.xaxis.labels.formatter(p)})),t.noLabelsProvided=!0}},{key:"parseData",value:function(i){var t=this.w,n=t.config,a=t.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),a.axisCharts?this.parseDataAxisCharts(i):this.parseDataNonAxisCharts(i),this.coreUtils.getLargestSeries(),"bar"===n.chart.type&&n.chart.stacked){var r=new F(this.ctx);a.series=r.setNullSeriesToZeroValues(a.series)}this.coreUtils.getSeriesTotals(),a.axisCharts&&this.coreUtils.getStackedSeriesTotals(),this.coreUtils.getPercentSeries(),a.dataFormatXNumeric||a.isXNumeric&&("numeric"!==n.xaxis.type||0!==n.labels.length||0!==n.xaxis.categories.length)||this.handleExternalLabelsData(i);for(var s=this.coreUtils.getCategoryLabels(a.labels),o=0;o<s.length;o++)if(Array.isArray(s[o])){a.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var i=this,t=this.w;t.globals.ignoreYAxisIndexes=t.globals.collapsedSeries.map(function(n,a){if(i.w.globals.isMultipleYAxis&&!t.config.chart.stacked)return n.index})}}]),te}(),Fe=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w,this.tooltipKeyFormat="dd MMM"}return f(te,[{key:"xLabelFormat",value:function(i,t,n,a){var r=this.w;if("datetime"===r.config.xaxis.type&&void 0===r.config.xaxis.labels.formatter&&void 0===r.config.tooltip.x.formatter){var s=new ne(this.ctx);return s.formatDate(s.getDate(t),r.config.tooltip.x.format)}return i(t,n,a)}},{key:"defaultGeneralFormatter",value:function(i){return Array.isArray(i)?i.map(function(t){return t}):i}},{key:"defaultYFormatter",value:function(i,t,n){var a=this.w;return S.isNumber(i)&&(i=i.toFixed(0!==a.globals.yValueDecimal?void 0!==t.decimalsInFloat?t.decimalsInFloat:a.globals.yValueDecimal:a.globals.maxYArr[n]-a.globals.minYArr[n]<5?1:0)),i}},{key:"setLabelFormatters",value:function(){var i=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(n){return i.defaultGeneralFormatter(n)},t.globals.ttKeyFormatter=function(n){return i.defaultGeneralFormatter(n)},t.globals.ttZFormatter=function(n){return n},t.globals.legendFormatter=function(n){return i.defaultGeneralFormatter(n)},t.globals.xLabelFormatter=void 0!==t.config.xaxis.labels.formatter?t.config.xaxis.labels.formatter:function(n){if(S.isNumber(n)){if(!t.config.xaxis.convertedCatToNumeric&&"numeric"===t.config.xaxis.type){if(S.isNumber(t.config.xaxis.decimalsInFloat))return n.toFixed(t.config.xaxis.decimalsInFloat);var a=t.globals.maxX-t.globals.minX;return n.toFixed(a>0&&a<100?1:0)}return n.toFixed(t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?1:0)}return n},t.globals.ttKeyFormatter="function"==typeof t.config.tooltip.x.formatter?t.config.tooltip.x.formatter:t.globals.xLabelFormatter,"function"==typeof t.config.xaxis.tooltip.formatter&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||void 0!==t.config.tooltip.y.formatter)&&(t.globals.ttVal=t.config.tooltip.y),void 0!==t.config.tooltip.z.formatter&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),void 0!==t.config.legend.formatter&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach(function(n,a){t.globals.yLabelFormatters[a]=void 0!==n.labels.formatter?n.labels.formatter:function(r){return t.globals.xyCharts?Array.isArray(r)?r.map(function(s){return i.defaultYFormatter(s,n,a)}):i.defaultYFormatter(r,n,a):r}}),t.globals}},{key:"heatmapLabelFormatters",value:function(){var i=this.w;if("heatmap"===i.config.chart.type){i.globals.yAxisScale[0].result=i.globals.seriesNames.slice();var t=i.globals.seriesNames.reduce(function(n,a){return n.length>a.length?n:a},0);i.globals.yAxisScale[0].niceMax=t,i.globals.yAxisScale[0].niceMin=t}}}]),te}(),Ie=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w}return f(te,[{key:"getLabel",value:function(i,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],l=this.w,d=void 0===i[a]?"":i[a],g=d,p=l.globals.xLabelFormatter,m=l.config.xaxis.labels.formatter,y=!1,E=new Fe(this.ctx),P=d;o&&(g=E.xLabelFormat(p,d,P,{i:a,dateFormatter:new ne(this.ctx).formatDate,w:l}),void 0!==m&&(g=m(d,i[a],{i:a,dateFormatter:new ne(this.ctx).formatDate,w:l})));var Z=function(h){var b=null;return t.forEach(function(D){"month"===D.unit?b="year":"day"===D.unit?b="month":"hour"===D.unit?b="day":"minute"===D.unit&&(b="hour")}),b===h};t.length>0?(y=Z(t[a].unit),n=t[a].position,g=t[a].value):"datetime"===l.config.xaxis.type&&void 0===m&&(g=""),void 0===g&&(g=""),g=Array.isArray(g)?g:g.toString();var K=new L(this.ctx),ae={};ae=l.globals.rotateXLabels&&o?K.getTextRects(g,parseInt(s,10),null,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1):K.getTextRects(g,parseInt(s,10));var le=!l.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(g)&&(0===g.indexOf("NaN")||0===g.toLowerCase().indexOf("invalid")||g.toLowerCase().indexOf("infinity")>=0||r.indexOf(g)>=0&&le)&&(g=""),{x:n,text:g,textRect:ae,isBold:y}}},{key:"checkLabelBasedOnTickamount",value:function(i,t,n){var a=this.w,r=a.config.xaxis.tickAmount;return"dataPoints"===r&&(r=Math.round(a.globals.gridWidth/120)),r>n||i%Math.round(n/(r+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(i,t,n,a,r){var s=this.w;if(0===i&&s.globals.skipFirstTimelinelabel&&(t.text=""),i===n-1&&s.globals.skipLastTimelinelabel&&(t.text=""),s.config.xaxis.labels.hideOverlappingLabels&&a.length>0){var o=r[r.length-1];t.x<o.textRect.width/(s.globals.rotateXLabels?Math.abs(s.config.xaxis.labels.rotate)/12:1.01)+o.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(i,t){var n=this.w;return n.config.yaxis[i]&&n.config.yaxis[i].reversed&&t.reverse(),t}},{key:"isYAxisHidden",value:function(i){var t=this.w,n=new W(this.ctx);return!t.config.yaxis[i].show||!t.config.yaxis[i].showForNullSeries&&n.isSeriesNull(i)&&-1===t.globals.collapsedSeriesIndices.indexOf(i)}},{key:"getYAxisForeColor",value:function(i,t){var n=this.w;return Array.isArray(i)&&n.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(i,n.globals.yAxisScale[t].result.length,!1),i}},{key:"drawYAxisTicks",value:function(i,t,n,a,r,s,o){var l=this.w,d=new L(this.ctx),g=l.globals.translateY;if(a.show&&t>0){!0===l.config.yaxis[r].opposite&&(i+=a.width);for(var p=t;p>=0;p--){var m=g+t/10+l.config.yaxis[r].labels.offsetY-1;l.globals.isBarHorizontal&&(m=s*p),"heatmap"===l.config.chart.type&&(m+=s/2);var y=d.drawLine(i+n.offsetX-a.width+a.offsetX,m+a.offsetY,i+n.offsetX+a.offsetX,m+a.offsetY,a.color);o.add(y),g+=s}}}}]),te}(),Re=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w}return f(te,[{key:"scaleSvgNode",value:function(i,t){var n=parseFloat(i.getAttributeNS(null,"width")),a=parseFloat(i.getAttributeNS(null,"height"));i.setAttributeNS(null,"width",n*t),i.setAttributeNS(null,"height",a*t),i.setAttributeNS(null,"viewBox","0 0 "+n+" "+a)}},{key:"fixSvgStringForIe11",value:function(i){if(!S.isIE11())return i.replace(/&nbsp;/g,"&#160;");var t=0,n=i.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(a){return 2==++t?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':a});return(n=n.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(i){null==i&&(i=1);var t=this.w.globals.dom.Paper.svg();if(1!==i){var n=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(n,i),t=(new XMLSerializer).serializeToString(n)}return this.fixSvgStringForIe11(t)}},{key:"cleanup",value:function(){var i=this.w,t=i.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),n=i.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),a=i.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(a,function(r){r.setAttribute("width",0)}),t&&t[0]&&(t[0].setAttribute("x",-500),t[0].setAttribute("x1",-500),t[0].setAttribute("x2",-500)),n&&n[0]&&(n[0].setAttribute("y",-100),n[0].setAttribute("y1",-100),n[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var i=this.getSvgString(),t=new Blob([i],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(t)}},{key:"dataURI",value:function(i){var t=this;return new Promise(function(n){var a=t.w,r=i?i.scale||i.width/a.globals.svgWidth:1;t.cleanup();var s=document.createElement("canvas");s.width=a.globals.svgWidth*r,s.height=parseInt(a.globals.dom.elWrap.style.height,10)*r;var o="transparent"===a.config.chart.background?"#fff":a.config.chart.background,l=s.getContext("2d");l.fillStyle=o,l.fillRect(0,0,s.width*r,s.height*r);var d=t.getSvgString(r);if(window.canvg&&S.isIE11()){var g=window.canvg.Canvg.fromString(l,d,{ignoreClear:!0,ignoreDimensions:!0});g.start();var p=s.msToBlob();g.stop(),n({blob:p})}else{var m="data:image/svg+xml,"+encodeURIComponent(d),y=new Image;y.crossOrigin="anonymous",y.onload=function(){if(l.drawImage(y,0,0),s.msToBlob){var E=s.msToBlob();n({blob:E})}else{var P=s.toDataURL("image/png");n({imgURI:P})}},y.src=m}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var i=this;this.dataURI().then(function(t){var n=t.imgURI,a=t.blob;a?navigator.msSaveOrOpenBlob(a,i.w.globals.chartID+".png"):i.triggerDownload(n,i.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(i){var t=this,n=i.series,a=i.columnDelimiter,r=i.lineDelimiter,s=void 0===r?"\n":r,o=this.w,l=[],d=[],g="",p=new Ae(this.ctx),m=new Ie(this.ctx),y=function(E){var P="";if(o.globals.axisCharts){if("category"===o.config.xaxis.type||o.config.xaxis.convertedCatToNumeric)if(o.globals.isBarHorizontal){var Z=o.globals.yLabelFormatters[0],K=new F(t.ctx).getActiveConfigSeriesIndex();P=Z(o.globals.labels[E],{seriesIndex:K,dataPointIndex:E,w:o})}else P=m.getLabel(o.globals.labels,o.globals.timescaleLabels,0,E).text;"datetime"===o.config.xaxis.type&&(o.config.xaxis.categories.length?P=o.config.xaxis.categories[E]:o.config.labels.length&&(P=o.config.labels[E]))}else P=o.config.labels[E];return Array.isArray(P)&&(P=P.join(" ")),S.isNumber(P)?P:P.split(a).join("")};l.push(o.config.chart.toolbar.export.csv.headerCategory),n.map(function(E,P){var Z=E.name?E.name:"series-".concat(P);o.globals.axisCharts&&l.push(Z.split(a).join("")?Z.split(a).join(""):"series-".concat(P))}),o.globals.axisCharts||(l.push(o.config.chart.toolbar.export.csv.headerValue),d.push(l.join(a))),n.map(function(E,P){o.globals.axisCharts?function(Z,K){if(l.length&&0===K&&d.push(l.join(a)),Z.data&&Z.data.length)for(var ae=0;ae<Z.data.length;ae++){l=[];var le=y(ae);if(le||(p.isFormatXY()?le=n[K].data[ae].x:p.isFormat2DArray()&&(le=n[K].data[ae]?n[K].data[ae][0]:"")),0===K){l.push("datetime"===o.config.xaxis.type&&String(le).length>=10?o.config.chart.toolbar.export.csv.dateFormatter(le):S.isNumber(le)?le:le.split(a).join(""));for(var h=0;h<o.globals.series.length;h++)l.push(o.globals.series[h][ae])}("candlestick"===o.config.chart.type||Z.type&&"candlestick"===Z.type)&&(l.pop(),l.push(o.globals.seriesCandleO[K][ae]),l.push(o.globals.seriesCandleH[K][ae]),l.push(o.globals.seriesCandleL[K][ae]),l.push(o.globals.seriesCandleC[K][ae])),("boxPlot"===o.config.chart.type||Z.type&&"boxPlot"===Z.type)&&(l.pop(),l.push(o.globals.seriesCandleO[K][ae]),l.push(o.globals.seriesCandleH[K][ae]),l.push(o.globals.seriesCandleM[K][ae]),l.push(o.globals.seriesCandleL[K][ae]),l.push(o.globals.seriesCandleC[K][ae])),"rangeBar"===o.config.chart.type&&(l.pop(),l.push(o.globals.seriesRangeStart[K][ae]),l.push(o.globals.seriesRangeEnd[K][ae])),l.length&&d.push(l.join(a))}}(E,P):((l=[]).push(o.globals.labels[P].split(a).join("")),l.push(o.globals.series[P]),d.push(l.join(a)))}),g+=d.join(s),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+g),o.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(i,t,n){var a=document.createElement("a");a.href=i,a.download=(t||this.w.globals.chartID)+n,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}]),te}(),Oe=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w;var t=this.w;this.axesUtils=new Ie(i),this.xaxisLabels=t.globals.labels.slice(),t.globals.timescaleLabels.length>0&&!t.globals.isBarHorizontal&&(this.xaxisLabels=t.globals.timescaleLabels.slice()),t.config.xaxis.overwriteCategories&&(this.xaxisLabels=t.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===t.config.xaxis.position?0:t.globals.gridHeight+1,this.offY=this.offY+t.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===t.config.chart.type&&t.config.plotOptions.bar.horizontal,this.xaxisFontSize=t.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=t.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=t.config.xaxis.labels.style.colors,this.xaxisBorderWidth=t.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=t.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?t.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=t.config.xaxis.axisBorder.height,this.yaxis=t.config.yaxis[0]}return f(te,[{key:"drawXaxis",value:function(){var i=this.w,t=new L(this.ctx),n=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(i.config.xaxis.offsetX,", ").concat(i.config.xaxis.offsetY,")")}),a=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(i.globals.translateXAxisX,", ").concat(i.globals.translateXAxisY,")")});n.add(a);for(var r=[],s=0;s<this.xaxisLabels.length;s++)r.push(this.xaxisLabels[s]);if(this.drawXAxisLabelAndGroup(!0,t,a,r,i.globals.isXNumeric,function(E,P){return P}),i.globals.hasGroups){var o=i.globals.groups;r=[];for(var l=0;l<o.length;l++)r.push(o[l].title);var d={};i.config.xaxis.group.style&&(d.xaxisFontSize=i.config.xaxis.group.style.fontSize,d.xaxisFontFamily=i.config.xaxis.group.style.fontFamily,d.xaxisForeColors=i.config.xaxis.group.style.colors,d.fontWeight=i.config.xaxis.group.style.fontWeight,d.cssClass=i.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,a,r,!1,function(E,P){return o[E].cols*P},d)}if(void 0!==i.config.xaxis.title.text){var g=t.group({class:"apexcharts-xaxis-title"}),p=t.drawText({x:i.globals.gridWidth/2+i.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+i.globals.xAxisLabelsHeight+i.config.xaxis.title.offsetY,text:i.config.xaxis.title.text,textAnchor:"middle",fontSize:i.config.xaxis.title.style.fontSize,fontFamily:i.config.xaxis.title.style.fontFamily,fontWeight:i.config.xaxis.title.style.fontWeight,foreColor:i.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+i.config.xaxis.title.style.cssClass});g.add(p),n.add(g)}if(i.config.xaxis.axisBorder.show){var m=i.globals.barPadForNumericAxis,y=t.drawLine(i.globals.padHorizontal+i.config.xaxis.axisBorder.offsetX-m,this.offY,this.xaxisBorderWidth+m,this.offY,i.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);n.add(y)}return n}},{key:"drawXAxisLabelAndGroup",value:function(i,t,n,a,r,s){var o,l=this,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},g=[],p=[],m=this.w,y=d.xaxisFontSize||this.xaxisFontSize,E=d.xaxisFontFamily||this.xaxisFontFamily,P=d.xaxisForeColors||this.xaxisForeColors,Z=d.fontWeight||m.config.xaxis.labels.style.fontWeight,K=d.cssClass||m.config.xaxis.labels.style.cssClass,ae=m.globals.padHorizontal,le=a.length,h="category"===m.config.xaxis.type?m.globals.dataPoints:le;if(r){var b=h>1?h-1:h;ae=ae+s(0,o=m.globals.gridWidth/b)/2+m.config.xaxis.labels.offsetX}else ae=ae+s(0,o=m.globals.gridWidth/h)+m.config.xaxis.labels.offsetX;for(var D=function(Ce){var Ne=ae-s(Ce,o)/2+m.config.xaxis.labels.offsetX;0===Ce&&1===le&&o/2===ae&&1===h&&(Ne=m.globals.gridWidth/2);var Me=l.axesUtils.getLabel(a,m.globals.timescaleLabels,Ne,Ce,g,y,i),je=28;if(m.globals.rotateXLabels&&i&&(je=22),i||(je=je+parseFloat(y)+(m.globals.xAxisLabelsHeight-m.globals.xAxisGroupLabelsHeight)+(m.globals.rotateXLabels?10:0)),Me=void 0!==m.config.xaxis.tickAmount&&"dataPoints"!==m.config.xaxis.tickAmount&&"datetime"!==m.config.xaxis.type?l.axesUtils.checkLabelBasedOnTickamount(Ce,Me,le):l.axesUtils.checkForOverflowingLabels(Ce,Me,le,g,p),i&&Me.text&&m.globals.xaxisLabelsCount++,m.config.xaxis.labels.show){var Xe=t.drawText({x:Me.x,y:l.offY+m.config.xaxis.labels.offsetY+je-("top"===m.config.xaxis.position?m.globals.xAxisHeight+m.config.xaxis.axisTicks.height-2:0),text:Me.text,textAnchor:"middle",fontWeight:Me.isBold?600:Z,fontSize:y,fontFamily:E,foreColor:Array.isArray(P)?i&&m.config.xaxis.convertedCatToNumeric?P[m.globals.minX+Ce-1]:P[Ce]:P,isPlainText:!1,cssClass:(i?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+K});if(n.add(Xe),i){var et=document.createElementNS(m.globals.SVGNS,"title");et.textContent=Array.isArray(Me.text)?Me.text.join(" "):Me.text,Xe.node.appendChild(et),""!==Me.text&&(g.push(Me.text),p.push(Me))}}Ce<le-1&&(ae+=s(Ce+1,o))},ee=0;ee<=le-1;ee++)D(ee)}},{key:"drawXaxisInversed",value:function(i){var t,n,a=this,r=this.w,s=new L(this.ctx),o=r.config.yaxis[0].opposite?r.globals.translateYAxisX[i]:0,l=s.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:i}),d=s.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+o+", 0)"});l.add(d);var g=[];if(r.config.yaxis[i].show)for(var p=0;p<this.xaxisLabels.length;p++)g.push(this.xaxisLabels[p]);n=-(t=r.globals.gridHeight/g.length)/2.2;var m=r.globals.yLabelFormatters[0],y=r.config.yaxis[0].labels;if(y.show)for(var E=function(b){var D=void 0===g[b]?"":g[b];D=m(D,{seriesIndex:i,dataPointIndex:b,w:r});var ee=a.axesUtils.getYAxisForeColor(y.style.colors,i),Ce=0;Array.isArray(D)&&(Ce=D.length/2*parseInt(y.style.fontSize,10));var Ne=s.drawText({x:y.offsetX-15,y:n+t+y.offsetY-Ce,text:D,textAnchor:a.yaxis.opposite?"start":"end",foreColor:Array.isArray(ee)?ee[b]:ee,fontSize:y.style.fontSize,fontFamily:y.style.fontFamily,fontWeight:y.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+y.style.cssClass});d.add(Ne);var Me=document.createElementNS(r.globals.SVGNS,"title");if(Me.textContent=Array.isArray(D)?D.join(" "):D,Ne.node.appendChild(Me),0!==r.config.yaxis[i].labels.rotate){var je=s.rotateAroundCenter(Ne.node);Ne.node.setAttribute("transform","rotate(".concat(r.config.yaxis[i].labels.rotate," 0 ").concat(je.y,")"))}n+=t},P=0;P<=g.length-1;P++)E(P);if(void 0!==r.config.yaxis[0].title.text){var Z=s.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+o+", 0)"}),K=s.drawText({x:0,y:r.globals.gridHeight/2,text:r.config.yaxis[0].title.text,textAnchor:"middle",foreColor:r.config.yaxis[0].title.style.color,fontSize:r.config.yaxis[0].title.style.fontSize,fontWeight:r.config.yaxis[0].title.style.fontWeight,fontFamily:r.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+r.config.yaxis[0].title.style.cssClass});Z.add(K),l.add(Z)}var ae=0;this.isCategoryBarHorizontal&&r.config.yaxis[0].opposite&&(ae=r.globals.gridWidth);var le=r.config.xaxis.axisBorder;if(le.show){var h=s.drawLine(r.globals.padHorizontal+le.offsetX+ae,1+le.offsetY,r.globals.padHorizontal+le.offsetX+ae,r.globals.gridHeight+le.offsetY,le.color,0);l.add(h)}return r.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(ae,g.length,r.config.yaxis[0].axisBorder,r.config.yaxis[0].axisTicks,0,t,l),l}},{key:"drawXaxisTicks",value:function(i,t,n){var a=this.w,r=i;if(!(i<0||i-2>a.globals.gridWidth)){var s=this.offY+a.config.xaxis.axisTicks.offsetY;if(t=t+s+a.config.xaxis.axisTicks.height,"top"===a.config.xaxis.position&&(t=s-a.config.xaxis.axisTicks.height),a.config.xaxis.axisTicks.show){var o=new L(this.ctx).drawLine(i+a.config.xaxis.axisTicks.offsetX,s+a.config.xaxis.offsetY,r+a.config.xaxis.axisTicks.offsetX,t+a.config.xaxis.offsetY,a.config.xaxis.axisTicks.color);n.add(o),o.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var i=this.w,t=[],n=this.xaxisLabels.length,a=i.globals.padHorizontal;if(i.globals.timescaleLabels.length>0)for(var r=0;r<n;r++)t.push(a=this.xaxisLabels[r].position);else for(var s=n,o=0;o<s;o++){var l=s;i.globals.isXNumeric&&"bar"!==i.config.chart.type&&(l-=1),t.push(a+=i.globals.gridWidth/l)}return t}},{key:"xAxisLabelCorrections",value:function(){var i=this.w,t=new L(this.ctx),n=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),a=i.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),r=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),s=i.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(i.globals.rotateXLabels||i.config.xaxis.labels.rotateAlways)for(var o=0;o<a.length;o++){var l=t.rotateAroundCenter(a[o]);l.y=l.y-1,l.x=l.x+1,a[o].setAttribute("transform","rotate(".concat(i.config.xaxis.labels.rotate," ").concat(l.x," ").concat(l.y,")")),a[o].setAttribute("text-anchor","end"),n.setAttribute("transform","translate(0, ".concat(-10,")")),i.config.xaxis.labels.trim&&Array.prototype.forEach.call(a[o].childNodes,function(y){t.placeTextWithEllipsis(y,y.textContent,i.globals.xAxisLabelsHeight-("bottom"===i.config.legend.position?20:10))})}else!function(){for(var y=i.globals.gridWidth/(i.globals.labels.length+1),E=0;E<a.length;E++)i.config.xaxis.labels.trim&&"datetime"!==i.config.xaxis.type&&Array.prototype.forEach.call(a[E].childNodes,function(Z){t.placeTextWithEllipsis(Z,Z.textContent,y)})}();if(r.length>0){var g=r[r.length-1].getBBox(),p=r[0].getBBox();g.x<-20&&r[r.length-1].parentNode.removeChild(r[r.length-1]),p.x+p.width>i.globals.gridWidth&&!i.globals.isBarHorizontal&&r[0].parentNode.removeChild(r[0]);for(var m=0;m<s.length;m++)t.placeTextWithEllipsis(s[m],s[m].textContent,i.config.yaxis[0].labels.maxWidth-(i.config.yaxis[0].title.text?2*parseFloat(i.config.yaxis[0].title.style.fontSize):0)-15)}}}]),te}(),We=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new Ie(i),this.isRangeBar=t.globals.seriesRangeBar.length,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return f(te,[{key:"drawGridArea",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w,n=new L(this.ctx);null===i&&(i=n.group({class:"apexcharts-grid"}));var a=n.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),r=n.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return i.add(r),i.add(a),i}},{key:"drawGrid",value:function(){var i=null;return this.w.globals.axisCharts&&(i=this.renderGrid(),this.drawGridArea(i.el)),i}},{key:"createGridMask",value:function(){var i=this.w,t=i.globals,n=new L(this.ctx),a=Array.isArray(i.config.stroke.width)?0:i.config.stroke.width;if(Array.isArray(i.config.stroke.width)){var r=0;i.config.stroke.width.forEach(function(p){r=Math.max(r,p)}),a=r}t.dom.elGridRectMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elForecastMask.setAttribute("id","forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(t.cuid));var s=i.config.chart.type,o=0,l=0;("bar"===s||"rangeBar"===s||"candlestick"===s||"boxPlot"===s||i.globals.comboBarCount>0)&&i.globals.isXNumeric&&!i.globals.isBarHorizontal&&(l=i.config.grid.padding.right,t.barPadForNumericAxis>(o=i.config.grid.padding.left)&&(o=t.barPadForNumericAxis,l=t.barPadForNumericAxis)),t.dom.elGridRect=n.drawRect(-a/2-o-2,-a/2,t.gridWidth+a+l+o+4,t.gridHeight+a,0,"#fff");var d=i.globals.markers.largestSize+1;t.dom.elGridRectMarker=n.drawRect(2*-d,2*-d,t.gridWidth+4*d,t.gridHeight+4*d,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var g=t.dom.baseEl.querySelector("defs");g.appendChild(t.dom.elGridRectMask),g.appendChild(t.dom.elForecastMask),g.appendChild(t.dom.elNonForecastMask),g.appendChild(t.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(i){var t=i.i,n=i.x1,d=this.w;if(!(0===t&&d.globals.skipFirstTimelinelabel||t===i.xCount-1&&d.globals.skipLastTimelinelabel&&!d.config.xaxis.labels.formatter||"radar"===d.config.chart.type)){d.config.grid.xaxis.lines.show&&this._drawGridLine({x1:n,y1:i.y1,x2:i.x2,y2:i.y2,parent:i.parent});var g=0;if(d.globals.hasGroups&&"between"===d.config.xaxis.tickPlacement){var p=d.globals.groups;if(p){for(var m=0,y=0;m<t&&y<p.length;y++)m+=p[y].cols;m===t&&(g=.6*d.globals.xAxisLabelsHeight)}}new Oe(this.ctx).drawXaxisTicks(n,g,this.elg)}}},{key:"_drawGridLine",value:function(i){var t=i.x1,n=i.y1,a=i.x2,r=i.y2,s=i.parent,o=this.w,l=s.node.classList.contains("apexcharts-gridlines-horizontal"),d=o.config.grid.strokeDashArray,g=o.globals.barPadForNumericAxis,p=new L(this).drawLine(t-(l?g:0),n,a+(l?g:0),r,o.config.grid.borderColor,d);p.node.classList.add("apexcharts-gridline"),s.add(p)}},{key:"_drawGridBandRect",value:function(i){var t=i.c,n=i.x1,a=i.y1,r=i.x2,s=i.y2,o=i.type,l=this.w,d=new L(this.ctx),g=l.globals.barPadForNumericAxis;if("column"!==o||"datetime"!==l.config.xaxis.type){var m=d.drawRect(n-("row"===o?g:0),a,r+("row"===o?2*g:0),s,0,l.config.grid[o].colors[t],l.config.grid[o].opacity);this.elg.add(m),m.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")")),m.node.classList.add("apexcharts-grid-".concat(o))}}},{key:"_drawXYLines",value:function(i){var t=this,n=i.xCount,a=i.tickAmount,r=this.w;if(r.config.grid.xaxis.lines.show||r.config.xaxis.axisTicks.show){var s,o=r.globals.padHorizontal,l=r.globals.gridHeight;r.globals.timescaleLabels.length?function(E){for(var P=E.xC,K=E.y1,le=E.y2,h=0;h<P;h++)t._drawGridLines({i:h,x1:t.xaxisLabels[h].position,y1:K,x2:t.xaxisLabels[h].position,y2:le,xCount:n,parent:t.elgridLinesV})}({xC:n,x1:o,y1:0,x2:s,y2:l}):(r.globals.isXNumeric&&(n=r.globals.xAxisScale.result.length),r.config.xaxis.convertedCatToNumeric&&(n=r.globals.xaxisLabelsCount),function(E){var P=E.xC,Z=E.x1,K=E.y1,ae=E.x2,le=E.y2;if(void 0!==r.config.xaxis.tickAmount&&"dataPoints"!==r.config.xaxis.tickAmount&&"on"===r.config.xaxis.tickPlacement)r.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach(function(b,D){var ee=b.getBBox();t._drawGridLines({i:D,x1:ee.x+ee.width/2,y1:K,x2:ee.x+ee.width/2,y2:le,xCount:n,parent:t.elgridLinesV})});else for(var h=0;h<P+(r.globals.isXNumeric?0:1);h++)0===h&&1===P&&1===r.globals.dataPoints&&(ae=Z=r.globals.gridWidth/2),t._drawGridLines({i:h,x1:Z,y1:K,x2:ae,y2:le,xCount:n,parent:t.elgridLinesV}),ae=Z+=r.globals.gridWidth/(r.globals.isXNumeric?P-1:P)}({xC:n,x1:o,y1:0,x2:s,y2:l}))}if(r.config.grid.yaxis.lines.show){var d=0,g=0,p=r.globals.gridWidth,m=a+1;this.isRangeBar&&(m=r.globals.labels.length);for(var y=0;y<m+(this.isRangeBar?1:0);y++)this._drawGridLine({x1:0,y1:d,x2:p,y2:g,parent:this.elgridLinesH}),g=d+=r.globals.gridHeight/(this.isRangeBar?m:a)}}},{key:"_drawInvertedXYLines",value:function(i){var t=i.xCount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show)for(var a,r=n.globals.padHorizontal,s=n.globals.gridHeight,o=0;o<t+1;o++)n.config.grid.xaxis.lines.show&&this._drawGridLine({x1:r,y1:0,x2:a,y2:s,parent:this.elgridLinesV}),new Oe(this.ctx).drawXaxisTicks(r,0,this.elg),a=r=r+n.globals.gridWidth/t+.3;if(n.config.grid.yaxis.lines.show)for(var l=0,d=0,g=n.globals.gridWidth,p=0;p<n.globals.dataPoints+1;p++)this._drawGridLine({x1:0,y1:l,x2:g,y2:d,parent:this.elgridLinesH}),d=l+=n.globals.gridHeight/n.globals.dataPoints}},{key:"renderGrid",value:function(){var i=this.w,t=new L(this.ctx);this.elg=t.group({class:"apexcharts-grid"}),this.elgridLinesH=t.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=t.group({class:"apexcharts-gridlines-vertical"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),i.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide());for(var n,a=i.globals.yAxisScale.length?i.globals.yAxisScale[0].result.length-1:5,r=0;r<i.globals.series.length&&(void 0!==i.globals.yAxisScale[r]&&(a=i.globals.yAxisScale[r].result.length-1),!(a>2));r++);return!i.globals.isBarHorizontal||this.isRangeBar?(n=this.xaxisLabels.length,this.isRangeBar&&(a=i.globals.labels.length,i.config.xaxis.tickAmount&&i.config.xaxis.labels.formatter&&(n=i.config.xaxis.tickAmount)),this._drawXYLines({xCount:n,tickAmount:a})):this._drawInvertedXYLines({xCount:n=a,tickAmount:a=i.globals.xTickAmount}),this.drawGridBands(n,a),{el:this.elg,xAxisTickWidth:i.globals.gridWidth/n}}},{key:"drawGridBands",value:function(i,t){var n=this.w;if(void 0!==n.config.grid.row.colors&&n.config.grid.row.colors.length>0)for(var a=0,r=n.globals.gridHeight/t,s=n.globals.gridWidth,o=0,l=0;o<t;o++,l++)l>=n.config.grid.row.colors.length&&(l=0),this._drawGridBandRect({c:l,x1:0,y1:a,x2:s,y2:r,type:"row"}),a+=n.globals.gridHeight/t;if(void 0!==n.config.grid.column.colors&&n.config.grid.column.colors.length>0)for(var d=n.globals.isBarHorizontal||"category"!==n.config.xaxis.type&&!n.config.xaxis.convertedCatToNumeric?i:i-1,g=n.globals.padHorizontal,p=n.globals.padHorizontal+n.globals.gridWidth/d,m=n.globals.gridHeight,y=0,E=0;y<i;y++,E++)E>=n.config.grid.column.colors.length&&(E=0),this._drawGridBandRect({c:E,x1:g,y1:0,x2:p,y2:m,type:"column"}),g+=n.globals.gridWidth/d}}]),te}(),He=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w}return f(te,[{key:"niceScale",value:function(i,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,s=this.w,o=Math.abs(t-i);if("dataPoints"===(n=this._adjustTicksForSmallRange(n,a,o))&&(n=s.globals.dataPoints-1),i===Number.MIN_VALUE&&0===t||!S.isNumber(i)&&!S.isNumber(t)||i===Number.MIN_VALUE&&t===-Number.MAX_VALUE){var l=this.linearScale(i=0,t=n,n);return l}i>t?(console.warn("axis.min cannot be greater than axis.max"),t=i+.1):i===t&&(i=0===i?0:i-.5,t=0===t?2:t+.5);var d=[];o<1&&r&&("candlestick"===s.config.chart.type||"candlestick"===s.config.series[a].type||"boxPlot"===s.config.chart.type||"boxPlot"===s.config.series[a].type||s.globals.isRangeData)&&(t*=1.01);var g=n+1;g<2?g=2:g>2&&(g-=2);var p=o/g,m=Math.floor(S.log10(p)),y=Math.pow(10,m),E=Math.round(p/y);E<1&&(E=1);var P=E*y,Z=P*Math.floor(i/P),K=P*Math.ceil(t/P),ae=Z;if(r&&o>2){for(;d.push(ae),!((ae+=P)>K););return{result:d,niceMin:d[0],niceMax:d[d.length-1]}}var le=i;(d=[]).push(le);for(var h=Math.abs(t-i)/n,b=0;b<=n;b++)d.push(le+=h);return d[d.length-2]>=t&&d.pop(),{result:d,niceMin:d[0],niceMax:d[d.length-1]}}},{key:"linearScale",value:function(i,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3?arguments[3]:void 0,r=Math.abs(t-i);"dataPoints"===(n=this._adjustTicksForSmallRange(n,a,r))&&(n=this.w.globals.dataPoints-1);var s=r/n;n===Number.MAX_VALUE&&(n=10,s=1);for(var o=[],l=i;n>=0;)o.push(l),l+=s,n-=1;return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}},{key:"logarithmicScaleNice",value:function(i,t,n){t<=0&&(t=Math.max(i,n)),i<=0&&(i=Math.min(t,n));for(var a=[],r=Math.ceil(Math.log(t)/Math.log(n)+1),s=Math.floor(Math.log(i)/Math.log(n));s<r;s++)a.push(Math.pow(n,s));return{result:a,niceMin:a[0],niceMax:a[a.length-1]}}},{key:"logarithmicScale",value:function(i,t,n){t<=0&&(t=Math.max(i,n)),i<=0&&(i=Math.min(t,n));for(var a=[],r=Math.log(t)/Math.log(n),s=Math.log(i)/Math.log(n),o=r-s,l=Math.round(o),d=o/l,g=0,p=s;g<l;g++,p+=d)a.push(Math.pow(n,p));return a.push(Math.pow(n,r)),{result:a,niceMin:i,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(i,t,n){var a=i;if(void 0!==t&&this.w.config.yaxis[t].labels.formatter&&void 0===this.w.config.yaxis[t].tickAmount){var r=this.w.config.yaxis[t].labels.formatter(1);S.isNumber(Number(r))&&!S.isFloat(r)&&(a=Math.ceil(n))}return a<i?a:i}},{key:"setYScaleForIndex",value:function(i,t,n){var a=this.w.globals,r=this.w.config,s=a.isBarHorizontal?r.xaxis:r.yaxis[i];void 0===a.yAxisScale[i]&&(a.yAxisScale[i]=[]);var o=Math.abs(n-t);s.logarithmic&&o<=5&&(a.invalidLogScale=!0),s.logarithmic&&o>5?(a.allSeriesCollapsed=!1,a.yAxisScale[i]=this.logarithmicScale(t,n,s.logBase),a.yAxisScale[i]=s.forceNiceScale?this.logarithmicScaleNice(t,n,s.logBase):this.logarithmicScale(t,n,s.logBase)):n!==-Number.MAX_VALUE&&S.isNumber(n)?(a.allSeriesCollapsed=!1,a.yAxisScale[i]=void 0===s.min&&void 0===s.max||s.forceNiceScale?this.niceScale(t,n,s.tickAmount?s.tickAmount:o<5&&o>1?o+1:5,i,void 0===r.yaxis[i].max&&void 0===r.yaxis[i].min||r.yaxis[i].forceNiceScale):this.linearScale(t,n,s.tickAmount,i)):a.yAxisScale[i]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(i,t){var n=this.w,a=n.globals,r=n.config.xaxis,s=Math.abs(t-i);return a.xAxisScale=t!==-Number.MAX_VALUE&&S.isNumber(t)?this.linearScale(i,t,r.tickAmount?r.tickAmount:s<5&&s>1?s+1:5,0):this.linearScale(0,5,5),a.xAxisScale}},{key:"setMultipleYScales",value:function(){var i=this,t=this.w.globals,n=this.w.config,a=t.minYArr.concat([]),r=t.maxYArr.concat([]),s=[];n.yaxis.forEach(function(o,l){var d=l;n.series.forEach(function(m,y){m.name===o.seriesName&&(d=y,s.push(l!==y?{index:y,similarIndex:l,alreadyExists:!0}:{index:y}))}),i.setYScaleForIndex(l,a[d],r[d])}),this.sameScaleInMultipleAxes(a,r,s)}},{key:"sameScaleInMultipleAxes",value:function(i,t,n){var a=this,r=this.w.config,s=this.w.globals,o=[];n.forEach(function(P){P.alreadyExists&&(void 0===o[P.index]&&(o[P.index]=[]),o[P.index].push(P.index),o[P.index].push(P.similarIndex))}),s.yAxisSameScaleIndices=o,o.forEach(function(P,Z){o.forEach(function(K,ae){var le,h;Z!==ae&&(le=P,h=K,le.filter(function(b){return-1!==h.indexOf(b)})).length>0&&(o[Z]=o[Z].concat(o[ae]))})});var l=o.map(function(P){return P.filter(function(Z,K){return P.indexOf(Z)===K})}).map(function(P){return P.sort()});o=o.filter(function(P){return!!P});var d=l.slice(),g=d.map(function(P){return JSON.stringify(P)});d=d.filter(function(P,Z){return g.indexOf(JSON.stringify(P))===Z});var p=[],m=[];i.forEach(function(P,Z){d.forEach(function(K,ae){K.indexOf(Z)>-1&&(void 0===p[ae]&&(p[ae]=[],m[ae]=[]),p[ae].push({key:Z,value:P}),m[ae].push({key:Z,value:t[Z]}))})});var y=Array.apply(null,Array(d.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),E=Array.apply(null,Array(d.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);p.forEach(function(P,Z){P.forEach(function(K,ae){y[Z]=Math.min(K.value,y[Z])})}),m.forEach(function(P,Z){P.forEach(function(K,ae){E[Z]=Math.max(K.value,E[Z])})}),i.forEach(function(P,Z){m.forEach(function(K,ae){var le=y[ae],h=E[ae];r.chart.stacked&&(h=0,K.forEach(function(b,D){b.value!==-Number.MAX_VALUE&&(h+=b.value),le!==Number.MIN_VALUE&&(le+=p[ae][D].value)})),K.forEach(function(b,D){K[D].key===Z&&(void 0!==r.yaxis[Z].min&&(le="function"==typeof r.yaxis[Z].min?r.yaxis[Z].min(s.minY):r.yaxis[Z].min),void 0!==r.yaxis[Z].max&&(h="function"==typeof r.yaxis[Z].max?r.yaxis[Z].max(s.maxY):r.yaxis[Z].max),a.setYScaleForIndex(Z,le,h))})})})}},{key:"autoScaleY",value:function(i,t,n){i||(i=this);var a=i.w;if(a.globals.isMultipleYAxis||a.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),t;var r=a.globals.seriesX[0],s=a.config.chart.stacked;return t.forEach(function(o,l){for(var d=0,g=0;g<r.length;g++)if(r[g]>=n.xaxis.min){d=g;break}var p,m,y=a.globals.minYArr[l],E=a.globals.maxYArr[l],P=a.globals.stackedSeriesTotals;a.globals.series.forEach(function(Z,K){var ae=Z[d];s?(p=m=ae=P[d],P.forEach(function(le,h){r[h]<=n.xaxis.max&&r[h]>=n.xaxis.min&&(le>m&&null!==le&&(m=le),Z[h]<p&&null!==Z[h]&&(p=Z[h]))})):(p=m=ae,Z.forEach(function(le,h){if(r[h]<=n.xaxis.max&&r[h]>=n.xaxis.min){var b=le,D=le;a.globals.series.forEach(function(ee,Ce){null!==le&&(b=Math.min(ee[h],b),D=Math.max(ee[h],D))}),D>m&&null!==D&&(m=D),b<p&&null!==b&&(p=b)}})),void 0===p&&void 0===m&&(p=y,m=E),(m*=m<0?.9:1.1)<0&&m<E&&(m=E),(p*=p<0?1.1:.9)<0&&p>y&&(p=y),t.length>1?(t[K].min=void 0===o.min?p:o.min,t[K].max=void 0===o.max?m:o.max):(t[0].min=void 0===o.min?p:o.min,t[0].max=void 0===o.max?m:o.max)})}),t}}]),te}(),tt=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w,this.scales=new He(i)}return f(te,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.w.config,s=this.w.globals,o=-Number.MAX_VALUE,l=Number.MIN_VALUE;null===a&&(a=i+1);var d=s.series,g=d,p=d;"candlestick"===r.chart.type?(g=s.seriesCandleL,p=s.seriesCandleH):"boxPlot"===r.chart.type?(g=s.seriesCandleO,p=s.seriesCandleC):s.isRangeData&&(g=s.seriesRangeStart,p=s.seriesRangeEnd);for(var m=i;m<a;m++){s.dataPoints=Math.max(s.dataPoints,d[m].length),s.categoryLabels.length&&(s.dataPoints=s.categoryLabels.filter(function(P){return void 0!==P}).length);for(var y=0;y<s.series[m].length;y++){var E=d[m][y];null!==E&&S.isNumber(E)?(void 0!==p[m][y]&&(o=Math.max(o,p[m][y]),t=Math.min(t,p[m][y])),void 0!==g[m][y]&&(t=Math.min(t,g[m][y]),n=Math.max(n,g[m][y])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||(void 0!==s.seriesCandleC[m][y]&&(o=Math.max(o,s.seriesCandleO[m][y]),o=Math.max(o,s.seriesCandleH[m][y]),o=Math.max(o,s.seriesCandleL[m][y]),o=Math.max(o,s.seriesCandleC[m][y]),"boxPlot"===this.w.config.chart.type&&(o=Math.max(o,s.seriesCandleM[m][y]))),!r.series[m].type||"candlestick"===r.series[m].type&&"boxPlot"===r.series[m].type||(o=Math.max(o,s.series[m][y]),t=Math.min(t,s.series[m][y])),n=o),s.seriesGoals[m]&&s.seriesGoals[m][y]&&Array.isArray(s.seriesGoals[m][y])&&s.seriesGoals[m][y].forEach(function(P){l!==Number.MIN_VALUE&&(l=Math.min(l,P.value),t=l),o=Math.max(o,P.value),n=o}),S.isFloat(E)&&(E=S.noExponents(E),s.yValueDecimal=Math.max(s.yValueDecimal,E.toString().split(".")[1].length)),l>g[m][y]&&g[m][y]<0&&(l=g[m][y])):s.hasNullValues=!0}}return"rangeBar"===r.chart.type&&s.seriesRangeStart.length&&s.isBarHorizontal&&(l=t),"bar"===r.chart.type&&(l<0&&o<0&&(o=0),l===Number.MIN_VALUE&&(l=0)),{minY:l,maxY:o,lowestY:t,highestY:n}}},{key:"setYRange",value:function(){var i=this.w.globals,t=this.w.config;i.maxY=-Number.MAX_VALUE,i.minY=Number.MIN_VALUE;var n=Number.MAX_VALUE;if(i.isMultipleYAxis)for(var a=0;a<i.series.length;a++){var r=this.getMinYMaxY(a,n,null,a+1);i.minYArr.push(r.minY),i.maxYArr.push(r.maxY),n=r.lowestY}var s=this.getMinYMaxY(0,n,null,i.series.length);if(i.minY=s.minY,i.maxY=s.maxY,n=s.lowestY,t.chart.stacked&&this._setStackedMinMax(),("line"===t.chart.type||"area"===t.chart.type||"candlestick"===t.chart.type||"boxPlot"===t.chart.type||"rangeBar"===t.chart.type&&!i.isBarHorizontal)&&i.minY===Number.MIN_VALUE&&n!==-Number.MAX_VALUE&&n!==i.maxY){var o=i.maxY-n;(n>=0&&n<=10||void 0!==t.yaxis[0].min||void 0!==t.yaxis[0].max)&&(o=0),i.minY=n-5*o/100,n>0&&i.minY<0&&(i.minY=0),i.maxY=i.maxY+5*o/100}return t.yaxis.forEach(function(l,d){void 0!==l.max&&("number"==typeof l.max?i.maxYArr[d]=l.max:"function"==typeof l.max&&(i.maxYArr[d]=l.max(i.isMultipleYAxis?i.maxYArr[d]:i.maxY)),i.maxY=i.maxYArr[d]),void 0!==l.min&&("number"==typeof l.min?i.minYArr[d]=l.min:"function"==typeof l.min&&(i.minYArr[d]=l.min(i.isMultipleYAxis?i.minYArr[d]===Number.MIN_VALUE?0:i.minYArr[d]:i.minY)),i.minY=i.minYArr[d])}),i.isBarHorizontal&&["min","max"].forEach(function(l){void 0!==t.xaxis[l]&&"number"==typeof t.xaxis[l]&&("min"===l?i.minY=t.xaxis[l]:i.maxY=t.xaxis[l])}),i.isMultipleYAxis?(this.scales.setMultipleYScales(),i.minY=n,i.yAxisScale.forEach(function(l,d){i.minYArr[d]=l.niceMin,i.maxYArr[d]=l.niceMax})):(this.scales.setYScaleForIndex(0,i.minY,i.maxY),i.minY=i.yAxisScale[0].niceMin,i.maxY=i.yAxisScale[0].niceMax,i.minYArr[0]=i.yAxisScale[0].niceMin,i.maxYArr[0]=i.yAxisScale[0].niceMax),{minY:i.minY,maxY:i.maxY,minYArr:i.minYArr,maxYArr:i.maxYArr,yAxisScale:i.yAxisScale}}},{key:"setXRange",value:function(){var i=this.w.globals,t=this.w.config,n="numeric"===t.xaxis.type||"datetime"===t.xaxis.type||"category"===t.xaxis.type&&!i.noLabelsProvided||i.noLabelsProvided||i.isXNumeric;if(i.isXNumeric&&function(){for(var o=0;o<i.series.length;o++)if(i.labels[o])for(var l=0;l<i.labels[o].length;l++)null!==i.labels[o][l]&&S.isNumber(i.labels[o][l])&&(i.maxX=Math.max(i.maxX,i.labels[o][l]),i.initialMaxX=Math.max(i.maxX,i.labels[o][l]),i.minX=Math.min(i.minX,i.labels[o][l]),i.initialMinX=Math.min(i.minX,i.labels[o][l]))}(),i.noLabelsProvided&&0===t.xaxis.categories.length&&(i.maxX=i.labels[i.labels.length-1],i.initialMaxX=i.labels[i.labels.length-1],i.minX=1,i.initialMinX=1),i.isXNumeric||i.noLabelsProvided||i.dataFormatXNumeric){var a;if(void 0===t.xaxis.tickAmount?(a=Math.round(i.svgWidth/150),"numeric"===t.xaxis.type&&i.dataPoints<30&&(a=i.dataPoints-1),a>i.dataPoints&&0!==i.dataPoints&&(a=i.dataPoints-1)):"dataPoints"===t.xaxis.tickAmount?(i.series.length>1&&(a=i.series[i.maxValsInArrayIndex].length-1),i.isXNumeric&&(a=i.maxX-i.minX-1)):a=t.xaxis.tickAmount,i.xTickAmount=a,void 0!==t.xaxis.max&&"number"==typeof t.xaxis.max&&(i.maxX=t.xaxis.max),void 0!==t.xaxis.min&&"number"==typeof t.xaxis.min&&(i.minX=t.xaxis.min),void 0!==t.xaxis.range&&(i.minX=i.maxX-t.xaxis.range),i.minX!==Number.MAX_VALUE&&i.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!i.dataFormatXNumeric){for(var r=[],s=i.minX-1;s<i.maxX;s++)r.push(s+1);i.xAxisScale={result:r,niceMin:r[0],niceMax:r[r.length-1]}}else i.xAxisScale=this.scales.setXScale(i.minX,i.maxX);else i.xAxisScale=this.scales.linearScale(1,a,a),i.noLabelsProvided&&i.labels.length>0&&(i.xAxisScale=this.scales.linearScale(1,i.labels.length,a-1),i.seriesX=i.labels.slice());n&&(i.labels=i.xAxisScale.result.slice())}return i.isBarHorizontal&&i.labels.length&&(i.xTickAmount=i.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:i.minX,maxX:i.maxX}}},{key:"setZRange",value:function(){var i=this.w.globals;if(i.isDataXYZ)for(var t=0;t<i.series.length;t++)if(void 0!==i.seriesZ[t])for(var n=0;n<i.seriesZ[t].length;n++)null!==i.seriesZ[t][n]&&S.isNumber(i.seriesZ[t][n])&&(i.maxZ=Math.max(i.maxZ,i.seriesZ[t][n]),i.minZ=Math.min(i.minZ,i.seriesZ[t][n]))}},{key:"_handleSingleDataPoint",value:function(){var i=this.w.globals,t=this.w.config;if(i.minX===i.maxX){var n=new ne(this.ctx);if("datetime"===t.xaxis.type){var a=n.getDate(i.minX);t.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()-2):a.setDate(a.getDate()-2),i.minX=new Date(a).getTime();var r=n.getDate(i.maxX);t.xaxis.labels.datetimeUTC?r.setUTCDate(r.getUTCDate()+2):r.setDate(r.getDate()+2),i.maxX=new Date(r).getTime()}else("numeric"===t.xaxis.type||"category"===t.xaxis.type&&!i.noLabelsProvided)&&(i.minX=i.minX-2,i.initialMinX=i.minX,i.maxX=i.maxX+2,i.initialMaxX=i.maxX)}}},{key:"_getMinXDiff",value:function(){var i=this.w.globals;i.isXNumeric&&i.seriesX.forEach(function(t,n){1===t.length&&t.push(i.seriesX[i.maxValsInArrayIndex][i.seriesX[i.maxValsInArrayIndex].length-1]);var a=t.slice();a.sort(function(r,s){return r-s}),a.forEach(function(r,s){if(s>0){var o=r-a[s-1];o>0&&(i.minXDiff=Math.min(o,i.minXDiff))}}),1!==i.dataPoints&&i.minXDiff!==Number.MAX_VALUE||(i.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var i=this.w.globals,t=[],n=[];if(i.series.length)for(var a=0;a<i.series[i.maxValsInArrayIndex].length;a++)for(var r=0,s=0,o=0;o<i.series.length;o++)null!==i.series[o][a]&&S.isNumber(i.series[o][a])&&(i.series[o][a]>0?r=r+parseFloat(i.series[o][a])+1e-4:s+=parseFloat(i.series[o][a])),o===i.series.length-1&&(t.push(r),n.push(s));for(var l=0;l<t.length;l++)i.maxY=Math.max(i.maxY,t[l]),i.minY=Math.min(i.minY,n[l])}}]),te}(),V=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w;var t=this.w;this.xaxisFontSize=t.config.xaxis.labels.style.fontSize,this.axisFontFamily=t.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=t.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===t.config.chart.type&&t.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===t.config.xaxis.position&&(this.xAxisoffX=t.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new Ie(i)}return f(te,[{key:"drawYaxis",value:function(i){var t=this,n=this.w,a=new L(this.ctx),r=n.config.yaxis[i].labels.style,s=r.fontSize,o=r.fontFamily,l=r.fontWeight,d=a.group({class:"apexcharts-yaxis",rel:i,transform:"translate("+n.globals.translateYAxisX[i]+", 0)"});if(this.axesUtils.isYAxisHidden(i))return d;var g=a.group({class:"apexcharts-yaxis-texts-g"});d.add(g);var p=n.globals.yAxisScale[i].result.length-1,m=n.globals.gridHeight/p,y=n.globals.translateY,E=n.globals.yLabelFormatters[i],P=n.globals.yAxisScale[i].result.slice();P=this.axesUtils.checkForReversedLabels(i,P);var Z="";if(n.config.yaxis[i].labels.show)for(var K=function(Ne){var Me=P[Ne];Me=E(Me,Ne,n);var je=n.config.yaxis[i].labels.padding;n.config.yaxis[i].opposite&&0!==n.config.yaxis.length&&(je*=-1);var Xe=t.axesUtils.getYAxisForeColor(r.colors,i),et=a.drawText({x:je,y:y+p/10+n.config.yaxis[i].labels.offsetY+1,text:Me,textAnchor:n.config.yaxis[i].opposite?"start":"end",fontSize:s,fontFamily:o,fontWeight:l,maxWidth:n.config.yaxis[i].labels.maxWidth,foreColor:Array.isArray(Xe)?Xe[Ne]:Xe,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+r.cssClass});Ne===p&&(Z=et),g.add(et);var ct=document.createElementNS(n.globals.SVGNS,"title");if(ct.textContent=Array.isArray(Me)?Me.join(" "):Me,et.node.appendChild(ct),0!==n.config.yaxis[i].labels.rotate){var St=a.rotateAroundCenter(Z.node),At=a.rotateAroundCenter(et.node);et.node.setAttribute("transform","rotate(".concat(n.config.yaxis[i].labels.rotate," ").concat(St.x," ").concat(At.y,")"))}y+=m},ae=p;ae>=0;ae--)K(ae);if(void 0!==n.config.yaxis[i].title.text){var le=a.group({class:"apexcharts-yaxis-title"}),h=0;n.config.yaxis[i].opposite&&(h=n.globals.translateYAxisX[i]);var b=a.drawText({x:h,y:n.globals.gridHeight/2+n.globals.translateY+n.config.yaxis[i].title.offsetY,text:n.config.yaxis[i].title.text,textAnchor:"end",foreColor:n.config.yaxis[i].title.style.color,fontSize:n.config.yaxis[i].title.style.fontSize,fontWeight:n.config.yaxis[i].title.style.fontWeight,fontFamily:n.config.yaxis[i].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+n.config.yaxis[i].title.style.cssClass});le.add(b),d.add(le)}var D=n.config.yaxis[i].axisBorder,ee=31+D.offsetX;if(n.config.yaxis[i].opposite&&(ee=-31-D.offsetX),D.show){var Ce=a.drawLine(ee,n.globals.translateY+D.offsetY-2,ee,n.globals.gridHeight+n.globals.translateY+D.offsetY+2,D.color,0,D.width);d.add(Ce)}return n.config.yaxis[i].axisTicks.show&&this.axesUtils.drawYAxisTicks(ee,p,D,n.config.yaxis[i].axisTicks,i,m,d),d}},{key:"drawYaxisInversed",value:function(i){var t=this.w,n=new L(this.ctx),a=n.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),r=n.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});a.add(r);var s=t.globals.yAxisScale[i].result.length-1,o=t.globals.gridWidth/s+.1,l=o+t.config.xaxis.labels.offsetX,d=t.globals.xLabelFormatter,g=t.globals.yAxisScale[i].result.slice(),p=t.globals.timescaleLabels;p.length>0&&(this.xaxisLabels=p.slice(),s=(g=p.slice()).length),g=this.axesUtils.checkForReversedLabels(i,g);var m=p.length;if(t.config.xaxis.labels.show)for(var y=m?0:s;m?y<m:y>=0;m?y++:y--){var E=g[y];E=d(E,y,t);var P=t.globals.gridWidth+t.globals.padHorizontal-(l-o+t.config.xaxis.labels.offsetX);if(p.length){var Z=this.axesUtils.getLabel(g,p,P,y,this.drawnLabels,this.xaxisFontSize);P=Z.x,E=Z.text,this.drawnLabels.push(Z.text),0===y&&t.globals.skipFirstTimelinelabel&&(E=""),y===g.length-1&&t.globals.skipLastTimelinelabel&&(E="")}var K=n.drawText({x:P,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-("top"===t.config.xaxis.position?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:E,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[i]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+t.config.xaxis.labels.style.cssClass});r.add(K),K.tspan(E);var ae=document.createElementNS(t.globals.SVGNS,"title");ae.textContent=E,K.node.appendChild(ae),l+=o}return this.inversedYAxisTitleText(a),this.inversedYAxisBorder(a),a}},{key:"inversedYAxisBorder",value:function(i){var t=this.w,n=new L(this.ctx),a=t.config.xaxis.axisBorder;if(a.show){var r=0;"bar"===t.config.chart.type&&t.globals.isXNumeric&&(r-=15);var s=n.drawLine(t.globals.padHorizontal+r+a.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,a.color,0,a.height);i.add(s)}}},{key:"inversedYAxisTitleText",value:function(i){var t=this.w,n=new L(this.ctx);if(void 0!==t.config.xaxis.title.text){var a=n.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),r=n.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+t.config.xaxis.title.style.cssClass});a.add(r),i.add(a)}}},{key:"yAxisTitleRotate",value:function(i,t){var n=this.w,a=new L(this.ctx),r={width:0,height:0},s={width:0,height:0},o=n.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-texts-g"));null!==o&&(r=o.getBoundingClientRect());var l=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-title text"));if(null!==l&&(s=l.getBoundingClientRect()),null!==l){var d=this.xPaddingForYAxisTitle(i,r,s,t);l.setAttribute("x",d.xPos-(t?10:0))}if(null!==l){var g=a.rotateAroundCenter(l);l.setAttribute("transform","rotate(".concat(t?-1*n.config.yaxis[i].title.rotate:n.config.yaxis[i].title.rotate," ").concat(g.x," ").concat(g.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(i,t,n,a){var r=this.w,s=0,o=0,l=10;return void 0===r.config.yaxis[i].title.text||i<0?{xPos:o,padd:0}:(a?(o=t.width+r.config.yaxis[i].title.offsetX+n.width/2+l/2,0===(s+=1)&&(o-=l/2)):(o=-1*t.width+r.config.yaxis[i].title.offsetX+l/2+n.width/2,r.globals.isBarHorizontal&&(o=-1*t.width-r.config.yaxis[i].title.offsetX-(l=25))),{xPos:o,padd:l})}},{key:"setYAxisXPosition",value:function(i,t){var n=this.w,a=0,r=0,s=18,o=1;n.config.yaxis.length>1&&(this.multipleYs=!0),n.config.yaxis.map(function(l,d){var g=n.globals.ignoreYAxisIndexes.indexOf(d)>-1||!l.show||l.floating||0===i[d].width,p=i[d].width+t[d].width;l.opposite?n.globals.isBarHorizontal?n.globals.translateYAxisX[d]=(r=n.globals.gridWidth+n.globals.translateX-1)-l.labels.offsetX:(r=n.globals.gridWidth+n.globals.translateX+o,g||(o=o+p+20),n.globals.translateYAxisX[d]=r-l.labels.offsetX+20):(a=n.globals.translateX-s,g||(s=s+p+20),n.globals.translateYAxisX[d]=a+l.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var i=this.w,t=i.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(t=S.listToArray(t)).forEach(function(n,a){var r=i.config.yaxis[a];if(r&&void 0!==r.labels.align){var s=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(a,"'] .apexcharts-yaxis-texts-g")),o=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(a,"'] .apexcharts-yaxis-label"));o=S.listToArray(o);var l=s.getBoundingClientRect();"left"===r.labels.align?(o.forEach(function(d,g){d.setAttribute("text-anchor","start")}),r.opposite||s.setAttribute("transform","translate(-".concat(l.width,", 0)"))):"center"===r.labels.align?(o.forEach(function(d,g){d.setAttribute("text-anchor","middle")}),s.setAttribute("transform","translate(".concat(l.width/2*(r.opposite?1:-1),", 0)"))):"right"===r.labels.align&&(o.forEach(function(d,g){d.setAttribute("text-anchor","end")}),r.opposite&&s.setAttribute("transform","translate(".concat(l.width,", 0)")))}})}}]),te}(),Q=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w,this.documentEvent=S.bind(this.documentEvent,this)}return f(te,[{key:"addEventListener",value:function(i,t){var n=this.w;n.globals.events.hasOwnProperty(i)?n.globals.events[i].push(t):n.globals.events[i]=[t]}},{key:"removeEventListener",value:function(i,t){var n=this.w;if(n.globals.events.hasOwnProperty(i)){var a=n.globals.events[i].indexOf(t);-1!==a&&n.globals.events[i].splice(a,1)}}},{key:"fireEvent",value:function(i,t){var n=this.w;if(n.globals.events.hasOwnProperty(i)){t&&t.length||(t=[]);for(var a=n.globals.events[i],r=a.length,s=0;s<r;s++)a[s].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var i=this,t=this.w,n=this.ctx,a=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach(function(r){a.addEventListener(r,function(s){var o=Object.assign({},t,{seriesIndex:t.globals.capturedSeriesIndex,dataPointIndex:t.globals.capturedDataPointIndex});"mousemove"===s.type||"touchmove"===s.type?"function"==typeof t.config.chart.events.mouseMove&&t.config.chart.events.mouseMove(s,n,o):"mouseleave"===s.type||"touchleave"===s.type?"function"==typeof t.config.chart.events.mouseLeave&&t.config.chart.events.mouseLeave(s,n,o):("mouseup"===s.type&&1===s.which||"touchend"===s.type)&&("function"==typeof t.config.chart.events.click&&t.config.chart.events.click(s,n,o),n.ctx.events.fireEvent("click",[s,n,o]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(r){t.globals.dom.baseEl.addEventListener(r,i.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(i){var t=this.w,n=i.target.className;if("click"===i.type){var a=t.globals.dom.baseEl.querySelector(".apexcharts-menu");a&&a.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==n&&a.classList.remove("apexcharts-menu-open")}t.globals.clientX="touchmove"===i.type?i.touches[0].clientX:i.clientX,t.globals.clientY="touchmove"===i.type?i.touches[0].clientY:i.clientY}}]),te}(),Ee=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w}return f(te,[{key:"setCurrentLocaleValues",value:function(i){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var n=t.filter(function(r){return r.name===i})[0];if(!n)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var a=S.extend(ye,n);this.w.globals.locale=a.options}}]),te}(),Y=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w}return f(te,[{key:"drawAxis",value:function(i,t){var n,a,r=this.w.globals,s=this.w.config,o=new Oe(this.ctx),l=new V(this.ctx);r.axisCharts&&"radar"!==i&&(r.isBarHorizontal?(a=l.drawYaxisInversed(0),n=o.drawXaxisInversed(0),r.dom.elGraphical.add(n),r.dom.elGraphical.add(a)):(n=o.drawXaxis(),r.dom.elGraphical.add(n),s.yaxis.map(function(d,g){-1===r.ignoreYAxisIndexes.indexOf(g)&&(a=l.drawYaxis(g),r.dom.Paper.add(a))})))}}]),te}(),fe=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w}return f(te,[{key:"drawXCrosshairs",value:function(){var i=this.w,t=new L(this.ctx),n=new T(this.ctx),a=i.config.xaxis.crosshairs.fill.gradient,r=i.config.xaxis.crosshairs.dropShadow,m=r.enabled,y=r.left,E=r.top,P=r.blur,Z=r.color,K=r.opacity,ae=i.config.xaxis.crosshairs.fill.color;if(i.config.xaxis.crosshairs.show){"gradient"===i.config.xaxis.crosshairs.fill.type&&(ae=t.drawGradient("vertical",a.colorFrom,a.colorTo,a.opacityFrom,a.opacityTo,null,a.stops,null));var le=t.drawRect();1===i.config.xaxis.crosshairs.width&&(le=t.drawLine());var h=i.globals.gridHeight;(!S.isNumber(h)||h<0)&&(h=0);var b=i.config.xaxis.crosshairs.width;(!S.isNumber(b)||b<0)&&(b=0),le.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:h,width:b,height:h,fill:ae,filter:"none","fill-opacity":i.config.xaxis.crosshairs.opacity,stroke:i.config.xaxis.crosshairs.stroke.color,"stroke-width":i.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":i.config.xaxis.crosshairs.stroke.dashArray}),m&&(le=n.dropShadow(le,{left:y,top:E,blur:P,color:Z,opacity:K})),i.globals.dom.elGraphical.add(le)}}},{key:"drawYCrosshairs",value:function(){var i=this.w,t=new L(this.ctx),n=i.config.yaxis[0].crosshairs,a=i.globals.barPadForNumericAxis;if(i.config.yaxis[0].crosshairs.show){var r=t.drawLine(-a,0,i.globals.gridWidth+a,0,n.stroke.color,n.stroke.dashArray,n.stroke.width);r.attr({class:"apexcharts-ycrosshairs"}),i.globals.dom.elGraphical.add(r)}var s=t.drawLine(-a,0,i.globals.gridWidth+a,0,n.stroke.color,0,0);s.attr({class:"apexcharts-ycrosshairs-hidden"}),i.globals.dom.elGraphical.add(s)}}]),te}(),Te=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w}return f(te,[{key:"checkResponsiveConfig",value:function(i){var t=this,n=this.w,a=n.config;if(0!==a.responsive.length){var r=a.responsive.slice();r.sort(function(d,g){return d.breakpoint>g.breakpoint?1:g.breakpoint>d.breakpoint?-1:0}).reverse();var s=new H({}),o=function(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=r[0].breakpoint,p=window.innerWidth>0?window.innerWidth:screen.width;if(p>g){var m=W.extendArrayProps(s,n.globals.initialConfig,n);d=S.extend(m,d),d=S.extend(n.config,d),t.overrideResponsiveOptions(d)}else for(var y=0;y<r.length;y++)p<r[y].breakpoint&&(d=W.extendArrayProps(s,r[y].options,n),d=S.extend(n.config,d),t.overrideResponsiveOptions(d))};if(i){var l=W.extendArrayProps(s,i,n);l=S.extend(n.config,l),o(l=S.extend(l,i))}else o({})}}},{key:"overrideResponsiveOptions",value:function(i){var t=new H(i).init({responsiveOverride:!0});this.w.config=t}}]),te}(),Ve=function(){function te(i){pe(this,te),this.ctx=i,this.colors=[],this.w=i.w;var t=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===t.config.chart.type&&t.config.plotOptions.treemap.distributed||"heatmap"===t.config.chart.type&&t.config.plotOptions.heatmap.distributed,this.isBarDistributed=t.config.plotOptions.bar.distributed&&("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)}return f(te,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var i=this,t=this.w,n=new S;if(t.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(t.config.theme.mode)),void 0===t.config.colors?t.globals.colors=this.predefined():(t.globals.colors=t.config.colors,Array.isArray(t.config.colors)&&t.config.colors.length>0&&"function"==typeof t.config.colors[0]&&(t.globals.colors=t.config.series.map(function(y,E){var P=t.config.colors[E];return P||(P=t.config.colors[0]),"function"==typeof P?(i.isColorFn=!0,P({value:t.globals.axisCharts?t.globals.series[E][0]?t.globals.series[E][0]:0:t.globals.series[E],seriesIndex:E,dataPointIndex:E,w:t})):P}))),t.globals.seriesColors.map(function(y,E){y&&(t.globals.colors[E]=y)}),t.config.theme.monochrome.enabled){var a=[],r=t.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(r=t.globals.series[0].length*t.globals.series.length);for(var s=t.config.theme.monochrome.color,o=1/(r/t.config.theme.monochrome.shadeIntensity),l=t.config.theme.monochrome.shadeTo,d=0,g=0;g<r;g++){var p=void 0;"dark"===l?(p=n.shadeColor(-1*d,s),d+=o):(p=n.shadeColor(d,s),d+=o),a.push(p)}t.globals.colors=a.slice()}var m=t.globals.colors.slice();this.pushExtraColors(t.globals.colors),["fill","stroke"].forEach(function(y){t.globals[y].colors=void 0===t.config[y].colors?i.isColorFn?t.config.colors:m:t.config[y].colors.slice(),i.pushExtraColors(t.globals[y].colors)}),t.globals.dataLabels.style.colors=void 0===t.config.dataLabels.style.colors?m:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50),t.globals.radarPolygons.fill.colors=void 0===t.config.plotOptions.radar.polygons.fill.colors?["dark"===t.config.theme.mode?"#424242":"none"]:t.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(t.globals.radarPolygons.fill.colors,20),t.globals.markers.colors=void 0===t.config.markers.colors?m:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(i,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=this.w,r=t||a.globals.series.length;if(null===n&&(n=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===a.config.chart.type&&a.config.plotOptions.heatmap.colorScale.inverse),n&&a.globals.series.length&&(r=a.globals.series[a.globals.maxValsInArrayIndex].length*a.globals.series.length),i.length<r)for(var s=r-i.length,o=0;o<s;o++)i.push(i[o])}},{key:"updateThemeOptions",value:function(i){i.chart=i.chart||{},i.tooltip=i.tooltip||{};var t=i.theme.mode||"light",n=i.theme.palette?i.theme.palette:"dark"===t?"palette4":"palette1",a=i.chart.foreColor?i.chart.foreColor:"dark"===t?"#f6f7f8":"#373d3f";return i.tooltip.theme=t,i.chart.foreColor=a,i.theme.palette=n,i}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),te}(),qe=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w}return f(te,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(i){var t=this.w,n="title"===i?t.config.title:t.config.subtitle,a=t.globals.svgWidth/2,r=n.offsetY,s="middle";if("left"===n.align?(a=10,s="start"):"right"===n.align&&(a=t.globals.svgWidth-10,s="end"),a+=n.offsetX,r=r+parseInt(n.style.fontSize,10)+n.margin/2,void 0!==n.text){var o=new L(this.ctx).drawText({x:a,y:r,text:n.text,textAnchor:s,fontSize:n.style.fontSize,fontFamily:n.style.fontFamily,fontWeight:n.style.fontWeight,foreColor:n.style.color,opacity:1});o.node.setAttribute("class","apexcharts-".concat(i,"-text")),t.globals.dom.Paper.add(o)}}}]),te}(),Ke=function(){function te(i){pe(this,te),this.w=i.w,this.dCtx=i}return f(te,[{key:"getTitleSubtitleCoords",value:function(i){var t=this.w,n=0,a=0,r="title"===i?t.config.title.floating:t.config.subtitle.floating,s=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-text"));if(null!==s&&!r){var o=s.getBoundingClientRect();n=o.width,a=t.globals.axisCharts?o.height+5:o.height}return{width:n,height:a}}},{key:"getLegendsRect",value:function(){var i=this.w,t=i.globals.dom.baseEl.querySelector(".apexcharts-legend");i.config.legend.height||"top"!==i.config.legend.position&&"bottom"!==i.config.legend.position||(t.style.maxHeight=i.globals.svgHeight/2+"px");var n=Object.assign({},S.getBoundingClientRect(t));return this.dCtx.lgRect=null!==t&&!i.config.legend.floating&&i.config.legend.show?{x:n.x,y:n.y,height:n.height,width:0===n.height?0:n.width}:{x:0,y:0,height:0,width:0},"left"!==i.config.legend.position&&"right"!==i.config.legend.position||1.5*this.dCtx.lgRect.width>i.globals.svgWidth&&(this.dCtx.lgRect.width=i.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(i,t){var n=i;if(this.w.globals.isMultiLineX){var a=t.map(function(s,o){return Array.isArray(s)?s.length:1}),r=Math.max.apply(Math,X(a));n=t[a.indexOf(r)]}return n}}]),te}(),it=function(){function te(i){pe(this,te),this.w=i.w,this.dCtx=i}return f(te,[{key:"getxAxisLabelsCoords",value:function(){var i,t=this.w,n=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&0===n.length&&(n=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var a=this.getxAxisTimeScaleLabelsCoords();i={width:a.width,height:a.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==t.config.legend.position&&"right"!==t.config.legend.position||t.config.legend.floating?0:this.dCtx.lgRect.width;var r=t.globals.xLabelFormatter,s=S.getLargestStringFromArr(n),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(s,n);t.globals.isBarHorizontal&&(o=s=t.globals.yAxisScale[0].result.reduce(function(E,P){return E.length>P.length?E:P},0));var l=new Fe(this.dCtx.ctx),d=s;s=l.xLabelFormat(r,s,d,{i:void 0,dateFormatter:new ne(this.dCtx.ctx).formatDate,w:t}),o=l.xLabelFormat(r,o,d,{i:void 0,dateFormatter:new ne(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&void 0===s||""===String(s).trim())&&(o=s="1");var g=new L(this.dCtx.ctx),p=g.getTextRects(s,t.config.xaxis.labels.style.fontSize),m=p;if(s!==o&&(m=g.getTextRects(o,t.config.xaxis.labels.style.fontSize)),(i={width:p.width>=m.width?p.width:m.width,height:p.height>=m.height?p.height:m.height}).width*n.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==t.config.xaxis.labels.rotate||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var y=function(E){return g.getTextRects(E,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};p=y(s),s!==o&&(m=y(o)),i.height=(p.height>m.height?p.height:m.height)/1.5,i.width=p.width>m.width?p.width:m.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(i={width:0,height:0}),{width:i.width,height:i.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var i,t=this.w;if(!t.globals.hasGroups)return{width:0,height:0};var n,a=(null===(i=t.config.xaxis.group.style)||void 0===i?void 0:i.fontSize)||t.config.xaxis.labels.style.fontSize,r=t.globals.groups.map(function(p){return p.title}),s=S.getLargestStringFromArr(r),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(s,r),l=new L(this.dCtx.ctx),d=l.getTextRects(s,a),g=d;return s!==o&&(g=l.getTextRects(o,a)),n={width:d.width>=g.width?d.width:g.width,height:d.height>=g.height?d.height:g.height},t.config.xaxis.labels.show||(n={width:0,height:0}),{width:n.width,height:n.height}}},{key:"getxAxisTitleCoords",value:function(){var i=this.w,t=0,n=0;if(void 0!==i.config.xaxis.title.text){var a=new L(this.dCtx.ctx).getTextRects(i.config.xaxis.title.text,i.config.xaxis.title.style.fontSize);t=a.width,n=a.height}return{width:t,height:n}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var i,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var n=this.dCtx.timescaleLabels.map(function(r){return r.value}),a=n.reduce(function(r,s){return void 0===r?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):r.length>s.length?r:s},0);return 1.05*(i=new L(this.dCtx.ctx).getTextRects(a,t.config.xaxis.labels.style.fontSize)).width*n.length>t.globals.gridWidth&&0!==t.config.xaxis.labels.rotate&&(t.globals.overlappingXLabels=!0),i}},{key:"additionalPaddingXLabels",value:function(i){var t=this,n=this.w,a=n.globals,r=n.config,s=r.xaxis.type,o=i.width;a.skipLastTimelinelabel=!1,a.skipFirstTimelinelabel=!1;var l=n.config.yaxis[0].opposite&&n.globals.isBarHorizontal;r.yaxis.forEach(function(g,p){l?(t.dCtx.gridPad.left<o&&(t.dCtx.xPadLeft=o/2+1),t.dCtx.xPadRight=o/2+1):function(g,p){-1!==a.collapsedSeriesIndices.indexOf(p)||function(m){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var P=t.dCtx.timescaleLabels[0].position-o/1.75+t.dCtx.yAxisWidthLeft;t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+o/1.75-t.dCtx.yAxisWidthRight>a.svgWidth-a.translateX-("right"===n.config.legend.position&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0)&&(a.skipLastTimelinelabel=!0),P<-(m.show&&!m.floating||"bar"!==r.chart.type&&"candlestick"!==r.chart.type&&"rangeBar"!==r.chart.type&&"boxPlot"!==r.chart.type?10:o/1.75)&&(a.skipFirstTimelinelabel=!0)}else"datetime"===s?t.dCtx.gridPad.right<o&&!a.rotateXLabels&&(a.skipLastTimelinelabel=!0):"datetime"!==s&&t.dCtx.gridPad.right<o/2-t.dCtx.yAxisWidthRight&&!a.rotateXLabels&&!n.config.xaxis.labels.trim&&("between"!==n.config.xaxis.tickPlacement||n.globals.isBarHorizontal)&&(t.dCtx.xPadRight=o/2+1)}(g)}(g,p)})}}]),te}(),at=function(){function te(i){pe(this,te),this.w=i.w,this.dCtx=i}return f(te,[{key:"getyAxisLabelsCoords",value:function(){var i=this,t=this.w,n=[],a=10,r=new Ie(this.dCtx.ctx);return t.config.yaxis.map(function(s,o){var l=t.globals.yAxisScale[o],d=0;if(!r.isYAxisHidden(o)&&s.labels.show&&void 0!==s.labels.minWidth&&(d=s.labels.minWidth),!r.isYAxisHidden(o)&&s.labels.show&&l.result.length){var g=t.globals.yLabelFormatters[o],p=l.niceMin===Number.MIN_VALUE?0:l.niceMin,m=String(p).length>String(l.niceMax).length?p:l.niceMax,y=g(m,{seriesIndex:o,dataPointIndex:-1,w:t}),E=y;if(void 0!==y&&0!==y.length||(y=m),t.globals.isBarHorizontal){a=0;var P=t.globals.labels.slice();y=g(y=S.getLargestStringFromArr(P),{seriesIndex:o,dataPointIndex:-1,w:t}),E=i.dCtx.dimHelpers.getLargestStringFromMultiArr(y,P)}var Z=new L(i.dCtx.ctx),K="rotate(".concat(s.labels.rotate," 0 0)"),ae=Z.getTextRects(y,s.labels.style.fontSize,s.labels.style.fontFamily,K,!1),le=ae;y!==E&&(le=Z.getTextRects(E,s.labels.style.fontSize,s.labels.style.fontFamily,K,!1)),n.push({width:(d>le.width||d>ae.width?d:le.width>ae.width?le.width:ae.width)+a,height:le.height>ae.height?le.height:ae.height})}else n.push({width:0,height:0})}),n}},{key:"getyAxisTitleCoords",value:function(){var i=this,n=[];return this.w.config.yaxis.map(function(a,r){if(a.show&&void 0!==a.title.text){var s=new L(i.dCtx.ctx),o="rotate(".concat(a.title.rotate," 0 0)"),l=s.getTextRects(a.title.text,a.title.style.fontSize,a.title.style.fontFamily,o,!1);n.push({width:l.width,height:l.height})}else n.push({width:0,height:0})}),n}},{key:"getTotalYAxisWidth",value:function(){var i=this.w,t=0,n=0,a=0,r=i.globals.yAxisScale.length>1?10:0,s=new Ie(this.dCtx.ctx),o=function(l,d){var g=i.config.yaxis[d].floating,p=0;l.width>0&&!g?(p=l.width+r,i.globals.ignoreYAxisIndexes.indexOf(d)>-1&&(p=p-l.width-r)):p=g||s.isYAxisHidden(d)?0:5,i.config.yaxis[d].opposite?a+=p:n+=p,t+=p};return i.globals.yLabelsCoords.map(function(l,d){o(l,d)}),i.globals.yTitleCoords.map(function(l,d){o(l,d)}),i.globals.isBarHorizontal&&!i.config.yaxis[0].floating&&(t=i.globals.yLabelsCoords[0].width+i.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=n,this.dCtx.yAxisWidthRight=a,t}}]),te}(),lt=function(){function te(i){pe(this,te),this.w=i.w,this.dCtx=i}return f(te,[{key:"gridPadForColumnsInNumericAxis",value:function(i){var t=this.w;if(t.globals.noData||t.globals.allSeriesCollapsed)return 0;var n=function(g){return"bar"===g||"rangeBar"===g||"candlestick"===g||"boxPlot"===g},a=t.config.chart.type,r=0,s=n(a)?t.config.series.length:1;if(t.globals.comboBarCount>0&&(s=t.globals.comboBarCount),t.globals.collapsedSeries.forEach(function(g){n(g.type)&&(s-=1)}),t.config.chart.stacked&&(s=1),(n(a)||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&s>0){var o,l,d=Math.abs(t.globals.initialMaxX-t.globals.initialMinX);d<=3&&(d=t.globals.dataPoints),o=d/i,t.globals.minXDiff&&t.globals.minXDiff/o>0&&(l=t.globals.minXDiff/o),l>i/2&&(l/=2),(r=l/s*parseInt(t.config.plotOptions.bar.columnWidth,10)/100)<1&&(r=1),t.globals.barPadForNumericAxis=r=r/(s>1?1:1.5)+5}return r}},{key:"gridPadFortitleSubtitle",value:function(){var i=this,t=this.w,n=t.globals,a=this.dCtx.isSparkline||!t.globals.axisCharts?0:10;["title","subtitle"].forEach(function(o){a+=void 0!==t.config[o].text?t.config[o].margin:i.dCtx.isSparkline||!t.globals.axisCharts?0:5}),!t.config.legend.show||"bottom"!==t.config.legend.position||t.config.legend.floating||t.globals.axisCharts||(a+=10);var r=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),s=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");n.gridHeight=n.gridHeight-r.height-s.height-a,n.translateY=n.translateY+r.height+s.height+a}},{key:"setGridXPosForDualYAxis",value:function(i,t){var n=this.w,a=new Ie(this.dCtx.ctx);n.config.yaxis.map(function(r,s){-1!==n.globals.ignoreYAxisIndexes.indexOf(s)||r.floating||a.isYAxisHidden(s)||(r.opposite&&(n.globals.translateX=n.globals.translateX-(t[s].width+i[s].width)-parseInt(n.config.yaxis[s].labels.style.fontSize,10)/1.2-12),n.globals.translateX<2&&(n.globals.translateX=2))})}}]),te}(),gt=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new Ke(this),this.dimYAxis=new at(this),this.dimXAxis=new it(this),this.dimGrid=new lt(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return f(te,[{key:"plotCoords",value:function(){var i=this,t=this.w,n=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(r){var s=function C(te,i){return function(t){if(Array.isArray(t))return t}(te)||function(t,n){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var r,s,o=[],l=!0,d=!1;try{for(a=a.call(t);!(l=(r=a.next()).done)&&(o.push(r.value),!n||o.length!==n);l=!0);}catch(g){d=!0,s=g}finally{try{l||null==a.return||a.return()}finally{if(d)throw s}}return o}}(te,i)||se(te,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,2);i.gridPad[s[0]]=Math.max(s[1],i.w.globals.markers.largestSize/1.5)}),n.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),n.gridHeight=n.gridHeight-this.gridPad.top-this.gridPad.bottom,n.gridWidth=n.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var a=this.dimGrid.gridPadForColumnsInNumericAxis(n.gridWidth);n.gridWidth=n.gridWidth-2*a,n.translateX=n.translateX+this.gridPad.left+this.xPadLeft+(a>0?a+4:0),n.translateY=n.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var i=this,t=this.w,n=t.globals,a=this.dimYAxis.getyAxisLabelsCoords(),r=this.dimYAxis.getyAxisTitleCoords();t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map(function(y,E){t.globals.yLabelsCoords.push({width:a[E].width,index:E}),t.globals.yTitleCoords.push({width:r[E].width,index:E})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var s=this.dimXAxis.getxAxisLabelsCoords(),o=this.dimXAxis.getxAxisGroupLabelsCoords(),l=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(s,l,o),n.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,n.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(n.rotateXLabels=!1,n.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),n.translateXAxisY=n.translateXAxisY+t.config.xaxis.labels.offsetY,n.translateXAxisX=n.translateXAxisX+t.config.xaxis.labels.offsetX;var d=this.yAxisWidth,g=this.xAxisHeight;n.xAxisLabelsHeight=this.xAxisHeight-l.height,n.xAxisGroupLabelsHeight=n.xAxisLabelsHeight-s.height,n.xAxisLabelsWidth=this.xAxisWidth,n.xAxisHeight=this.xAxisHeight;var p=10;("radar"===t.config.chart.type||this.isSparkline)&&(d=0,g=n.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===t.config.chart.type)&&(d=0,g=0,p=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(s);var m=function(){n.translateX=d,n.gridHeight=n.svgHeight-i.lgRect.height-g-(i.isSparkline||"treemap"===t.config.chart.type?0:t.globals.rotateXLabels?10:15),n.gridWidth=n.svgWidth-d};switch("top"===t.config.xaxis.position&&(p=n.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":n.translateY=p,m();break;case"top":n.translateY=this.lgRect.height+p,m();break;case"left":n.translateY=p,n.translateX=this.lgRect.width+d,n.gridHeight=n.svgHeight-g-12,n.gridWidth=n.svgWidth-this.lgRect.width-d;break;case"right":n.translateY=p,n.translateX=d,n.gridHeight=n.svgHeight-g-12,n.gridWidth=n.svgWidth-this.lgRect.width-d-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(r,a),new V(this.ctx).setYAxisXPosition(a,r)}},{key:"setDimensionsForNonAxisCharts",value:function(){var i=this.w,t=i.globals,n=i.config,a=0;i.config.legend.show&&!i.config.legend.floating&&(a=20);var r="pie"===n.chart.type||"polarArea"===n.chart.type||"donut"===n.chart.type?"pie":"radialBar",s=n.plotOptions[r].offsetY,o=n.plotOptions[r].offsetX;if(!n.legend.show||n.legend.floating)return t.gridHeight=t.svgHeight-n.grid.padding.left+n.grid.padding.right,t.gridWidth=t.gridHeight,t.translateY=s,void(t.translateX=o+(t.svgWidth-t.gridWidth)/2);switch(n.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height-t.goldenPadding,t.gridWidth=t.svgWidth,t.translateY=s-10,t.translateX=o+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height-t.goldenPadding,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+s+10,t.translateX=o+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-a,t.gridHeight="auto"!==n.chart.height?t.svgHeight:t.gridWidth,t.translateY=s,t.translateX=o+this.lgRect.width+a;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-a-5,t.gridHeight="auto"!==n.chart.height?t.svgHeight:t.gridWidth,t.translateY=s,t.translateX=o+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(i,t,n){var a=this.w;this.xAxisHeight=(n.height+i.height+t.height)*(a.globals.isMultiLineX?1.2:a.globals.LINE_HEIGHT_RATIO)+(a.globals.hasGroups?2:1)*(a.globals.rotateXLabels?22:10)+(a.globals.rotateXLabels&&"bottom"===a.config.legend.position?10:0),this.xAxisWidth=i.width,this.xAxisHeight-t.height>a.config.xaxis.labels.maxHeight&&(this.xAxisHeight=a.config.xaxis.labels.maxHeight),a.config.xaxis.labels.minHeight&&this.xAxisHeight<a.config.xaxis.labels.minHeight&&(this.xAxisHeight=a.config.xaxis.labels.minHeight),a.config.xaxis.floating&&(this.xAxisHeight=0);var g=0,p=0;a.config.yaxis.forEach(function(m){g+=m.labels.minWidth,p+=m.labels.maxWidth}),this.yAxisWidth<g&&(this.yAxisWidth=g),this.yAxisWidth>p&&(this.yAxisWidth=p)}}]),te}(),ot=function(){function te(i){pe(this,te),this.w=i.w,this.lgCtx=i}return f(te,[{key:"getLegendStyles",value:function(){var i=document.createElement("style");i.setAttribute("type","text/css");var t=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return i.appendChild(t),i}},{key:"getLegendBBox",value:function(){var i=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:i.height,clww:i.width}}},{key:"appendToForeignObject",value:function(){var i=this.w.globals;i.dom.elLegendForeign=document.createElementNS(i.SVGNS,"foreignObject");var t=i.dom.elLegendForeign;t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("width",i.svgWidth),t.setAttribute("height",i.svgHeight),i.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),t.appendChild(i.dom.elLegendWrap),t.appendChild(this.getLegendStyles()),i.dom.Paper.node.insertBefore(t,i.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(i,t){var n=this,a=this.w;if(a.globals.axisCharts||"radialBar"===a.config.chart.type){a.globals.resized=!0;var r=null,s=null;a.globals.risingSeries=[],a.globals.axisCharts?(r=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(i,"']")),s=parseInt(r.getAttribute("data:realIndex"),10)):(r=a.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(i+1,"']")),s=parseInt(r.getAttribute("rel"),10)-1),t?[{cs:a.globals.collapsedSeries,csi:a.globals.collapsedSeriesIndices},{cs:a.globals.ancillaryCollapsedSeries,csi:a.globals.ancillaryCollapsedSeriesIndices}].forEach(function(g){n.riseCollapsedSeries(g.cs,g.csi,s)}):this.hideSeries({seriesEl:r,realIndex:s})}else{var o=a.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(i+1,"'] path")),l=a.config.chart.type;if("pie"===l||"polarArea"===l||"donut"===l){var d=a.config.plotOptions.pie.donut.labels;new L(this.lgCtx.ctx).pathMouseDown(o.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(o.members[0].node,d)}o.fire("click")}}},{key:"hideSeries",value:function(i){var t=i.seriesEl,n=i.realIndex,a=this.w,r=S.clone(a.config.series);if(a.globals.axisCharts){var s=!1;if(a.config.yaxis[n]&&a.config.yaxis[n].show&&a.config.yaxis[n].showAlways&&(s=!0,a.globals.ancillaryCollapsedSeriesIndices.indexOf(n)<0&&(a.globals.ancillaryCollapsedSeries.push({index:n,data:r[n].data.slice(),type:t.parentNode.className.baseVal.split("-")[1]}),a.globals.ancillaryCollapsedSeriesIndices.push(n))),!s){a.globals.collapsedSeries.push({index:n,data:r[n].data.slice(),type:t.parentNode.className.baseVal.split("-")[1]}),a.globals.collapsedSeriesIndices.push(n);var o=a.globals.risingSeries.indexOf(n);a.globals.risingSeries.splice(o,1)}}else a.globals.collapsedSeries.push({index:n,data:r[n]}),a.globals.collapsedSeriesIndices.push(n);for(var l=t.childNodes,d=0;d<l.length;d++)l[d].classList.contains("apexcharts-series-markers-wrap")&&(l[d].classList.contains("apexcharts-hide")?l[d].classList.remove("apexcharts-hide"):l[d].classList.add("apexcharts-hide"));a.globals.allSeriesCollapsed=a.globals.collapsedSeries.length===a.config.series.length,r=this._getSeriesBasedOnCollapsedState(r),this.lgCtx.ctx.updateHelpers._updateSeries(r,a.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(i,t,n){var a=this.w,r=S.clone(a.config.series);if(i.length>0){for(var s=0;s<i.length;s++)i[s].index===n&&(a.globals.axisCharts?(r[n].data=i[s].data.slice(),i.splice(s,1),t.splice(s,1),a.globals.risingSeries.push(n)):(r[n]=i[s].data,i.splice(s,1),t.splice(s,1),a.globals.risingSeries.push(n)));r=this._getSeriesBasedOnCollapsedState(r),this.lgCtx.ctx.updateHelpers._updateSeries(r,a.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(i){var t=this.w;return i.forEach(t.globals.axisCharts?function(n,a){t.globals.collapsedSeriesIndices.indexOf(a)>-1&&(i[a].data=[])}:function(n,a){t.globals.collapsedSeriesIndices.indexOf(a)>-1&&(i[a]=0)}),i}}]),te}(),ft=function(){function te(i,t){pe(this,te),this.ctx=i,this.w=i.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new ot(this)}return f(te,[{key:"init",value:function(){var i=this.w,t=i.globals,n=i.config;if((n.legend.showForSingleSeries&&1===t.series.length||this.isBarsDistributed||t.series.length>1||!t.axisCharts)&&n.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),S.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===n.legend.position||"top"===n.legend.position?this.legendAlignHorizontal():"right"!==n.legend.position&&"left"!==n.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var i=this,t=this.w,n=t.config.legend.fontFamily,a=t.globals.seriesNames,r=t.globals.colors.slice();if("heatmap"===t.config.chart.type){var s=t.config.plotOptions.heatmap.colorScale.ranges;a=s.map(function(Xe){return Xe.name?Xe.name:Xe.from+" - "+Xe.to}),r=s.map(function(Xe){return Xe.color})}else this.isBarsDistributed&&(a=t.globals.labels.slice());t.config.legend.customLegendItems.length&&(a=t.config.legend.customLegendItems);for(var o=t.globals.legendFormatter,l=t.config.legend.inverseOrder,d=l?a.length-1:0;l?d>=0:d<=a.length-1;l?d--:d++){var g=o(a[d],{seriesIndex:d,w:t}),p=!1,m=!1;if(t.globals.collapsedSeries.length>0)for(var y=0;y<t.globals.collapsedSeries.length;y++)t.globals.collapsedSeries[y].index===d&&(p=!0);if(t.globals.ancillaryCollapsedSeriesIndices.length>0)for(var E=0;E<t.globals.ancillaryCollapsedSeriesIndices.length;E++)t.globals.ancillaryCollapsedSeriesIndices[E]===d&&(m=!0);var P=document.createElement("span");P.classList.add("apexcharts-legend-marker");var Z=t.config.legend.markers.offsetX,K=t.config.legend.markers.offsetY,ae=t.config.legend.markers.height,le=t.config.legend.markers.width,h=t.config.legend.markers.strokeWidth,b=t.config.legend.markers.strokeColor,D=t.config.legend.markers.radius,ee=P.style;ee.background=r[d],ee.color=r[d],ee.setProperty("background",r[d],"important"),t.config.legend.markers.fillColors&&t.config.legend.markers.fillColors[d]&&(ee.background=t.config.legend.markers.fillColors[d]),void 0!==t.globals.seriesColors[d]&&(ee.background=t.globals.seriesColors[d],ee.color=t.globals.seriesColors[d]),ee.height=Array.isArray(ae)?parseFloat(ae[d])+"px":parseFloat(ae)+"px",ee.width=Array.isArray(le)?parseFloat(le[d])+"px":parseFloat(le)+"px",ee.left=(Array.isArray(Z)?parseFloat(Z[d]):parseFloat(Z))+"px",ee.top=(Array.isArray(K)?parseFloat(K[d]):parseFloat(K))+"px",ee.borderWidth=Array.isArray(h)?h[d]:h,ee.borderColor=Array.isArray(b)?b[d]:b,ee.borderRadius=Array.isArray(D)?parseFloat(D[d])+"px":parseFloat(D)+"px",t.config.legend.markers.customHTML&&(Array.isArray(t.config.legend.markers.customHTML)?t.config.legend.markers.customHTML[d]&&(P.innerHTML=t.config.legend.markers.customHTML[d]()):P.innerHTML=t.config.legend.markers.customHTML()),L.setAttrs(P,{rel:d+1,"data:collapsed":p||m}),(p||m)&&P.classList.add("apexcharts-inactive-legend");var Ce=document.createElement("div"),Ne=document.createElement("span");Ne.classList.add("apexcharts-legend-text"),Ne.innerHTML=Array.isArray(g)?g.join(" "):g;var Me=t.config.legend.labels.useSeriesColors?t.globals.colors[d]:t.config.legend.labels.colors;Me||(Me=t.config.chart.foreColor),Ne.style.color=Me,Ne.style.fontSize=parseFloat(t.config.legend.fontSize)+"px",Ne.style.fontWeight=t.config.legend.fontWeight,Ne.style.fontFamily=n||t.config.chart.fontFamily,L.setAttrs(Ne,{rel:d+1,i:d,"data:default-text":encodeURIComponent(g),"data:collapsed":p||m}),Ce.appendChild(P),Ce.appendChild(Ne);var je=new W(this.ctx);t.config.legend.showForZeroSeries||0===je.getSeriesTotalByIndex(d)&&je.seriesHaveSameValues(d)&&!je.isSeriesNull(d)&&-1===t.globals.collapsedSeriesIndices.indexOf(d)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(d)&&Ce.classList.add("apexcharts-hidden-zero-series"),t.config.legend.showForNullSeries||je.isSeriesNull(d)&&-1===t.globals.collapsedSeriesIndices.indexOf(d)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(d)&&Ce.classList.add("apexcharts-hidden-null-series"),t.globals.dom.elLegendWrap.appendChild(Ce),t.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(t.config.legend.horizontalAlign)),t.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+t.config.legend.position),Ce.classList.add("apexcharts-legend-series"),Ce.style.margin="".concat(t.config.legend.itemMargin.vertical,"px ").concat(t.config.legend.itemMargin.horizontal,"px"),t.globals.dom.elLegendWrap.style.width=t.config.legend.width?t.config.legend.width+"px":"",t.globals.dom.elLegendWrap.style.height=t.config.legend.height?t.config.legend.height+"px":"",L.setAttrs(Ce,{rel:d+1,seriesName:S.escapeString(a[d]),"data:collapsed":p||m}),(p||m)&&Ce.classList.add("apexcharts-inactive-legend"),t.config.legend.onItemClick.toggleDataSeries||Ce.classList.add("apexcharts-no-click")}t.globals.dom.elWrap.addEventListener("click",i.onLegendClick,!0),t.config.legend.onItemHover.highlightDataSeries&&0===t.config.legend.customLegendItems.length&&(t.globals.dom.elWrap.addEventListener("mousemove",i.onLegendHovered,!0),t.globals.dom.elWrap.addEventListener("mouseout",i.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(i,t){var n=this.w,a=n.globals.dom.baseEl.querySelector(".apexcharts-legend"),r=a.getBoundingClientRect(),s=0,o=0;if("bottom"===n.config.legend.position)o+=n.globals.svgHeight-r.height/2;else if("top"===n.config.legend.position){var l=new gt(this.ctx),d=l.dimHelpers.getTitleSubtitleCoords("title").height,g=l.dimHelpers.getTitleSubtitleCoords("subtitle").height;o=o+(d>0?d-10:0)+(g>0?g-10:0)}a.style.position="absolute",o=o+t+n.config.legend.offsetY,a.style.left=(s=s+i+n.config.legend.offsetX)+"px",a.style.top=o+"px","bottom"===n.config.legend.position?(a.style.top="auto",a.style.bottom=5-n.config.legend.offsetY+"px"):"right"===n.config.legend.position&&(a.style.left="auto",a.style.right=25+n.config.legend.offsetX+"px"),["width","height"].forEach(function(p){a.style[p]&&(a.style[p]=parseInt(n.config.legend[p],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var i=this.w;i.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var t=this.legendHelpers.getLegendBBox(),n=new gt(this.ctx),a=n.dimHelpers.getTitleSubtitleCoords("title"),r=n.dimHelpers.getTitleSubtitleCoords("subtitle"),s=0;"bottom"===i.config.legend.position?s=-t.clwh/1.8:"top"===i.config.legend.position&&(s=a.height+r.height+i.config.title.margin+i.config.subtitle.margin-10),this.setLegendWrapXY(20,s)}},{key:"legendAlignVertical",value:function(){var i=this.w,t=this.legendHelpers.getLegendBBox(),n=0;"left"===i.config.legend.position&&(n=20),"right"===i.config.legend.position&&(n=i.globals.svgWidth-t.clww-10),this.setLegendWrapXY(n,20)}},{key:"onLegendHovered",value:function(i){var t=this.w,n=i.target.classList.contains("apexcharts-legend-text")||i.target.classList.contains("apexcharts-legend-marker");if("heatmap"===t.config.chart.type||this.isBarsDistributed){if(n){var a=parseInt(i.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,a,this.w]),new F(this.ctx).highlightRangeInSeries(i,i.target)}}else!i.target.classList.contains("apexcharts-inactive-legend")&&n&&new F(this.ctx).toggleSeriesOnHover(i,i.target)}},{key:"onLegendClick",value:function(i){var t=this.w;if(!t.config.legend.customLegendItems.length&&(i.target.classList.contains("apexcharts-legend-text")||i.target.classList.contains("apexcharts-legend-marker"))){var n=parseInt(i.target.getAttribute("rel"),10)-1,a="true"===i.target.getAttribute("data:collapsed"),r=this.w.config.chart.events.legendClick;"function"==typeof r&&r(this.ctx,n,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,n,this.w]);var s=this.w.config.legend.markers.onClick;"function"==typeof s&&i.target.classList.contains("apexcharts-legend-marker")&&(s(this.ctx,n,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,n,this.w])),"treemap"!==t.config.chart.type&&"heatmap"!==t.config.chart.type&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(n,a)}}}]),te}(),Ft=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return f(te,[{key:"createToolbar",value:function(){var i=this,t=this.w,n=function(){return document.createElement("div")},a=n();if(a.setAttribute("class","apexcharts-toolbar"),a.style.top=t.config.chart.toolbar.offsetY+"px",a.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(a),this.elZoom=n(),this.elZoomIn=n(),this.elZoomOut=n(),this.elPan=n(),this.elSelection=n(),this.elZoomReset=n(),this.elMenuIcon=n(),this.elMenu=n(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var r=0;r<this.t.customIcons.length;r++)this.elCustomIcons.push(n());var s=[],o=function(p,m,y){var E=p.toLowerCase();i.t[E]&&t.config.chart.zoom.enabled&&s.push({el:m,icon:"string"==typeof i.t[E]?i.t[E]:y,title:i.localeValues[p],class:"apexcharts-".concat(E,"-icon")})};o("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),o("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var l=function(p){i.t[p]&&t.config.chart[p].enabled&&s.push({el:"zoom"===p?i.elZoom:i.elSelection,icon:"string"==typeof i.t[p]?i.t[p]:"zoom"===p?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:i.localeValues["zoom"===p?"selectionZoom":"selection"],class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(p,"-icon")})};l("zoom"),l("selection"),this.t.pan&&t.config.chart.zoom.enabled&&s.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),o("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&s.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var d=0;d<this.elCustomIcons.length;d++)s.push({el:this.elCustomIcons[d],icon:this.t.customIcons[d].icon,title:this.t.customIcons[d].title,index:this.t.customIcons[d].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[d].class});s.forEach(function(p,m){p.index&&S.moveIndexInArray(s,m,p.index)});for(var g=0;g<s.length;g++)L.setAttrs(s[g].el,{class:s[g].class,title:s[g].title}),s[g].el.innerHTML=s[g].icon,a.appendChild(s[g].el);this._createHamburgerMenu(a),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(i){this.elMenuItems=[],i.appendChild(this.elMenu),L.setAttrs(this.elMenu,{class:"apexcharts-menu"});var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||t.splice(2,1);for(var n=0;n<t.length;n++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[n].innerHTML=t[n].title,L.setAttrs(this.elMenuItems[n],{class:"apexcharts-menu-item ".concat(t[n].name),title:t[n].title}),this.elMenu.appendChild(this.elMenuItems[n])}},{key:"addToolbarEventListeners",value:function(){var i=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(n){n.classList.contains("exportSVG")?n.addEventListener("click",i.handleDownload.bind(i,"svg")):n.classList.contains("exportPNG")?n.addEventListener("click",i.handleDownload.bind(i,"png")):n.classList.contains("exportCSV")&&n.addEventListener("click",i.handleDownload.bind(i,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(i){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var n="selection"===i?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,a="selection"===i?"selectionEnabled":"zoomEnabled";t.w.globals[a]=!t.w.globals[a],n.classList.contains(t.ctx.toolbar.selectedClass)?n.classList.remove(t.ctx.toolbar.selectedClass):n.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var i=this.w;this.elZoom||(this.elZoom=i.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=i.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=i.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(i){this.toggleOtherControls(),"pan"===i?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t="pan"===i?this.elPan:this.elZoom,n="pan"===i?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),n&&n.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(i){i.ctx.toolbar.toggleOtherControls(),i.w.globals.panEnabled=!i.w.globals.panEnabled,i.ctx.toolbar.elPan.classList.contains(i.ctx.toolbar.selectedClass)?i.ctx.toolbar.elPan.classList.remove(i.ctx.toolbar.selectedClass):i.ctx.toolbar.elPan.classList.add(i.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var i=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(n){n&&n.classList.remove(i.selectedClass)})}},{key:"handleZoomIn",value:function(){var i=this.w;i.globals.isRangeBar&&(this.minX=i.globals.minY,this.maxX=i.globals.maxY);var t=(this.minX+this.maxX)/2,r=this._getNewMinXMaxX((this.minX+t)/2,(this.maxX+t)/2);i.globals.disableZoomIn||this.zoomUpdateOptions(r.minX,r.maxX)}},{key:"handleZoomOut",value:function(){var i=this.w;if(i.globals.isRangeBar&&(this.minX=i.globals.minY,this.maxX=i.globals.maxY),!("datetime"===i.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,r=this._getNewMinXMaxX(this.minX-(t-this.minX),this.maxX-(t-this.maxX));i.globals.disableZoomOut||this.zoomUpdateOptions(r.minX,r.maxX)}}},{key:"_getNewMinXMaxX",value:function(i,t){var n=this.w.config.xaxis.convertedCatToNumeric;return{minX:n?Math.floor(i):i,maxX:n?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(i,t){var n=this.w;if(void 0!==i||void 0!==t){if(!(n.config.xaxis.convertedCatToNumeric&&(i<1&&(i=1,t=n.globals.dataPoints),t-i<2))){var a={min:i,max:t},r=this.getBeforeZoomRange(a);r&&(a=r.xaxis);var s={xaxis:a},o=S.clone(n.globals.initialConfig.yaxis);n.config.chart.zoom.autoScaleYaxis&&(o=new He(this.ctx).autoScaleY(this.ctx,o,{xaxis:a})),n.config.chart.group||(s.yaxis=o),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(s,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(a,o)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(i,t){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:i,yaxis:t})}},{key:"getBeforeZoomRange",value:function(i,t){var n=null;return"function"==typeof this.ev.beforeZoom&&(n=this.ev.beforeZoom(this,{xaxis:i,yaxis:t})),n}},{key:"toggleMenu",value:function(){var i=this;window.setTimeout(function(){i.elMenu.classList.contains("apexcharts-menu-open")?i.elMenu.classList.remove("apexcharts-menu-open"):i.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(i){var t=this.w,n=new Re(this.ctx);switch(i){case"svg":n.exportToSVG(this.ctx);break;case"png":n.exportToPng(this.ctx);break;case"csv":n.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(i){this.ctx.getSyncedCharts().forEach(function(t){var n=t.w;if(n.globals.lastXAxis.min=void 0,n.globals.lastXAxis.max=void 0,t.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof n.config.chart.events.beforeResetZoom){var a=n.config.chart.events.beforeResetZoom(t,n);a&&t.updateHelpers.revertDefaultAxisMinMax(a)}"function"==typeof n.config.chart.events.zoomed&&t.ctx.toolbar.zoomCallback({min:n.config.xaxis.min,max:n.config.xaxis.max}),n.globals.zoomed=!1;var r=t.ctx.series.emptyCollapsedSeries(S.clone(n.globals.initialSeries));t.updateHelpers._updateSeries(r,n.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),te}(),Mt=function(te){x(t,Ft);var i=k(t);function t(n){var a;return pe(this,t),(a=i.call(this,n)).ctx=n,a.w=n.w,a.dragged=!1,a.graphics=new L(a.ctx),a.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],a.clientX=0,a.clientY=0,a.startX=0,a.endX=0,a.dragX=0,a.startY=0,a.endY=0,a.dragY=0,a.moveDirection="none",a}return f(t,[{key:"init",value:function(n){var a=this,r=n.xyRatios,s=this.w,o=this;this.xyRatios=r,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=s.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),s.globals.dom.elGraphical.add(this.zoomRect),s.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===s.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:s.globals.gridWidth,maxY:s.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===s.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:s.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=s.globals.dom.baseEl.querySelector("".concat(s.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(l){a.hoverArea.addEventListener(l,o.svgMouseEvents.bind(o,r),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(n,a){var r=this.w,s=this,o=this.ctx.toolbar,l=r.globals.zoomEnabled?r.config.chart.zoom.type:r.config.chart.selection.type,d=r.config.chart.toolbar.autoSelected;if(a.shiftKey?(this.shiftWasPressed=!0,o.enableZoomPanFromToolbar("pan"===d?"zoom":"pan")):this.shiftWasPressed&&(o.enableZoomPanFromToolbar(d),this.shiftWasPressed=!1),a.target){var g,p=a.target.classList;if(a.target.parentNode&&null!==a.target.parentNode&&(g=a.target.parentNode.classList),!(p.contains("apexcharts-selection-rect")||p.contains("apexcharts-legend-marker")||p.contains("apexcharts-legend-text")||g&&g.contains("apexcharts-toolbar"))){if(s.clientX="touchmove"===a.type||"touchstart"===a.type?a.touches[0].clientX:"touchend"===a.type?a.changedTouches[0].clientX:a.clientX,s.clientY="touchmove"===a.type||"touchstart"===a.type?a.touches[0].clientY:"touchend"===a.type?a.changedTouches[0].clientY:a.clientY,"mousedown"===a.type&&1===a.which){var m=s.gridRect.getBoundingClientRect();s.startX=s.clientX-m.left,s.startY=s.clientY-m.top,s.dragged=!1,s.w.globals.mousedown=!0}if(("mousemove"===a.type&&1===a.which||"touchmove"===a.type)&&(s.dragged=!0,r.globals.panEnabled?(r.globals.selection=null,s.w.globals.mousedown&&s.panDragging({context:s,zoomtype:l,xyRatios:n})):(s.w.globals.mousedown&&r.globals.zoomEnabled||s.w.globals.mousedown&&r.globals.selectionEnabled)&&(s.selection=s.selectionDrawing({context:s,zoomtype:l}))),"mouseup"===a.type||"touchend"===a.type||"mouseleave"===a.type){var y=s.gridRect.getBoundingClientRect();s.w.globals.mousedown&&(s.endX=s.clientX-y.left,s.endY=s.clientY-y.top,s.dragX=Math.abs(s.endX-s.startX),s.dragY=Math.abs(s.endY-s.startY),(r.globals.zoomEnabled||r.globals.selectionEnabled)&&s.selectionDrawn({context:s,zoomtype:l}),r.globals.panEnabled&&r.config.xaxis.convertedCatToNumeric&&s.delayedPanScrolled()),r.globals.zoomEnabled&&s.hideSelectionRect(this.selectionRect),s.dragged=!1,s.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var n=this.w;if(this.selectionRect){var a=this.selectionRect.node.getBoundingClientRect();a.width>0&&a.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:n.globals.gridWidth,maxY:n.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var n=this.w,a=this.xyRatios;if(!n.globals.zoomEnabled)if(null!=n.globals.selection)this.drawSelectionRect(n.globals.selection);else if(void 0!==n.config.chart.selection.xaxis.min&&void 0!==n.config.chart.selection.xaxis.max){var r=(n.config.chart.selection.xaxis.min-n.globals.minX)/a.xRatio;this.drawSelectionRect({x:r,y:0,width:n.globals.gridWidth-(n.globals.maxX-n.config.chart.selection.xaxis.max)/a.xRatio-r,height:n.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof n.config.chart.events.selection&&n.config.chart.events.selection(this.ctx,{xaxis:{min:n.config.chart.selection.xaxis.min,max:n.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(n){var a=n.x,r=n.y,s=n.width,o=n.height,l=n.translateX,g=n.translateY,m=this.w,y=this.zoomRect,E=this.selectionRect;if(this.dragged||null!==m.globals.selection){var P={transform:"translate("+(void 0===l?0:l)+", "+(void 0===g?0:g)+")"};m.globals.zoomEnabled&&this.dragged&&(s<0&&(s=1),y.attr({x:a,y:r,width:s,height:o,fill:m.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":m.config.chart.zoom.zoomedArea.fill.opacity,stroke:m.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":m.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":m.config.chart.zoom.zoomedArea.stroke.opacity}),L.setAttrs(y.node,P)),m.globals.selectionEnabled&&(E.attr({x:a,y:r,width:s>0?s:0,height:o>0?o:0,fill:m.config.chart.selection.fill.color,"fill-opacity":m.config.chart.selection.fill.opacity,stroke:m.config.chart.selection.stroke.color,"stroke-width":m.config.chart.selection.stroke.width,"stroke-dasharray":m.config.chart.selection.stroke.dashArray,"stroke-opacity":m.config.chart.selection.stroke.opacity}),L.setAttrs(E.node,P))}}},{key:"hideSelectionRect",value:function(n){n&&n.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(n){var P,r=n.zoomtype,s=this.w,o=n.context,l=this.gridRect.getBoundingClientRect(),d=o.startX-1,g=o.startY,p=!1,m=!1,y=o.clientX-l.left-d,E=o.clientY-l.top-g;return Math.abs(y+d)>s.globals.gridWidth?y=s.globals.gridWidth-d:o.clientX-l.left<0&&(y=d),d>o.clientX-l.left&&(p=!0,y=Math.abs(y)),g>o.clientY-l.top&&(m=!0,E=Math.abs(E)),o.drawSelectionRect(P="x"===r?{x:p?d-y:d,y:0,width:y,height:s.globals.gridHeight}:"y"===r?{x:0,y:m?g-E:g,width:s.globals.gridWidth,height:E}:{x:p?d-y:d,y:m?g-E:g,width:y,height:E}),o.selectionDragging("resizing"),P}},{key:"selectionDragging",value:function(n,a){var r=this,s=this.w,o=this.xyRatios,l=this.selectionRect,d=0;"resizing"===n&&(d=30);var g=function(m){return parseFloat(l.node.getAttribute(m))},p={x:g("x"),y:g("y"),width:g("width"),height:g("height")};s.globals.selection=p,"function"==typeof s.config.chart.events.selection&&s.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var m=r.gridRect.getBoundingClientRect(),y=l.node.getBoundingClientRect(),E={xaxis:{min:s.globals.xAxisScale.niceMin+(y.left-m.left)*o.xRatio,max:s.globals.xAxisScale.niceMin+(y.right-m.left)*o.xRatio},yaxis:{min:s.globals.yAxisScale[0].niceMin+(m.bottom-y.bottom)*o.yRatio[0],max:s.globals.yAxisScale[0].niceMax-(y.top-m.top)*o.yRatio[0]}};s.config.chart.events.selection(r.ctx,E),s.config.chart.brush.enabled&&void 0!==s.config.chart.events.brushScrolled&&s.config.chart.events.brushScrolled(r.ctx,E)},d))}},{key:"selectionDrawn",value:function(n){var r=n.zoomtype,s=this.w,o=n.context,l=this.xyRatios,d=this.ctx.toolbar;if(o.startX>o.endX){var g=o.startX;o.startX=o.endX,o.endX=g}if(o.startY>o.endY){var p=o.startY;o.startY=o.endY,o.endY=p}var m=void 0,y=void 0;s.globals.isRangeBar?(m=s.globals.yAxisScale[0].niceMin+o.startX*l.invertedYRatio,y=s.globals.yAxisScale[0].niceMin+o.endX*l.invertedYRatio):(m=s.globals.xAxisScale.niceMin+o.startX*l.xRatio,y=s.globals.xAxisScale.niceMin+o.endX*l.xRatio);var E=[],P=[];if(s.config.yaxis.forEach(function(ee,Ce){E.push(s.globals.yAxisScale[Ce].niceMax-l.yRatio[Ce]*o.startY),P.push(s.globals.yAxisScale[Ce].niceMax-l.yRatio[Ce]*o.endY)}),o.dragged&&(o.dragX>10||o.dragY>10)&&m!==y)if(s.globals.zoomEnabled){var Z=S.clone(s.globals.initialConfig.yaxis),K=S.clone(s.globals.initialConfig.xaxis);if(s.globals.zoomed=!0,s.config.xaxis.convertedCatToNumeric&&(m=Math.floor(m),y=Math.floor(y),m<1&&(m=1,y=s.globals.dataPoints),y-m<2&&(y=m+1)),"xy"!==r&&"x"!==r||(K={min:m,max:y}),"xy"!==r&&"y"!==r||Z.forEach(function(ee,Ce){Z[Ce].min=P[Ce],Z[Ce].max=E[Ce]}),s.config.chart.zoom.autoScaleYaxis){var ae=new He(o.ctx);Z=ae.autoScaleY(o.ctx,Z,{xaxis:K})}if(d){var le=d.getBeforeZoomRange(K,Z);le&&(K=le.xaxis?le.xaxis:K,Z=le.yaxis?le.yaxis:Z)}var h={xaxis:K};s.config.chart.group||(h.yaxis=Z),o.ctx.updateHelpers._updateOptions(h,!1,o.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof s.config.chart.events.zoomed&&d.zoomCallback(K,Z)}else if(s.globals.selectionEnabled){var b,D=null;b={min:m,max:y},"xy"!==r&&"y"!==r||(D=S.clone(s.config.yaxis)).forEach(function(ee,Ce){D[Ce].min=P[Ce],D[Ce].max=E[Ce]}),s.globals.selection=o.selection,"function"==typeof s.config.chart.events.selection&&s.config.chart.events.selection(o.ctx,{xaxis:b,yaxis:D})}}},{key:"panDragging",value:function(n){var r=this.w,s=n.context;if(void 0!==r.globals.lastClientPosition.x){var o=r.globals.lastClientPosition.x-s.clientX,l=r.globals.lastClientPosition.y-s.clientY;Math.abs(o)>Math.abs(l)&&o>0?this.moveDirection="left":Math.abs(o)>Math.abs(l)&&o<0?this.moveDirection="right":Math.abs(l)>Math.abs(o)&&l>0?this.moveDirection="up":Math.abs(l)>Math.abs(o)&&l<0&&(this.moveDirection="down")}r.globals.lastClientPosition={x:s.clientX,y:s.clientY},r.config.xaxis.convertedCatToNumeric||s.panScrolled(r.globals.isRangeBar?r.globals.minY:r.globals.minX,r.globals.isRangeBar?r.globals.maxY:r.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var n=this.w,a=n.globals.minX,r=n.globals.maxX,s=(n.globals.maxX-n.globals.minX)/2;"left"===this.moveDirection?(a=n.globals.minX+s,r=n.globals.maxX+s):"right"===this.moveDirection&&(a=n.globals.minX-s,r=n.globals.maxX-s),a=Math.floor(a),r=Math.floor(r),this.updateScrolledChart({xaxis:{min:a,max:r}},a,r)}},{key:"panScrolled",value:function(n,a){var r=this.w,s=this.xyRatios,o=S.clone(r.globals.initialConfig.yaxis),l=s.xRatio,d=r.globals.minX,g=r.globals.maxX;r.globals.isRangeBar&&(l=s.invertedYRatio,d=r.globals.minY,g=r.globals.maxY),"left"===this.moveDirection?(n=d+r.globals.gridWidth/15*l,a=g+r.globals.gridWidth/15*l):"right"===this.moveDirection&&(n=d-r.globals.gridWidth/15*l,a=g-r.globals.gridWidth/15*l),r.globals.isRangeBar||(n<r.globals.initialMinX||a>r.globals.initialMaxX)&&(n=d,a=g);var p={min:n,max:a};r.config.chart.zoom.autoScaleYaxis&&(o=new He(this.ctx).autoScaleY(this.ctx,o,{xaxis:p}));var m={xaxis:{min:n,max:a}};r.config.chart.group||(m.yaxis=o),this.updateScrolledChart(m,n,a)}},{key:"updateScrolledChart",value:function(n,a,r){var s=this.w;this.ctx.updateHelpers._updateOptions(n,!1,!1),"function"==typeof s.config.chart.events.scrolled&&s.config.chart.events.scrolled(this.ctx,{xaxis:{min:a,max:r}})}}]),t}(),Ue=function(){function te(i){pe(this,te),this.w=i.w,this.ttCtx=i,this.ctx=i.ctx}return f(te,[{key:"getNearestValues",value:function(i){var t=i.hoverArea,a=i.clientX,r=i.clientY,s=this.w,o=i.elGrid.getBoundingClientRect(),l=o.width,d=o.height,g=l/(s.globals.dataPoints-1),p=d/s.globals.dataPoints,m=this.hasBars();!s.globals.comboCharts&&!m||s.config.xaxis.convertedCatToNumeric||(g=l/s.globals.dataPoints);var y=a-o.left-s.globals.barPadForNumericAxis,E=r-o.top;y<0||E<0||y>l||E>d?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):s.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):s.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var P=Math.round(y/g),Z=Math.floor(E/p);m&&!s.config.xaxis.convertedCatToNumeric&&(P=Math.ceil(y/g),P-=1);var K=null,ae=null,le=[],h=[];if(s.globals.seriesXvalues.forEach(function(Ce){le.push([Ce[0]+1e-6].concat(Ce))}),s.globals.seriesYvalues.forEach(function(Ce){h.push([Ce[0]+1e-6].concat(Ce))}),le=le.map(function(Ce){return Ce.filter(function(Ne){return S.isNumber(Ne)})}),h=h.map(function(Ce){return Ce.filter(function(Ne){return S.isNumber(Ne)})}),s.globals.isXNumeric){var b=this.ttCtx.getElGrid().getBoundingClientRect(),D=y*(b.width/l);K=(ae=this.closestInMultiArray(D,E*(b.height/d),le,h)).index,P=ae.j,null!==K&&(P=(ae=this.closestInArray(D,le=s.globals.seriesXvalues[K])).index)}return s.globals.capturedSeriesIndex=null===K?-1:K,(!P||P<1)&&(P=0),s.globals.capturedDataPointIndex=s.globals.isBarHorizontal?Z:P,{capturedSeries:K,j:s.globals.isBarHorizontal?Z:P,hoverX:y,hoverY:E}}},{key:"closestInMultiArray",value:function(i,t,n,a){var s=0,o=null,l=-1;this.w.globals.series.length>1?s=this.getFirstActiveXArray(n):o=0;var g=Math.abs(i-n[s][0]);if(n.forEach(function(y){y.forEach(function(E,P){var Z=Math.abs(i-E);Z<g&&(g=Z,l=P)})}),-1!==l){var m=Math.abs(t-a[s][l]);o=s,a.forEach(function(y,E){var P=Math.abs(t-y[l]);P<m&&(m=P,o=E)})}return{index:o,j:l}}},{key:"getFirstActiveXArray",value:function(i){for(var t=this.w,n=0,a=i.map(function(s,o){return s.length>0?o:-1}),r=0;r<a.length;r++)if(-1!==a[r]&&-1===t.globals.collapsedSeriesIndices.indexOf(r)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(r)){n=a[r];break}return n}},{key:"closestInArray",value:function(i,t){for(var a=null,r=Math.abs(i-t[0]),s=0;s<t.length;s++){var o=Math.abs(i-t[s]);o<r&&(r=o,a=s)}return{index:a}}},{key:"isXoverlap",value:function(i){var t=[],n=this.w.globals.seriesX.filter(function(r){return void 0!==r[0]});if(n.length>0)for(var a=0;a<n.length-1;a++)void 0!==n[a][i]&&void 0!==n[a+1][i]&&n[a][i]!==n[a+1][i]&&t.push("unEqual");return 0===t.length}},{key:"isInitialSeriesSameLen",value:function(){for(var i=!0,t=this.w.globals.initialSeries,n=0;n<t.length-1;n++)if(t[n].data.length!==t[n+1].data.length){i=!1;break}return i}},{key:"getBarsHeight",value:function(i){return X(i).reduce(function(t,n){return t+n.getBBox().height},0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var i=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(i=X(i)).sort(function(n,a){var r=Number(n.getAttribute("data:realIndex")),s=Number(a.getAttribute("data:realIndex"));return s<r?1:s>r?-1:0});var t=[];return i.forEach(function(n){t.push(n.querySelector(".apexcharts-marker"))}),t}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(i){var t=this.w,n=t.config.markers.hover.size;return void 0===n&&(n=t.globals.markers.size[i]+t.config.markers.hover.sizeOffset),n}},{key:"toggleAllTooltipSeriesGroups",value:function(i){var t=this.w,n=this.ttCtx;0===n.allTooltipSeriesGroups.length&&(n.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var a=n.allTooltipSeriesGroups,r=0;r<a.length;r++)"enable"===i?(a[r].classList.add("apexcharts-active"),a[r].style.display=t.config.tooltip.items.display):(a[r].classList.remove("apexcharts-active"),a[r].style.display="none")}}]),te}(),Le=function(){function te(i){pe(this,te),this.w=i.w,this.ctx=i.ctx,this.ttCtx=i,this.tooltipUtil=new Ue(i)}return f(te,[{key:"drawSeriesTexts",value:function(i){var t=i.shared,n=void 0===t||t,a=i.ttItems,r=i.i,s=void 0===r?0:r,o=i.j,l=void 0===o?null:o,p=i.e,m=this.w;void 0!==m.config.tooltip.custom?this.handleCustomTooltip({i:s,j:l,y1:i.y1,y2:i.y2,w:m}):this.toggleActiveInactiveSeries(n);var y=this.getValuesToPrint({i:s,j:l});this.printLabels({i:s,j:l,values:y,ttItems:a,shared:n,e:p});var E=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=E.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=E.getBoundingClientRect().height}},{key:"printLabels",value:function(i){var t,n=this,a=i.i,r=i.j,s=i.values,o=i.ttItems,l=i.shared,d=i.e,g=this.w,p=[],m=function(b){return g.globals.seriesGoals[b]&&g.globals.seriesGoals[b][r]&&Array.isArray(g.globals.seriesGoals[b][r])},y=s.xVal,E=s.zVal,P=s.xAxisTTVal,Z="",K=g.globals.colors[a];null!==r&&g.config.plotOptions.bar.distributed&&(K=g.globals.colors[r]);for(var ae=function(b,D){var ee=n.getFormatters(a);Z=n.getSeriesName({fn:ee.yLbTitleFormatter,index:a,seriesIndex:a,j:r}),"treemap"===g.config.chart.type&&(Z=ee.yLbTitleFormatter(String(g.config.series[a].data[r].x),{series:g.globals.series,seriesIndex:a,dataPointIndex:r,w:g}));var Ce=g.config.tooltip.inverseOrder?D:b;if(g.globals.axisCharts){var Ne=function(Xe){return ee.yLbFormatter(g.globals.series[Xe][r],{series:g.globals.series,seriesIndex:Xe,dataPointIndex:r,w:g})};if(l)ee=n.getFormatters(Ce),Z=n.getSeriesName({fn:ee.yLbTitleFormatter,index:Ce,seriesIndex:a,j:r}),K=g.globals.colors[Ce],t=Ne(Ce),m(Ce)&&(p=g.globals.seriesGoals[Ce][r].map(function(Xe){return{attrs:Xe,val:ee.yLbFormatter(Xe.value,{seriesIndex:Ce,dataPointIndex:r,w:g})}}));else{var Me,je=null==d||null===(Me=d.target)||void 0===Me?void 0:Me.getAttribute("fill");je&&(K=-1!==je.indexOf("url")?document.querySelector(je.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):je),t=Ne(a),m(a)&&Array.isArray(g.globals.seriesGoals[a][r])&&(p=g.globals.seriesGoals[a][r].map(function(Xe){return{attrs:Xe,val:ee.yLbFormatter(Xe.value,{seriesIndex:a,dataPointIndex:r,w:g})}}))}}null===r&&(t=ee.yLbFormatter(g.globals.series[a],xe(xe({},g),{},{seriesIndex:a,dataPointIndex:a}))),n.DOMHandling({i:a,t:Ce,j:r,ttItems:o,values:{val:t,goalVals:p,xVal:y,xAxisTTVal:P,zVal:E},seriesName:Z,shared:l,pColor:K})},le=0,h=g.globals.series.length-1;le<g.globals.series.length;le++,h--)ae(le,h)}},{key:"getFormatters",value:function(i){var t,n=this.w,a=n.globals.yLabelFormatters[i];return void 0!==n.globals.ttVal?Array.isArray(n.globals.ttVal)?(a=n.globals.ttVal[i]&&n.globals.ttVal[i].formatter,t=n.globals.ttVal[i]&&n.globals.ttVal[i].title&&n.globals.ttVal[i].title.formatter):(a=n.globals.ttVal.formatter,"function"==typeof n.globals.ttVal.title.formatter&&(t=n.globals.ttVal.title.formatter)):t=n.config.tooltip.y.title.formatter,"function"!=typeof a&&(a=n.globals.yLabelFormatters[0]?n.globals.yLabelFormatters[0]:function(r){return r}),"function"!=typeof t&&(t=function(r){return r}),{yLbFormatter:a,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(i){var a=i.seriesIndex,r=i.j,s=this.w;return(0,i.fn)(String(s.globals.seriesNames[i.index]),{series:s.globals.series,seriesIndex:a,dataPointIndex:r,w:s})}},{key:"DOMHandling",value:function(i){var t=i.t,n=i.j,a=i.ttItems,r=i.values,s=i.seriesName,o=i.shared,l=i.pColor,d=this.w,g=this.ttCtx,p=r.val,m=r.goalVals,y=r.xVal,E=r.xAxisTTVal,P=r.zVal,Z=null;Z=a[t].children,d.config.tooltip.fillSeriesColor&&(a[t].style.backgroundColor=l,Z[0].style.display="none"),g.showTooltipTitle&&(null===g.tooltipTitle&&(g.tooltipTitle=d.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),g.tooltipTitle.innerHTML=y),g.isXAxisTooltipEnabled&&(g.xaxisTooltipText.innerHTML=""!==E?E:y);var K=a[t].querySelector(".apexcharts-tooltip-text-y-label");K&&(K.innerHTML=s||"");var ae=a[t].querySelector(".apexcharts-tooltip-text-y-value");ae&&(ae.innerHTML=void 0!==p?p:""),Z[0]&&Z[0].classList.contains("apexcharts-tooltip-marker")&&(d.config.tooltip.marker.fillColors&&Array.isArray(d.config.tooltip.marker.fillColors)&&(l=d.config.tooltip.marker.fillColors[t]),Z[0].style.backgroundColor=l),d.config.tooltip.marker.show||(Z[0].style.display="none");var le=a[t].querySelector(".apexcharts-tooltip-text-goals-label"),h=a[t].querySelector(".apexcharts-tooltip-text-goals-value");if(m.length&&d.globals.seriesGoals[t]){var b=function(){var D="<div >",ee="<div>";m.forEach(function(Ce,Ne){D+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(Ce.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(Ce.attrs.name,"</div>"),ee+="<div>".concat(Ce.val,"</div>")}),le.innerHTML=D+"</div>",h.innerHTML=ee+"</div>"};o?d.globals.seriesGoals[t][n]&&Array.isArray(d.globals.seriesGoals[t][n])?b():(le.innerHTML="",h.innerHTML=""):b()}else le.innerHTML="",h.innerHTML="";null!==P&&(a[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=d.config.tooltip.z.title,a[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==P?P:""),o&&Z[0]&&(Z[0].parentNode.style.display=null==p||d.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||d.globals.collapsedSeriesIndices.indexOf(t)>-1?"none":d.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(i){var t=this.w;if(i)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var n=t.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");n&&(n.classList.add("apexcharts-active"),n.style.display=t.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(i){var t=i.i,n=i.j,a=this.w,r=this.ctx.series.filteredSeriesX(),s="",o="",l=null,d=null,g={series:a.globals.series,seriesIndex:t,dataPointIndex:n,w:a},p=a.globals.ttZFormatter;null===n?d=a.globals.series[t]:a.globals.isXNumeric&&"treemap"!==a.config.chart.type?(s=r[t][n],0===r[t].length&&(s=r[this.tooltipUtil.getFirstActiveXArray(r)][n])):s=void 0!==a.globals.labels[n]?a.globals.labels[n]:"";var m=s;return s=a.globals.isXNumeric&&"datetime"===a.config.xaxis.type?new Fe(this.ctx).xLabelFormat(a.globals.ttKeyFormatter,m,m,{i:void 0,dateFormatter:new ne(this.ctx).formatDate,w:this.w}):a.globals.isBarHorizontal?a.globals.yLabelFormatters[0](m,g):a.globals.xLabelFormatter(m,g),void 0!==a.config.tooltip.x.formatter&&(s=a.globals.ttKeyFormatter(m,g)),a.globals.seriesZ.length>0&&a.globals.seriesZ[t].length>0&&(l=p(a.globals.seriesZ[t][n],a)),o="function"==typeof a.config.xaxis.tooltip.formatter?a.globals.xaxisTooltipFormatter(m,g):s,{val:Array.isArray(d)?d.join(" "):d,xVal:Array.isArray(s)?s.join(" "):s,xAxisTTVal:Array.isArray(o)?o.join(" "):o,zVal:l}}},{key:"handleCustomTooltip",value:function(i){var t=i.i,n=i.j,a=i.y1,r=i.y2,s=i.w,o=this.ttCtx.getElTooltip(),l=s.config.tooltip.custom;Array.isArray(l)&&l[t]&&(l=l[t]),o.innerHTML=l({ctx:this.ctx,series:s.globals.series,seriesIndex:t,dataPointIndex:n,y1:a,y2:r,w:s})}}]),te}(),Be=function(){function te(i){pe(this,te),this.ttCtx=i,this.ctx=i.ctx,this.w=i.w}return f(te,[{key:"moveXCrosshairs",value:function(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.ttCtx,a=this.w,r=n.getElXCrosshairs(),s=i-n.xcrosshairsWidth/2,o=a.globals.labels.slice().length;if(null!==t&&(s=a.globals.gridWidth/o*t),null===r||a.globals.isBarHorizontal||(r.setAttribute("x",s),r.setAttribute("x1",s),r.setAttribute("x2",s),r.setAttribute("y2",a.globals.gridHeight),r.classList.add("apexcharts-active")),s<0&&(s=0),s>a.globals.gridWidth&&(s=a.globals.gridWidth),n.isXAxisTooltipEnabled){var l=s;"tickWidth"!==a.config.xaxis.crosshairs.width&&"barWidth"!==a.config.xaxis.crosshairs.width||(l=s+n.xcrosshairsWidth/2),this.moveXAxisTooltip(l)}}},{key:"moveYCrosshairs",value:function(i){var t=this.ttCtx;null!==t.ycrosshairs&&L.setAttrs(t.ycrosshairs,{y1:i,y2:i}),null!==t.ycrosshairsHidden&&L.setAttrs(t.ycrosshairsHidden,{y1:i,y2:i})}},{key:"moveXAxisTooltip",value:function(i){var t=this.w,n=this.ttCtx;if(null!==n.xaxisTooltip&&0!==n.xcrosshairsWidth){n.xaxisTooltip.classList.add("apexcharts-active");var r,a=n.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;i-=n.xaxisTooltip.getBoundingClientRect().width/2,isNaN(i)||(i+=t.globals.translateX,r=new L(this.ctx).getTextRects(n.xaxisTooltipText.innerHTML),n.xaxisTooltipText.style.minWidth=r.width+"px",n.xaxisTooltip.style.left=i+"px",n.xaxisTooltip.style.top=a+"px")}}},{key:"moveYAxisTooltip",value:function(i){var t=this.w,n=this.ttCtx;null===n.yaxisTTEls&&(n.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var a=parseInt(n.ycrosshairsHidden.getAttribute("y1"),10),r=t.globals.translateY+a,s=n.yaxisTTEls[i].getBoundingClientRect().height,o=t.globals.translateYAxisX[i]-2;t.config.yaxis[i].opposite&&(o-=26),r-=s/2,-1===t.globals.ignoreYAxisIndexes.indexOf(i)?(n.yaxisTTEls[i].classList.add("apexcharts-active"),n.yaxisTTEls[i].style.top=r+"px",n.yaxisTTEls[i].style.left=o+t.config.yaxis[i].tooltip.offsetX+"px"):n.yaxisTTEls[i].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(i,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=this.w,r=this.ttCtx,s=r.getElTooltip(),o=r.tooltipRect,l=null!==n?parseFloat(n):1,d=parseFloat(i)+l+5,g=parseFloat(t)+l/2;if(d>a.globals.gridWidth/2&&(d=d-o.ttWidth-l-10),d>a.globals.gridWidth-o.ttWidth-10&&(d=a.globals.gridWidth-o.ttWidth),d<-20&&(d=-20),a.config.tooltip.followCursor){var p=r.getElGrid(),m=p.getBoundingClientRect();g=r.e.clientY+a.globals.translateY-m.top-o.ttHeight/2}else a.globals.isBarHorizontal||(o.ttHeight/2+g>a.globals.gridHeight&&(g=a.globals.gridHeight-o.ttHeight+a.globals.translateY),g<0&&(g=0));isNaN(d)||(s.style.left=(d+=a.globals.translateX)+"px",s.style.top=g+"px")}},{key:"moveMarkers",value:function(i,t){var n=this.w,a=this.ttCtx;if(n.globals.markers.size[i]>0)for(var r=n.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(i,"'] .apexcharts-marker")),s=0;s<r.length;s++)parseInt(r[s].getAttribute("rel"),10)===t&&(a.marker.resetPointsSize(),a.marker.enlargeCurrentPoint(t,r[s]));else a.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,i)}},{key:"moveDynamicPointOnHover",value:function(i,t){var n,a,r=this.w,s=this.ttCtx,o=r.globals.pointsArray,l=s.tooltipUtil.getHoverMarkerSize(t),d=r.config.series[t].type;if(!d||"column"!==d&&"candlestick"!==d&&"boxPlot"!==d){n=o[t][i][0],a=o[t][i][1]?o[t][i][1]:0;var g=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers circle"));g&&a<r.globals.gridHeight&&a>0&&(g.setAttribute("r",l),g.setAttribute("cx",n),g.setAttribute("cy",a)),this.moveXCrosshairs(n),s.fixedTooltip||this.moveTooltip(n,a,l)}}},{key:"moveDynamicPointsOnHover",value:function(i){var t,n=this.ttCtx,a=n.w,r=0,s=0,o=a.globals.pointsArray;t=new F(this.ctx).getActiveConfigSeriesIndex(!0);var l=n.tooltipUtil.getHoverMarkerSize(t);o[t]&&(r=o[t][i][0],s=o[t][i][1]);var d=n.tooltipUtil.getAllMarkers();if(null!==d)for(var g=0;g<a.globals.series.length;g++){var p=o[g];if(a.globals.comboCharts&&void 0===p&&d.splice(g,0,null),p&&p.length){var m=o[g][i][1];d[g].setAttribute("cx",r),null!==m&&!isNaN(m)&&m<a.globals.gridHeight+l&&m+l>0?(d[g]&&d[g].setAttribute("r",l),d[g]&&d[g].setAttribute("cy",m)):d[g]&&d[g].setAttribute("r",0)}}this.moveXCrosshairs(r),n.fixedTooltip||this.moveTooltip(r,s||a.globals.gridHeight,l)}},{key:"moveStickyTooltipOverBars",value:function(i){var t=this.w,n=this.ttCtx,a=t.globals.columnSeries?t.globals.columnSeries.length:t.globals.series.length,r=a>=2&&a%2==0?Math.floor(a/2):Math.floor(a/2)+1;t.globals.isBarHorizontal&&(r=new F(this.ctx).getActiveConfigSeriesIndex(!1,"desc")+1);var s=t.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(r,"'] path[j='").concat(i,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(r,"'] path[j='").concat(i,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(r,"'] path[j='").concat(i,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(r,"'] path[j='").concat(i,"']")),o=s?parseFloat(s.getAttribute("cx")):0,l=s?parseFloat(s.getAttribute("cy")):0,d=s?parseFloat(s.getAttribute("barWidth")):0,g=s?parseFloat(s.getAttribute("barHeight")):0,p=n.getElGrid().getBoundingClientRect(),m=s.classList.contains("apexcharts-candlestick-area")||s.classList.contains("apexcharts-boxPlot-area");t.globals.isXNumeric?(s&&!m&&(o-=a%2!=0?d/2:0),s&&m&&t.globals.comboCharts&&(o-=d/2)):t.globals.isBarHorizontal||(o=n.xAxisTicksPositions[i-1]+n.dataPointsDividedWidth/2,isNaN(o)&&(o=n.xAxisTicksPositions[i]-n.dataPointsDividedWidth/2)),t.globals.isBarHorizontal?(l>t.globals.gridHeight/2&&(l-=n.tooltipRect.ttHeight),(l=l+t.config.grid.padding.top+g/3)+g>t.globals.gridHeight&&(l=t.globals.gridHeight-g)):t.config.tooltip.followCursor?l=n.e.clientY-p.top-n.tooltipRect.ttHeight/2:l+n.tooltipRect.ttHeight+15>t.globals.gridHeight&&(l=t.globals.gridHeight),l<-10&&(l=-10),t.globals.isBarHorizontal||this.moveXCrosshairs(o),n.fixedTooltip||this.moveTooltip(o,l||t.globals.gridHeight)}}]),te}(),nt=function(){function te(i){pe(this,te),this.w=i.w,this.ttCtx=i,this.ctx=i.ctx,this.tooltipPosition=new Be(i)}return f(te,[{key:"drawDynamicPoints",value:function(){var i=this.w,t=new L(this.ctx),n=new ue(this.ctx),a=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series");a=X(a),i.config.chart.stacked&&a.sort(function(p,m){return parseFloat(p.getAttribute("data:realIndex"))-parseFloat(m.getAttribute("data:realIndex"))});for(var r=0;r<a.length;r++){var s=a[r].querySelector(".apexcharts-series-markers-wrap");if(null!==s){var o=void 0,l="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==i.config.chart.type&&"area"!==i.config.chart.type||i.globals.comboCharts||i.config.tooltip.intersect||(l+=" no-pointer-events");var d=n.getMarkerConfig({cssClass:l,seriesIndex:Number(s.getAttribute("data:realIndex"))});(o=t.drawMarker(0,0,d)).node.setAttribute("default-marker-size",0);var g=document.createElementNS(i.globals.SVGNS,"g");g.classList.add("apexcharts-series-markers"),g.appendChild(o.node),s.appendChild(g)}}}},{key:"enlargeCurrentPoint",value:function(i,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.w;"bubble"!==r.config.chart.type&&this.newPointSize(i,t);var s=t.getAttribute("cx"),o=t.getAttribute("cy");if(null!==n&&null!==a&&(s=n,o=a),this.tooltipPosition.moveXCrosshairs(s),!this.fixedTooltip){if("radar"===r.config.chart.type){var l=this.ttCtx.getElGrid(),d=l.getBoundingClientRect();s=this.ttCtx.e.clientX-d.left}this.tooltipPosition.moveTooltip(s,o,r.config.markers.hover.size)}}},{key:"enlargePoints",value:function(i){for(var t=this.w,n=this,a=this.ttCtx,r=i,s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),o=t.config.markers.hover.size,l=0;l<s.length;l++){var d=s[l].getAttribute("rel"),g=s[l].getAttribute("index");if(void 0===o&&(o=t.globals.markers.size[g]+t.config.markers.hover.sizeOffset),r===parseInt(d,10)){n.newPointSize(r,s[l]);var p=s[l].getAttribute("cx"),m=s[l].getAttribute("cy");n.tooltipPosition.moveXCrosshairs(p),a.fixedTooltip||n.tooltipPosition.moveTooltip(p,m,o)}else n.oldPointSize(s[l])}}},{key:"newPointSize",value:function(i,t){var n=this.w,a=n.config.markers.hover.size,r=0===i?t.parentNode.firstChild:t.parentNode.lastChild;if("0"!==r.getAttribute("default-marker-size")){var s=parseInt(r.getAttribute("index"),10);void 0===a&&(a=n.globals.markers.size[s]+n.config.markers.hover.sizeOffset),a<0&&(a=0),r.setAttribute("r",a)}}},{key:"oldPointSize",value:function(i){var t=parseFloat(i.getAttribute("default-marker-size"));i.setAttribute("r",t)}},{key:"resetPointsSize",value:function(){for(var i=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<i.length;t++){var n=parseFloat(i[t].getAttribute("default-marker-size"));S.isNumber(n)&&n>=0?i[t].setAttribute("r",n):i[t].setAttribute("r",0)}}}]),te}(),ht=function(){function te(i){pe(this,te),this.w=i.w,this.ttCtx=i}return f(te,[{key:"getAttr",value:function(i,t){return parseFloat(i.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(i){var t=i.e,n=i.opt,a=i.x,r=i.y,o=this.ttCtx,l=this.w;if(t.target.classList.contains("apexcharts-".concat(i.type,"-rect"))){var d=this.getAttr(t,"i"),g=this.getAttr(t,"j"),p=this.getAttr(t,"cx"),m=this.getAttr(t,"cy"),y=this.getAttr(t,"width"),E=this.getAttr(t,"height");if(o.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:d,j:g,shared:!1,e:t}),l.globals.capturedSeriesIndex=d,l.globals.capturedDataPointIndex=g,a=p+o.tooltipRect.ttWidth/2+y,r=m+o.tooltipRect.ttHeight/2-E/2,o.tooltipPosition.moveXCrosshairs(p+y/2),a>l.globals.gridWidth/2&&(a=p-o.tooltipRect.ttWidth/2+y),o.w.config.tooltip.followCursor){var P=l.globals.dom.elWrap.getBoundingClientRect();a=l.globals.clientX-P.left-(a>l.globals.gridWidth/2?o.tooltipRect.ttWidth:0),r=l.globals.clientY-P.top-(r>l.globals.gridHeight/2?o.tooltipRect.ttHeight:0)}}return{x:a,y:r}}},{key:"handleMarkerTooltip",value:function(i){var t,n,a=i.e,r=i.opt,s=i.x,o=i.y,l=this.w,d=this.ttCtx;if(a.target.classList.contains("apexcharts-marker")){var g=parseInt(r.paths.getAttribute("cx"),10),p=parseInt(r.paths.getAttribute("cy"),10),m=parseFloat(r.paths.getAttribute("val"));if(n=parseInt(r.paths.getAttribute("rel"),10),t=parseInt(r.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,d.intersect){var y=S.findAncestor(r.paths,"apexcharts-series");y&&(t=parseInt(y.getAttribute("data:realIndex"),10))}if(d.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:t,j:n,shared:!d.showOnIntersect&&l.config.tooltip.shared,e:a}),"mouseup"===a.type&&d.markerClick(a,t,n),l.globals.capturedSeriesIndex=t,l.globals.capturedDataPointIndex=n,s=g,o=p+l.globals.translateY-1.4*d.tooltipRect.ttHeight,d.w.config.tooltip.followCursor){var E=d.getElGrid().getBoundingClientRect();o=d.e.clientY+l.globals.translateY-E.top}m<0&&(o=p),d.marker.enlargeCurrentPoint(n,r.paths,s,o)}return{x:s,y:o}}},{key:"handleBarTooltip",value:function(i){var t,n,a=i.e,r=i.opt,s=this.w,o=this.ttCtx,l=o.getElTooltip(),d=0,g=0,p=0,m=this.getBarTooltipXY({e:a,opt:r}),y=m.barHeight,E=m.j;s.globals.capturedSeriesIndex=t=m.i,s.globals.capturedDataPointIndex=E,s.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||!s.config.tooltip.shared?(g=m.x,p=m.y,n=Array.isArray(s.config.stroke.width)?s.config.stroke.width[t]:s.config.stroke.width,d=g):s.globals.comboCharts||s.config.tooltip.shared||(d/=2),isNaN(p)?p=s.globals.svgHeight-o.tooltipRect.ttHeight:p<0&&(p=0);var P=parseInt(r.paths.parentNode.getAttribute("data:realIndex"),10),Z=s.globals.isMultipleYAxis?s.config.yaxis[P]&&s.config.yaxis[P].reversed:s.config.yaxis[0].reversed;if(g+o.tooltipRect.ttWidth>s.globals.gridWidth&&!Z?g-=o.tooltipRect.ttWidth:g<0&&(g=0),o.w.config.tooltip.followCursor){var K=o.getElGrid().getBoundingClientRect();p=o.e.clientY-K.top}null===o.tooltip&&(o.tooltip=s.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),s.config.tooltip.shared||o.tooltipPosition.moveXCrosshairs(s.globals.comboBarCount>0?d+n/2:d),!o.fixedTooltip&&(!s.config.tooltip.shared||s.globals.isBarHorizontal&&o.tooltipUtil.hasBars())&&(Z&&(g-=o.tooltipRect.ttWidth)<0&&(g=0),!Z||s.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||(p=p+y-2*(s.globals.series[t][E]<0?y:0)),o.tooltipRect.ttHeight+p>s.globals.gridHeight?p=s.globals.gridHeight-o.tooltipRect.ttHeight+s.globals.translateY:(p=p+s.globals.translateY-o.tooltipRect.ttHeight/2)<0&&(p=0),l.style.left=g+s.globals.translateX+"px",l.style.top=p+"px")}},{key:"getBarTooltipXY",value:function(i){var t=i.e,n=i.opt,a=this.w,r=null,s=this.ttCtx,o=0,l=0,d=0,g=0,p=0,m=t.target.classList;if(m.contains("apexcharts-bar-area")||m.contains("apexcharts-candlestick-area")||m.contains("apexcharts-boxPlot-area")||m.contains("apexcharts-rangebar-area")){var y=t.target,E=y.getBoundingClientRect(),P=n.elGrid.getBoundingClientRect(),Z=E.height;p=E.height;var K=E.width,ae=parseInt(y.getAttribute("cx"),10),le=parseInt(y.getAttribute("cy"),10);g=parseFloat(y.getAttribute("barWidth"));var h="touchmove"===t.type?t.touches[0].clientX:t.clientX;r=parseInt(y.getAttribute("j"),10),o=parseInt(y.parentNode.getAttribute("rel"),10)-1;var b=y.getAttribute("data-range-y1"),D=y.getAttribute("data-range-y2");a.globals.comboCharts&&(o=parseInt(y.parentNode.getAttribute("data:realIndex"),10)),s.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:o,j:r,y1:b?parseInt(b,10):null,y2:D?parseInt(D,10):null,shared:!s.showOnIntersect&&a.config.tooltip.shared,e:t}),a.config.tooltip.followCursor?a.globals.isBarHorizontal?(l=h-P.left+15,d=le-s.dataPointsDividedHeight+Z/2-s.tooltipRect.ttHeight/2):(l=a.globals.isXNumeric?ae-K/2:ae-s.dataPointsDividedWidth+K/2,d=t.clientY-P.top-s.tooltipRect.ttHeight/2-15):a.globals.isBarHorizontal?((l=ae)<s.xyRatios.baseLineInvertedY&&(l=ae-s.tooltipRect.ttWidth),d=le-s.dataPointsDividedHeight+Z/2-s.tooltipRect.ttHeight/2):(l=a.globals.isXNumeric?ae-K/2:ae-s.dataPointsDividedWidth+K/2,d=le)}return{x:l,y:d,barHeight:p,barWidth:g,i:o,j:r}}}]),te}(),Ct=function(){function te(i){pe(this,te),this.w=i.w,this.ttCtx=i}return f(te,[{key:"drawXaxisTooltip",value:function(){var i=this.w,t=this.ttCtx,n="bottom"===i.config.xaxis.position;t.xaxisOffY=n?i.globals.gridHeight+1:-i.globals.xAxisHeight-i.config.xaxis.axisTicks.height+3;var a=n?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",r=i.globals.dom.elWrap;t.isXAxisTooltipEnabled&&null===i.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+i.config.tooltip.theme),r.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=i.config.xaxis.tooltip.style.fontFamily||i.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=i.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var i=this.w,t=this.ttCtx,n=function(r){var s=i.config.yaxis[r].opposite||i.config.yaxis[r].crosshairs.opposite;t.yaxisOffX=s?i.globals.gridWidth+1:1;var o="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(r,s?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");i.globals.yAxisSameScaleIndices.map(function(d,g){d.map(function(p,m){m===r&&(o+=i.config.yaxis[m].show?" ":" apexcharts-yaxistooltip-hidden")})});var l=i.globals.dom.elWrap;null===i.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(r))&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",o+" apexcharts-theme-"+i.config.tooltip.theme),l.appendChild(t.yaxisTooltip),0===r&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[r]=document.createElement("div"),t.yaxisTooltipText[r].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[r]))},a=0;a<i.config.yaxis.length;a++)n(a)}},{key:"setXCrosshairWidth",value:function(){var i=this.w,t=this.ttCtx,n=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(i.config.xaxis.crosshairs.width,10),i.globals.comboCharts){var a=i.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==a&&"barWidth"===i.config.xaxis.crosshairs.width){var r=parseFloat(a.getAttribute("barWidth"));t.xcrosshairsWidth=r}else"tickWidth"===i.config.xaxis.crosshairs.width&&(t.xcrosshairsWidth=i.globals.gridWidth/i.globals.labels.length)}else if("tickWidth"===i.config.xaxis.crosshairs.width)t.xcrosshairsWidth=i.globals.gridWidth/i.globals.labels.length;else if("barWidth"===i.config.xaxis.crosshairs.width){var l=i.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==l){var d=parseFloat(l.getAttribute("barWidth"));t.xcrosshairsWidth=d}else t.xcrosshairsWidth=1}i.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),null!==n&&t.xcrosshairsWidth>0&&n.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var i=this.w,t=this.ttCtx;t.ycrosshairs=i.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=i.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(i,t,n){var a=this.ttCtx,r=this.w,s=r.globals.yLabelFormatters[i];if(a.yaxisTooltips[i]){var o=a.getElGrid().getBoundingClientRect(),g=r.globals.minYArr[i]+(r.globals.maxYArr[i]-r.globals.minYArr[i]-(t-o.top)*n.yRatio[i]);a.tooltipPosition.moveYCrosshairs(t-o.top),a.yaxisTooltipText[i].innerHTML=s(g),a.tooltipPosition.moveYAxisTooltip(i)}}}]),te}(),wt=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new Ue(this),this.tooltipLabels=new Le(this),this.tooltipPosition=new Be(this),this.marker=new nt(this),this.intersect=new ht(this),this.axesTooltip=new Ct(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return f(te,[{key:"getElTooltip",value:function(i){return i||(i=this),i.w.globals.dom.baseEl?i.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(i){var t=this.w;this.xyRatios=i,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map(function(s,o){return!!(s.show&&s.tooltip.enabled&&t.globals.axisCharts)}),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var n=document.createElement("div");if(n.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&n.classList.add(t.config.tooltip.cssClass),n.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),t.globals.dom.elWrap.appendChild(n),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var a=new Oe(this.ctx);this.xAxisTicksPositions=a.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==t.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==t.config.markers.size&&0!==t.globals.markers.largestSize||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,n.appendChild(this.tooltipTitle));var r=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(r=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(r),this.addSVGEvents()}}},{key:"createTTElements",value:function(i){for(var t=this,n=this.w,a=[],r=this.getElTooltip(),s=function(l){var d=document.createElement("div");d.classList.add("apexcharts-tooltip-series-group"),d.style.order=n.config.tooltip.inverseOrder?i-l:l+1,t.tConfig.shared&&t.tConfig.enabledOnSeries&&Array.isArray(t.tConfig.enabledOnSeries)&&t.tConfig.enabledOnSeries.indexOf(l)<0&&d.classList.add("apexcharts-tooltip-series-group-hidden");var g=document.createElement("span");g.classList.add("apexcharts-tooltip-marker"),g.style.backgroundColor=n.globals.colors[l],d.appendChild(g);var p=document.createElement("div");p.classList.add("apexcharts-tooltip-text"),p.style.fontFamily=t.tConfig.style.fontFamily||n.config.chart.fontFamily,p.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach(function(m){var y=document.createElement("div");y.classList.add("apexcharts-tooltip-".concat(m,"-group"));var E=document.createElement("span");E.classList.add("apexcharts-tooltip-text-".concat(m,"-label")),y.appendChild(E);var P=document.createElement("span");P.classList.add("apexcharts-tooltip-text-".concat(m,"-value")),y.appendChild(P),p.appendChild(y)}),d.appendChild(p),r.appendChild(d),a.push(d)},o=0;o<i;o++)s(o);return a}},{key:"addSVGEvents",value:function(){var i=this.w,t=i.config.chart.type,n=this.getElTooltip(),a=!("bar"!==t&&"candlestick"!==t&&"boxPlot"!==t&&"rangeBar"!==t),r="area"===t||"line"===t||"scatter"===t||"bubble"===t||"radar"===t,s=i.globals.dom.Paper.node,o=this.getElGrid();o&&(this.seriesBound=o.getBoundingClientRect());var l,d=[],g=[],p={hoverArea:s,elGrid:o,tooltipEl:n,tooltipY:d,tooltipX:g,ttItems:this.ttItems};if(i.globals.axisCharts&&(r?l=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):a?l=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==t&&"treemap"!==t||(l=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),l&&l.length))for(var m=0;m<l.length;m++)d.push(l[m].getAttribute("cy")),g.push(l[m].getAttribute("cx"));if(i.globals.xyCharts&&!this.showOnIntersect||i.globals.comboCharts&&!this.showOnIntersect||a&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([s],p);else if(a&&!i.globals.comboCharts||r&&this.showOnIntersect)this.addDatapointEventsListeners(p);else if(!i.globals.axisCharts||"heatmap"===t||"treemap"===t){var y=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(y,p)}if(this.showOnIntersect){var E=i.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");E.length>0&&this.addPathsEventListeners(E,p),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(p)}}},{key:"drawFixedTooltipRect",value:function(){var i=this.w,t=this.getElTooltip(),n=t.getBoundingClientRect(),a=n.width+10,r=n.height+10,s=this.tConfig.fixed.offsetX,o=this.tConfig.fixed.offsetY,l=this.tConfig.fixed.position.toLowerCase();return l.indexOf("right")>-1&&(s=s+i.globals.svgWidth-a+10),l.indexOf("bottom")>-1&&(o=o+i.globals.svgHeight-r-10),t.style.left=s+"px",t.style.top=o+"px",{x:s,y:o,ttWidth:a,ttHeight:r}}},{key:"addDatapointEventsListeners",value:function(i){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,i)}},{key:"addPathsEventListeners",value:function(i,t){for(var n=this,a=function(s){var o={paths:i[s],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(l){return i[s].addEventListener(l,n.onSeriesHover.bind(n,o),{capture:!1,passive:!0})})},r=0;r<i.length;r++)a(r)}},{key:"onSeriesHover",value:function(i,t){var n=this,a=Date.now()-this.lastHoverTime;a>=100?this.seriesHover(i,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){n.seriesHover(i,t)},100-a))}},{key:"seriesHover",value:function(i,t){var n=this;this.lastHoverTime=Date.now();var a=[],r=this.w;r.config.chart.group&&(a=this.ctx.getGroupedCharts()),r.globals.axisCharts&&(r.globals.minX===-1/0&&r.globals.maxX===1/0||0===r.globals.dataPoints)||(a.length?a.forEach(function(s){var o=n.getElTooltip(s);s.w.globals.minX===n.w.globals.minX&&s.w.globals.maxX===n.w.globals.maxX&&s.w.globals.tooltip.seriesHoverByContext({chartCtx:s,ttCtx:s.w.globals.tooltip,opt:{paths:i.paths,tooltipEl:o,tooltipY:i.tooltipY,tooltipX:i.tooltipX,elGrid:i.elGrid,hoverArea:i.hoverArea,ttItems:s.w.globals.tooltip.ttItems},e:t})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:i,e:t}))}},{key:"seriesHoverByContext",value:function(i){var t=i.chartCtx,n=i.ttCtx,a=i.opt,r=i.e,s=t.w,o=this.getElTooltip();o&&(n.tooltipRect={x:0,y:0,ttWidth:o.getBoundingClientRect().width,ttHeight:o.getBoundingClientRect().height},n.e=r,n.tooltipUtil.hasBars()&&!s.globals.comboCharts&&!n.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new F(t).toggleSeriesOnHover(r,r.target.parentNode),n.fixedTooltip&&n.drawFixedTooltipRect(),s.globals.axisCharts?n.axisChartsTooltips({e:r,opt:a,tooltipRect:n.tooltipRect}):n.nonAxisChartsTooltips({e:r,opt:a,tooltipRect:n.tooltipRect}))}},{key:"axisChartsTooltips",value:function(i){var t,n,a=i.e,r=i.opt,s=this.w,o=r.elGrid.getBoundingClientRect(),l="touchmove"===a.type?a.touches[0].clientX:a.clientX,d="touchmove"===a.type?a.touches[0].clientY:a.clientY;if(this.clientY=d,this.clientX=l,s.globals.capturedSeriesIndex=-1,s.globals.capturedDataPointIndex=-1,d<o.top||d>o.top+o.height)this.handleMouseOut(r);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!s.config.tooltip.shared){var g=parseInt(r.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(g)<0)return void this.handleMouseOut(r)}var p=this.getElTooltip(),m=this.getElXCrosshairs(),y=s.globals.xyCharts||"bar"===s.config.chart.type&&!s.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||s.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===a.type||"touchmove"===a.type||"mouseup"===a.type){if(s.globals.collapsedSeries.length+s.globals.ancillaryCollapsedSeries.length===s.globals.series.length)return;null!==m&&m.classList.add("apexcharts-active");var E=this.yaxisTooltips.filter(function(K){return!0===K});if(null!==this.ycrosshairs&&E.length&&this.ycrosshairs.classList.add("apexcharts-active"),y&&!this.showOnIntersect)this.handleStickyTooltip(a,l,d,r);else if("heatmap"===s.config.chart.type||"treemap"===s.config.chart.type){var P=this.intersect.handleHeatTreeTooltip({e:a,opt:r,x:t,y:n,type:s.config.chart.type});n=P.y,p.style.left=(t=P.x)+"px",p.style.top=n+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:a,opt:r}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:a,opt:r,x:t,y:n});if(this.yaxisTooltips.length)for(var Z=0;Z<s.config.yaxis.length;Z++)this.axesTooltip.drawYaxisTooltipText(Z,d,this.xyRatios);r.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==a.type&&"touchend"!==a.type||this.handleMouseOut(r)}}},{key:"nonAxisChartsTooltips",value:function(i){var t=i.e,n=i.opt,a=i.tooltipRect,r=this.w,s=n.paths.getAttribute("rel"),o=this.getElTooltip(),l=r.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===t.type||"touchmove"===t.type){o.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:parseInt(s,10)-1,shared:!1});var g=r.globals.clientY-l.top-a.ttHeight-10;if(o.style.left=r.globals.clientX-l.left-a.ttWidth/2+"px",o.style.top=g+"px",r.config.legend.tooltipHoverFormatter){var p=s-1,m=(0,r.config.legend.tooltipHoverFormatter)(this.legendLabels[p].getAttribute("data:default-text"),{seriesIndex:p,dataPointIndex:p,w:r});this.legendLabels[p].innerHTML=m}}else"mouseout"!==t.type&&"touchend"!==t.type||(o.classList.remove("apexcharts-active"),r.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(y){var E=y.getAttribute("data:default-text");y.innerHTML=decodeURIComponent(E)}))}},{key:"handleStickyTooltip",value:function(i,t,n,a){var r=this.w,s=this.tooltipUtil.getNearestValues({context:this,hoverArea:a.hoverArea,elGrid:a.elGrid,clientX:t,clientY:n}),o=s.j,l=s.capturedSeries,d=a.elGrid.getBoundingClientRect();s.hoverX<0||s.hoverX>d.width?this.handleMouseOut(a):null!==l?this.handleStickyCapturedSeries(i,l,a,o):(this.tooltipUtil.isXoverlap(o)||r.globals.isBarHorizontal)&&this.create(i,this,0,o,a.ttItems)}},{key:"handleStickyCapturedSeries",value:function(i,t,n,a){var r=this.w;this.tConfig.shared||null!==r.globals.series[t][a]?void 0!==r.globals.series[t][a]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(a)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(i,this,t,a,n.ttItems):this.create(i,this,t,a,n.ttItems,!1):this.tooltipUtil.isXoverlap(a)&&this.create(i,this,0,a,n.ttItems):this.handleMouseOut(n)}},{key:"deactivateHoverFilter",value:function(){for(var i=this.w,t=new L(this.ctx),n=i.globals.dom.Paper.select(".apexcharts-bar-area"),a=0;a<n.length;a++)t.pathMouseLeave(n[a])}},{key:"handleMouseOut",value:function(i){var t=this.w,n=this.getElXCrosshairs();if(i.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==t.config.chart.type&&this.marker.resetPointsSize(),null!==n&&n.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var a=0;a<this.yaxisTTEls.length;a++)this.yaxisTTEls[a].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(r){var s=r.getAttribute("data:default-text");r.innerHTML=decodeURIComponent(s)})}},{key:"markerClick",value:function(i,t,n){var a=this.w;"function"==typeof a.config.chart.events.markerClick&&a.config.chart.events.markerClick(i,this.ctx,{seriesIndex:t,dataPointIndex:n,w:a}),this.ctx.events.fireEvent("markerClick",[i,this.ctx,{seriesIndex:t,dataPointIndex:n,w:a}])}},{key:"create",value:function(i,t,n,a,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=this.w,l=t;"mouseup"===i.type&&this.markerClick(i,n,a),null===s&&(s=this.tConfig.shared);var d=this.tooltipUtil.hasMarkers(),g=this.tooltipUtil.getElBars();if(o.config.legend.tooltipHoverFormatter){var p=o.config.legend.tooltipHoverFormatter,m=Array.from(this.legendLabels);m.forEach(function(b){var D=b.getAttribute("data:default-text");b.innerHTML=decodeURIComponent(D)});for(var y=0;y<m.length;y++){var E=m[y],P=parseInt(E.getAttribute("i"),10),Z=decodeURIComponent(E.getAttribute("data:default-text")),K=p(Z,{seriesIndex:s?P:n,dataPointIndex:a,w:o});if(s)E.innerHTML=o.globals.collapsedSeriesIndices.indexOf(P)<0?K:Z;else if(E.innerHTML=P===n?K:Z,n===P)break}}if(s){if(l.tooltipLabels.drawSeriesTexts({ttItems:r,i:n,j:a,shared:!this.showOnIntersect&&this.tConfig.shared}),d&&(o.globals.markers.largestSize>0?l.marker.enlargePoints(a):l.tooltipPosition.moveDynamicPointsOnHover(a)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(g),this.barSeriesHeight>0)){var ae=new L(this.ctx),le=o.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(a,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(a);for(var h=0;h<le.length;h++)ae.pathMouseEnter(le[h])}}else l.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:r,i:n,j:a}),this.tooltipUtil.hasBars()&&l.tooltipPosition.moveStickyTooltipOverBars(a),d&&l.tooltipPosition.moveMarkers(n,a)}}]),te}(),Vt=function(te){x(t,O);var i=k(t);function t(){return pe(this,t),i.apply(this,arguments)}return f(t,[{key:"draw",value:function(n,a){var r=this,s=this.w;this.graphics=new L(this.ctx),this.bar=new O(this.ctx,this.xyRatios);var o=new W(this.ctx,s);n=o.getLogSeries(n),this.yRatio=o.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n),"100%"===s.config.chart.stackType&&(n=s.globals.seriesPercent.slice()),this.series=n,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var l=0;l<n.length;l++)n[l].length>0&&(this.totalItems+=n[l].length);for(var d=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),g=0,p=0,m=function(P,Z){var K=void 0,ae=void 0,le=void 0,h=void 0,b=[],D=[],ee=s.globals.comboCharts?a[P]:P;r.yRatio.length>1&&(r.yaxisIndex=ee),r.isReversed=s.config.yaxis[r.yaxisIndex]&&s.config.yaxis[r.yaxisIndex].reversed;var Ce=r.graphics.group({class:"apexcharts-series",seriesName:S.escapeString(s.globals.seriesNames[ee]),rel:P+1,"data:realIndex":ee});r.ctx.series.addCollapsedClassToSeries(Ce,ee);var Ne=r.graphics.group({class:"apexcharts-datalabels","data:realIndex":ee}),Me=0,je=0,Xe=r.initialPositions(g,p,K,ae,le,h);p=Xe.y,Me=Xe.barHeight,ae=Xe.yDivision,h=Xe.zeroW,g=Xe.x,je=Xe.barWidth,K=Xe.xDivision,le=Xe.zeroH,r.yArrj=[],r.yArrjF=[],r.yArrjVal=[],r.xArrj=[],r.xArrjF=[],r.xArrjVal=[],1===r.prevY.length&&r.prevY[0].every(function(Yt){return isNaN(Yt)})&&(r.prevY[0]=r.prevY[0].map(function(Yt){return le}),r.prevYF[0]=r.prevYF[0].map(function(Yt){return 0}));for(var et=0;et<s.globals.dataPoints;et++){var ct=r.barHelpers.getStrokeWidth(P,et,ee),St={indexes:{i:P,j:et,realIndex:ee,bc:Z},strokeWidth:ct,x:g,y:p,elSeries:Ce},At=null;r.isHorizontal?(At=r.drawStackedBarPaths(xe(xe({},St),{},{zeroW:h,barHeight:Me,yDivision:ae})),je=r.series[P][et]/r.invertedYRatio):(At=r.drawStackedColumnPaths(xe(xe({},St),{},{xDivision:K,barWidth:je,zeroH:le})),Me=r.series[P][et]/r.yRatio[r.yaxisIndex]),p=At.y,b.push(g=At.x),D.push(p);var Zt=r.barHelpers.getPathFillColor(n,P,et,ee);Ce=r.renderSeries({realIndex:ee,pathFill:Zt,j:et,i:P,pathFrom:At.pathFrom,pathTo:At.pathTo,strokeWidth:ct,elSeries:Ce,x:g,y:p,series:n,barHeight:Me,barWidth:je,elDataLabelsWrap:Ne,type:"bar",visibleSeries:0})}s.globals.seriesXvalues[ee]=b,s.globals.seriesYvalues[ee]=D,r.prevY.push(r.yArrj),r.prevYF.push(r.yArrjF),r.prevYVal.push(r.yArrjVal),r.prevX.push(r.xArrj),r.prevXF.push(r.xArrjF),r.prevXVal.push(r.xArrjVal),d.add(Ce)},y=0,E=0;y<n.length;y++,E++)m(y,E);return d}},{key:"initialPositions",value:function(n,a,r,s,o,l){var d,g,p=this.w;return this.isHorizontal?(d=(d=s=p.globals.gridHeight/p.globals.dataPoints)*parseInt(p.config.plotOptions.bar.barHeight,10)/100,l=this.baseLineInvertedY+p.globals.padHorizontal+(this.isReversed?p.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),a=(s-d)/2):(g=r=p.globals.gridWidth/p.globals.dataPoints,g=p.globals.isXNumeric&&p.globals.dataPoints>1?(r=p.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:g*parseInt(p.config.plotOptions.bar.columnWidth,10)/100,o=this.baseLineY[this.yaxisIndex]+(this.isReversed?p.globals.gridHeight:0)-(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),n=p.globals.padHorizontal+(r-g)/2),{x:n,y:a,yDivision:s,xDivision:r,barHeight:d,barWidth:g,zeroH:o,zeroW:l}}},{key:"drawStackedBarPaths",value:function(n){for(var a,d,r=n.indexes,s=n.barHeight,o=n.strokeWidth,l=n.zeroW,g=n.y,p=n.yDivision,m=n.elSeries,y=this.w,E=g,P=r.i,Z=r.j,K=0,ae=0;ae<this.prevXF.length;ae++)K+=this.prevXF[ae][Z];if(P>0){var le=l;this.prevXVal[P-1][Z]<0?le=this.series[P][Z]>=0?this.prevX[P-1][Z]+K-2*(this.isReversed?K:0):this.prevX[P-1][Z]:this.prevXVal[P-1][Z]>=0&&(le=this.series[P][Z]>=0?this.prevX[P-1][Z]:this.prevX[P-1][Z]-K+2*(this.isReversed?K:0)),a=le}else a=l;var h=this.barHelpers.getBarpaths({barYPosition:E,barHeight:s,x1:a,x2:d=null===this.series[P][Z]?a:a+this.series[P][Z]/this.invertedYRatio-2*(this.isReversed?this.series[P][Z]/this.invertedYRatio:0),strokeWidth:o,series:this.series,realIndex:r.realIndex,i:P,j:Z,w:y});return this.barHelpers.barBackground({j:Z,i:P,y1:E,y2:s,elSeries:m}),{pathTo:h.pathTo,pathFrom:h.pathFrom,x:d,y:g+=p}}},{key:"drawStackedColumnPaths",value:function(n){var s,a=n.indexes,r=n.x,o=n.xDivision,l=n.barWidth,d=n.zeroH,g=n.elSeries,p=this.w,m=a.i,y=a.j,E=a.bc;if(p.globals.isXNumeric){var P=p.globals.seriesX[m][y];P||(P=0),r=(P-p.globals.minX)/this.xRatio-l/2}for(var Z,K=r,ae=0,le=0;le<this.prevYF.length;le++)ae+=isNaN(this.prevYF[le][y])?0:this.prevYF[le][y];if(m>0&&!p.globals.isXNumeric||m>0&&p.globals.isXNumeric&&p.globals.seriesX[m-1][y]===p.globals.seriesX[m][y]){var h,b,D=Math.min(this.yRatio.length+1,m+1);if(void 0!==this.prevY[m-1])for(var ee=1;ee<D;ee++)if(!isNaN(this.prevY[m-ee][y])){b=this.prevY[m-ee][y];break}for(var Ce=1;Ce<D;Ce++){if(this.prevYVal[m-Ce][y]<0){h=this.series[m][y]>=0?b-ae+2*(this.isReversed?ae:0):b;break}if(this.prevYVal[m-Ce][y]>=0){h=this.series[m][y]>=0?b:b+ae-2*(this.isReversed?ae:0);break}}void 0===h&&(h=p.globals.gridHeight),Z=this.prevYF[0].every(function(Me){return 0===Me})&&this.prevYF.slice(1,m).every(function(Me){return Me.every(function(je){return isNaN(je)})})?p.globals.gridHeight-d:h}else Z=p.globals.gridHeight-d;var Ne=this.barHelpers.getColumnPaths({barXPosition:K,barWidth:l,y1:Z,y2:s=Z-this.series[m][y]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[m][y]/this.yRatio[this.yaxisIndex]:0),yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:a.realIndex,i:m,j:y,w:p});return this.barHelpers.barBackground({bc:E,j:y,i:m,x1:K,x2:l,elSeries:g}),r+=o,{pathTo:Ne.pathTo,pathFrom:Ne.pathFrom,x:p.globals.isXNumeric?r-o:r,y:s}}}]),t}(),Ut=function(te){x(t,O);var i=k(t);function t(){return pe(this,t),i.apply(this,arguments)}return f(t,[{key:"draw",value:function(n,a){var r=this,s=this.w,o=new L(this.ctx),l=new we(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=s.config.plotOptions.bar.horizontal;var d=new W(this.ctx,s);n=d.getLogSeries(n),this.series=n,this.yRatio=d.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n);for(var g=o.group({class:"apexcharts-".concat(s.config.chart.type,"-series apexcharts-plot-series")}),p=function(y){r.isBoxPlot="boxPlot"===s.config.chart.type||"boxPlot"===s.config.series[y].type;var E,P,Z,K,Ce,Ne,ae=void 0,le=void 0,h=[],b=[],D=s.globals.comboCharts?a[y]:y,ee=o.group({class:"apexcharts-series",seriesName:S.escapeString(s.globals.seriesNames[D]),rel:y+1,"data:realIndex":D});r.ctx.series.addCollapsedClassToSeries(ee,D),n[y].length>0&&(r.visibleI=r.visibleI+1),r.yRatio.length>1&&(r.yaxisIndex=D);var Me=r.barHelpers.initialPositions();le=Me.y,Ce=Me.barHeight,P=Me.yDivision,K=Me.zeroW,E=Me.xDivision,Z=Me.zeroH,b.push((ae=Me.x)+(Ne=Me.barWidth)/2);for(var je=o.group({class:"apexcharts-datalabels","data:realIndex":D}),Xe=function(ct){var St=r.barHelpers.getStrokeWidth(y,ct,D),At=null,Zt={indexes:{i:y,j:ct,realIndex:D},x:ae,y:le,strokeWidth:St,elSeries:ee};At=r.isHorizontal?r.drawHorizontalBoxPaths(xe(xe({},Zt),{},{yDivision:P,barHeight:Ce,zeroW:K})):r.drawVerticalBoxPaths(xe(xe({},Zt),{},{xDivision:E,barWidth:Ne,zeroH:Z})),le=At.y,ae=At.x,ct>0&&b.push(ae+Ne/2),h.push(le),At.pathTo.forEach(function(Yt,ri){var gi=!r.isBoxPlot&&r.candlestickOptions.wick.useFillColor?At.color[ri]:s.globals.stroke.colors[y],pi=l.fillPath({seriesNumber:D,dataPointIndex:ct,color:At.color[ri],value:n[y][ct]});r.renderSeries({realIndex:D,pathFill:pi,lineFill:gi,j:ct,i:y,pathFrom:At.pathFrom,pathTo:Yt,strokeWidth:St,elSeries:ee,x:ae,y:le,series:n,barHeight:Ce,barWidth:Ne,elDataLabelsWrap:je,visibleSeries:r.visibleI,type:s.config.chart.type})})},et=0;et<s.globals.dataPoints;et++)Xe(et);s.globals.seriesXvalues[D]=b,s.globals.seriesYvalues[D]=h,g.add(ee)},m=0;m<n.length;m++)p(m);return g}},{key:"drawVerticalBoxPaths",value:function(n){var a=n.indexes,r=n.x,s=n.xDivision,o=n.barWidth,l=n.zeroH,d=n.strokeWidth,g=this.w,p=new L(this.ctx),m=a.i,y=a.j,E=!0,P=g.config.plotOptions.candlestick.colors.upward,Z=g.config.plotOptions.candlestick.colors.downward,K="";this.isBoxPlot&&(K=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var ae=this.yRatio[this.yaxisIndex],le=a.realIndex,h=this.getOHLCValue(le,y),b=l,D=l;h.o>h.c&&(E=!1);var ee=Math.min(h.o,h.c),Ce=Math.max(h.o,h.c),Ne=h.m;g.globals.isXNumeric&&(r=(g.globals.seriesX[le][y]-g.globals.minX)/this.xRatio-o/2);var Me=r+o*this.visibleI;null==this.series[m][y]?(ee=l,Ce=l):(ee=l-ee/ae,Ce=l-Ce/ae,b=l-h.h/ae,D=l-h.l/ae,Ne=l-h.m/ae);var je=p.move(Me,l),Xe=p.move(Me+o/2,ee);return g.globals.previousPaths.length>0&&(Xe=this.getPreviousPath(le,y,!0)),je=this.isBoxPlot?[p.move(Me,ee)+p.line(Me+o/2,ee)+p.line(Me+o/2,b)+p.line(Me+o/4,b)+p.line(Me+o-o/4,b)+p.line(Me+o/2,b)+p.line(Me+o/2,ee)+p.line(Me+o,ee)+p.line(Me+o,Ne)+p.line(Me,Ne)+p.line(Me,ee+d/2),p.move(Me,Ne)+p.line(Me+o,Ne)+p.line(Me+o,Ce)+p.line(Me+o/2,Ce)+p.line(Me+o/2,D)+p.line(Me+o-o/4,D)+p.line(Me+o/4,D)+p.line(Me+o/2,D)+p.line(Me+o/2,Ce)+p.line(Me,Ce)+p.line(Me,Ne)+"z"]:[p.move(Me,Ce)+p.line(Me+o/2,Ce)+p.line(Me+o/2,b)+p.line(Me+o/2,Ce)+p.line(Me+o,Ce)+p.line(Me+o,ee)+p.line(Me+o/2,ee)+p.line(Me+o/2,D)+p.line(Me+o/2,ee)+p.line(Me,ee)+p.line(Me,Ce-d/2)],Xe+=p.move(Me,ee),g.globals.isXNumeric||(r+=s),{pathTo:je,pathFrom:Xe,x:r,y:Ce,barXPosition:Me,color:this.isBoxPlot?K:E?[P]:[Z]}}},{key:"drawHorizontalBoxPaths",value:function(n){var a=n.indexes,r=n.y,s=n.yDivision,o=n.barHeight,l=n.zeroW,d=n.strokeWidth,g=this.w,p=new L(this.ctx),m=a.i,y=a.j,E=this.boxOptions.colors.lower;this.isBoxPlot&&(E=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var P=this.invertedYRatio,Z=a.realIndex,K=this.getOHLCValue(Z,y),ae=l,le=l,h=Math.min(K.o,K.c),b=Math.max(K.o,K.c),D=K.m;g.globals.isXNumeric&&(r=(g.globals.seriesX[Z][y]-g.globals.minX)/this.invertedXRatio-o/2);var ee=r+o*this.visibleI;null==this.series[m][y]?(h=l,b=l):(h=l+h/P,b=l+b/P,ae=l+K.h/P,le=l+K.l/P,D=l+K.m/P);var Ce=p.move(l,ee),Ne=p.move(h,ee+o/2);return g.globals.previousPaths.length>0&&(Ne=this.getPreviousPath(Z,y,!0)),Ce=[p.move(h,ee)+p.line(h,ee+o/2)+p.line(ae,ee+o/2)+p.line(ae,ee+o/2-o/4)+p.line(ae,ee+o/2+o/4)+p.line(ae,ee+o/2)+p.line(h,ee+o/2)+p.line(h,ee+o)+p.line(D,ee+o)+p.line(D,ee)+p.line(h+d/2,ee),p.move(D,ee)+p.line(D,ee+o)+p.line(b,ee+o)+p.line(b,ee+o/2)+p.line(le,ee+o/2)+p.line(le,ee+o-o/4)+p.line(le,ee+o/4)+p.line(le,ee+o/2)+p.line(b,ee+o/2)+p.line(b,ee)+p.line(D,ee)+"z"],Ne+=p.move(h,ee),g.globals.isXNumeric||(r+=s),{pathTo:Ce,pathFrom:Ne,x:b,y:r,barYPosition:ee,color:E}}},{key:"getOHLCValue",value:function(n,a){var r=this.w;return{o:this.isBoxPlot?r.globals.seriesCandleH[n][a]:r.globals.seriesCandleO[n][a],h:this.isBoxPlot?r.globals.seriesCandleO[n][a]:r.globals.seriesCandleH[n][a],m:r.globals.seriesCandleM[n][a],l:this.isBoxPlot?r.globals.seriesCandleC[n][a]:r.globals.seriesCandleL[n][a],c:this.isBoxPlot?r.globals.seriesCandleL[n][a]:r.globals.seriesCandleC[n][a]}}}]),t}(),qt=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w}return f(te,[{key:"checkColorRange",value:function(){var i=this.w,t=!1,n=i.config.plotOptions[i.config.chart.type];return n.colorScale.ranges.length>0&&n.colorScale.ranges.map(function(a,r){a.from<=0&&(t=!0)}),t}},{key:"getShadeColor",value:function(i,t,n,a){var r=this.w,s=1,o=r.config.plotOptions[i].shadeIntensity,l=this.determineColor(i,t,n);r.globals.hasNegs||a?s=r.config.plotOptions[i].reverseNegativeShade?l.percent<0?l.percent/100*(1.25*o):1.25*o*(1-l.percent/100):l.percent<=0?1-(1+l.percent/100)*o:(1-l.percent/100)*o:(s=1-l.percent/100,"treemap"===i&&(s=1.25*o*(1-l.percent/100)));var d=l.color,g=new S;return r.config.plotOptions[i].enableShades&&(d=S.hexToRgba(g.shadeColor("dark"===this.w.config.theme.mode?-1*s:s,l.color),r.config.fill.opacity)),{color:d,colorProps:l}}},{key:"determineColor",value:function(i,t,n){var a=this.w,r=a.globals.series[t][n],s=a.config.plotOptions[i],o=s.colorScale.inverse?n:t;s.distributed&&"treemap"===a.config.chart.type&&(o=n);var l=a.globals.colors[o],d=null,g=Math.min.apply(Math,X(a.globals.series[t])),p=Math.max.apply(Math,X(a.globals.series[t]));s.distributed||"heatmap"!==i||(g=a.globals.minY,p=a.globals.maxY),void 0!==s.colorScale.min&&(g=s.colorScale.min<a.globals.minY?s.colorScale.min:a.globals.minY,p=s.colorScale.max>a.globals.maxY?s.colorScale.max:a.globals.maxY);var m=Math.abs(p)+Math.abs(g),y=100*r/(0===m?m-1e-6:m);return s.colorScale.ranges.length>0&&s.colorScale.ranges.map(function(E,P){if(r>=E.from&&r<=E.to){l=E.color,d=E.foreColor?E.foreColor:null,g=E.from,p=E.to;var Z=Math.abs(p)+Math.abs(g);y=100*r/(0===Z?Z-1e-6:Z)}}),{color:l,foreColor:d,percent:y}}},{key:"calculateDataLabels",value:function(i){var t=i.text,n=i.x,a=i.y,r=i.i,s=i.j,o=i.colorProps,l=i.fontSize,d=this.w.config.dataLabels,g=new L(this.ctx),p=new J(this.ctx),m=null;if(d.enabled){m=g.group({class:"apexcharts-data-labels"});var E=d.offsetY,P=n+d.offsetX,Z=a+parseFloat(d.style.fontSize)/3+E;p.plotDataLabelsText({x:P,y:Z,text:t,i:r,j:s,color:o.foreColor,parent:m,fontSize:l,dataLabelsConfig:d})}return m}},{key:"addListeners",value:function(i){var t=new L(this.ctx);i.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,i)),i.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,i)),i.node.addEventListener("mousedown",t.pathMouseDown.bind(this,i))}}]),te}(),Nt=function(){function te(i,t){pe(this,te),this.ctx=i,this.w=i.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new qt(i),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return f(te,[{key:"draw",value:function(i){var t=this.w,n=new L(this.ctx),a=n.group({class:"apexcharts-heatmap"});a.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var r=t.globals.gridWidth/t.globals.dataPoints,s=t.globals.gridHeight/t.globals.series.length,o=0,l=!1;this.negRange=this.helpers.checkColorRange();var d=i.slice();t.config.yaxis[0].reversed&&(l=!0,d.reverse());for(var g=l?0:d.length-1;l?g<d.length:g>=0;l?g++:g--){var p=n.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:S.escapeString(t.globals.seriesNames[g]),rel:g+1,"data:realIndex":g});if(this.ctx.series.addCollapsedClassToSeries(p,g),t.config.chart.dropShadow.enabled){var m=t.config.chart.dropShadow;new T(this.ctx).dropShadow(p,m,g)}for(var y=0,E=t.config.plotOptions.heatmap.shadeIntensity,P=0;P<d[g].length;P++){var Z=this.helpers.getShadeColor(t.config.chart.type,g,P,this.negRange),K=Z.color,ae=Z.colorProps;"image"===t.config.fill.type&&(K=new we(this.ctx).fillPath({seriesNumber:g,dataPointIndex:P,opacity:t.globals.hasNegs?ae.percent<0?1-(1+ae.percent/100):E+ae.percent/100:ae.percent/100,patternID:S.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:r,height:t.config.fill.image.height?t.config.fill.image.height:s}));var h=n.drawRect(y,o,r,s,this.rectRadius);if(h.attr({cx:y,cy:o}),h.node.classList.add("apexcharts-heatmap-rect"),p.add(h),h.attr({fill:K,i:g,index:g,j:P,val:d[g][P],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?K:t.globals.stroke.colors[0],color:K}),this.helpers.addListeners(h),t.config.chart.animations.enabled&&!t.globals.dataChanged){var b=1;t.globals.resized||(b=t.config.chart.animations.speed),this.animateHeatMap(h,y,o,r,s,b)}if(t.globals.dataChanged){var D=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){D=this.dynamicAnim.speed;var ee=t.globals.previousPaths[g]&&t.globals.previousPaths[g][P]&&t.globals.previousPaths[g][P].color;ee||(ee="rgba(255, 255, 255, 0)"),this.animateHeatColor(h,S.isColorHex(ee)?ee:S.rgb2hex(ee),S.isColorHex(K)?K:S.rgb2hex(K),D)}}var Ce=(0,t.config.dataLabels.formatter)(t.globals.series[g][P],{value:t.globals.series[g][P],seriesIndex:g,dataPointIndex:P,w:t}),Ne=this.helpers.calculateDataLabels({text:Ce,x:y+r/2,y:o+s/2,i:g,j:P,colorProps:ae,series:d});null!==Ne&&p.add(Ne),y+=r}o+=s,a.add(p)}var Me=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?Me.unshift(""):Me.push(""),t.globals.yAxisScale[0].result=Me,t.config.yaxis[0].labels.offsetY=-t.globals.gridHeight/t.globals.series.length/2,a}},{key:"animateHeatMap",value:function(i,t,n,a,r,s){var o=new A(this.ctx);o.animateRect(i,{x:t+a/2,y:n+r/2,width:0,height:0},{x:t,y:n,width:a,height:r},s,function(){o.animationCompleted(i)})}},{key:"animateHeatColor",value:function(i,t,n,a){i.attr({fill:t}).animate(a).attr({fill:n})}}]),te}(),ti=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w}return f(te,[{key:"drawYAxisTexts",value:function(i,t,n,a){var r=this.w,s=r.config.yaxis[0],o=r.globals.yLabelFormatters[0];return new L(this.ctx).drawText({x:i+s.labels.offsetX,y:t+s.labels.offsetY,text:o(a,n),textAnchor:"middle",fontSize:s.labels.style.fontSize,fontFamily:s.labels.style.fontFamily,foreColor:Array.isArray(s.labels.style.colors)?s.labels.style.colors[n]:s.labels.style.colors})}}]),te}(),jt=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==t.globals.stroke.colors?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,this.fullAngle="radialBar"===t.config.chart.type?360:Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return f(te,[{key:"draw",value:function(i){var t=this,n=this.w,a=new L(this.ctx);if(this.ret=a.group({class:"apexcharts-pie"}),n.globals.noData)return this.ret;for(var r=0,s=0;s<i.length;s++)r+=S.negToZero(i[s]);var o=[],l=a.group();0===r&&(r=1e-5),i.forEach(function(ee){t.maxY=Math.max(t.maxY,ee)}),n.config.yaxis[0].max&&(this.maxY=n.config.yaxis[0].max),"back"===n.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var d=0;d<i.length;d++){var g=this.fullAngle*S.negToZero(i[d])/r;o.push(g),"polarArea"===this.chartType?(o[d]=this.fullAngle/i.length,this.sliceSizes.push(n.globals.radialSize*i[d]/this.maxY)):this.sliceSizes.push(n.globals.radialSize)}if(n.globals.dataChanged){for(var p,m=0,y=0;y<n.globals.previousPaths.length;y++)m+=S.negToZero(n.globals.previousPaths[y]);for(var E=0;E<n.globals.previousPaths.length;E++)p=this.fullAngle*S.negToZero(n.globals.previousPaths[E])/m,this.prevSectorAngleArr.push(p)}this.donutSize<0&&(this.donutSize=0);var P=n.config.plotOptions.pie.customScale,ae=n.globals.gridWidth/2-n.globals.gridWidth/2*P,le=n.globals.gridHeight/2-n.globals.gridHeight/2*P;if("donut"===this.chartType){var h=a.drawCircle(this.donutSize);h.attr({cx:this.centerX,cy:this.centerY,fill:n.config.plotOptions.pie.donut.background?n.config.plotOptions.pie.donut.background:"transparent"}),l.add(h)}var b=this.drawArcs(o,i);if(this.sliceLabels.forEach(function(ee){b.add(ee)}),l.attr({transform:"translate(".concat(ae,", ").concat(le,") scale(").concat(P,")")}),l.add(b),this.ret.add(l),this.donutDataLabels.show){var D=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:ae,translateY:le});this.ret.add(D)}return"front"===n.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(i,t){var n=this.w,a=new T(this.ctx),r=new L(this.ctx),s=new we(this.ctx),o=r.group({class:"apexcharts-slices"}),l=this.initialAngle,d=this.initialAngle,g=this.initialAngle,p=this.initialAngle;this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0;for(var m=0;m<i.length;m++){var y=r.group({class:"apexcharts-series apexcharts-pie-series",seriesName:S.escapeString(n.globals.seriesNames[m]),rel:m+1,"data:realIndex":m});o.add(y),g=(l=g)+i[m],p=(d=p)+this.prevSectorAngleArr[m];var E=g<l?this.fullAngle+g-l:g-l,P=s.fillPath({seriesNumber:m,size:this.sliceSizes[m],value:t[m]}),Z=this.getChangedPath(d,p),K=r.drawPath({d:Z,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[m]:this.lineColorArr,strokeWidth:0,fill:P,fillOpacity:n.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(m)});K.attr({index:0,j:m}),a.setSelectionFilter(K,0,m),n.config.chart.dropShadow.enabled&&a.dropShadow(K,n.config.chart.dropShadow,m),this.addListeners(K,this.donutDataLabels),L.setAttrs(K.node,{"data:angle":E,"data:startAngle":l,"data:strokeWidth":this.strokeWidth,"data:value":t[m]});var le={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?le=S.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize/1.25+n.config.plotOptions.pie.dataLabels.offset,(l+E/2)%this.fullAngle):"donut"===this.chartType&&(le=S.polarToCartesian(this.centerX,this.centerY,(n.globals.radialSize+this.donutSize)/2+n.config.plotOptions.pie.dataLabels.offset,(l+E/2)%this.fullAngle)),y.add(K);var h=0;if(!this.initialAnim||n.globals.resized||n.globals.dataChanged?this.animBeginArr.push(0):(0==(h=E/this.fullAngle*n.config.chart.animations.speed)&&(h=1),this.animDur=h+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(K,this.dynamicAnim&&n.globals.dataChanged?{size:this.sliceSizes[m],endAngle:g,startAngle:l,prevStartAngle:d,prevEndAngle:p,animateStartingPos:!0,i:m,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:n.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[m],endAngle:g,startAngle:l,i:m,totalItems:i.length-1,animBeginArr:this.animBeginArr,dur:h}),n.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&K.click(this.pieClicked.bind(this,m)),void 0!==n.globals.selectedDataPoints[0]&&n.globals.selectedDataPoints[0].indexOf(m)>-1&&this.pieClicked(m),n.config.dataLabels.enabled){var b=le.x,D=le.y,ee=100*E/this.fullAngle+"%";if(0!==E&&n.config.plotOptions.pie.dataLabels.minAngleToShowLabel<i[m]){var Ce=n.config.dataLabels.formatter;void 0!==Ce&&(ee=Ce(n.globals.seriesPercent[m][0],{seriesIndex:m,w:n}));var Ne=n.globals.dataLabels.style.colors[m],Me=r.group({class:"apexcharts-datalabels"}),je=r.drawText({x:b,y:D,text:ee,textAnchor:"middle",fontSize:n.config.dataLabels.style.fontSize,fontFamily:n.config.dataLabels.style.fontFamily,fontWeight:n.config.dataLabels.style.fontWeight,foreColor:Ne});Me.add(je),n.config.dataLabels.dropShadow.enabled&&a.dropShadow(je,n.config.dataLabels.dropShadow),je.node.classList.add("apexcharts-pie-label"),n.config.chart.animations.animate&&!1===n.globals.resized&&(je.node.classList.add("apexcharts-pie-label-delay"),je.node.style.animationDelay=n.config.chart.animations.speed/940+"s"),this.sliceLabels.push(Me)}}}return o}},{key:"addListeners",value:function(i,t){var n=new L(this.ctx);i.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,i)),i.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,i)),i.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,i.node,t)),i.node.addEventListener("mousedown",n.pathMouseDown.bind(this,i)),this.donutDataLabels.total.showAlways||(i.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,i.node,t)),i.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,i.node,t)))}},{key:"animatePaths",value:function(i,t){var a=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,r=a,s=t.startAngle,o=t.startAngle;void 0!==t.prevStartAngle&&void 0!==t.prevEndAngle&&(s=t.prevEndAngle,r=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===this.w.config.series.length-1&&(a+o>this.fullAngle?t.endAngle=t.endAngle-(a+o):a+o<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(a+o)))),a===this.fullAngle&&(a=this.fullAngle-.01),this.animateArc(i,s,o,a,r,t)}},{key:"animateArc",value:function(i,t,n,a,r,s){var o,l=this,d=this.w,g=new A(this.ctx),p=s.size;(isNaN(t)||isNaN(r))&&(t=n,r=a,s.dur=0);var m=a,y=n,E=t<n?this.fullAngle+t-n:t-n;d.globals.dataChanged&&s.shouldSetPrevPaths&&s.prevEndAngle&&(o=l.getPiePath({me:l,startAngle:s.prevStartAngle,angle:s.prevEndAngle<s.prevStartAngle?this.fullAngle+s.prevEndAngle-s.prevStartAngle:s.prevEndAngle-s.prevStartAngle,size:p}),i.attr({d:o})),0!==s.dur?i.animate(s.dur,d.globals.easing,s.animBeginArr[s.i]).afterAll(function(){"pie"!==l.chartType&&"donut"!==l.chartType&&"polarArea"!==l.chartType||this.animate(d.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":l.strokeWidth}),s.i===d.config.series.length-1&&g.animationCompleted(i)}).during(function(P){m=E+(a-E)*P,s.animateStartingPos&&(m=r+(a-r)*P,y=t-r+(n-(t-r))*P),o=l.getPiePath({me:l,startAngle:y,angle:m,size:p}),i.node.setAttribute("data:pathOrig",o),i.attr({d:o})}):(o=l.getPiePath({me:l,startAngle:y,angle:a,size:p}),s.isTrack||(d.globals.animationEnded=!0),i.node.setAttribute("data:pathOrig",o),i.attr({d:o,"stroke-width":l.strokeWidth}))}},{key:"pieClicked",value:function(i){var t,n=this.w,a=this,r=a.sliceSizes[i]+(n.config.plotOptions.pie.expandOnClick?4:0),s=n.globals.dom.Paper.select(".apexcharts-".concat(a.chartType.toLowerCase(),"-slice-").concat(i)).members[0];if("true"!==s.attr("data:pieClicked")){var o=n.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(o,function(p){p.setAttribute("data:pieClicked","false");var m=p.getAttribute("data:pathOrig");p.setAttribute("d",m)}),s.attr("data:pieClicked","true");var l=parseInt(s.attr("data:startAngle"),10),d=parseInt(s.attr("data:angle"),10);t=a.getPiePath({me:a,startAngle:l,angle:d,size:r}),360!==d&&s.plot(t)}else{s.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(s.node,this.donutDataLabels);var g=s.attr("data:pathOrig");s.attr({d:g})}}},{key:"getChangedPath",value:function(i,t){var n="";return this.dynamicAnim&&this.w.globals.dataChanged&&(n=this.getPiePath({me:this,startAngle:i,angle:t-i,size:this.size})),n}},{key:"getPiePath",value:function(i){var t=i.me,n=i.startAngle,a=i.angle,r=i.size,s=n,o=Math.PI*(s-90)/180,l=a+n;Math.ceil(l)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(l=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(l)>this.fullAngle&&(l-=this.fullAngle);var d=Math.PI*(l-90)/180,g=t.centerX+r*Math.cos(o),p=t.centerY+r*Math.sin(o),m=t.centerX+r*Math.cos(d),y=t.centerY+r*Math.sin(d),E=S.polarToCartesian(t.centerX,t.centerY,t.donutSize,l),P=S.polarToCartesian(t.centerX,t.centerY,t.donutSize,s),Z=a>180?1:0,K=["M",g,p,"A",r,r,0,Z,1,m,y];return"donut"===t.chartType?[].concat(K,["L",E.x,E.y,"A",t.donutSize,t.donutSize,0,Z,0,P.x,P.y,"L",g,p,"z"]).join(" "):"pie"===t.chartType||"polarArea"===t.chartType?[].concat(K,["L",t.centerX,t.centerY,"L",g,p]).join(" "):[].concat(K).join(" ")}},{key:"drawPolarElements",value:function(i){var t=this.w,n=new He(this.ctx),a=new L(this.ctx),r=new ti(this.ctx),s=a.group(),o=a.group(),l=n.niceScale(0,Math.ceil(this.maxY),t.config.yaxis[0].tickAmount,0,!0),d=l.result.reverse(),g=l.result.length;this.maxY=l.niceMax;for(var p=t.globals.radialSize,m=p/(g-1),y=0;y<g-1;y++){var E=a.drawCircle(p);if(E.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var P=r.drawYAxisTexts(this.centerX,this.centerY-p+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,y,d[y]);o.add(P)}s.add(E),p-=m}this.drawSpokes(i),i.add(s),i.add(o)}},{key:"renderInnerDataLabels",value:function(i,t){var n=this.w,a=new L(this.ctx),r=a.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(t.translateX?t.translateX:0,", ").concat(t.translateY?t.translateY:0,") scale(").concat(n.config.plotOptions.pie.customScale,")")}),s=i.total.show;r.node.style.opacity=t.opacity;var o,l,d=t.centerX,g=t.centerY;o=void 0===i.name.color?n.globals.colors[0]:i.name.color;var p=i.name.fontSize,m=i.name.fontFamily,y=i.name.fontWeight;l=void 0===i.value.color?n.config.chart.foreColor:i.value.color;var E=i.value.formatter,P="",Z="";if(s?(o=i.total.color,p=i.total.fontSize,m=i.total.fontFamily,y=i.total.fontWeight,Z=i.total.label,P=i.total.formatter(n)):1===n.globals.series.length&&(P=E(n.globals.series[0],n),Z=n.globals.seriesNames[0]),Z&&(Z=i.name.formatter(Z,i.total.show,n)),i.name.show){var K=a.drawText({x:d,y:g+parseFloat(i.name.offsetY),text:Z,textAnchor:"middle",foreColor:o,fontSize:p,fontWeight:y,fontFamily:m});K.node.classList.add("apexcharts-datalabel-label"),r.add(K)}if(i.value.show){var ae=i.name.show?parseFloat(i.value.offsetY)+16:i.value.offsetY,le=a.drawText({x:d,y:g+ae,text:P,textAnchor:"middle",foreColor:l,fontWeight:i.value.fontWeight,fontSize:i.value.fontSize,fontFamily:i.value.fontFamily});le.node.classList.add("apexcharts-datalabel-value"),r.add(le)}return r}},{key:"printInnerLabels",value:function(i,t,n,a){var r,s=this.w;a?r=void 0===i.name.color?s.globals.colors[parseInt(a.parentNode.getAttribute("rel"),10)-1]:i.name.color:s.globals.series.length>1&&i.total.show&&(r=i.total.color);var o=s.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),l=s.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");n=(0,i.value.formatter)(n,s),a||"function"!=typeof i.total.formatter||(n=i.total.formatter(s)),t=i.name.formatter(t,t===i.total.label,s),null!==o&&(o.textContent=t),null!==l&&(l.textContent=n),null!==o&&(o.style.fill=r)}},{key:"printDataLabelsInner",value:function(i,t){var n=this.w,a=i.getAttribute("data:value"),r=n.globals.seriesNames[parseInt(i.parentNode.getAttribute("rel"),10)-1];n.globals.series.length>1&&this.printInnerLabels(t,r,a,i);var s=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==s&&(s.style.opacity=1)}},{key:"drawSpokes",value:function(i){var t=this,n=this.w,a=new L(this.ctx),r=n.config.plotOptions.polarArea.spokes;if(0!==r.strokeWidth){for(var s=[],o=360/n.globals.series.length,l=0;l<n.globals.series.length;l++)s.push(S.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize,n.config.plotOptions.pie.startAngle+o*l));s.forEach(function(d,g){var p=a.drawLine(d.x,d.y,t.centerX,t.centerY,Array.isArray(r.connectorColors)?r.connectorColors[g]:r.connectorColors);i.add(p)})}}},{key:"revertDataLabelsInner",value:function(i,t,n){var a=this,r=this.w,s=r.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),o=!1,l=r.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),d=function(m){var y=m.makeSliceOut,E=m.printLabel;Array.prototype.forEach.call(l,function(P){"true"===P.getAttribute("data:pieClicked")&&(y&&(o=!0),E&&a.printDataLabelsInner(P,t))})};if(d({makeSliceOut:!0,printLabel:!1}),t.total.show&&r.globals.series.length>1)o&&!t.total.showAlways?d({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(t,t.total.label,t.total.formatter(r));else if(d({makeSliceOut:!1,printLabel:!0}),!o)if(r.globals.selectedDataPoints.length&&r.globals.series.length>1)if(r.globals.selectedDataPoints[0].length>0){var g=r.globals.selectedDataPoints[0],p=r.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(g));this.printDataLabelsInner(p,t)}else s&&r.globals.selectedDataPoints.length&&0===r.globals.selectedDataPoints[0].length&&(s.style.opacity=0);else s&&r.globals.series.length>1&&(s.style.opacity=0)}}]),te}(),ni=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new L(this.ctx),this.lineColorArr=void 0!==t.globals.stroke.colors?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight+1.5*t.globals.goldenPadding:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.coreUtils=new W(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),void 0!==t.config.plotOptions.radar.size&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return f(te,[{key:"draw",value:function(i){var t=this,n=this.w,a=new we(this.ctx),r=[],s=new J(this.ctx);i.length&&(this.dataPointsLen=i[n.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var g=n.globals.gridHeight/2+n.config.plotOptions.radar.offsetY,p=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(n.globals.gridWidth/2+n.config.plotOptions.radar.offsetX||0,", ").concat(g||0,")")}),m=[],y=null,E=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),i.forEach(function(Z,K){var ae=Z.length===n.globals.dataPoints,le=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":ae,seriesName:S.escapeString(n.globals.seriesNames[K]),rel:K+1,"data:realIndex":K});t.dataRadiusOfPercent[K]=[],t.dataRadius[K]=[],t.angleArr[K]=[],Z.forEach(function(et,ct){var St=Math.abs(t.maxValue-t.minValue);et+=Math.abs(t.minValue),t.isLog&&(et=t.coreUtils.getLogVal(et,0)),t.dataRadiusOfPercent[K][ct]=et/St,t.dataRadius[K][ct]=t.dataRadiusOfPercent[K][ct]*t.size,t.angleArr[K][ct]=ct*t.disAngle}),m=t.getDataPointsPos(t.dataRadius[K],t.angleArr[K]);var h=t.createPaths(m,{x:0,y:0});y=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),E=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":K}),n.globals.delayedElements.push({el:y.node,index:K});var b={i:K,realIndex:K,animationDelay:K,initialSpeed:n.config.chart.animations.speed,dataChangeSpeed:n.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:n.globals.stroke.colors[K],strokeLineCap:n.config.stroke.lineCap},D=null;n.globals.previousPaths.length>0&&(D=t.getPreviousPath(K));for(var ee=0;ee<h.linePathsTo.length;ee++){var Ce=t.graphics.renderPaths(xe(xe({},b),{},{pathFrom:null===D?h.linePathsFrom[ee]:D,pathTo:h.linePathsTo[ee],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[K]:t.strokeWidth,fill:"none",drawShadow:!1}));le.add(Ce);var Ne=a.fillPath({seriesNumber:K}),Me=t.graphics.renderPaths(xe(xe({},b),{},{pathFrom:null===D?h.areaPathsFrom[ee]:D,pathTo:h.areaPathsTo[ee],strokeWidth:0,fill:Ne,drawShadow:!1}));n.config.chart.dropShadow.enabled&&new T(t.ctx).dropShadow(Me,Object.assign({},n.config.chart.dropShadow,{noUserSpaceOnUse:!0}),K),le.add(Me)}Z.forEach(function(et,ct){var St=new ue(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:K,dataPointIndex:ct}),At=t.graphics.drawMarker(m[ct].x,m[ct].y,St);At.attr("rel",ct),At.attr("j",ct),At.attr("index",K),At.node.setAttribute("default-marker-size",St.pSize);var Zt=t.graphics.group({class:"apexcharts-series-markers"});Zt&&Zt.add(At),y.add(Zt),le.add(y);var Yt=n.config.dataLabels;if(Yt.enabled){var ri=Yt.formatter(n.globals.series[K][ct],{seriesIndex:K,dataPointIndex:ct,w:n});s.plotDataLabelsText({x:m[ct].x,y:m[ct].y,text:ri,textAnchor:"middle",i:K,j:K,parent:E,offsetCorrection:!1,dataLabelsConfig:xe({},Yt)})}le.add(E)}),r.push(le)}),this.drawPolygons({parent:p}),n.config.xaxis.labels.show){var P=this.drawXAxisTexts();p.add(P)}return r.forEach(function(Z){p.add(Z)}),p.add(this.yaxisLabels),p}},{key:"drawPolygons",value:function(i){for(var t=this,n=this.w,a=i.parent,r=new ti(this.ctx),s=n.globals.yAxisScale[0].result.reverse(),o=s.length,l=[],d=this.size/(o-1),g=0;g<o;g++)l[g]=d*g;l.reverse();var p=[],m=[];l.forEach(function(y,E){var P=S.getPolygonPos(y,t.dataPointsLen),Z="";P.forEach(function(K,ae){if(0===E){var le=t.graphics.drawLine(K.x,K.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[ae]:t.polygons.connectorColors);m.push(le)}0===ae&&t.yaxisLabelsTextsPos.push({x:K.x,y:K.y}),Z+=K.x+","+K.y+" "}),p.push(Z)}),p.forEach(function(y,E){var P=t.polygons.strokeColors,Z=t.polygons.strokeWidth,K=t.graphics.drawPolygon(y,Array.isArray(P)?P[E]:P,Array.isArray(Z)?Z[E]:Z,n.globals.radarPolygons.fill.colors[E]);a.add(K)}),m.forEach(function(y){a.add(y)}),n.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(y,E){var P=r.drawYAxisTexts(y.x,y.y,E,s[E]);t.yaxisLabels.add(P)})}},{key:"drawXAxisTexts",value:function(){var i=this,t=this.w,n=t.config.xaxis.labels,a=this.graphics.group({class:"apexcharts-xaxis"}),r=S.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach(function(s,o){var l=t.config.xaxis.labels.formatter,d=new J(i.ctx);if(r[o]){var g=i.getTextPos(r[o],i.size),p=l(s,{seriesIndex:-1,dataPointIndex:o,w:t});d.plotDataLabelsText({x:g.newX,y:g.newY,text:p,textAnchor:g.textAnchor,i:o,j:o,parent:a,color:Array.isArray(n.style.colors)&&n.style.colors[o]?n.style.colors[o]:"#a8a8a8",dataLabelsConfig:xe({textAnchor:g.textAnchor,dropShadow:{enabled:!1}},n),offsetCorrection:!1})}}),a}},{key:"createPaths",value:function(i,t){var n=this,a=[],r=[],s=[],o=[];if(i.length){r=[this.graphics.move(t.x,t.y)],o=[this.graphics.move(t.x,t.y)];var l=this.graphics.move(i[0].x,i[0].y),d=this.graphics.move(i[0].x,i[0].y);i.forEach(function(g,p){l+=n.graphics.line(g.x,g.y),d+=n.graphics.line(g.x,g.y),p===i.length-1&&(l+="Z",d+="Z")}),a.push(l),s.push(d)}return{linePathsFrom:r,linePathsTo:a,areaPathsFrom:o,areaPathsTo:s}}},{key:"getTextPos",value:function(i,t){var n="middle",a=i.x,r=i.y;return Math.abs(i.x)>=10?i.x>0?(n="start",a+=10):i.x<0&&(n="end",a-=10):n="middle",Math.abs(i.y)>=t-10&&(i.y<0?r-=10:i.y>0&&(r+=10)),{textAnchor:n,newX:a,newY:r}}},{key:"getPreviousPath",value:function(i){for(var t=this.w,n=null,a=0;a<t.globals.previousPaths.length;a++){var r=t.globals.previousPaths[a];r.paths.length>0&&parseInt(r.realIndex,10)===parseInt(i,10)&&void 0!==t.globals.previousPaths[a].paths[0]&&(n=t.globals.previousPaths[a].paths[0].d)}return n}},{key:"getDataPointsPos",value:function(i,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;i=i||[],t=t||[];for(var a=[],r=0;r<n;r++){var s={};s.x=i[r]*Math.sin(t[r]),s.y=-i[r]*Math.cos(t[r]),a.push(s)}return a}}]),te}(),It=function(te){x(t,jt);var i=k(t);function t(n){var a;pe(this,t),(a=i.call(this,n)).ctx=n,a.w=n.w,a.animBeginArr=[0],a.animDur=0;var r=a.w;return a.startAngle=r.config.plotOptions.radialBar.startAngle,a.endAngle=r.config.plotOptions.radialBar.endAngle,a.totalAngle=Math.abs(r.config.plotOptions.radialBar.endAngle-r.config.plotOptions.radialBar.startAngle),a.trackStartAngle=r.config.plotOptions.radialBar.track.startAngle,a.trackEndAngle=r.config.plotOptions.radialBar.track.endAngle,a.donutDataLabels=a.w.config.plotOptions.radialBar.dataLabels,a.radialDataLabels=a.donutDataLabels,a.trackStartAngle||(a.trackStartAngle=a.startAngle),a.trackEndAngle||(a.trackEndAngle=a.endAngle),360===a.endAngle&&(a.endAngle=359.99),a.margin=parseInt(r.config.plotOptions.radialBar.track.margin,10),a}return f(t,[{key:"draw",value:function(n){var a=this.w,r=new L(this.ctx),s=r.group({class:"apexcharts-radialbar"});if(a.globals.noData)return s;var o=r.group(),l=this.defaultSize/2,d=a.globals.gridWidth/2,g=this.defaultSize/2.05;a.config.chart.sparkline.enabled||(g=g-a.config.stroke.width-a.config.chart.dropShadow.blur);var p=a.globals.fill.colors;if(a.config.plotOptions.radialBar.track.show){var m=this.drawTracks({size:g,centerX:d,centerY:l,colorArr:p,series:n});o.add(m)}var y=this.drawArcs({size:g,centerX:d,centerY:l,colorArr:p,series:n}),E=360;a.config.plotOptions.radialBar.startAngle<0&&(E=this.totalAngle);var P=(360-E)/360;if(a.globals.radialSize=g-g*P,this.radialDataLabels.value.show){var Z=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);a.globals.radialSize+=Z*P}return o.add(y.g),"front"===a.config.plotOptions.radialBar.hollow.position&&(y.g.add(y.elHollow),y.dataLabels&&y.g.add(y.dataLabels)),s.add(o),s}},{key:"drawTracks",value:function(n){var a=this.w,r=new L(this.ctx),s=r.group({class:"apexcharts-tracks"}),o=new T(this.ctx),l=new we(this.ctx),d=this.getStrokeWidth(n);n.size=n.size-d/2;for(var g=0;g<n.series.length;g++){var p=r.group({class:"apexcharts-radialbar-track apexcharts-track"});s.add(p),p.attr({rel:g+1}),n.size=n.size-d-this.margin;var m=a.config.plotOptions.radialBar.track,y=l.fillPath({seriesNumber:0,size:n.size,fillColors:Array.isArray(m.background)?m.background[g]:m.background,solid:!0}),E=this.trackStartAngle,P=this.trackEndAngle;Math.abs(P)+Math.abs(E)>=360&&(P=360-Math.abs(this.startAngle)-.1);var Z=r.drawPath({d:"",stroke:y,strokeWidth:d*parseInt(m.strokeWidth,10)/100,fill:"none",strokeOpacity:m.opacity,classes:"apexcharts-radialbar-area"});m.dropShadow.enabled&&o.dropShadow(Z,m.dropShadow),p.add(Z),Z.attr("id","apexcharts-radialbarTrack-"+g),this.animatePaths(Z,{centerX:n.centerX,centerY:n.centerY,endAngle:P,startAngle:E,size:n.size,i:g,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:a.globals.easing})}return s}},{key:"drawArcs",value:function(n){var a=this.w,r=new L(this.ctx),s=new we(this.ctx),o=new T(this.ctx),l=r.group(),d=this.getStrokeWidth(n);n.size=n.size-d/2;var g=a.config.plotOptions.radialBar.hollow.background,p=n.size-d*n.series.length-this.margin*n.series.length-d*parseInt(a.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,m=p-a.config.plotOptions.radialBar.hollow.margin;void 0!==a.config.plotOptions.radialBar.hollow.image&&(g=this.drawHollowImage(n,l,p,g));var y=this.drawHollow({size:m,centerX:n.centerX,centerY:n.centerY,fill:g||"transparent"});a.config.plotOptions.radialBar.hollow.dropShadow.enabled&&o.dropShadow(y,a.config.plotOptions.radialBar.hollow.dropShadow);var P=1;!this.radialDataLabels.total.show&&a.globals.series.length>1&&(P=0);var Z=null;this.radialDataLabels.show&&(Z=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:p,centerX:n.centerX,centerY:n.centerY,opacity:P})),"back"===a.config.plotOptions.radialBar.hollow.position&&(l.add(y),Z&&l.add(Z));var K=!1;a.config.plotOptions.radialBar.inverseOrder&&(K=!0);for(var ae=K?n.series.length-1:0;K?ae>=0:ae<n.series.length;K?ae--:ae++){var le=r.group({class:"apexcharts-series apexcharts-radial-series",seriesName:S.escapeString(a.globals.seriesNames[ae])});l.add(le),le.attr({rel:ae+1,"data:realIndex":ae}),this.ctx.series.addCollapsedClassToSeries(le,ae),n.size=n.size-d-this.margin;var h=s.fillPath({seriesNumber:ae,size:n.size,value:n.series[ae]}),b=this.startAngle,D=void 0,ee=S.negToZero(n.series[ae]>100?100:n.series[ae])/100,Ce=Math.round(this.totalAngle*ee)+this.startAngle,Ne=void 0;a.globals.dataChanged&&(D=this.startAngle,Ne=Math.round(this.totalAngle*S.negToZero(a.globals.previousPaths[ae])/100)+D),Math.abs(Ce)+Math.abs(b)>=360&&(Ce-=.01),Math.abs(Ne)+Math.abs(D)>=360&&(Ne-=.01);var Me=Ce-b,je=Array.isArray(a.config.stroke.dashArray)?a.config.stroke.dashArray[ae]:a.config.stroke.dashArray,Xe=r.drawPath({d:"",stroke:h,strokeWidth:d,fill:"none",fillOpacity:a.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+ae,strokeDashArray:je});L.setAttrs(Xe.node,{"data:angle":Me,"data:value":n.series[ae]}),a.config.chart.dropShadow.enabled&&o.dropShadow(Xe,a.config.chart.dropShadow,ae),o.setSelectionFilter(Xe,0,ae),this.addListeners(Xe,this.radialDataLabels),le.add(Xe),Xe.attr({index:0,j:ae});var ct=0;!this.initialAnim||a.globals.resized||a.globals.dataChanged||(ct=a.config.chart.animations.speed),a.globals.dataChanged&&(ct=a.config.chart.animations.dynamicAnimation.speed),this.animDur=ct/(1.2*n.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(Xe,{centerX:n.centerX,centerY:n.centerY,endAngle:Ce,startAngle:b,prevEndAngle:Ne,prevStartAngle:D,size:n.size,i:ae,totalItems:2,animBeginArr:this.animBeginArr,dur:ct,shouldSetPrevPaths:!0,easing:a.globals.easing})}return{g:l,elHollow:y,dataLabels:Z}}},{key:"drawHollow",value:function(n){var a=new L(this.ctx).drawCircle(2*n.size);return a.attr({class:"apexcharts-radialbar-hollow",cx:n.centerX,cy:n.centerY,r:n.size,fill:n.fill}),a}},{key:"drawHollowImage",value:function(n,a,r,s){var o=this.w,l=new we(this.ctx),d=S.randomId(),g=o.config.plotOptions.radialBar.hollow.image;if(o.config.plotOptions.radialBar.hollow.imageClipped)l.clippedImgArea({width:r,height:r,image:g,patternID:"pattern".concat(o.globals.cuid).concat(d)}),s="url(#pattern".concat(o.globals.cuid).concat(d,")");else{var p=o.config.plotOptions.radialBar.hollow.imageWidth,m=o.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===p&&void 0===m){var y=o.globals.dom.Paper.image(g).loaded(function(P){this.move(n.centerX-P.width/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,n.centerY-P.height/2+o.config.plotOptions.radialBar.hollow.imageOffsetY)});a.add(y)}else{var E=o.globals.dom.Paper.image(g).loaded(function(P){this.move(n.centerX-p/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,n.centerY-m/2+o.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(p,m)});a.add(E)}}return s}},{key:"getStrokeWidth",value:function(n){return n.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(n.series.length+1)-this.margin}}]),t}(),Pe=function(){function te(i){pe(this,te),this.w=i.w,this.lineCtx=i}return f(te,[{key:"sameValueSeriesFix",value:function(i,t){var n=this.w;if("line"===n.config.chart.type&&("gradient"===n.config.fill.type||"gradient"===n.config.fill.type[i])&&new W(this.lineCtx.ctx,n).seriesHaveSameValues(i)){var a=t[i].slice();a[a.length-1]=a[a.length-1]+1e-6,t[i]=a}return t}},{key:"calculatePoints",value:function(i){var t=i.series,a=i.x,r=i.y,s=i.i,o=i.j,l=i.prevY,d=this.w,g=[],p=[];if(0===o){var m=this.lineCtx.categoryAxisCorrection+d.config.markers.offsetX;d.globals.isXNumeric&&(m=(d.globals.seriesX[i.realIndex][0]-d.globals.minX)/this.lineCtx.xRatio+d.config.markers.offsetX),g.push(m),p.push(S.isNumber(t[s][0])?l+d.config.markers.offsetY:null),g.push(a+d.config.markers.offsetX),p.push(S.isNumber(t[s][o+1])?r+d.config.markers.offsetY:null)}else g.push(a+d.config.markers.offsetX),p.push(S.isNumber(t[s][o+1])?r+d.config.markers.offsetY:null);return{x:g,y:p}}},{key:"checkPreviousPaths",value:function(i){for(var t=i.pathFromLine,n=i.pathFromArea,a=i.realIndex,r=this.w,s=0;s<r.globals.previousPaths.length;s++){var o=r.globals.previousPaths[s];("line"===o.type||"area"===o.type)&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(a,10)&&("line"===o.type?(this.lineCtx.appendPathFrom=!1,t=r.globals.previousPaths[s].paths[0].d):"area"===o.type&&(this.lineCtx.appendPathFrom=!1,n=r.globals.previousPaths[s].paths[0].d,r.config.stroke.show&&r.globals.previousPaths[s].paths[1]&&(t=r.globals.previousPaths[s].paths[1].d)))}return{pathFromLine:t,pathFromArea:n}}},{key:"determineFirstPrevY",value:function(i){var t=i.i,n=i.series,a=i.prevY,r=i.lineYPosition,s=this.w;if(void 0!==n[t][0])a=(r=s.config.chart.stacked&&t>0?this.lineCtx.prevSeriesY[t-1][0]:this.lineCtx.zeroY)-n[t][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?n[t][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(s.config.chart.stacked&&t>0&&void 0===n[t][0])for(var o=t-1;o>=0;o--)if(null!=n[o][0]){a=r=this.lineCtx.prevSeriesY[o][0];break}return{prevY:a,lineYPosition:r}}}]),te}(),Ye=function(){function te(i,t,n){pe(this,te),this.ctx=i,this.w=i.w,this.xyRatios=t,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||n,this.scatter=new ke(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Pe(this),this.markers=new ue(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return f(te,[{key:"draw",value:function(i,t,n){var a=this.w,r=new L(this.ctx),s=a.globals.comboCharts?t:a.config.chart.type,o=r.group({class:"apexcharts-".concat(s,"-series apexcharts-plot-series")}),l=new W(this.ctx,a);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,i=l.getLogSeries(i),this.yRatio=l.getLogYRatios(this.yRatio);for(var d=[],g=0;g<i.length;g++){i=this.lineHelpers.sameValueSeriesFix(g,i);var p=a.globals.comboCharts?n[g]:g;this._initSerieVariables(i,g,p);var m=[],y=[],E=a.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,p),a.globals.isXNumeric&&a.globals.seriesX.length>0&&(E=(a.globals.seriesX[p][0]-a.globals.minX)/this.xRatio),y.push(E);var P,Z=E,K=Z,ae=this.zeroY;ae=this.lineHelpers.determineFirstPrevY({i:g,series:i,prevY:ae,lineYPosition:0}).prevY,m.push(ae),P=ae;var le=this._calculatePathsFrom({series:i,i:g,realIndex:p,prevX:K,prevY:ae}),h=this._iterateOverDataPoints({series:i,realIndex:p,i:g,x:E,y:1,pX:Z,pY:P,pathsFrom:le,linePaths:[],areaPaths:[],seriesIndex:n,lineYPosition:0,xArrj:y,yArrj:m});this._handlePaths({type:s,realIndex:p,i:g,paths:h}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),d.push(this.elSeries)}if(a.config.chart.stacked)for(var b=d.length;b>0;b--)o.add(d[b-1]);else for(var D=0;D<d.length;D++)o.add(d[D]);return o}},{key:"_initSerieVariables",value:function(i,t,n){var a=this.w,r=new L(this.ctx);this.xDivision=a.globals.gridWidth/(a.globals.dataPoints-("on"===a.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(a.config.stroke.width)?a.config.stroke.width[n]:a.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=n),this.isReversed=a.config.yaxis[this.yaxisIndex]&&a.config.yaxis[this.yaxisIndex].reversed,this.zeroY=a.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?a.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>a.globals.gridHeight||"end"===a.config.plotOptions.area.fillTo)&&(this.areaBottomY=a.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=r.group({class:"apexcharts-series",seriesName:S.escapeString(a.globals.seriesNames[n])}),this.elPointsMain=r.group({class:"apexcharts-series-markers-wrap","data:realIndex":n}),this.elDataLabelsWrap=r.group({class:"apexcharts-datalabels","data:realIndex":n}),this.elSeries.attr({"data:longestSeries":i[t].length===a.globals.dataPoints,rel:t+1,"data:realIndex":n}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(i){var t,n,a,r,s=i.series,o=i.i,l=i.realIndex,d=i.prevX,g=i.prevY,p=this.w,m=new L(this.ctx);if(null===s[o][0]){for(var y=0;y<s[o].length;y++)if(null!==s[o][y]){t=m.move(d=this.xDivision*y,g=this.zeroY-s[o][y]/this.yRatio[this.yaxisIndex]),n=m.move(d,this.areaBottomY);break}}else t=m.move(d,g),n=m.move(d,this.areaBottomY)+m.line(d,g);if(a=m.move(-1,this.zeroY)+m.line(-1,this.zeroY),r=m.move(-1,this.zeroY)+m.line(-1,this.zeroY),p.globals.previousPaths.length>0){var E=this.lineHelpers.checkPreviousPaths({pathFromLine:a,pathFromArea:r,realIndex:l});a=E.pathFromLine,r=E.pathFromArea}return{prevX:d,prevY:g,linePath:t,areaPath:n,pathFromLine:a,pathFromArea:r}}},{key:"_handlePaths",value:function(i){var t=i.type,n=i.realIndex,a=i.i,r=i.paths,s=this.w,o=new L(this.ctx),l=new we(this.ctx);this.prevSeriesY.push(r.yArrj),s.globals.seriesXvalues[n]=r.xArrj,s.globals.seriesYvalues[n]=r.yArrj;var d=s.config.forecastDataPoints;if(d.count>0){var g=s.globals.seriesXvalues[n][s.globals.seriesXvalues[n].length-d.count-1],p=o.drawRect(g,0,s.globals.gridWidth,s.globals.gridHeight,0);s.globals.dom.elForecastMask.appendChild(p.node);var m=o.drawRect(0,0,g,s.globals.gridHeight,0);s.globals.dom.elNonForecastMask.appendChild(m.node)}this.pointsChart||s.globals.delayedElements.push({el:this.elPointsMain.node,index:n});var y={i:a,realIndex:n,animationDelay:a,initialSpeed:s.config.chart.animations.speed,dataChangeSpeed:s.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if("area"===t)for(var E=l.fillPath({seriesNumber:n}),P=0;P<r.areaPaths.length;P++){var Z=o.renderPaths(xe(xe({},y),{},{pathFrom:r.pathFromArea,pathTo:r.areaPaths[P],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:E}));this.elSeries.add(Z)}if(s.config.stroke.show&&!this.pointsChart){var K=null;if("line"===t)K=l.fillPath({seriesNumber:n,i:a});else if("solid"===s.config.stroke.fill.type)K=s.globals.stroke.colors[n];else{var ae=s.config.fill;s.config.fill=s.config.stroke.fill,K=l.fillPath({seriesNumber:n,i:a}),s.config.fill=ae}for(var le=0;le<r.linePaths.length;le++){var h=xe(xe({},y),{},{pathFrom:r.pathFromLine,pathTo:r.linePaths[le],stroke:K,strokeWidth:this.strokeWidth,strokeLineCap:s.config.stroke.lineCap,fill:"none"}),b=o.renderPaths(h);if(this.elSeries.add(b),d.count>0){var D=o.renderPaths(h);D.node.setAttribute("stroke-dasharray",d.dashArray),d.strokeWidth&&D.node.setAttribute("stroke-width",d.strokeWidth),this.elSeries.add(D),D.attr("clip-path","url(#forecastMask".concat(s.globals.cuid,")")),b.attr("clip-path","url(#nonForecastMask".concat(s.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(i){for(var t=i.series,n=i.realIndex,a=i.i,r=i.x,s=i.y,o=i.pX,l=i.pY,d=i.pathsFrom,g=i.linePaths,p=i.areaPaths,m=i.seriesIndex,y=i.lineYPosition,E=i.xArrj,P=i.yArrj,Z=this.w,K=new L(this.ctx),ae=this.yRatio,le=d.prevY,h=d.linePath,b=d.areaPath,D=d.pathFromLine,ee=d.pathFromArea,Ce=S.isNumber(Z.globals.minYArr[n])?Z.globals.minYArr[n]:Z.globals.minY,Ne=Z.globals.dataPoints>1?Z.globals.dataPoints-1:Z.globals.dataPoints,Me=0;Me<Ne;Me++){var je=null==t[a][Me+1];if(Z.globals.isXNumeric){var Xe=Z.globals.seriesX[n][Me+1];void 0===Z.globals.seriesX[n][Me+1]&&(Xe=Z.globals.seriesX[n][Ne-1]),r=(Xe-Z.globals.minX)/this.xRatio}else r+=this.xDivision;y=Z.config.chart.stacked&&a>0&&Z.globals.collapsedSeries.length<Z.config.series.length-1?this.prevSeriesY[function(St){for(var At=St,Zt=0;Zt<Z.globals.series.length;Zt++)if(Z.globals.collapsedSeriesIndices.indexOf(St)>-1){At--;break}return At>=0?At:0}(a-1)][Me+1]:this.zeroY,s=je?y-Ce/ae[this.yaxisIndex]+2*(this.isReversed?Ce/ae[this.yaxisIndex]:0):y-t[a][Me+1]/ae[this.yaxisIndex]+2*(this.isReversed?t[a][Me+1]/ae[this.yaxisIndex]:0),E.push(r),P.push(s);var et=this.lineHelpers.calculatePoints({series:t,x:r,y:s,realIndex:n,i:a,j:Me,prevY:le}),ct=this._createPaths({series:t,i:a,realIndex:n,j:Me,x:r,y:s,pX:o,pY:l,linePath:h,areaPath:b,linePaths:g,areaPaths:p,seriesIndex:m});p=ct.areaPaths,g=ct.linePaths,o=ct.pX,l=ct.pY,b=ct.areaPath,h=ct.linePath,this.appendPathFrom&&(D+=K.line(r,this.zeroY),ee+=K.line(r,this.zeroY)),this.handleNullDataPoints(t,et,a,Me,n),this._handleMarkersAndLabels({pointsPos:et,series:t,x:r,y:s,prevY:le,i:a,j:Me,realIndex:n})}return{yArrj:P,xArrj:E,pathFromArea:ee,areaPaths:p,pathFromLine:D,linePaths:g}}},{key:"_handleMarkersAndLabels",value:function(i){var t=i.pointsPos,n=i.i,a=i.j,r=i.realIndex,s=this.w,o=new J(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,a,{realIndex:r,pointsPos:t,zRatio:this.zRatio,elParent:this.elPointsMain});else{s.globals.series[n].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var l=this.markers.plotChartMarkers(t,r,a+1);null!==l&&this.elPointsMain.add(l)}var d=o.drawDataLabel(t,r,a+1,null);null!==d&&this.elDataLabelsWrap.add(d)}},{key:"_createPaths",value:function(i){var t=i.series,n=i.i,a=i.realIndex,r=i.j,s=i.x,o=i.y,l=i.pX,d=i.pY,g=i.linePath,p=i.areaPath,m=i.linePaths,y=i.areaPaths,E=i.seriesIndex,P=this.w,Z=new L(this.ctx),K=P.config.stroke.curve,ae=this.areaBottomY;if(Array.isArray(P.config.stroke.curve)&&(K=Array.isArray(E)?P.config.stroke.curve[E[n]]:P.config.stroke.curve[n]),"smooth"===K){var le=.35*(s-l);P.globals.hasNullValues?(null!==t[n][r]&&(null!==t[n][r+1]?(g=Z.move(l,d)+Z.curve(l+le,d,s-le,o,s+1,o),p=Z.move(l+1,d)+Z.curve(l+le,d,s-le,o,s+1,o)+Z.line(s,ae)+Z.line(l,ae)+"z"):(g=Z.move(l,d),p=Z.move(l,d)+"z")),m.push(g),y.push(p)):(g+=Z.curve(l+le,d,s-le,o,s,o),p+=Z.curve(l+le,d,s-le,o,s,o)),l=s,d=o,r===t[n].length-2&&(p=p+Z.curve(l,d,s,o,s,ae)+Z.move(s,o)+"z",P.globals.hasNullValues||(m.push(g),y.push(p)))}else null===t[n][r+1]&&(g+=Z.move(s,o),p=p+Z.line(P.globals.isXNumeric?(P.globals.seriesX[a][r]-P.globals.minX)/this.xRatio:s-this.xDivision,ae)+Z.move(s,o)+"z"),null===t[n][r]&&(g+=Z.move(s,o),p+=Z.move(s,ae)),"stepline"===K?(g=g+Z.line(s,null,"H")+Z.line(null,o,"V"),p=p+Z.line(s,null,"H")+Z.line(null,o,"V")):"straight"===K&&(g+=Z.line(s,o),p+=Z.line(s,o)),r===t[n].length-2&&(p=p+Z.line(s,ae)+Z.move(s,o)+"z",m.push(g),y.push(p));return{linePaths:m,areaPaths:y,pX:l,pY:d,linePath:g,areaPath:p}}},{key:"handleNullDataPoints",value:function(i,t,n,a,r){var s=this.w;if(null===i[n][a]&&s.config.markers.showNullDataPoints||1===i[n].length){var o=this.markers.plotChartMarkers(t,r,a+1,this.strokeWidth-s.config.markers.strokeWidth/2,!0);null!==o&&this.elPointsMain.add(o)}}}]),te}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function te(o,l,d,g){this.xoffset=o,this.yoffset=l,this.height=g,this.width=d,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(p){var m,y=[],E=this.xoffset,P=this.yoffset,Z=r(p)/this.height,K=r(p)/this.width;if(this.width>=this.height)for(m=0;m<p.length;m++)y.push([E,P,E+Z,P+p[m]/Z]),P+=p[m]/Z;else for(m=0;m<p.length;m++)y.push([E,P,E+p[m]/K,P+K]),E+=p[m]/K;return y},this.cutArea=function(p){var m;if(this.width>=this.height){var y=p/this.height;m=new te(this.xoffset+y,this.yoffset,this.width-y,this.height)}else{var P=p/this.width;m=new te(this.xoffset,this.yoffset+P,this.width,this.height-P)}return m}}function i(o,l,d,g,p){return g=void 0===g?0:g,p=void 0===p?0:p,function(m){var y,E,P=[];for(y=0;y<m.length;y++)for(E=0;E<m[y].length;E++)P.push(m[y][E]);return P}(t(function(m,y){var E,P=[],Z=y/r(m);for(E=0;E<m.length;E++)P[E]=m[E]*Z;return P}(o,l*d),[],new te(g,p,l,d),[]))}function t(o,l,d,g){var p,m,y,E,P,Z,K;if(0!==o.length)return p=d.shortestEdge(),P=m=o[0],Z=p,0===(E=l).length||((K=E.slice()).push(P),n(E,Z)>=n(K,Z))?(l.push(m),t(o.slice(1),l,d,g)):(y=d.cutArea(r(l),g),g.push(d.getCoordinates(l)),t(o,[],y,g)),g;g.push(d.getCoordinates(l))}function n(o,l){var d=Math.min.apply(Math,o),g=Math.max.apply(Math,o),p=r(o);return Math.max(Math.pow(l,2)*g/Math.pow(p,2),Math.pow(p,2)/(Math.pow(l,2)*d))}function a(o){return o&&o.constructor===Array}function r(o){var l,d=0;for(l=0;l<o.length;l++)d+=o[l];return d}function s(o){var l,d=0;if(a(o[0]))for(l=0;l<o.length;l++)d+=s(o[l]);else d=r(o);return d}return function o(l,d,g,p,m){p=void 0===p?0:p,m=void 0===m?0:m;var y,E,P=[],Z=[];if(a(l[0])){for(E=0;E<l.length;E++)P[E]=s(l[E]);for(y=i(P,d,g,p,m),E=0;E<l.length;E++)Z.push(o(l[E],y[E][2]-y[E][0],y[E][3]-y[E][1],y[E][0],y[E][1]))}else Z=i(l,d,g,p,m);return Z}}();var he,De,Qe=function(){function te(i,t){pe(this,te),this.ctx=i,this.w=i.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new qt(i),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return f(te,[{key:"draw",value:function(i){var t=this,n=this.w,a=new L(this.ctx),r=new we(this.ctx),s=a.group({class:"apexcharts-treemap"});if(n.globals.noData)return s;var o=[];return i.forEach(function(l){var d=l.map(function(g){return Math.abs(g)});o.push(d)}),this.negRange=this.helpers.checkColorRange(),n.config.series.forEach(function(l,d){l.data.forEach(function(g){Array.isArray(t.labels[d])||(t.labels[d]=[]),t.labels[d].push(g.x)})}),window.TreemapSquared.generate(o,n.globals.gridWidth,n.globals.gridHeight).forEach(function(l,d){var g=a.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:S.escapeString(n.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});if(n.config.chart.dropShadow.enabled){var p=n.config.chart.dropShadow;new T(t.ctx).dropShadow(s,p,d)}var m=a.group({class:"apexcharts-data-labels"});l.forEach(function(y,E){var P=y[0],Z=y[1],K=y[2],ae=y[3],le=a.drawRect(P,Z,K-P,ae-Z,0,"#fff",1,t.strokeWidth,n.config.plotOptions.treemap.useFillColorAsStroke?b:n.globals.stroke.colors[d]);le.attr({cx:P,cy:Z,index:d,i:d,j:E,width:K-P,height:ae-Z});var h=t.helpers.getShadeColor(n.config.chart.type,d,E,t.negRange),b=h.color;void 0!==n.config.series[d].data[E]&&n.config.series[d].data[E].fillColor&&(b=n.config.series[d].data[E].fillColor);var D=r.fillPath({color:b,seriesNumber:d,dataPointIndex:E});le.node.classList.add("apexcharts-treemap-rect"),le.attr({fill:D}),t.helpers.addListeners(le);var ee={x:P+(K-P)/2,y:Z+(ae-Z)/2,width:0,height:0},Ce={x:P,y:Z,width:K-P,height:ae-Z};if(n.config.chart.animations.enabled&&!n.globals.dataChanged){var Ne=1;n.globals.resized||(Ne=n.config.chart.animations.speed),t.animateTreemap(le,ee,Ce,Ne)}n.globals.dataChanged&&t.dynamicAnim.enabled&&n.globals.shouldAnimate&&(n.globals.previousPaths[d]&&n.globals.previousPaths[d][E]&&n.globals.previousPaths[d][E].rect&&(ee=n.globals.previousPaths[d][E].rect),t.animateTreemap(le,ee,Ce,t.dynamicAnim.speed));var je=t.getFontSize(y),Xe=n.config.dataLabels.formatter(t.labels[d][E],{value:n.globals.series[d][E],seriesIndex:d,dataPointIndex:E,w:n}),et=t.helpers.calculateDataLabels({text:Xe,x:(P+K)/2,y:(Z+ae)/2+t.strokeWidth/2+je/3,i:d,j:E,colorProps:h,fontSize:je,series:i});n.config.dataLabels.enabled&&et&&t.rotateToFitLabel(et,Xe,P,Z,K,ae),g.add(le),null!==et&&g.add(et)}),g.add(m),s.add(g)}),s}},{key:"getFontSize",value:function(i){var s,t=this.w,o=function l(d){var g,p=0;if(Array.isArray(d[0]))for(g=0;g<d.length;g++)p+=l(d[g]);else for(g=0;g<d.length;g++)p+=d[g].length;return p}(this.labels)/function l(d){var g,p=0;if(Array.isArray(d[0]))for(g=0;g<d.length;g++)p+=l(d[g]);else for(g=0;g<d.length;g++)p+=1;return p}(this.labels);return s=Math.pow((i[2]-i[0])*(i[3]-i[1]),.5),Math.min(s/o,parseInt(t.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(i,t,n,a,r,s){var o=new L(this.ctx),l=o.getTextRects(t);if(l.width+5>r-n&&l.width<=s-a){var d=o.rotateAroundCenter(i.node);i.node.setAttribute("transform","rotate(-90 ".concat(d.x," ").concat(d.y,")"))}}},{key:"animateTreemap",value:function(i,t,n,a){var r=new A(this.ctx);r.animateRect(i,{x:t.x,y:t.y,width:t.width,height:t.height},{x:n.x,y:n.y,width:n.width,height:n.height},a,function(){r.animationCompleted(i)})}}]),te}(),st=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return f(te,[{key:"calculateTimeScaleTicks",value:function(i,t){var n=this,a=this.w;if(a.globals.allSeriesCollapsed)return a.globals.labels=[],a.globals.timescaleLabels=[],[];var r=new ne(this.ctx),s=(t-i)/864e5;this.determineInterval(s),a.globals.disableZoomIn=!1,a.globals.disableZoomOut=!1,s<.00011574074074074075?a.globals.disableZoomIn=!0:s>5e4&&(a.globals.disableZoomOut=!0);var o=r.getTimeUnitsfromTimestamp(i,t,this.utc),l=a.globals.gridWidth/s,d=l/24,g=d/60,p=g/60,m=Math.floor(24*s),y=Math.floor(1440*s),E=Math.floor(86400*s),P=Math.floor(s),Z=Math.floor(s/30),K=Math.floor(s/365),ae={minMillisecond:o.minMillisecond,minSecond:o.minSecond,minMinute:o.minMinute,minHour:o.minHour,minDate:o.minDate,minMonth:o.minMonth,minYear:o.minYear},le={firstVal:ae,currentMillisecond:ae.minMillisecond,currentSecond:ae.minSecond,currentMinute:ae.minMinute,currentHour:ae.minHour,currentMonthDate:ae.minDate,currentDate:ae.minDate,currentMonth:ae.minMonth,currentYear:ae.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:d,minutesWidthOnXAxis:g,secondsWidthOnXAxis:p,numberOfSeconds:E,numberOfMinutes:y,numberOfHours:m,numberOfDays:P,numberOfMonths:Z,numberOfYears:K};switch(this.tickInterval){case"years":this.generateYearScale(le);break;case"months":case"half_year":this.generateMonthScale(le);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(le);break;case"hours":this.generateHourScale(le);break;case"minutes_fives":case"minutes":this.generateMinuteScale(le);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(le)}var h=this.timeScaleArray.map(function(b){var D={position:b.position,unit:b.unit,year:b.year,day:b.day?b.day:1,hour:b.hour?b.hour:0,month:b.month+1};return"month"===b.unit?xe(xe({},D),{},{day:1,value:b.value+1}):"day"===b.unit||"hour"===b.unit?xe(xe({},D),{},{value:b.value}):"minute"===b.unit?xe(xe({},D),{},{value:b.value,minute:b.value}):"second"===b.unit?xe(xe({},D),{},{value:b.value,minute:b.minute,second:b.second}):b});return h.filter(function(b){var D=1,ee=Math.ceil(a.globals.gridWidth/120),Ce=b.value;void 0!==a.config.xaxis.tickAmount&&(ee=a.config.xaxis.tickAmount),h.length>ee&&(D=Math.floor(h.length/ee));var Ne=!1,Me=!1;switch(n.tickInterval){case"years":"year"===b.unit&&(Ne=!0);break;case"half_year":D=7,"year"===b.unit&&(Ne=!0);break;case"months":D=1,"year"===b.unit&&(Ne=!0);break;case"months_fortnight":D=15,"year"!==b.unit&&"month"!==b.unit||(Ne=!0),30===Ce&&(Me=!0);break;case"months_days":D=10,"month"===b.unit&&(Ne=!0),30===Ce&&(Me=!0);break;case"week_days":D=8,"month"===b.unit&&(Ne=!0);break;case"days":D=1,"month"===b.unit&&(Ne=!0);break;case"hours":"day"===b.unit&&(Ne=!0);break;case"minutes_fives":case"seconds_fives":Ce%5!=0&&(Me=!0);break;case"seconds_tens":Ce%10!=0&&(Me=!0)}if("hours"===n.tickInterval||"minutes_fives"===n.tickInterval||"seconds_tens"===n.tickInterval||"seconds_fives"===n.tickInterval){if(!Me)return!0}else if((Ce%D==0||Ne)&&!Me)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(i,t){var n=this.w,a=this.formatDates(i),r=this.removeOverlappingTS(a);n.globals.timescaleLabels=r.slice(),new gt(this.ctx).plotCoords()}},{key:"determineInterval",value:function(i){var t=24*i,n=60*t;switch(!0){case i/365>5:this.tickInterval="years";break;case i>800:this.tickInterval="half_year";break;case i>180:this.tickInterval="months";break;case i>90:this.tickInterval="months_fortnight";break;case i>60:this.tickInterval="months_days";break;case i>30:this.tickInterval="week_days";break;case i>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case n>15:this.tickInterval="minutes_fives";break;case n>5:this.tickInterval="minutes";break;case n>1:this.tickInterval="seconds_tens";break;case 60*n>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(i){var t=i.firstVal,n=i.currentMonth,a=i.currentYear,r=i.daysWidthOnXAxis,s=i.numberOfYears,o=t.minYear,l=0,d=new ne(this.ctx),g="year";if(t.minDate>1||t.minMonth>0){var p=d.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);l=(d.determineDaysOfYear(t.minYear)-p+1)*r,this.timeScaleArray.push({position:l,value:o=t.minYear+1,unit:g,year:o,month:S.monthMod(n+1)})}else 1===t.minDate&&0===t.minMonth&&this.timeScaleArray.push({position:l,value:o,unit:g,year:a,month:S.monthMod(n+1)});for(var m=o,y=l,E=0;E<s;E++)m++,y=d.determineDaysOfYear(m-1)*r+y,this.timeScaleArray.push({position:y,value:m,unit:g,year:m,month:1})}},{key:"generateMonthScale",value:function(i){var t=i.firstVal,n=i.currentMonthDate,a=i.currentMonth,r=i.currentYear,s=i.daysWidthOnXAxis,o=i.numberOfMonths,l=a,d=0,g=new ne(this.ctx),p="month",m=0;if(t.minDate>1){d=(g.determineDaysOfMonths(a+1,t.minYear)-n+1)*s,l=S.monthMod(a+1);var y=r+m,E=S.monthMod(l),P=l;0===l&&(p="year",P=y,E=1,y+=m+=1),this.timeScaleArray.push({position:d,value:P,unit:p,year:y,month:E})}else this.timeScaleArray.push({position:d,value:l,unit:p,year:r,month:S.monthMod(a)});for(var Z=l+1,K=d,ae=0,le=1;ae<o;ae++,le++){0===(Z=S.monthMod(Z))?(p="year",m+=1):p="month";var h=this._getYear(r,Z,m);K=g.determineDaysOfMonths(Z,h)*s+K,this.timeScaleArray.push({position:K,value:0===Z?h:Z,unit:p,year:h,month:0===Z?1:Z}),Z++}}},{key:"generateDayScale",value:function(i){var t=i.firstVal,n=i.currentMonth,a=i.currentYear,r=i.hoursWidthOnXAxis,s=i.numberOfDays,o=new ne(this.ctx),l="day",d=t.minDate+1,g=d,p=function(le,h,b){return le>o.determineDaysOfMonths(h+1,b)&&(g=1,l="month",y=h+=1),h},m=(24-t.minHour)*r,y=d,E=p(g,n,a);0===t.minHour&&1===t.minDate?(m=0,y=S.monthMod(t.minMonth),l="month",g=t.minDate,s++):1!==t.minDate&&0===t.minHour&&0===t.minMinute&&(m=0,y=d=t.minDate,E=p(g=d,n,a)),this.timeScaleArray.push({position:m,value:y,unit:l,year:this._getYear(a,E,0),month:S.monthMod(E),day:g});for(var P=m,Z=0;Z<s;Z++){l="day",E=p(g+=1,E,this._getYear(a,E,0));var K=this._getYear(a,E,0);P=24*r+P;var ae=1===g?S.monthMod(E):g;this.timeScaleArray.push({position:P,value:ae,unit:l,year:K,month:S.monthMod(E),day:ae})}}},{key:"generateHourScale",value:function(i){var t=i.firstVal,n=i.currentDate,a=i.currentMonth,r=i.currentYear,s=i.minutesWidthOnXAxis,o=i.numberOfHours,l=new ne(this.ctx),d="hour",p=function(D,ee){return D>l.determineDaysOfMonths(ee+1,r)?ee+=1:ee},m=60-(t.minMinute+t.minSecond/60),y=m*s,E=t.minHour+1,P=E+1;60===m&&(y=0,P=(E=t.minHour)+1);var D,ee,Z=n,K=p(Z,a);this.timeScaleArray.push({position:y,value:E,unit:d,day:Z,hour:P,year:r,month:S.monthMod(K)});for(var ae=y,le=0;le<o;le++){d="hour",P>=24&&(P=0,d="day",K=(D=Z+=1,ee=K,D>l.determineDaysOfMonths(ee+1,r)&&(Z=1,ee+=1),{month:ee,date:Z}).month,K=p(Z,K));var h=this._getYear(r,K,0);this.timeScaleArray.push({position:ae=0===P&&0===le?m*s:60*s+ae,value:0===P?Z:P,unit:d,hour:P,day:Z,year:h,month:S.monthMod(K)}),P++}}},{key:"generateMinuteScale",value:function(i){for(var d=i.minutesWidthOnXAxis,p=i.numberOfMinutes,m=i.currentMinute+1,y=i.currentDate,E=i.currentMonth,P=i.currentYear,Z=i.currentHour,K=(60-i.currentSecond-i.currentMillisecond/1e3)*i.secondsWidthOnXAxis,ae=0;ae<p;ae++)m>=60&&(m=0,24===(Z+=1)&&(Z=0)),this.timeScaleArray.push({position:K,value:m,unit:"minute",hour:Z,minute:m,day:y,year:this._getYear(P,E,0),month:S.monthMod(E)}),K+=d,m++}},{key:"generateSecondScale",value:function(i){for(var d=i.secondsWidthOnXAxis,g=i.numberOfSeconds,p=i.currentSecond+1,m=i.currentMinute,y=i.currentDate,E=i.currentMonth,P=i.currentYear,Z=i.currentHour,K=(1e3-i.currentMillisecond)/1e3*d,ae=0;ae<g;ae++)p>=60&&(p=0,++m>=60&&(m=0,24==++Z&&(Z=0))),this.timeScaleArray.push({position:K,value:p,unit:"second",hour:Z,minute:m,second:p,day:y,year:this._getYear(P,E,0),month:S.monthMod(E)}),K+=d,p++}},{key:"createRawDateString",value:function(i,t){var n=i.year;return 0===i.month&&(i.month=1),n+="-"+("0"+i.month.toString()).slice(-2),n+="day"===i.unit?"day"===i.unit?"-"+("0"+t).slice(-2):"-01":"-"+("0"+(i.day?i.day:"1")).slice(-2),n+="hour"===i.unit?"hour"===i.unit?"T"+("0"+t).slice(-2):"T00":"T"+("0"+(i.hour?i.hour:"0")).slice(-2),n+="minute"===i.unit?":"+("0"+t).slice(-2):":"+(i.minute?("0"+i.minute).slice(-2):"00"),n+="second"===i.unit?":"+("0"+t).slice(-2):":00",this.utc&&(n+=".000Z"),n}},{key:"formatDates",value:function(i){var t=this,n=this.w;return i.map(function(a){var r=a.value.toString(),s=new ne(t.ctx),o=t.createRawDateString(a,r),l=s.getDate(s.parseDate(o));if(t.utc||(l=s.getDate(s.parseDateWithTimezone(o))),void 0===n.config.xaxis.labels.format){var d="dd MMM",g=n.config.xaxis.labels.datetimeFormatter;"year"===a.unit&&(d=g.year),"month"===a.unit&&(d=g.month),"day"===a.unit&&(d=g.day),"hour"===a.unit&&(d=g.hour),"minute"===a.unit&&(d=g.minute),"second"===a.unit&&(d=g.second),r=s.formatDate(l,d)}else r=s.formatDate(l,n.config.xaxis.labels.format);return{dateString:o,position:a.position,value:r,unit:a.unit,year:a.year,month:a.month}})}},{key:"removeOverlappingTS",value:function(i){var t,n=this,a=new L(this.ctx),r=!1;i.length>0&&i[0].value&&i.every(function(l){return l.value.length===i[0].value.length})&&(r=!0,t=a.getTextRects(i[0].value).width);var s=0;return i.map(function(l,d){if(d>0&&n.w.config.xaxis.labels.hideOverlappingLabels){var g=r?t:a.getTextRects(i[s].value).width;return l.position>i[s].position+g+10?(s=d,l):null}return l}).filter(function(l){return null!==l})}},{key:"_getYear",value:function(i,t,n){return i+Math.floor(t/12)+n}}]),te}(),kt=function(){function te(i,t){pe(this,te),this.ctx=t,this.w=t.w,this.el=i}return f(te,[{key:"setupElements",value:function(){var i=this.w.globals,t=this.w.config,n=t.chart.type;i.axisCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(n)>-1,i.xyCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble"].indexOf(n)>-1,i.isBarHorizontal=("bar"===t.chart.type||"rangeBar"===t.chart.type||"boxPlot"===t.chart.type)&&t.plotOptions.bar.horizontal,i.chartClass=".apexcharts"+i.chartID,i.dom.baseEl=this.el,i.dom.elWrap=document.createElement("div"),L.setAttrs(i.dom.elWrap,{id:i.chartClass.substring(1),class:"apexcharts-canvas "+i.chartClass.substring(1)}),this.el.appendChild(i.dom.elWrap),i.dom.Paper=new window.SVG.Doc(i.dom.elWrap),i.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(t.chart.offsetX,", ").concat(t.chart.offsetY,")")}),i.dom.Paper.node.style.background=t.chart.background,this.setSVGDimensions(),i.dom.elGraphical=i.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),i.dom.elAnnotations=i.dom.Paper.group().attr({class:"apexcharts-annotations"}),i.dom.elDefs=i.dom.Paper.defs(),i.dom.elLegendWrap=document.createElement("div"),i.dom.elLegendWrap.classList.add("apexcharts-legend"),i.dom.elWrap.appendChild(i.dom.elLegendWrap),i.dom.Paper.add(i.dom.elGraphical),i.dom.elGraphical.add(i.dom.elDefs)}},{key:"plotChartType",value:function(i,t){var n=this.w,a=n.config,r=n.globals,s={series:[],i:[]},o={series:[],i:[]},l={series:[],i:[]},d={series:[],i:[]},g={series:[],i:[]},p={series:[],i:[]},m={series:[],i:[]};r.series.map(function(b,D){var ee=0;void 0!==i[D].type?("column"===i[D].type||"bar"===i[D].type?(r.series.length>1&&a.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),g.series.push(b),g.i.push(D),ee++,n.globals.columnSeries=g.series):"area"===i[D].type?(o.series.push(b),o.i.push(D),ee++):"line"===i[D].type?(s.series.push(b),s.i.push(D),ee++):"scatter"===i[D].type?(l.series.push(b),l.i.push(D)):"bubble"===i[D].type?(d.series.push(b),d.i.push(D),ee++):"candlestick"===i[D].type?(p.series.push(b),p.i.push(D),ee++):"boxPlot"===i[D].type?(m.series.push(b),m.i.push(D),ee++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),ee>1&&(r.comboCharts=!0)):(s.series.push(b),s.i.push(D))});var y=new Ye(this.ctx,t),E=new Ut(this.ctx,t);this.ctx.pie=new jt(this.ctx);var P=new It(this.ctx);this.ctx.rangeBar=new v(this.ctx,t);var Z=new ni(this.ctx),K=[];if(r.comboCharts){if(o.series.length>0&&K.push(y.draw(o.series,"area",o.i)),g.series.length>0)if(n.config.chart.stacked){var ae=new Vt(this.ctx,t);K.push(ae.draw(g.series,g.i))}else this.ctx.bar=new O(this.ctx,t),K.push(this.ctx.bar.draw(g.series,g.i));if(s.series.length>0&&K.push(y.draw(s.series,"line",s.i)),p.series.length>0&&K.push(E.draw(p.series,p.i)),m.series.length>0&&K.push(E.draw(m.series,m.i)),l.series.length>0){var le=new Ye(this.ctx,t,!0);K.push(le.draw(l.series,"scatter",l.i))}if(d.series.length>0){var h=new Ye(this.ctx,t,!0);K.push(h.draw(d.series,"bubble",d.i))}}else switch(a.chart.type){case"line":K=y.draw(r.series,"line");break;case"area":K=y.draw(r.series,"area");break;case"bar":a.chart.stacked?K=new Vt(this.ctx,t).draw(r.series):(this.ctx.bar=new O(this.ctx,t),K=this.ctx.bar.draw(r.series));break;case"candlestick":case"boxPlot":K=new Ut(this.ctx,t).draw(r.series);break;case"rangeBar":K=this.ctx.rangeBar.draw(r.series);break;case"heatmap":K=new Nt(this.ctx,t).draw(r.series);break;case"treemap":K=new Qe(this.ctx,t).draw(r.series);break;case"pie":case"donut":case"polarArea":K=this.ctx.pie.draw(r.series);break;case"radialBar":K=P.draw(r.series);break;case"radar":K=Z.draw(r.series);break;default:K=y.draw(r.series)}return K}},{key:"setSVGDimensions",value:function(){var i=this.w.globals,t=this.w.config;i.svgWidth=t.chart.width,i.svgHeight=t.chart.height;var n=S.getDimensions(this.el),a=t.chart.width.toString().split(/[0-9]+/g).pop();"%"===a?S.isNumber(n[0])&&(0===n[0].width&&(n=S.getDimensions(this.el.parentNode)),i.svgWidth=n[0]*parseInt(t.chart.width,10)/100):"px"!==a&&""!==a||(i.svgWidth=parseInt(t.chart.width,10));var r=t.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==i.svgHeight&&""!==i.svgHeight)if("%"===r){var s=S.getDimensions(this.el.parentNode);i.svgHeight=s[1]*parseInt(t.chart.height,10)/100}else i.svgHeight=parseInt(t.chart.height,10);else i.svgHeight=i.axisCharts?i.svgWidth/1.61:i.svgWidth/1.2;i.svgWidth<0&&(i.svgWidth=0),i.svgHeight<0&&(i.svgHeight=0),L.setAttrs(i.dom.Paper.node,{width:i.svgWidth,height:i.svgHeight}),"%"!==r&&(i.dom.Paper.node.parentNode.parentNode.style.minHeight=i.svgHeight+(t.chart.sparkline.enabled?0:i.axisCharts?t.chart.parentHeightOffset:0)+"px"),i.dom.elWrap.style.width=i.svgWidth+"px",i.dom.elWrap.style.height=i.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var i=this.w.globals;L.setAttrs(i.dom.elGraphical.node,{transform:"translate("+i.translateX+", "+i.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var i=this.w,t=i.globals,n=0,a=i.config.chart.sparkline.enabled?1:15;a+=i.config.grid.padding.bottom,"top"!==i.config.legend.position&&"bottom"!==i.config.legend.position||!i.config.legend.show||i.config.legend.floating||(n=new ft(this.ctx).legendHelpers.getLegendBBox().clwh+10);var r=i.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),s=2.05*i.globals.radialSize;if(r&&!i.config.chart.sparkline.enabled&&0!==i.config.plotOptions.radialBar.startAngle){var o=S.getBoundingClientRect(r);s=o.bottom,s=Math.max(2.05*i.globals.radialSize,o.bottom-o.top)}var d=s+t.translateY+n+a;t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",d),i.config.chart.height&&String(i.config.chart.height).indexOf("%")>0||(t.dom.elWrap.style.height=d+"px",L.setAttrs(t.dom.Paper.node,{height:d}),t.dom.Paper.node.parentNode.parentNode.style.minHeight=d+"px")}},{key:"coreCalculations",value:function(){new tt(this.ctx).init()}},{key:"resetGlobals",value:function(){var i=this,t=function(){return i.w.config.series.map(function(r){return[]})},n=new ge,a=this.w.globals;n.initGlobalVars(a),a.seriesXvalues=t(),a.seriesYvalues=t()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var i=null,t=this.w;if(t.globals.axisCharts){if("back"===t.config.xaxis.crosshairs.position&&new fe(this.ctx).drawXCrosshairs(),"back"===t.config.yaxis[0].crosshairs.position&&new fe(this.ctx).drawYCrosshairs(),"datetime"===t.config.xaxis.type&&void 0===t.config.xaxis.labels.formatter){this.ctx.timeScale=new st(this.ctx);var n=[];isFinite(t.globals.minX)&&isFinite(t.globals.maxX)&&!t.globals.isBarHorizontal?n=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minX,t.globals.maxX):t.globals.isBarHorizontal&&(n=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minY,t.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(n)}i=new W(this.ctx).getCalculatedRatios()}return i}},{key:"updateSourceChart",value:function(i){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:i.w.globals.minX,max:i.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var i=this,t=this.w;if(t.config.chart.brush.enabled&&"function"!=typeof t.config.chart.events.selection){var n=t.config.chart.brush.targets||[t.config.chart.brush.target];n.forEach(function(a){var r=ApexCharts.getChartByID(a);r.w.globals.brushSource=i.ctx,"function"!=typeof r.w.config.chart.events.zoomed&&(r.w.config.chart.events.zoomed=function(){i.updateSourceChart(r)}),"function"!=typeof r.w.config.chart.events.scrolled&&(r.w.config.chart.events.scrolled=function(){i.updateSourceChart(r)})}),t.config.chart.events.selection=function(a,r){n.forEach(function(s){var o=ApexCharts.getChartByID(s),l=S.clone(t.config.yaxis);if(t.config.chart.brush.autoScaleYaxis&&1===o.w.globals.series.length){var d=new He(o);l=d.autoScaleY(o,l,r)}var g=o.w.config.yaxis.reduce(function(p,m,y){return[].concat(X(p),[xe(xe({},o.w.config.yaxis[y]),{},{min:l[0].min,max:l[0].max})])},[]);o.ctx.updateHelpers._updateOptions({xaxis:{min:r.xaxis.min,max:r.xaxis.max},yaxis:g},!1,!1,!1,!1)})}}}}]),te}(),Lt=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w}return f(te,[{key:"_updateOptions",value:function(i){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(o){var l=[t.ctx];r&&(l=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(l=[t.ctx],t.ctx.w.globals.isExecCalled=!1),l.forEach(function(d,g){var p=d.w;if(p.globals.shouldAnimate=a,n||(p.globals.resized=!0,p.globals.dataChanged=!0,a&&d.series.getPreviousPaths()),i&&"object"===ce(i)&&(d.config=new H(i),i=W.extendArrayProps(d.config,i,p),d.w.globals.chartID!==t.ctx.w.globals.chartID&&delete i.series,p.config=S.extend(p.config,i),s&&(p.globals.lastXAxis=i.xaxis?S.clone(i.xaxis):[],p.globals.lastYAxis=i.yaxis?S.clone(i.yaxis):[],p.globals.initialConfig=S.extend({},p.config),p.globals.initialSeries=S.clone(p.config.series),i.series))){for(var m=0;m<p.globals.collapsedSeriesIndices.length;m++){var y=p.config.series[p.globals.collapsedSeriesIndices[m]];p.globals.collapsedSeries[m].data=p.globals.axisCharts?y.data.slice():y}for(var E=0;E<p.globals.ancillaryCollapsedSeriesIndices.length;E++){var P=p.config.series[p.globals.ancillaryCollapsedSeriesIndices[E]];p.globals.ancillaryCollapsedSeries[E].data=p.globals.axisCharts?P.data.slice():P}d.series.emptyCollapsedSeries(p.config.series)}return d.update(i).then(function(){g===l.length-1&&o(d)})})})}},{key:"_updateSeries",value:function(i,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(r){var s,o=n.w;return o.globals.shouldAnimate=t,o.globals.dataChanged=!0,t&&n.ctx.series.getPreviousPaths(),o.globals.axisCharts?(0===(s=i.map(function(l,d){return n._extendSeries(l,d)})).length&&(s=[{data:[]}]),o.config.series=s):o.config.series=i.slice(),a&&(o.globals.initialSeries=S.clone(o.config.series)),n.ctx.update().then(function(){r(n.ctx)})})}},{key:"_extendSeries",value:function(i,t){var n=this.w,a=n.config.series[t];return xe(xe({},n.config.series[t]),{},{name:i.name?i.name:a&&a.name,color:i.color?i.color:a&&a.color,type:i.type?i.type:a&&a.type,data:i.data?i.data:a&&a.data})}},{key:"toggleDataPointSelection",value:function(i,t){var n=this.w,a=null,r=".apexcharts-series[data\\:realIndex='".concat(i,"']");return n.globals.axisCharts?a=n.globals.dom.Paper.select("".concat(r," path[j='").concat(t,"'], ").concat(r," circle[j='").concat(t,"'], ").concat(r," rect[j='").concat(t,"']")).members[0]:void 0===t&&(a=n.globals.dom.Paper.select("".concat(r," path[j='").concat(i,"']")).members[0],"pie"!==n.config.chart.type&&"polarArea"!==n.config.chart.type&&"donut"!==n.config.chart.type||this.ctx.pie.pieClicked(i)),a?(new L(this.ctx).pathMouseDown(a,null),a.node?a.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(i){var t=this.w;if(["min","max"].forEach(function(a){void 0!==i.xaxis[a]&&(t.config.xaxis[a]=i.xaxis[a],t.globals.lastXAxis[a]=i.xaxis[a])}),i.xaxis.categories&&i.xaxis.categories.length&&(t.config.xaxis.categories=i.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var n=new U(i);i=n.convertCatToNumericXaxis(i,this.ctx)}return i}},{key:"forceYAxisUpdate",value:function(i){var t=this.w;return t.config.chart.stacked&&"100%"===t.config.chart.stackType&&(Array.isArray(i.yaxis)?i.yaxis.forEach(function(n,a){i.yaxis[a].min=0,i.yaxis[a].max=100}):(i.yaxis.min=0,i.yaxis.max=100)),i}},{key:"revertDefaultAxisMinMax",value:function(i){var t=this,n=this.w,a=n.globals.lastXAxis,r=n.globals.lastYAxis;i&&i.xaxis&&(a=i.xaxis),i&&i.yaxis&&(r=i.yaxis),n.config.xaxis.min=a.min,n.config.xaxis.max=a.max,n.config.yaxis.map(function(o,l){n.globals.zoomed||void 0!==r[l]?function(o){void 0!==r[o]&&(n.config.yaxis[o].min=r[o].min,n.config.yaxis[o].max=r[o].max)}(l):void 0!==t.ctx.opts.yaxis[l]&&(o.min=t.ctx.opts.yaxis[l].min,o.max=t.ctx.opts.yaxis[l].max)})}}]),te}();he="undefined"!=typeof window?window:void 0,De=function(te,i){var t=(void 0!==this?this:te).SVG=function(h){if(t.supported)return h=new t.Doc(h),t.parser.draw||t.prepare(),h};if(t.ns="http://www.w3.org/2000/svg",t.xmlns="http://www.w3.org/2000/xmlns/",t.xlink="http://www.w3.org/1999/xlink",t.svgjs="http://svgjs.dev",t.supported=!0,!t.supported)return!1;t.did=1e3,t.eid=function(h){return"Svgjs"+g(h)+t.did++},t.create=function(h){var b=i.createElementNS(this.ns,h);return b.setAttribute("id",this.eid(h)),b},t.extend=function(){var h,b;b=(h=[].slice.call(arguments)).pop();for(var D=h.length-1;D>=0;D--)if(h[D])for(var ee in b)h[D].prototype[ee]=b[ee];t.Set&&t.Set.inherit&&t.Set.inherit()},t.invent=function(h){var b="function"==typeof h.create?h.create:function(){this.constructor.call(this,t.create(h.create))};return h.inherit&&(b.prototype=new h.inherit),h.extend&&t.extend(b,h.extend),h.construct&&t.extend(h.parent||t.Container,h.construct),b},t.adopt=function(h){return h?h.instance?h.instance:((b="svg"==h.nodeName?h.parentNode instanceof te.SVGElement?new t.Nested:new t.Doc:"linearGradient"==h.nodeName?new t.Gradient("linear"):"radialGradient"==h.nodeName?new t.Gradient("radial"):t[g(h.nodeName)]?new(t[g(h.nodeName)]):new t.Element(h)).type=h.nodeName,b.node=h,h.instance=b,b instanceof t.Doc&&b.namespace().defs(),b.setData(JSON.parse(h.getAttribute("svgjs:data"))||{}),b):null;var b},t.prepare=function(){var h=i.getElementsByTagName("body")[0],b=(h?new t.Doc(h):t.adopt(i.documentElement).nested()).size(2,0);t.parser={body:h||i.documentElement,draw:b.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:b.polyline().node,path:b.path().node,native:t.create("svg")}},t.parser={native:t.create("svg")},i.addEventListener("DOMContentLoaded",function(){t.parser.draw||t.prepare()},!1),t.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},t.utils={map:function(h,b){for(var D=h.length,ee=[],Ce=0;Ce<D;Ce++)ee.push(b(h[Ce]));return ee},filter:function(h,b){for(var D=h.length,ee=[],Ce=0;Ce<D;Ce++)b(h[Ce])&&ee.push(h[Ce]);return ee},filterSVGElements:function(h){return this.filter(h,function(b){return b instanceof te.SVGElement})}},t.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},t.Color=function(h){var b,D;this.r=0,this.g=0,this.b=0,h&&("string"==typeof h?t.regex.isRgb.test(h)?(b=t.regex.rgb.exec(h.replace(t.regex.whitespace,"")),this.r=parseInt(b[1]),this.g=parseInt(b[2]),this.b=parseInt(b[3])):t.regex.isHex.test(h)&&(b=t.regex.hex.exec(4==(D=h).length?["#",D.substring(1,2),D.substring(1,2),D.substring(2,3),D.substring(2,3),D.substring(3,4),D.substring(3,4)].join(""):D),this.r=parseInt(b[1],16),this.g=parseInt(b[2],16),this.b=parseInt(b[3],16)):"object"===ce(h)&&(this.r=h.r,this.g=h.g,this.b=h.b))},t.extend(t.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+p(this.r)+p(this.g)+p(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(h){return this.destination=new t.Color(h),this},at:function(h){return this.destination?new t.Color({r:~~(this.r+(this.destination.r-this.r)*(h=h<0?0:h>1?1:h)),g:~~(this.g+(this.destination.g-this.g)*h),b:~~(this.b+(this.destination.b-this.b)*h)}):this}}),t.Color.test=function(h){return t.regex.isHex.test(h+="")||t.regex.isRgb.test(h)},t.Color.isRgb=function(h){return h&&"number"==typeof h.r&&"number"==typeof h.g&&"number"==typeof h.b},t.Color.isColor=function(h){return t.Color.isRgb(h)||t.Color.test(h)},t.Array=function(h,b){0==(h=(h||[]).valueOf()).length&&b&&(h=b.valueOf()),this.value=this.parse(h)},t.extend(t.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(h){return h=h.valueOf(),Array.isArray(h)?h:this.split(h)}}),t.PointArray=function(h,b){t.Array.call(this,h,b||[[0,0]])},t.PointArray.prototype=new t.Array,t.PointArray.prototype.constructor=t.PointArray;for(var n={M:function(h,b,D){return b.x=D.x=h[0],b.y=D.y=h[1],["M",b.x,b.y]},L:function(h,b){return b.x=h[0],b.y=h[1],["L",h[0],h[1]]},H:function(h,b){return b.x=h[0],["H",h[0]]},V:function(h,b){return b.y=h[0],["V",h[0]]},C:function(h,b){return b.x=h[4],b.y=h[5],["C",h[0],h[1],h[2],h[3],h[4],h[5]]},Q:function(h,b){return b.x=h[2],b.y=h[3],["Q",h[0],h[1],h[2],h[3]]},Z:function(h,b,D){return b.x=D.x,b.y=D.y,["Z"]}},a="mlhvqtcsaz".split(""),r=0,s=a.length;r<s;++r)n[a[r]]=function(h){return function(b,D,ee){if("H"==h)b[0]=b[0]+D.x;else if("V"==h)b[0]=b[0]+D.y;else if("A"==h)b[5]=b[5]+D.x,b[6]=b[6]+D.y;else for(var Ce=0,Ne=b.length;Ce<Ne;++Ce)b[Ce]=b[Ce]+(Ce%2?D.y:D.x);if(n&&"function"==typeof n[h])return n[h](b,D,ee)}}(a[r].toUpperCase());t.PathArray=function(h,b){t.Array.call(this,h,b||[["M",0,0]])},t.PathArray.prototype=new t.Array,t.PathArray.prototype.constructor=t.PathArray,t.extend(t.PathArray,{toString:function(){return function(h){for(var b=0,D=h.length,ee="";b<D;b++)ee+=h[b][0],null!=h[b][1]&&(ee+=h[b][1],null!=h[b][2]&&(ee+=" ",ee+=h[b][2],null!=h[b][3]&&(ee+=" ",ee+=h[b][3],ee+=" ",ee+=h[b][4],null!=h[b][5]&&(ee+=" ",ee+=h[b][5],ee+=" ",ee+=h[b][6],null!=h[b][7]&&(ee+=" ",ee+=h[b][7])))));return ee+" "}(this.value)},move:function(h,b){return this.bbox(),this},at:function(h){if(!this.destination)return this;for(var b=this.value,D=this.destination.value,ee=[],Ce=new t.PathArray,Ne=0,Me=b.length;Ne<Me;Ne++){ee[Ne]=[b[Ne][0]];for(var je=1,Xe=b[Ne].length;je<Xe;je++)ee[Ne][je]=b[Ne][je]+(D[Ne][je]-b[Ne][je])*h;"A"===ee[Ne][0]&&(ee[Ne][4]=+(0!=ee[Ne][4]),ee[Ne][5]=+(0!=ee[Ne][5]))}return Ce.value=ee,Ce},parse:function(h){if(h instanceof t.PathArray)return h.valueOf();var b,D={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};h="string"==typeof h?h.replace(t.regex.numbersWithDots,l).replace(t.regex.pathLetters," $& ").replace(t.regex.hyphen,"$1 -").trim().split(t.regex.delimiter):h.reduce(function(Xe,et){return[].concat.call(Xe,et)},[]);var ee=[],Ce=new t.Point,Ne=new t.Point,Me=0,je=h.length;do{t.regex.isPathLetter.test(h[Me])?(b=h[Me],++Me):"M"==b?b="L":"m"==b&&(b="l"),ee.push(n[b].call(null,h.slice(Me,Me+=D[b.toUpperCase()]).map(parseFloat),Ce,Ne))}while(je>Me);return ee},bbox:function(){return t.parser.draw||t.prepare(),t.parser.path.setAttribute("d",this.toString()),t.parser.path.getBBox()}}),t.Number=t.invent({create:function(h,b){this.value=0,this.unit=b||"","number"==typeof h?this.value=isNaN(h)?0:isFinite(h)?h:h<0?-34e37:34e37:"string"==typeof h?(b=h.match(t.regex.numberAndUnit))&&(this.value=parseFloat(b[1]),"%"==b[5]?this.value/=100:"s"==b[5]&&(this.value*=1e3),this.unit=b[5]):h instanceof t.Number&&(this.value=h.valueOf(),this.unit=h.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(h){return h=new t.Number(h),new t.Number(this+h,this.unit||h.unit)},minus:function(h){return h=new t.Number(h),new t.Number(this-h,this.unit||h.unit)},times:function(h){return h=new t.Number(h),new t.Number(this*h,this.unit||h.unit)},divide:function(h){return h=new t.Number(h),new t.Number(this/h,this.unit||h.unit)},to:function(h){var b=new t.Number(this);return"string"==typeof h&&(b.unit=h),b},morph:function(h){return this.destination=new t.Number(h),h.relative&&(this.destination.value+=this.value),this},at:function(h){return this.destination?new t.Number(this.destination).minus(this).times(h).plus(this):this}}}),t.Element=t.invent({create:function(h){this._stroke=t.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=h)&&(this.type=h.nodeName,this.node.instance=this,this._stroke=h.getAttribute("stroke")||this._stroke)},extend:{x:function(h){return this.attr("x",h)},y:function(h){return this.attr("y",h)},cx:function(h){return null==h?this.x()+this.width()/2:this.x(h-this.width()/2)},cy:function(h){return null==h?this.y()+this.height()/2:this.y(h-this.height()/2)},move:function(h,b){return this.x(h).y(b)},center:function(h,b){return this.cx(h).cy(b)},width:function(h){return this.attr("width",h)},height:function(h){return this.attr("height",h)},size:function(h,b){var D=m(this,h,b);return this.width(new t.Number(D.width)).height(new t.Number(D.height))},clone:function(h){this.writeDataToDom();var b=P(this.node.cloneNode(!0));return h?h.add(b):this.after(b),b},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(h){return this.after(h).remove(),h},addTo:function(h){return h.put(this)},putIn:function(h){return h.add(this)},id:function(h){return this.attr("id",h)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var h=this.attr("class");return null==h?[]:h.trim().split(t.regex.delimiter)},hasClass:function(h){return-1!=this.classes().indexOf(h)},addClass:function(h){if(!this.hasClass(h)){var b=this.classes();b.push(h),this.attr("class",b.join(" "))}return this},removeClass:function(h){return this.hasClass(h)&&this.attr("class",this.classes().filter(function(b){return b!=h}).join(" ")),this},toggleClass:function(h){return this.hasClass(h)?this.removeClass(h):this.addClass(h)},reference:function(h){return t.get(this.attr(h))},parent:function(h){var b=this;if(!b.node.parentNode)return null;if(b=t.adopt(b.node.parentNode),!h)return b;for(;b&&b.node instanceof te.SVGElement;){if("string"==typeof h?b.matches(h):b instanceof h)return b;if(!b.node.parentNode||"#document"==b.node.parentNode.nodeName)return null;b=t.adopt(b.node.parentNode)}},doc:function(){return this instanceof t.Doc?this:this.parent(t.Doc)},parents:function(h){var b=[],D=this;do{if(!(D=D.parent(h))||!D.node)break;b.push(D)}while(D.parent);return b},matches:function(h){return((b=this.node).matches||b.matchesSelector||b.msMatchesSelector||b.mozMatchesSelector||b.webkitMatchesSelector||b.oMatchesSelector).call(b,h);var b},native:function(){return this.node},svg:function(h){var b=i.createElement("svg");if(!(h&&this instanceof t.Parent))return b.appendChild(h=i.createElement("svg")),this.writeDataToDom(),h.appendChild(this.node.cloneNode(!0)),b.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");b.innerHTML="<svg>"+h.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var D=0,ee=b.firstChild.childNodes.length;D<ee;D++)this.node.appendChild(b.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(h){return this.dom=h,this},is:function(h){return this instanceof h}}}),t.easing={"-":function(h){return h},"<>":function(h){return-Math.cos(h*Math.PI)/2+.5},">":function(h){return Math.sin(h*Math.PI/2)},"<":function(h){return 1-Math.cos(h*Math.PI/2)}},t.morph=function(h){return function(b,D){return new t.MorphObj(b,D).at(h)}},t.Situation=t.invent({create:function(h){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new t.Number(h.duration).valueOf(),this.delay=new t.Number(h.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=h.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),t.FX=t.invent({create:function(h){this._target=h,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(h,b,D){"object"===ce(h)&&(b=h.ease,D=h.delay,h=h.duration);var ee=new t.Situation({duration:h||1e3,delay:D||0,ease:t.easing[b||"-"]||b});return this.queue(ee),this},target:function(h){return h&&h instanceof t.Element?(this._target=h,this):this._target},timeToAbsPos:function(h){return(h-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(h){return this.situation.duration/this._speed*h+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=te.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){te.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(h){return("function"==typeof h||h instanceof t.Situation)&&this.situations.push(h),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof t.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var h,b=this.situation;if(b.init)return this;for(var D in b.animations){h=this.target()[D](),Array.isArray(h)||(h=[h]),Array.isArray(b.animations[D])||(b.animations[D]=[b.animations[D]]);for(var ee=h.length;ee--;)b.animations[D][ee]instanceof t.Number&&(h[ee]=new t.Number(h[ee])),b.animations[D][ee]=h[ee].morph(b.animations[D][ee])}for(var D in b.attrs)b.attrs[D]=new t.MorphObj(this.target().attr(D),b.attrs[D]);for(var D in b.styles)b.styles[D]=new t.MorphObj(this.target().style(D),b.styles[D]);return b.initialTransformation=this.target().matrixify(),b.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(h,b){var D=this.active;return this.active=!1,b&&this.clearQueue(),h&&this.situation&&(!D&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(h){var b=this.last();return this.target().on("finished.fx",function D(ee){ee.detail.situation==b&&(h.call(this,b),this.off("finished.fx",D))}),this._callStart()},during:function(h){var b=this.last(),D=function(ee){ee.detail.situation==b&&h.call(this,ee.detail.pos,t.morph(ee.detail.pos),ee.detail.eased,b)};return this.target().off("during.fx",D).on("during.fx",D),this.after(function(){this.off("during.fx",D)}),this._callStart()},afterAll:function(h){var b=function D(ee){h.call(this),this.off("allfinished.fx",D)};return this.target().off("allfinished.fx",b).on("allfinished.fx",b),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(h,b,D){return this.last()[D||"animations"][h]=b,this._callStart()},step:function(h){var b,D,ee;h||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(b=Math.max(this.absPos,0),D=Math.floor(b),!0===this.situation.loops||D<this.situation.loops?(this.pos=b-D,ee=this.situation.loop,this.situation.loop=D):(this.absPos=this.situation.loops,this.pos=1,ee=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-ee)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var Ce=this.situation.ease(this.pos);for(var Ne in this.situation.once)Ne>this.lastPos&&Ne<=Ce&&(this.situation.once[Ne].call(this.target(),this.pos,Ce),delete this.situation.once[Ne]);return this.active&&this.target().fire("during",{pos:this.pos,eased:Ce,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=Ce,this):this},eachAt:function(){var h,b=this,D=this.target(),ee=this.situation;for(var Ce in ee.animations)h=[].concat(ee.animations[Ce]).map(function(je){return"string"!=typeof je&&je.at?je.at(ee.ease(b.pos),b.pos):je}),D[Ce].apply(D,h);for(var Ce in ee.attrs)h=[Ce].concat(ee.attrs[Ce]).map(function(Xe){return"string"!=typeof Xe&&Xe.at?Xe.at(ee.ease(b.pos),b.pos):Xe}),D.attr.apply(D,h);for(var Ce in ee.styles)h=[Ce].concat(ee.styles[Ce]).map(function(Xe){return"string"!=typeof Xe&&Xe.at?Xe.at(ee.ease(b.pos),b.pos):Xe}),D.style.apply(D,h);if(ee.transforms.length){h=ee.initialTransformation,Ce=0;for(var Ne=ee.transforms.length;Ce<Ne;Ce++){var Me=ee.transforms[Ce];Me instanceof t.Matrix?h=Me.relative?h.multiply((new t.Matrix).morph(Me).at(ee.ease(this.pos))):h.morph(Me).at(ee.ease(this.pos)):(Me.relative||Me.undo(h.extract()),h=h.multiply(Me.at(ee.ease(this.pos))))}D.matrix(h)}return this},once:function(h,b,D){var ee=this.last();return D||(h=ee.ease(h)),ee.once[h]=b,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:t.Element,construct:{animate:function(h,b,D){return(this.fx||(this.fx=new t.FX(this))).animate(h,b,D)},delay:function(h){return(this.fx||(this.fx=new t.FX(this))).delay(h)},stop:function(h,b){return this.fx&&this.fx.stop(h,b),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),t.MorphObj=t.invent({create:function(h,b){return t.Color.isColor(b)?new t.Color(h).morph(b):t.regex.delimiter.test(h)?t.regex.pathLetters.test(h)?new t.PathArray(h).morph(b):new t.Array(h).morph(b):t.regex.numberAndUnit.test(b)?new t.Number(h).morph(b):(this.value=h,void(this.destination=b))},extend:{at:function(h,b){return b<1?this.value:this.destination},valueOf:function(){return this.value}}}),t.extend(t.FX,{attr:function(h,b,D){if("object"===ce(h))for(var ee in h)this.attr(ee,h[ee]);else this.add(h,b,"attrs");return this},plot:function(h,b,D,ee){return 4==arguments.length?this.plot([h,b,D,ee]):this.add("plot",new(this.target().morphArray)(h))}}),t.Box=t.invent({create:function(h,b,D,ee){if(!("object"!==ce(h)||h instanceof t.Element))return t.Box.call(this,null!=h.left?h.left:h.x,null!=h.top?h.top:h.y,h.width,h.height);4==arguments.length&&(this.x=h,this.y=b,this.width=D,this.height=ee),Z(this)}}),t.BBox=t.invent({create:function(h){if(t.Box.apply(this,[].slice.call(arguments)),h instanceof t.Element){var b;try{if(!i.documentElement.contains){for(var D=h.node;D.parentNode;)D=D.parentNode;if(D!=i)throw new Error("Element not in the dom")}b=h.node.getBBox()}catch(Ce){if(h instanceof t.Shape){t.parser.draw||t.prepare();var ee=h.clone(t.parser.draw.instance).show();ee&&ee.node&&"function"==typeof ee.node.getBBox&&(b=ee.node.getBBox()),ee&&"function"==typeof ee.remove&&ee.remove()}else b={x:h.node.clientLeft,y:h.node.clientTop,width:h.node.clientWidth,height:h.node.clientHeight}}t.Box.call(this,b)}},inherit:t.Box,parent:t.Element,construct:{bbox:function(){return new t.BBox(this)}}}),t.BBox.prototype.constructor=t.BBox,t.Matrix=t.invent({create:function(h){var b=E([1,0,0,1,0,0]);h=null===h?b:h instanceof t.Element?h.matrixify():"string"==typeof h?E(h.split(t.regex.delimiter).map(parseFloat)):6==arguments.length?E([].slice.call(arguments)):Array.isArray(h)?E(h):h&&"object"===ce(h)?h:b;for(var D=ae.length-1;D>=0;--D)this[ae[D]]=null!=h[ae[D]]?h[ae[D]]:b[ae[D]]},extend:{extract:function(){var h=y(this,0,1);y(this,1,0);var b=180/Math.PI*Math.atan2(h.y,h.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(b*Math.PI/180)+this.f*Math.sin(b*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(b*Math.PI/180)+this.e*Math.sin(-b*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:b,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new t.Matrix(this)}},clone:function(){return new t.Matrix(this)},morph:function(h){return this.destination=new t.Matrix(h),this},multiply:function(h){return new t.Matrix(this.native().multiply((b=h,b instanceof t.Matrix||(b=new t.Matrix(b)),b).native()));var b},inverse:function(){return new t.Matrix(this.native().inverse())},translate:function(h,b){return new t.Matrix(this.native().translate(h||0,b||0))},native:function(){for(var h=t.parser.native.createSVGMatrix(),b=ae.length-1;b>=0;b--)h[ae[b]]=this[ae[b]];return h},toString:function(){return"matrix("+K(this.a)+","+K(this.b)+","+K(this.c)+","+K(this.d)+","+K(this.e)+","+K(this.f)+")"}},parent:t.Element,construct:{ctm:function(){return new t.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof t.Nested){var h=this.rect(1,1),b=h.node.getScreenCTM();return h.remove(),new t.Matrix(b)}return new t.Matrix(this.node.getScreenCTM())}}}),t.Point=t.invent({create:function(h,b){var D;D=Array.isArray(h)?{x:h[0],y:h[1]}:"object"===ce(h)?{x:h.x,y:h.y}:null!=h?{x:h,y:null!=b?b:h}:{x:0,y:0},this.x=D.x,this.y=D.y},extend:{clone:function(){return new t.Point(this)},morph:function(h,b){return this.destination=new t.Point(h,b),this}}}),t.extend(t.Element,{point:function(h,b){return new t.Point(h,b).transform(this.screenCTM().inverse())}}),t.extend(t.Element,{attr:function(h,b,D){if(null==h){for(h={},D=(b=this.node.attributes).length-1;D>=0;D--)h[b[D].nodeName]=t.regex.isNumber.test(b[D].nodeValue)?parseFloat(b[D].nodeValue):b[D].nodeValue;return h}if("object"===ce(h))for(var ee in h)this.attr(ee,h[ee]);else if(null===b)this.node.removeAttribute(h);else{if(null==b)return null==(b=this.node.getAttribute(h))?t.defaults.attrs[h]:t.regex.isNumber.test(b)?parseFloat(b):b;"stroke-width"==h?this.attr("stroke",parseFloat(b)>0?this._stroke:null):"stroke"==h&&(this._stroke=b),"fill"!=h&&"stroke"!=h||(t.regex.isImage.test(b)&&(b=this.doc().defs().image(b,0,0)),b instanceof t.Image&&(b=this.doc().defs().pattern(0,0,function(){this.add(b)}))),"number"==typeof b?b=new t.Number(b):t.Color.isColor(b)?b=new t.Color(b):Array.isArray(b)&&(b=new t.Array(b)),"leading"==h?this.leading&&this.leading(b):"string"==typeof D?this.node.setAttributeNS(D,h,b.toString()):this.node.setAttribute(h,b.toString()),!this.rebuild||"font-size"!=h&&"x"!=h||this.rebuild(h,b)}return this}}),t.extend(t.Element,{transform:function(h,b){var D;return"object"!==ce(h)?(D=new t.Matrix(this).extract(),"string"==typeof h?D[h]:D):(D=new t.Matrix(this),b=!!b||!!h.relative,null!=h.a&&(D=b?D.multiply(new t.Matrix(h)):new t.Matrix(h)),this.attr("transform",D))}}),t.extend(t.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(t.regex.transforms).slice(0,-1).map(function(h){var b=h.trim().split("(");return[b[0],b[1].split(t.regex.delimiter).map(function(D){return parseFloat(D)})]}).reduce(function(h,b){return"matrix"==b[0]?h.multiply(E(b[1])):h[b[0]].apply(h,b[1])},new t.Matrix)},toParent:function(h){if(this==h)return this;var b=this.screenCTM(),D=h.screenCTM().inverse();return this.addTo(h).untransform().transform(D.multiply(b)),this},toDoc:function(){return this.toParent(this.doc())}}),t.Transformation=t.invent({create:function(h,b){if(arguments.length>1&&"boolean"!=typeof b)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(h))for(var D=0,ee=this.arguments.length;D<ee;++D)this[this.arguments[D]]=h[D];else if(h&&"object"===ce(h))for(D=0,ee=this.arguments.length;D<ee;++D)this[this.arguments[D]]=h[this.arguments[D]];this.inversed=!1,!0===b&&(this.inversed=!0)}}),t.Translate=t.invent({parent:t.Matrix,inherit:t.Transformation,create:function(h,b){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),t.extend(t.Element,{style:function(h,b){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===ce(h))for(var D in h)this.style(D,h[D]);else{if(!t.regex.isCss.test(h))return this.node.style[d(h)];for(h=h.split(/\s*;\s*/).filter(function(ee){return!!ee}).map(function(ee){return ee.split(/\s*:\s*/)});b=h.pop();)this.style(b[0],b[1])}else this.node.style[d(h)]=null===b||t.regex.isBlank.test(b)?"":b;return this}}),t.Parent=t.invent({create:function(h){this.constructor.call(this,h)},inherit:t.Element,extend:{children:function(){return t.utils.map(t.utils.filterSVGElements(this.node.childNodes),function(h){return t.adopt(h)})},add:function(h,b){return null==b?this.node.appendChild(h.node):h.node!=this.node.childNodes[b]&&this.node.insertBefore(h.node,this.node.childNodes[b]),this},put:function(h,b){return this.add(h,b),h},has:function(h){return this.index(h)>=0},index:function(h){return[].slice.call(this.node.childNodes).indexOf(h.node)},get:function(h){return t.adopt(this.node.childNodes[h])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(h,b){for(var D=this.children(),ee=0,Ce=D.length;ee<Ce;ee++)D[ee]instanceof t.Element&&h.apply(D[ee],[ee,D]),b&&D[ee]instanceof t.Container&&D[ee].each(h,b);return this},removeElement:function(h){return this.node.removeChild(h.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),t.extend(t.Parent,{ungroup:function(h,b){return 0===b||this instanceof t.Defs||this.node==t.parser.draw||(h=h||(this instanceof t.Doc?this:this.parent(t.Parent)),b=b||1/0,this.each(function(){return this instanceof t.Defs?this:this instanceof t.Parent?this.ungroup(h,b-1):this.toParent(h)}),this.node.firstChild||this.remove()),this},flatten:function(h,b){return this.ungroup(h,b)}}),t.Container=t.invent({create:function(h){this.constructor.call(this,h)},inherit:t.Parent}),t.ViewBox=t.invent({parent:t.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(h){t.Element.prototype[h]=function(b){return t.on(this.node,h,b),this}}),t.listeners=[],t.handlerMap=[],t.listenerId=0,t.on=function(h,b,D,ee,Ce){var Ne=D.bind(ee||h.instance||h),Me=(t.handlerMap.indexOf(h)+1||t.handlerMap.push(h))-1,je=b.split(".")[0],Xe=b.split(".")[1]||"*";t.listeners[Me]=t.listeners[Me]||{},t.listeners[Me][je]=t.listeners[Me][je]||{},t.listeners[Me][je][Xe]=t.listeners[Me][je][Xe]||{},D._svgjsListenerId||(D._svgjsListenerId=++t.listenerId),t.listeners[Me][je][Xe][D._svgjsListenerId]=Ne,h.addEventListener(je,Ne,Ce||{passive:!0})},t.off=function(h,b,D){var ee=t.handlerMap.indexOf(h),Ce=b&&b.split(".")[0],Ne=b&&b.split(".")[1],Me="";if(-1!=ee)if(D){if("function"==typeof D&&(D=D._svgjsListenerId),!D)return;t.listeners[ee][Ce]&&t.listeners[ee][Ce][Ne||"*"]&&(h.removeEventListener(Ce,t.listeners[ee][Ce][Ne||"*"][D],!1),delete t.listeners[ee][Ce][Ne||"*"][D])}else if(Ne&&Ce){if(t.listeners[ee][Ce]&&t.listeners[ee][Ce][Ne]){for(var je in t.listeners[ee][Ce][Ne])t.off(h,[Ce,Ne].join("."),je);delete t.listeners[ee][Ce][Ne]}}else if(Ne)for(var Xe in t.listeners[ee])for(var Me in t.listeners[ee][Xe])Ne===Me&&t.off(h,[Xe,Ne].join("."));else if(Ce){if(t.listeners[ee][Ce]){for(var Me in t.listeners[ee][Ce])t.off(h,[Ce,Me].join("."));delete t.listeners[ee][Ce]}}else{for(var Xe in t.listeners[ee])t.off(h,Xe);delete t.listeners[ee],delete t.handlerMap[ee]}},t.extend(t.Element,{on:function(h,b,D,ee){return t.on(this.node,h,b,D,ee),this},off:function(h,b){return t.off(this.node,h,b),this},fire:function(h,b){return this.node.dispatchEvent(h instanceof te.Event?h:h=new t.CustomEvent(h,{detail:b,cancelable:!0})),this._event=h,this},event:function(){return this._event}}),t.Defs=t.invent({create:"defs",inherit:t.Container}),t.G=t.invent({create:"g",inherit:t.Container,extend:{x:function(h){return null==h?this.transform("x"):this.transform({x:h-this.x()},!0)}},construct:{group:function(){return this.put(new t.G)}}}),t.Doc=t.invent({create:function(h){h&&("svg"==(h="string"==typeof h?i.getElementById(h):h).nodeName?this.constructor.call(this,h):(this.constructor.call(this,t.create("svg")),h.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:t.Container,extend:{namespace:function(){return this.attr({xmlns:t.ns,version:"1.1"}).attr("xmlns:xlink",t.xlink,t.xmlns).attr("xmlns:svgjs",t.svgjs,t.xmlns)},defs:function(){var h;return this._defs||(this._defs=(h=this.node.getElementsByTagName("defs")[0])?t.adopt(h):new t.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,t.parser.draw&&!t.parser.draw.parentNode&&this.node.appendChild(t.parser.draw),this},clone:function(h){this.writeDataToDom();var b=this.node,D=P(b.cloneNode(!0));return h?(h.node||h).appendChild(D.node):b.parentNode.insertBefore(D.node,b.nextSibling),D}}}),t.extend(t.Element,{}),t.Gradient=t.invent({create:function(h){this.constructor.call(this,t.create(h+"Gradient")),this.type=h},inherit:t.Container,extend:{at:function(h,b,D){return this.put(new t.Stop).update(h,b,D)},update:function(h){return this.clear(),"function"==typeof h&&h.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(h,b,D){return"transform"==h&&(h="gradientTransform"),t.Container.prototype.attr.call(this,h,b,D)}},construct:{gradient:function(h,b){return this.defs().gradient(h,b)}}}),t.extend(t.Gradient,t.FX,{from:function(h,b){return this.attr("radial"==(this._target||this).type?{fx:new t.Number(h),fy:new t.Number(b)}:{x1:new t.Number(h),y1:new t.Number(b)})},to:function(h,b){return this.attr("radial"==(this._target||this).type?{cx:new t.Number(h),cy:new t.Number(b)}:{x2:new t.Number(h),y2:new t.Number(b)})}}),t.extend(t.Defs,{gradient:function(h,b){return this.put(new t.Gradient(h)).update(b)}}),t.Stop=t.invent({create:"stop",inherit:t.Element,extend:{update:function(h){return("number"==typeof h||h instanceof t.Number)&&(h={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=h.opacity&&this.attr("stop-opacity",h.opacity),null!=h.color&&this.attr("stop-color",h.color),null!=h.offset&&this.attr("offset",new t.Number(h.offset)),this}}}),t.Pattern=t.invent({create:"pattern",inherit:t.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(h){return this.clear(),"function"==typeof h&&h.call(this,this),this},toString:function(){return this.fill()},attr:function(h,b,D){return"transform"==h&&(h="patternTransform"),t.Container.prototype.attr.call(this,h,b,D)}},construct:{pattern:function(h,b,D){return this.defs().pattern(h,b,D)}}}),t.extend(t.Defs,{pattern:function(h,b,D){return this.put(new t.Pattern).update(D).attr({x:0,y:0,width:h,height:b,patternUnits:"userSpaceOnUse"})}}),t.Shape=t.invent({create:function(h){this.constructor.call(this,h)},inherit:t.Element}),t.Symbol=t.invent({create:"symbol",inherit:t.Container,construct:{symbol:function(){return this.put(new t.Symbol)}}}),t.Use=t.invent({create:"use",inherit:t.Shape,extend:{element:function(h,b){return this.attr("href",(b||"")+"#"+h,t.xlink)}},construct:{use:function(h,b){return this.put(new t.Use).element(h,b)}}}),t.Rect=t.invent({create:"rect",inherit:t.Shape,construct:{rect:function(h,b){return this.put(new t.Rect).size(h,b)}}}),t.Circle=t.invent({create:"circle",inherit:t.Shape,construct:{circle:function(h){return this.put(new t.Circle).rx(new t.Number(h).divide(2)).move(0,0)}}}),t.extend(t.Circle,t.FX,{rx:function(h){return this.attr("r",h)},ry:function(h){return this.rx(h)}}),t.Ellipse=t.invent({create:"ellipse",inherit:t.Shape,construct:{ellipse:function(h,b){return this.put(new t.Ellipse).size(h,b).move(0,0)}}}),t.extend(t.Ellipse,t.Rect,t.FX,{rx:function(h){return this.attr("rx",h)},ry:function(h){return this.attr("ry",h)}}),t.extend(t.Circle,t.Ellipse,{x:function(h){return null==h?this.cx()-this.rx():this.cx(h+this.rx())},y:function(h){return null==h?this.cy()-this.ry():this.cy(h+this.ry())},cx:function(h){return null==h?this.attr("cx"):this.attr("cx",h)},cy:function(h){return null==h?this.attr("cy"):this.attr("cy",h)},width:function(h){return null==h?2*this.rx():this.rx(new t.Number(h).divide(2))},height:function(h){return null==h?2*this.ry():this.ry(new t.Number(h).divide(2))},size:function(h,b){var D=m(this,h,b);return this.rx(new t.Number(D.width).divide(2)).ry(new t.Number(D.height).divide(2))}}),t.Line=t.invent({create:"line",inherit:t.Shape,extend:{array:function(){return new t.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(h,b,D,ee){return null==h?this.array():(h=void 0!==b?{x1:h,y1:b,x2:D,y2:ee}:new t.PointArray(h).toLine(),this.attr(h))},move:function(h,b){return this.attr(this.array().move(h,b).toLine())},size:function(h,b){var D=m(this,h,b);return this.attr(this.array().size(D.width,D.height).toLine())}},construct:{line:function(h,b,D,ee){return t.Line.prototype.plot.apply(this.put(new t.Line),null!=h?[h,b,D,ee]:[0,0,0,0])}}}),t.Polyline=t.invent({create:"polyline",inherit:t.Shape,construct:{polyline:function(h){return this.put(new t.Polyline).plot(h||new t.PointArray)}}}),t.Polygon=t.invent({create:"polygon",inherit:t.Shape,construct:{polygon:function(h){return this.put(new t.Polygon).plot(h||new t.PointArray)}}}),t.extend(t.Polyline,t.Polygon,{array:function(){return this._array||(this._array=new t.PointArray(this.attr("points")))},plot:function(h){return null==h?this.array():this.clear().attr("points","string"==typeof h?h:this._array=new t.PointArray(h))},clear:function(){return delete this._array,this},move:function(h,b){return this.attr("points",this.array().move(h,b))},size:function(h,b){var D=m(this,h,b);return this.attr("points",this.array().size(D.width,D.height))}}),t.extend(t.Line,t.Polyline,t.Polygon,{morphArray:t.PointArray,x:function(h){return null==h?this.bbox().x:this.move(h,this.bbox().y)},y:function(h){return null==h?this.bbox().y:this.move(this.bbox().x,h)},width:function(h){var b=this.bbox();return null==h?b.width:this.size(h,b.height)},height:function(h){var b=this.bbox();return null==h?b.height:this.size(b.width,h)}}),t.Path=t.invent({create:"path",inherit:t.Shape,extend:{morphArray:t.PathArray,array:function(){return this._array||(this._array=new t.PathArray(this.attr("d")))},plot:function(h){return null==h?this.array():this.clear().attr("d","string"==typeof h?h:this._array=new t.PathArray(h))},clear:function(){return delete this._array,this}},construct:{path:function(h){return this.put(new t.Path).plot(h||new t.PathArray)}}}),t.Image=t.invent({create:"image",inherit:t.Shape,extend:{load:function(h){if(!h)return this;var b=this,D=new te.Image;return t.on(D,"load",function(){t.off(D);var ee=b.parent(t.Pattern);null!==ee&&(0==b.width()&&0==b.height()&&b.size(D.width,D.height),ee&&0==ee.width()&&0==ee.height()&&ee.size(b.width(),b.height()),"function"==typeof b._loaded&&b._loaded.call(b,{width:D.width,height:D.height,ratio:D.width/D.height,url:h}))}),t.on(D,"error",function(ee){t.off(D),"function"==typeof b._error&&b._error.call(b,ee)}),this.attr("href",D.src=this.src=h,t.xlink)},loaded:function(h){return this._loaded=h,this},error:function(h){return this._error=h,this}},construct:{image:function(h,b,D){return this.put(new t.Image).load(h).size(b||0,D||b||0)}}}),t.Text=t.invent({create:function(){this.constructor.call(this,t.create("text")),this.dom.leading=new t.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",t.defaults.attrs["font-family"])},inherit:t.Shape,extend:{x:function(h){return null==h?this.attr("x"):this.attr("x",h)},text:function(h){if(void 0===h){h="";for(var b=this.node.childNodes,D=0,ee=b.length;D<ee;++D)0!=D&&3!=b[D].nodeType&&1==t.adopt(b[D]).dom.newLined&&(h+="\n"),h+=b[D].textContent;return h}if(this.clear().build(!0),"function"==typeof h)h.call(this,this);else{D=0;for(var Ce=(h=h.split("\n")).length;D<Ce;D++)this.tspan(h[D]).newLine()}return this.build(!1).rebuild()},size:function(h){return this.attr("font-size",h).rebuild()},leading:function(h){return null==h?this.dom.leading:(this.dom.leading=new t.Number(h),this.rebuild())},lines:function(){var h=(this.textPath&&this.textPath()||this).node,b=t.utils.map(t.utils.filterSVGElements(h.childNodes),function(D){return t.adopt(D)});return new t.Set(b)},rebuild:function(h){if("boolean"==typeof h&&(this._rebuild=h),this._rebuild){var b=this,D=0,ee=this.dom.leading*new t.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(b.textPath()||this.attr("x",b.attr("x")),"\n"==this.text()?D+=ee:(this.attr("dy",ee+D),D=0))}),this.fire("rebuild")}return this},build:function(h){return this._build=!!h,this},setData:function(h){return this.dom=h,this.dom.leading=new t.Number(h.leading||1.3),this}},construct:{text:function(h){return this.put(new t.Text).text(h)},plain:function(h){return this.put(new t.Text).plain(h)}}}),t.Tspan=t.invent({create:"tspan",inherit:t.Shape,extend:{text:function(h){return null==h?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof h?h.call(this,this):this.plain(h),this)},dx:function(h){return this.attr("dx",h)},dy:function(h){return this.attr("dy",h)},newLine:function(){var h=this.parent(t.Text);return this.dom.newLined=!0,this.dy(h.dom.leading*h.attr("font-size")).attr("x",h.x())}}}),t.extend(t.Text,t.Tspan,{plain:function(h){return!1===this._build&&this.clear(),this.node.appendChild(i.createTextNode(h)),this},tspan:function(h){var b=(this.textPath&&this.textPath()||this).node,D=new t.Tspan;return!1===this._build&&this.clear(),b.appendChild(D.node),D.text(h)},clear:function(){for(var h=(this.textPath&&this.textPath()||this).node;h.hasChildNodes();)h.removeChild(h.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),t.TextPath=t.invent({create:"textPath",inherit:t.Parent,parent:t.Text,construct:{morphArray:t.PathArray,array:function(){var h=this.track();return h?h.array():null},plot:function(h){var b=this.track(),D=null;return b&&(D=b.plot(h)),null==h?D:this},track:function(){var h=this.textPath();if(h)return h.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return t.adopt(this.node.firstChild)}}}),t.Nested=t.invent({create:function(){this.constructor.call(this,t.create("svg")),this.style("overflow","visible")},inherit:t.Container,construct:{nested:function(){return this.put(new t.Nested)}}});var o={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(h,b){return"color"==b?h:h+"-"+b}};function l(h,b,D,ee){return D+ee.replace(t.regex.dots," .")}function d(h){return h.toLowerCase().replace(/-(.)/g,function(b,D){return D.toUpperCase()})}function g(h){return h.charAt(0).toUpperCase()+h.slice(1)}function p(h){var b=h.toString(16);return 1==b.length?"0"+b:b}function m(h,b,D){if(null==b||null==D){var ee=h.bbox();null==b?b=ee.width/ee.height*D:null==D&&(D=ee.height/ee.width*b)}return{width:b,height:D}}function y(h,b,D){return{x:b*h.a+D*h.c+0,y:b*h.b+D*h.d+0}}function E(h){return{a:h[0],b:h[1],c:h[2],d:h[3],e:h[4],f:h[5]}}function P(h){for(var b=h.childNodes.length-1;b>=0;b--)h.childNodes[b]instanceof te.SVGElement&&P(h.childNodes[b]);return t.adopt(h).id(t.eid(h.nodeName))}function Z(h){return null==h.x&&(h.x=0,h.y=0,h.width=0,h.height=0),h.w=h.width,h.h=h.height,h.x2=h.x+h.width,h.y2=h.y+h.height,h.cx=h.x+h.width/2,h.cy=h.y+h.height/2,h}function K(h){return Math.abs(h)>1e-37?h:0}["fill","stroke"].forEach(function(h){var b={};b[h]=function(D){if(void 0===D)return this;if("string"==typeof D||t.Color.isRgb(D)||D&&"function"==typeof D.fill)this.attr(h,D);else for(var ee=o[h].length-1;ee>=0;ee--)null!=D[o[h][ee]]&&this.attr(o.prefix(h,o[h][ee]),D[o[h][ee]]);return this},t.extend(t.Element,t.FX,b)}),t.extend(t.Element,t.FX,{translate:function(h,b){return this.transform({x:h,y:b})},matrix:function(h){return this.attr("transform",new t.Matrix(6==arguments.length?[].slice.call(arguments):h))},opacity:function(h){return this.attr("opacity",h)},dx:function(h){return this.x(new t.Number(h).plus(this instanceof t.FX?0:this.x()),!0)},dy:function(h){return this.y(new t.Number(h).plus(this instanceof t.FX?0:this.y()),!0)}}),t.extend(t.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(h){return this.node.getPointAtLength(h)}}),t.Set=t.invent({create:function(h){Array.isArray(h)?this.members=h:this.clear()},extend:{add:function(){for(var h=[].slice.call(arguments),b=0,D=h.length;b<D;b++)this.members.push(h[b]);return this},remove:function(h){var b=this.index(h);return b>-1&&this.members.splice(b,1),this},each:function(h){for(var b=0,D=this.members.length;b<D;b++)h.apply(this.members[b],[b,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(h){return this.index(h)>=0},index:function(h){return this.members.indexOf(h)},get:function(h){return this.members[h]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(h){return new t.Set(h)}}}),t.FX.Set=t.invent({create:function(h){this.set=h}}),t.Set.inherit=function(){var h=[];for(var b in t.Shape.prototype)"function"==typeof t.Shape.prototype[b]&&"function"!=typeof t.Set.prototype[b]&&h.push(b);for(var b in h.forEach(function(ee){t.Set.prototype[ee]=function(){for(var Ce=0,Ne=this.members.length;Ce<Ne;Ce++)this.members[Ce]&&"function"==typeof this.members[Ce][ee]&&this.members[Ce][ee].apply(this.members[Ce],arguments);return"animate"==ee?this.fx||(this.fx=new t.FX.Set(this)):this}}),h=[],t.FX.prototype)"function"==typeof t.FX.prototype[b]&&"function"!=typeof t.FX.Set.prototype[b]&&h.push(b);h.forEach(function(D){t.FX.Set.prototype[D]=function(){for(var ee=0,Ce=this.set.members.length;ee<Ce;ee++)this.set.members[ee].fx[D].apply(this.set.members[ee].fx,arguments);return this}})},t.extend(t.Element,{}),t.extend(t.Element,{remember:function(h,b){if("object"===ce(arguments[0]))for(var D in h)this.remember(D,h[D]);else{if(1==arguments.length)return this.memory()[h];this.memory()[h]=b}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var h=arguments.length-1;h>=0;h--)delete this.memory()[arguments[h]];return this},memory:function(){return this._memory||(this._memory={})}}),t.get=function(h){var b=i.getElementById(function(D){var ee=(D||"").toString().match(t.regex.reference);if(ee)return ee[1]}(h)||h);return t.adopt(b)},t.select=function(h,b){return new t.Set(t.utils.map((b||i).querySelectorAll(h),function(D){return t.adopt(D)}))},t.extend(t.Parent,{select:function(h){return t.select(h,this.node)}});var ae="abcdef".split("");if("function"!=typeof te.CustomEvent){var le=function(h,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var D=i.createEvent("CustomEvent");return D.initCustomEvent(h,b.bubbles,b.cancelable,b.detail),D};le.prototype=te.Event.prototype,t.CustomEvent=le}else t.CustomEvent=te.CustomEvent;return t},void 0!==(c=function(){return De(he,he.document)}.call(re,oe,re,ze))&&(ze.exports=c),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(o,l){return this.add(o,l),!o.attr("in")&&this.autoSetIn&&o.attr("in",this.source),o.attr("result")||o.attr("result",o),o},blend:function(o,l,d){return this.put(new SVG.BlendEffect(o,l,d))},colorMatrix:function(o,l){return this.put(new SVG.ColorMatrixEffect(o,l))},convolveMatrix:function(o){return this.put(new SVG.ConvolveMatrixEffect(o))},componentTransfer:function(o){return this.put(new SVG.ComponentTransferEffect(o))},composite:function(o,l,d){return this.put(new SVG.CompositeEffect(o,l,d))},flood:function(o,l){return this.put(new SVG.FloodEffect(o,l))},offset:function(o,l){return this.put(new SVG.OffsetEffect(o,l))},image:function(o){return this.put(new SVG.ImageEffect(o))},merge:function(){var o=[void 0];for(var l in arguments)o.push(arguments[l]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,o)))},gaussianBlur:function(o,l){return this.put(new SVG.GaussianBlurEffect(o,l))},morphology:function(o,l){return this.put(new SVG.MorphologyEffect(o,l))},diffuseLighting:function(o,l,d){return this.put(new SVG.DiffuseLightingEffect(o,l,d))},displacementMap:function(o,l,d,g,p){return this.put(new SVG.DisplacementMapEffect(o,l,d,g,p))},specularLighting:function(o,l,d,g){return this.put(new SVG.SpecularLightingEffect(o,l,d,g))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(o,l,d,g,p){return this.put(new SVG.TurbulenceEffect(o,l,d,g,p))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(o){var l=this.put(new SVG.Filter);return"function"==typeof o&&o.call(l,l),l}}),SVG.extend(SVG.Container,{filter:function(o){return this.defs().filter(o)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(o){return this.filterer=o instanceof SVG.Element?o:this.doc().filter(o),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(o){return this.filterer&&!0===o&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(o){return null==o?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",o)},result:function(o){return null==o?this.attr("result"):this.attr("result",o)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(o){return null==o?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",o)},result:function(o){return null==o?this.attr("result"):this.attr("result",o)},toString:function(){return this.result()}}});var te={blend:function(o,l){return this.parent()&&this.parent().blend(this,o,l)},colorMatrix:function(o,l){return this.parent()&&this.parent().colorMatrix(o,l).in(this)},convolveMatrix:function(o){return this.parent()&&this.parent().convolveMatrix(o).in(this)},componentTransfer:function(o){return this.parent()&&this.parent().componentTransfer(o).in(this)},composite:function(o,l){return this.parent()&&this.parent().composite(this,o,l)},flood:function(o,l){return this.parent()&&this.parent().flood(o,l)},offset:function(o,l){return this.parent()&&this.parent().offset(o,l).in(this)},image:function(o){return this.parent()&&this.parent().image(o)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(o,l){return this.parent()&&this.parent().gaussianBlur(o,l).in(this)},morphology:function(o,l){return this.parent()&&this.parent().morphology(o,l).in(this)},diffuseLighting:function(o,l,d){return this.parent()&&this.parent().diffuseLighting(o,l,d).in(this)},displacementMap:function(o,l,d,g){return this.parent()&&this.parent().displacementMap(this,o,l,d,g)},specularLighting:function(o,l,d,g){return this.parent()&&this.parent().specularLighting(o,l,d,g).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(o,l,d,g,p){return this.parent()&&this.parent().turbulence(o,l,d,g,p).in(this)}};SVG.extend(SVG.Effect,te),SVG.extend(SVG.ParentEffect,te),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(o){this.attr("in",o)}}});var i={blend:function(o,l,d){this.attr({in:o,in2:l,mode:d||"normal"})},colorMatrix:function(o,l){"matrix"==o&&(l=a(l)),this.attr({type:o,values:void 0===l?null:l})},convolveMatrix:function(o){o=a(o),this.attr({order:Math.sqrt(o.split(" ").length),kernelMatrix:o})},composite:function(o,l,d){this.attr({in:o,in2:l,operator:d})},flood:function(o,l){this.attr("flood-color",o),null!=l&&this.attr("flood-opacity",l)},offset:function(o,l){this.attr({dx:o,dy:l})},image:function(o){this.attr("href",o,SVG.xlink)},displacementMap:function(o,l,d,g,p){this.attr({in:o,in2:l,scale:d,xChannelSelector:g,yChannelSelector:p})},gaussianBlur:function(o,l){this.attr("stdDeviation",null!=o||null!=l?r(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(o,l){this.attr({operator:o,radius:l})},tile:function(){},turbulence:function(o,l,d,g,p){this.attr({numOctaves:l,seed:d,stitchTiles:g,baseFrequency:o,type:p})}},t={merge:function(){var o;if(arguments[0]instanceof SVG.Set){var l=this;arguments[0].each(function(g){this instanceof SVG.MergeNode?l.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&l.put(new SVG.MergeNode(this))})}else{o=Array.isArray(arguments[0])?arguments[0]:arguments;for(var d=0;d<o.length;d++)o[d]instanceof SVG.MergeNode?this.put(o[d]):this.put(new SVG.MergeNode(o[d]))}},componentTransfer:function(o){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(d){this[d]=new(SVG["Func"+d.toUpperCase()])("identity"),this.rgb.add(this[d]),this.node.appendChild(this[d].node)}.bind(this)),o)for(var l in o.rgb&&(["r","g","b"].forEach(function(d){this[d].attr(o.rgb)}.bind(this)),delete o.rgb),o)this[l].attr(o[l])},diffuseLighting:function(o,l,d){this.attr({surfaceScale:o,diffuseConstant:l,kernelUnitLength:d})},specularLighting:function(o,l,d,g){this.attr({surfaceScale:o,diffuseConstant:l,specularExponent:d,kernelUnitLength:g})}},n={distantLight:function(o,l){this.attr({azimuth:o,elevation:l})},pointLight:function(o,l,d){this.attr({x:o,y:l,z:d})},spotLight:function(o,l,d,g,p,m){this.attr({x:o,y:l,z:d,pointsAtX:g,pointsAtY:p,pointsAtZ:m})},mergeNode:function(o){this.attr("in",o)}};function a(o){return Array.isArray(o)&&(o=new SVG.Array(o)),o.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function r(o){if(!Array.isArray(o))return o;for(var l=0,d=o.length,g=[];l<d;l++)g.push(o[l]);return g.join(" ")}function s(){var o=function(){};for(var l in"function"==typeof arguments[arguments.length-1]&&(o=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var d in arguments[l])o(arguments[l][d],d,arguments[l])}["r","g","b","a"].forEach(function(o){n["Func"+o.toUpperCase()]=function(l){switch(this.attr("type",l),l){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),s(i,function(o,l){var d=l.charAt(0).toUpperCase()+l.slice(1);SVG[d+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+d)),o.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),s(t,function(o,l){var d=l.charAt(0).toUpperCase()+l.slice(1);SVG[d+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+d)),o.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),s(n,function(o,l){var d=l.charAt(0).toUpperCase()+l.slice(1);SVG[d]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+d)),o.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(o){return o instanceof SVG.MergeNode?this.add(o,0):this.add(new SVG.MergeNode(o),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(o){return null==o?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",o)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function te(r,s,o,l,d,g,p){for(var m=r.slice(s,o||p),y=l.slice(d,g||p),E=0,P={pos:[0,0],start:[0,0]},Z={pos:[0,0],start:[0,0]};m[E]=i.call(P,m[E]),y[E]=i.call(Z,y[E]),m[E][0]!=y[E][0]||"M"==m[E][0]||"A"==m[E][0]&&(m[E][4]!=y[E][4]||m[E][5]!=y[E][5])?(Array.prototype.splice.apply(m,[E,1].concat(n.call(P,m[E]))),Array.prototype.splice.apply(y,[E,1].concat(n.call(Z,y[E])))):(m[E]=t.call(P,m[E]),y[E]=t.call(Z,y[E])),++E!=m.length||E!=y.length;)E==m.length&&m.push(["C",P.pos[0],P.pos[1],P.pos[0],P.pos[1],P.pos[0],P.pos[1]]),E==y.length&&y.push(["C",Z.pos[0],Z.pos[1],Z.pos[0],Z.pos[1],Z.pos[0],Z.pos[1]]);return{start:m,dest:y}}function i(r){switch(r[0]){case"z":case"Z":r[0]="L",r[1]=this.start[0],r[2]=this.start[1];break;case"H":r[0]="L",r[2]=this.pos[1];break;case"V":r[0]="L",r[2]=r[1],r[1]=this.pos[0];break;case"T":r[0]="Q",r[3]=r[1],r[4]=r[2],r[1]=this.reflection[1],r[2]=this.reflection[0];break;case"S":r[0]="C",r[6]=r[4],r[5]=r[3],r[4]=r[2],r[3]=r[1],r[2]=this.reflection[1],r[1]=this.reflection[0]}return r}function t(r){var s=r.length;return this.pos=[r[s-2],r[s-1]],-1!="SCQT".indexOf(r[0])&&(this.reflection=[2*this.pos[0]-r[s-4],2*this.pos[1]-r[s-3]]),r}function n(r){var s=[r];switch(r[0]){case"M":return this.pos=this.start=[r[1],r[2]],s;case"L":r[5]=r[3]=r[1],r[6]=r[4]=r[2],r[1]=this.pos[0],r[2]=this.pos[1];break;case"Q":r[6]=r[4],r[5]=r[3],r[4]=1*r[4]/3+2*r[2]/3,r[3]=1*r[3]/3+2*r[1]/3,r[2]=1*this.pos[1]/3+2*r[2]/3,r[1]=1*this.pos[0]/3+2*r[1]/3;break;case"A":r=(s=function(o,l){var d,g,p,m,y,E,P,Z,K,ae,le,h,b,D,ee,Ce,Ne,Me,je,Xe,et,ct,St,At,Zt,Yt,ri=Math.abs(l[1]),gi=Math.abs(l[2]),pi=l[3]%360,Ri=l[4],ki=l[5],Pi=l[6],Ei=l[7],ii=new SVG.Point(o),Kt=new SVG.Point(Pi,Ei),Fi=[];if(0===ri||0===gi||ii.x===Kt.x&&ii.y===Kt.y)return[["C",ii.x,ii.y,Kt.x,Kt.y,Kt.x,Kt.y]];for((g=(d=new SVG.Point((ii.x-Kt.x)/2,(ii.y-Kt.y)/2).transform((new SVG.Matrix).rotate(pi))).x*d.x/(ri*ri)+d.y*d.y/(gi*gi))>1&&(ri*=g=Math.sqrt(g),gi*=g),p=(new SVG.Matrix).rotate(pi).scale(1/ri,1/gi).rotate(-pi),ii=ii.transform(p),E=(m=[(Kt=Kt.transform(p)).x-ii.x,Kt.y-ii.y])[0]*m[0]+m[1]*m[1],y=Math.sqrt(E),m[0]/=y,m[1]/=y,P=E<4?Math.sqrt(1-E/4):0,Ri===ki&&(P*=-1),Z=new SVG.Point((Kt.x+ii.x)/2+P*-m[1],(Kt.y+ii.y)/2+P*m[0]),K=new SVG.Point(ii.x-Z.x,ii.y-Z.y),ae=new SVG.Point(Kt.x-Z.x,Kt.y-Z.y),le=Math.acos(K.x/Math.sqrt(K.x*K.x+K.y*K.y)),K.y<0&&(le*=-1),h=Math.acos(ae.x/Math.sqrt(ae.x*ae.x+ae.y*ae.y)),ae.y<0&&(h*=-1),ki&&le>h&&(h+=2*Math.PI),!ki&&le<h&&(h-=2*Math.PI),Ce=[],Ne=le,b=(h-le)/(D=Math.ceil(2*Math.abs(le-h)/Math.PI)),ee=4*Math.tan(b/4)/3,et=0;et<=D;et++)je=Math.cos(Ne),Me=Math.sin(Ne),Xe=new SVG.Point(Z.x+je,Z.y+Me),Ce[et]=[new SVG.Point(Xe.x+ee*Me,Xe.y-ee*je),Xe,new SVG.Point(Xe.x-ee*Me,Xe.y+ee*je)],Ne+=b;for(Ce[0][0]=Ce[0][1].clone(),Ce[Ce.length-1][2]=Ce[Ce.length-1][1].clone(),p=(new SVG.Matrix).rotate(pi).scale(ri,gi).rotate(-pi),et=0,ct=Ce.length;et<ct;et++)Ce[et][0]=Ce[et][0].transform(p),Ce[et][1]=Ce[et][1].transform(p),Ce[et][2]=Ce[et][2].transform(p);for(et=1,ct=Ce.length;et<ct;et++)St=(Xe=Ce[et-1][2]).x,At=Xe.y,Zt=(Xe=Ce[et][0]).x,Yt=Xe.y,Pi=(Xe=Ce[et][1]).x,Fi.push(["C",St,At,Zt,Yt,Pi,Ei=Xe.y]);return Fi}(this.pos,r))[0]}return r[0]="C",this.pos=[r[5],r[6]],this.reflection=[2*r[5]-r[3],2*r[6]-r[4]],s}function a(r,s){if(!1===s)return!1;for(var o=s,l=r.length;o<l;++o)if("M"==r[o][0])return o;return!1}SVG.extend(SVG.PathArray,{morph:function(r){for(var s=this.value,o=this.parse(r),l=0,d=0,g=!1,p=!1;!1!==l||!1!==d;){var m;g=a(s,!1!==l&&l+1),p=a(o,!1!==d&&d+1),!1===l&&(l=0==(m=new SVG.PathArray(y.start).bbox()).height||0==m.width?s.push(s[0])-1:s.push(["M",m.x+m.width/2,m.y+m.height/2])-1),!1===d&&(d=0==(m=new SVG.PathArray(y.dest).bbox()).height||0==m.width?o.push(o[0])-1:o.push(["M",m.x+m.width/2,m.y+m.height/2])-1);var y=te(s,l,g,o,d,p);s=s.slice(0,l).concat(y.start,!1===g?[]:s.slice(g)),o=o.slice(0,d).concat(y.dest,!1===p?[]:o.slice(p)),l=!1!==g&&l+y.start.length,d=!1!==p&&d+y.dest.length}return this.value=s,this.destination=new SVG.PathArray,this.destination.value=o,this}})}(),function(){function te(i){i.remember("_draggable",this),this.el=i}te.prototype.init=function(i,t){var n=this;this.constraint=i,this.value=t,this.el.on("mousedown.drag",function(a){n.start(a)}),this.el.on("touchstart.drag",function(a){n.start(a)})},te.prototype.transformPoint=function(i,t){var n=(i=i||window.event).changedTouches&&i.changedTouches[0]||i;return this.p.x=n.clientX-(t||0),this.p.y=n.clientY,this.p.matrixTransform(this.m)},te.prototype.getBBox=function(){var i=this.el.bbox();return this.el instanceof SVG.Nested&&(i=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(i.x=this.el.x(),i.y=this.el.y()),i},te.prototype.start=function(i){if("click"!=i.type&&"mousedown"!=i.type&&"mousemove"!=i.type||1==(i.which||i.buttons)){var t=this;if(this.el.fire("beforedrag",{event:i,handler:this}),!this.el.event().defaultPrevented){i.preventDefault(),i.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var n,a=this.getBBox();if(this.el instanceof SVG.Text)switch(n=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":n/=2;break;case"start":n=0}this.startPoints={point:this.transformPoint(i,n),box:a,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(r){t.drag(r)}),SVG.on(window,"touchmove.drag",function(r){t.drag(r)}),SVG.on(window,"mouseup.drag",function(r){t.end(r)}),SVG.on(window,"touchend.drag",function(r){t.end(r)}),this.el.fire("dragstart",{event:i,p:this.startPoints.point,m:this.m,handler:this})}}},te.prototype.drag=function(i){var t=this.getBBox(),n=this.transformPoint(i),a=this.startPoints.box.x+n.x-this.startPoints.point.x,r=this.startPoints.box.y+n.y-this.startPoints.point.y,s=this.constraint,o=n.x-this.startPoints.point.x,l=n.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:i,p:n,m:this.m,handler:this}),this.el.event().defaultPrevented)return n;if("function"==typeof s){var d=s.call(this.el,a,r,this.m);"boolean"==typeof d&&(d={x:d,y:d}),!0===d.x?this.el.x(a):!1!==d.x&&this.el.x(d.x),!0===d.y?this.el.y(r):!1!==d.y&&this.el.y(d.y)}else"object"==typeof s&&(null!=s.minX&&a<s.minX?o=(a=s.minX)-this.startPoints.box.x:null!=s.maxX&&a>s.maxX-t.width&&(o=(a=s.maxX-t.width)-this.startPoints.box.x),null!=s.minY&&r<s.minY?l=(r=s.minY)-this.startPoints.box.y:null!=s.maxY&&r>s.maxY-t.height&&(l=(r=s.maxY-t.height)-this.startPoints.box.y),null!=s.snapToGrid&&(a-=a%s.snapToGrid,r-=r%s.snapToGrid,o-=o%s.snapToGrid,l-=l%s.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:o,y:l},!0):this.el.move(a,r));return n},te.prototype.end=function(i){var t=this.drag(i);this.el.fire("dragend",{event:i,p:t,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(i,t){"function"!=typeof i&&"object"!=typeof i||(t=i,i=!0);var n=this.remember("_draggable")||new te(this);return(i=void 0===i||i)?n.init(t||{},i):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function te(i){this.el=i,i.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(t,n,a){var r="string"!=typeof t?t:n[t];return a?r/2:r},this.pointCoords=function(t,n){var a=this.pointsList[t];return{x:this.pointCoord(a[0],n,"t"===t||"b"===t),y:this.pointCoord(a[1],n,"r"===t||"l"===t)}}}te.prototype.init=function(i,t){var n=this.el.bbox();this.options={};var a=this.el.selectize.defaults.points;for(var r in this.el.selectize.defaults)this.options[r]=this.el.selectize.defaults[r],void 0!==t[r]&&(this.options[r]=t[r]);var s=["points","pointsExclude"];for(var r in s){var o=this.options[s[r]];"string"==typeof o?o=o.length>0?o.split(/\s*,\s*/i):[]:"boolean"==typeof o&&"points"===s[r]&&(o=o?a:[]),this.options[s[r]]=o}this.options.points=[a,this.options.points].reduce(function(l,d){return l.filter(function(g){return d.indexOf(g)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(l,d){return l.filter(function(g){return d.indexOf(g)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(n.x,n.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(i):this.selectRect(i),this.observe(),this.cleanup()},te.prototype.selectPoints=function(i){return this.pointSelection.isSelected=i,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},te.prototype.getPointArray=function(){var i=this.el.bbox();return this.el.array().valueOf().map(function(t){return[t[0]-i.x,t[1]-i.y]})},te.prototype.drawPoints=function(){for(var i=this,t=this.getPointArray(),n=0,a=t.length;n<a;++n){var r=function(o){return function(l){(l=l||window.event).preventDefault?l.preventDefault():l.returnValue=!1,l.stopPropagation(),i.el.fire("point",{x:l.pageX||l.touches[0].pageX,y:l.pageY||l.touches[0].pageY,i:o,event:l})}}(n),s=this.drawPoint(t[n][0],t[n][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",r).on("mousedown",r);this.pointSelection.set.add(s)}},te.prototype.drawPoint=function(i,t){var n=this.options.pointType;switch(n){case"circle":return this.drawCircle(i,t);case"rect":return this.drawRect(i,t);default:if("function"==typeof n)return n.call(this,i,t);throw new Error("Unknown "+n+" point type!")}},te.prototype.drawCircle=function(i,t){return this.nested.circle(this.options.pointSize).center(i,t)},te.prototype.drawRect=function(i,t){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(i,t)},te.prototype.updatePointSelection=function(){var i=this.getPointArray();this.pointSelection.set.each(function(t){this.cx()===i[t][0]&&this.cy()===i[t][1]||this.center(i[t][0],i[t][1])})},te.prototype.updateRectSelection=function(){var i=this,t=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:t.width,height:t.height}),this.options.points.length&&this.options.points.map(function(a,r){var s=i.pointCoords(a,t);i.rectSelection.set.get(r+1).center(s.x,s.y)}),this.options.rotationPoint){var n=this.rectSelection.set.length();this.rectSelection.set.get(n-1).center(t.width/2,20)}},te.prototype.selectRect=function(i){var t=this,n=this.el.bbox();function a(o){return function(l){(l=l||window.event).preventDefault?l.preventDefault():l.returnValue=!1,l.stopPropagation(),t.el.fire(o,{x:l.pageX||l.touches[0].pageX,y:l.pageY||l.touches[0].pageY,event:l})}}if(this.rectSelection.isSelected=i,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(n.width,n.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(o,l){var d=t.pointCoords(o,n),g=t.drawPoint(d.x,d.y).attr("class",t.options.classPoints+"_"+o).on("mousedown",a(o)).on("touchstart",a(o));t.rectSelection.set.add(g)}),this.rectSelection.set.each(function(){this.addClass(t.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var r=function(o){(o=o||window.event).preventDefault?o.preventDefault():o.returnValue=!1,o.stopPropagation(),t.el.fire("rot",{x:o.pageX||o.touches[0].pageX,y:o.pageY||o.touches[0].pageY,event:o})},s=this.drawPoint(n.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",r).on("mousedown",r);this.rectSelection.set.add(s)}},te.prototype.handler=function(){var i=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(i.x,i.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},te.prototype.observe=function(){var i=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){i.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(t){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){i.handler()})},te.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(i,t){return"object"==typeof i&&(t=i,i=!0),(this.remember("_selectHandler")||new te(this)).init(void 0===i||i,t||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function te(i){i.remember("_resizeHandler",this),this.el=i,this.parameters={},this.lastUpdateCall=null,this.p=i.doc().node.createSVGPoint()}te.prototype.transformPoint=function(i,t,n){return this.p.x=i-(this.offset.x-window.pageXOffset),this.p.y=t-(this.offset.y-window.pageYOffset),this.p.matrixTransform(n||this.m)},te.prototype._extractPosition=function(i){return{x:null!=i.clientX?i.clientX:i.touches[0].clientX,y:null!=i.clientY?i.clientY:i.touches[0].clientY}},te.prototype.init=function(i){var t=this;if(this.stop(),"stop"!==i){for(var n in this.options={},this.el.resize.defaults)this.options[n]=this.el.resize.defaults[n],void 0!==i[n]&&(this.options[n]=i[n]);this.el.on("lt.resize",function(a){t.resize(a||window.event)}),this.el.on("rt.resize",function(a){t.resize(a||window.event)}),this.el.on("rb.resize",function(a){t.resize(a||window.event)}),this.el.on("lb.resize",function(a){t.resize(a||window.event)}),this.el.on("t.resize",function(a){t.resize(a||window.event)}),this.el.on("r.resize",function(a){t.resize(a||window.event)}),this.el.on("b.resize",function(a){t.resize(a||window.event)}),this.el.on("l.resize",function(a){t.resize(a||window.event)}),this.el.on("rot.resize",function(a){t.resize(a||window.event)}),this.el.on("point.resize",function(a){t.resize(a||window.event)}),this.update()}},te.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},te.prototype.resize=function(i){var t=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var n=this._extractPosition(i.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(n.x,n.y),x:i.detail.x,y:i.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==i.detail.i){var a=this.el.array().valueOf();this.parameters.i=i.detail.i,this.parameters.pointCoords=[a[i.detail.i][0],a[i.detail.i][1]]}switch(i.type){case"lt":this.calc=function(r,s){var o=this.snapToGrid(r,s);if(this.parameters.box.width-o[0]>0&&this.parameters.box.height-o[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+o[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-o[0]);o=this.checkAspectRatio(o),this.el.move(this.parameters.box.x+o[0],this.parameters.box.y+o[1]).size(this.parameters.box.width-o[0],this.parameters.box.height-o[1])}};break;case"rt":this.calc=function(r,s){var o=this.snapToGrid(r,s,2);if(this.parameters.box.width+o[0]>0&&this.parameters.box.height-o[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-o[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+o[0]);o=this.checkAspectRatio(o,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+o[1]).size(this.parameters.box.width+o[0],this.parameters.box.height-o[1])}};break;case"rb":this.calc=function(r,s){var o=this.snapToGrid(r,s,0);if(this.parameters.box.width+o[0]>0&&this.parameters.box.height+o[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-o[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+o[0]);o=this.checkAspectRatio(o),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+o[0],this.parameters.box.height+o[1])}};break;case"lb":this.calc=function(r,s){var o=this.snapToGrid(r,s,1);if(this.parameters.box.width-o[0]>0&&this.parameters.box.height+o[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+o[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-o[0]);o=this.checkAspectRatio(o,!0),this.el.move(this.parameters.box.x+o[0],this.parameters.box.y).size(this.parameters.box.width-o[0],this.parameters.box.height+o[1])}};break;case"t":this.calc=function(r,s){var o=this.snapToGrid(r,s,2);if(this.parameters.box.height-o[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+o[1]).height(this.parameters.box.height-o[1])}};break;case"r":this.calc=function(r,s){var o=this.snapToGrid(r,s,0);if(this.parameters.box.width+o[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+o[0])}};break;case"b":this.calc=function(r,s){var o=this.snapToGrid(r,s,0);if(this.parameters.box.height+o[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+o[1])}};break;case"l":this.calc=function(r,s){var o=this.snapToGrid(r,s,1);if(this.parameters.box.width-o[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+o[0],this.parameters.box.y).width(this.parameters.box.width-o[0])}};break;case"rot":this.calc=function(r,s){var o=r+this.parameters.p.x,l=s+this.parameters.p.y,d=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),g=Math.atan2(l-this.parameters.box.y-this.parameters.box.height/2,o-this.parameters.box.x-this.parameters.box.width/2),p=this.parameters.rotation+180*(g-d)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(p-p%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(r,s){var o=this.snapToGrid(r,s,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),l=this.el.array().valueOf();l[this.parameters.i][0]=this.parameters.pointCoords[0]+o[0],l[this.parameters.i][1]=this.parameters.pointCoords[1]+o[1],this.el.plot(l)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:i}),SVG.on(window,"touchmove.resize",function(r){t.update(r||window.event)}),SVG.on(window,"touchend.resize",function(){t.done()}),SVG.on(window,"mousemove.resize",function(r){t.update(r||window.event)}),SVG.on(window,"mouseup.resize",function(){t.done()})},te.prototype.update=function(i){if(i){var t=this._extractPosition(i),n=this.transformPoint(t.x,t.y),a=n.x-this.parameters.p.x,r=n.y-this.parameters.p.y;this.lastUpdateCall=[a,r],this.calc(a,r),this.el.fire("resizing",{dx:a,dy:r,event:i})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},te.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},te.prototype.snapToGrid=function(i,t,n,a){var r;return r=void 0!==a?[(n+i)%this.options.snapToGrid,(a+t)%this.options.snapToGrid]:[(this.parameters.box.x+i+(1&(n=null==n?3:n)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+t+(2&n?0:this.parameters.box.height))%this.options.snapToGrid],i<0&&(r[0]-=this.options.snapToGrid),t<0&&(r[1]-=this.options.snapToGrid),i-=Math.abs(r[0])<this.options.snapToGrid/2?r[0]:r[0]-(i<0?-this.options.snapToGrid:this.options.snapToGrid),t-=Math.abs(r[1])<this.options.snapToGrid/2?r[1]:r[1]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(i,t,n,a)},te.prototype.constraintToBox=function(i,t,n,a){var r,s,o=this.options.constraint||{};return void 0!==a?(r=n,s=a):(r=this.parameters.box.x+(1&n?0:this.parameters.box.width),s=this.parameters.box.y+(2&n?0:this.parameters.box.height)),void 0!==o.minX&&r+i<o.minX&&(i=o.minX-r),void 0!==o.maxX&&r+i>o.maxX&&(i=o.maxX-r),void 0!==o.minY&&s+t<o.minY&&(t=o.minY-s),void 0!==o.maxY&&s+t>o.maxY&&(t=o.maxY-s),[i,t]},te.prototype.checkAspectRatio=function(i,t){if(!this.options.saveAspectRatio)return i;var n=i.slice(),a=this.parameters.box.width/this.parameters.box.height,r=this.parameters.box.width+i[0],s=this.parameters.box.height-i[1],o=r/s;return o<a?(n[1]=r/a-this.parameters.box.height,t&&(n[1]=-n[1])):o>a&&(n[0]=this.parameters.box.width-s*a,t&&(n[0]=-n[0])),n},SVG.extend(SVG.Element,{resize:function(i){return(this.remember("_resizeHandler")||new te(this)).init(i||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Ot=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w}return f(te,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new A(this.ctx),this.ctx.axes=new Y(this.ctx),this.ctx.core=new kt(this.ctx.el,this.ctx),this.ctx.config=new H({}),this.ctx.data=new Ae(this.ctx),this.ctx.grid=new We(this.ctx),this.ctx.graphics=new L(this.ctx),this.ctx.coreUtils=new W(this.ctx),this.ctx.crosshairs=new fe(this.ctx),this.ctx.events=new Q(this.ctx),this.ctx.exports=new Re(this.ctx),this.ctx.localization=new Ee(this.ctx),this.ctx.options=new me,this.ctx.responsive=new Te(this.ctx),this.ctx.series=new F(this.ctx),this.ctx.theme=new Ve(this.ctx),this.ctx.formatters=new Fe(this.ctx),this.ctx.titleSubtitle=new qe(this.ctx),this.ctx.legend=new ft(this.ctx),this.ctx.toolbar=new Ft(this.ctx),this.ctx.dimensions=new gt(this.ctx),this.ctx.updateHelpers=new Lt(this.ctx),this.ctx.zoomPanSelection=new Mt(this.ctx),this.ctx.w.globals.tooltip=new wt(this.ctx)}}]),te}(),fi=function(){function te(i){pe(this,te),this.ctx=i,this.w=i.w}return f(te,[{key:"clear",value:function(i){var t=i.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(i){i.each(function(t,n){this.removeClass("*"),this.off(),this.stop()},!0),i.ungroup(),i.clear()}},{key:"clearDomElements",value:function(i){var t=this,a=this.w.globals.dom.Paper.node;a.parentNode&&a.parentNode.parentNode&&!i.isUpdating&&(a.parentNode.parentNode.style.minHeight="unset");var r=this.w.globals.dom.baseEl;r&&this.ctx.eventList.forEach(function(o){r.removeEventListener(o,t.ctx.events.documentEvent)});var s=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(s.Paper),s.Paper.remove(),s.elWrap=null,s.elGraphical=null,s.elAnnotations=null,s.elLegendWrap=null,s.baseEl=null,s.elGridRect=null,s.elGridRectMask=null,s.elGridRectMarkerMask=null,s.elForecastMask=null,s.elNonForecastMask=null,s.elDefs=null}}]),te}(),si=new WeakMap,mi=function(){function te(i,t){pe(this,te),this.opts=t,this.ctx=this,this.w=new q(t).init(),this.el=i,this.w.globals.cuid=S.randomId(),this.w.globals.chartID=this.w.config.chart.id?S.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Ot(this).initModules(),this.create=S.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return f(te,[{key:"render",value:function(){var i=this;return new Promise(function(t,n){if(null!==i.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),i.w.config.chart.id&&Apex._chartInstances.push({id:i.w.globals.chartID,group:i.w.config.chart.group,chart:i}),i.setLocale(i.w.config.chart.defaultLocale);var a=i.w.config.chart.events.beforeMount;if("function"==typeof a&&a(i,i.w),i.events.fireEvent("beforeMount",[i,i.w]),window.addEventListener("resize",i.windowResizeHandler),function(g,p){var m=!1,y=g.getBoundingClientRect();"none"!==g.style.display&&0!==y.width||(m=!0);var E=new ResizeObserver(function(P){m&&p.call(g,P),m=!0});g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(g.children).forEach(function(P){return E.observe(P)}):E.observe(g),si.set(p,E)}(i.el.parentNode,i.parentResizeHandler),!i.css){var r=i.el.getRootNode&&i.el.getRootNode(),s=S.is("ShadowRoot",r),o=i.el.ownerDocument,l=o.getElementById("apexcharts-css");!s&&l||(i.css=document.createElement("style"),i.css.id="apexcharts-css",i.css.textContent='.apexcharts-canvas {\n  position: relative;\n  user-select: none;\n  /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */\n}\n\n\n/* scrollbar is not visible by default for legend, hence forcing the visibility */\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px;\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n}\n\n\n.apexcharts-inner {\n  position: relative;\n}\n\n.apexcharts-text tspan {\n  font-family: inherit;\n}\n\n.legend-mouseover-inactive {\n  transition: 0.15s ease all;\n  opacity: 0.20;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0;\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, 0.96);\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, 0.8);\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit;\n}\n\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #ECEFF1;\n  border-bottom: 1px solid #ddd;\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, 0.7);\n  border-bottom: 1px solid #333;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 5px;\n}\n\n.apexcharts-tooltip-title:empty,\n.apexcharts-tooltip-text-y-label:empty,\n.apexcharts-tooltip-text-y-value:empty,\n.apexcharts-tooltip-text-goals-label:empty,\n.apexcharts-tooltip-text-goals-value:empty,\n.apexcharts-tooltip-text-z-value:empty {\n  display: none;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  font-weight: 600;\n}\n\n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-goals-group, \n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  display: flex;\n}\n.apexcharts-tooltip-text-goals-label:not(:empty),\n.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px;\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0px;\n  margin-right: 10px;\n  border-radius: 50%;\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px;\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0 !important;\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-box, .apexcharts-custom-tooltip {\n  padding: 4px 8px;\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse;\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0;\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: bold;\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px;\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777;\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 5px;\n}\n\n.apexcharts-xaxistooltip {\n  opacity: 0;\n  padding: 9px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-left: -6px;\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-left: -7px;\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%;\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%;\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #ECEFF1;\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #ECEFF1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  padding: 4px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-top: -6px;\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-top: -7px;\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%;\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%;\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1;\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none;\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0;\n}\n\n.apexcharts-selection-rect {\n  cursor: move;\n}\n\n.svg_select_boundingRect, .svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n}\n.apexcharts-selection-rect + g .svg_select_boundingRect,\n.apexcharts-selection-rect + g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.apexcharts-selection-rect + g .svg_select_points_l,\n.apexcharts-selection-rect + g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible;\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2;\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon,\n.apexcharts-reset-icon,\n.apexcharts-pan-icon,\n.apexcharts-selection-icon,\n.apexcharts-menu-icon,\n.apexcharts-toolbar-custom-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6E8192;\n  text-align: center;\n}\n\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-menu-icon svg {\n  fill: #6E8192;\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(0.76)\n}\n\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg {\n  fill: #f3f4f5;\n}\n\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg {\n  fill: #008FFB;\n}\n\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg {\n  fill: #333;\n}\n\n.apexcharts-selection-icon,\n.apexcharts-menu-icon {\n  position: relative;\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px;\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-reset-icon,\n.apexcharts-menu-icon {\n  transform: scale(0.85);\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(0.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px;\n}\n\n.apexcharts-pan-icon {\n  transform: scale(0.62);\n  position: relative;\n  left: 1px;\n  top: 0px;\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6E8192;\n  stroke-width: 2;\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008FFB;\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333;\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0px 6px 2px 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: 0.15s ease all;\n  pointer-events: none;\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee;\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n}\n\n@media screen and (min-width: 768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1;\n  }\n}\n\n.apexcharts-datalabel.apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-pie-label,\n.apexcharts-datalabels,\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value {\n  cursor: default;\n  pointer-events: none;\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: 0.3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease;\n}\n\n.apexcharts-canvas .apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-gridline,\n.apexcharts-annotation-rect,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-line,\n.apexcharts-zoom-rect,\n.apexcharts-toolbar svg,\n.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-radar-series path,\n.apexcharts-radar-series polygon {\n  pointer-events: none;\n}\n\n\n/* markers */\n\n.apexcharts-marker {\n  transition: 0.15s ease all;\n}\n\n@keyframes opaque {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n\n/* Resize generated styles */\n\n@keyframes resizeanim {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n}\n\n.resize-triggers,\n.resize-triggers>div,\n.contract-trigger:before {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.resize-triggers>div {\n  background: #eee;\n  overflow: auto;\n}\n\n.contract-trigger:before {\n  width: 200%;\n  height: 200%;\n}',s?r.prepend(i.css):o.head.appendChild(i.css))}var d=i.create(i.w.config.series,{});if(!d)return t(i);i.mount(d).then(function(){"function"==typeof i.w.config.chart.events.mounted&&i.w.config.chart.events.mounted(i,i.w),i.events.fireEvent("mounted",[i,i.w]),t(d)}).catch(function(g){n(g)})}else n(new Error("Element not found"))})}},{key:"create",value:function(i,t){var n=this.w;new Ot(this).initModules();var a=this.w.globals;if(a.noData=!1,a.animationEnded=!1,this.responsive.checkResponsiveConfig(t),n.config.xaxis.convertedCatToNumeric&&new U(n.config).convertCatToNumericXaxis(n.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===n.config.chart.type&&(n.config.grid.show=!1,n.config.yaxis[0].show=!1),0===a.svgWidth))return a.animationEnded=!0,null;var r=W.checkComboSeries(i);a.comboCharts=r.comboCharts,a.comboBarCount=r.comboBarCount;var s=i.every(function(p){return p.data&&0===p.data.length});(0===i.length||s)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(i),this.theme.init(),new ue(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),a.noData&&a.collapsedSeries.length!==a.series.length&&!n.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),a.axisCharts&&(this.core.coreCalculations(),"category"!==n.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=n.globals.minX,this.ctx.toolbar.maxX=n.globals.maxX),this.formatters.heatmapLabelFormatters(),new W(this).getLargestMarkerSize(),this.dimensions.plotCoords();var o=this.core.xySettings();this.grid.createGridMask();var l=this.core.plotChartType(i,o),d=new J(this);return d.bringForward(),n.config.dataLabels.background.enabled&&d.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:l,xyRatios:o,elInner:n.globals.dom.elGraphical,dimensions:{plot:{left:n.globals.translateX,top:n.globals.translateY,width:n.globals.gridWidth,height:n.globals.gridHeight}}}}},{key:"mount",value:function(){var i=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this,a=n.w;return new Promise(function(r,s){if(null===n.el)return s(new Error("Not enough data to display or target element not found"));(null===t||a.globals.allSeriesCollapsed)&&n.series.handleNoData(),"treemap"!==a.config.chart.type&&n.axes.drawAxis(a.config.chart.type,t.xyRatios),n.grid=new We(n);var o=n.grid.drawGrid();n.annotations=new ve(n),n.annotations.drawImageAnnos(),n.annotations.drawTextAnnos(),"back"===a.config.grid.position&&o&&a.globals.dom.elGraphical.add(o.el);var l=new Oe(i.ctx),d=new V(i.ctx);if(null!==o&&(l.xAxisLabelCorrections(o.xAxisTickWidth),d.setYAxisTextAlignments(),a.config.yaxis.map(function(m,y){-1===a.globals.ignoreYAxisIndexes.indexOf(y)&&d.yAxisTitleRotate(y,m.opposite)})),"back"===a.config.annotations.position&&(a.globals.dom.Paper.add(a.globals.dom.elAnnotations),n.annotations.drawAxesAnnotations()),Array.isArray(t.elGraph))for(var g=0;g<t.elGraph.length;g++)a.globals.dom.elGraphical.add(t.elGraph[g]);else a.globals.dom.elGraphical.add(t.elGraph);if("front"===a.config.grid.position&&o&&a.globals.dom.elGraphical.add(o.el),"front"===a.config.xaxis.crosshairs.position&&n.crosshairs.drawXCrosshairs(),"front"===a.config.yaxis[0].crosshairs.position&&n.crosshairs.drawYCrosshairs(),"front"===a.config.annotations.position&&(a.globals.dom.Paper.add(a.globals.dom.elAnnotations),n.annotations.drawAxesAnnotations()),!a.globals.noData){if(a.config.tooltip.enabled&&!a.globals.noData&&n.w.globals.tooltip.drawTooltip(t.xyRatios),a.globals.axisCharts&&(a.globals.isXNumeric||a.config.xaxis.convertedCatToNumeric||a.globals.isRangeBar))(a.config.chart.zoom.enabled||a.config.chart.selection&&a.config.chart.selection.enabled||a.config.chart.pan&&a.config.chart.pan.enabled)&&n.zoomPanSelection.init({xyRatios:t.xyRatios});else{var p=a.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(m){p[m]=!1})}a.config.chart.toolbar.show&&!a.globals.allSeriesCollapsed&&n.toolbar.createToolbar()}a.globals.memory.methodsToExec.length>0&&a.globals.memory.methodsToExec.forEach(function(m){m.method(m.params,!1,m.context)}),a.globals.axisCharts||a.globals.noData||n.core.resizeNonAxisCharts(),r(n)})}},{key:"destroy",value:function(){var i,t;window.removeEventListener("resize",this.windowResizeHandler),(t=si.get(i=this.parentResizeHandler))&&(t.disconnect(),si.delete(i));var n=this.w.config.chart.id;n&&Apex._chartInstances.forEach(function(a,r){a.id===S.escapeString(n)&&Apex._chartInstances.splice(r,1)}),new fi(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(i){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.w;return o.globals.selection=void 0,i.series&&(this.series.resetSeries(!1,!0,!1),i.series.length&&i.series[0].data&&(i.series=i.series.map(function(l,d){return t.updateHelpers._extendSeries(l,d)})),this.updateHelpers.revertDefaultAxisMinMax()),i.xaxis&&(i=this.updateHelpers.forceXAxisUpdate(i)),i.yaxis&&(i=this.updateHelpers.forceYAxisUpdate(i)),o.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),i.theme&&(i=this.theme.updateThemeOptions(i)),this.updateHelpers._updateOptions(i,n,a,r,s)}},{key:"updateSeries",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(i,t,n)}},{key:"appendSeries",value:function(i){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this.w.config.series.slice();return a.push(i),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(a,t,n)}},{key:"appendData",value:function(i){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;n.w.globals.dataChanged=!0,n.series.getPreviousPaths();for(var a=n.w.config.series.slice(),r=0;r<a.length;r++)if(null!=i[r])for(var s=0;s<i[r].data.length;s++)a[r].data.push(i[r].data[s]);return n.w.config.series=a,t&&(n.w.globals.initialSeries=S.clone(n.w.config.series)),this.update()}},{key:"update",value:function(i){var t=this;return new Promise(function(n,a){new fi(t.ctx).clear({isUpdating:!0});var r=t.create(t.w.config.series,i);if(!r)return n(t);t.mount(r).then(function(){"function"==typeof t.w.config.chart.events.updated&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,n(t)}).catch(function(s){a(s)})})}},{key:"getSyncedCharts",value:function(){var i=this.getGroupedCharts(),t=[this];return i.length&&(t=[],i.forEach(function(n){t.push(n)})),t}},{key:"getGroupedCharts",value:function(){var i=this;return Apex._chartInstances.filter(function(t){if(t.group)return!0}).map(function(t){return i.w.config.chart.group===t.group?t.chart:i})}},{key:"toggleSeries",value:function(i){return this.series.toggleSeries(i)}},{key:"highlightSeriesOnLegendHover",value:function(i,t){return this.series.toggleSeriesOnHover(i,t)}},{key:"showSeries",value:function(i){this.series.showSeries(i)}},{key:"hideSeries",value:function(i){this.series.hideSeries(i)}},{key:"resetSeries",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(i,t)}},{key:"addEventListener",value:function(i,t){this.events.addEventListener(i,t)}},{key:"removeEventListener",value:function(i,t){this.events.removeEventListener(i,t)}},{key:"addXaxisAnnotation",value:function(i){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=this;n&&(a=n),a.annotations.addXaxisAnnotationExternal(i,t,a)}},{key:"addYaxisAnnotation",value:function(i){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=this;n&&(a=n),a.annotations.addYaxisAnnotationExternal(i,t,a)}},{key:"addPointAnnotation",value:function(i){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=this;n&&(a=n),a.annotations.addPointAnnotationExternal(i,t,a)}},{key:"clearAnnotations",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this;i&&(t=i),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=this;t&&(n=t),n.annotations.removeAnnotation(n,i)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(i,t){return this.coreUtils.getSeriesTotalsXRange(i,t)}},{key:"getHighestValueInSeries",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new tt(this.ctx);return t.getMinYMaxY(i).highestY}},{key:"getLowestValueInSeries",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new tt(this.ctx);return t.getMinYMaxY(i).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(i,t){return this.updateHelpers.toggleDataPointSelection(i,t)}},{key:"zoomX",value:function(i,t){this.ctx.toolbar.zoomUpdateOptions(i,t)}},{key:"setLocale",value:function(i){this.localization.setCurrentLocaleValues(i)}},{key:"dataURI",value:function(i){return new Re(this.ctx).dataURI(i)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var i=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){i.w.globals.resized=!0,i.w.globals.dataChanged=!1,i.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var i=this.w.config.chart.redrawOnWindowResize;"function"==typeof i&&(i=i()),i&&this._windowResize()}}],[{key:"getChartByID",value:function(i){var t=S.escapeString(i),n=Apex._chartInstances.filter(function(a){return a.id===t})[0];return n&&n.chart}},{key:"initOnLoad",value:function(){for(var i=document.querySelectorAll("[data-apexcharts]"),t=0;t<i.length;t++)new te(i[t],JSON.parse(i[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(i,t){var n=this.getChartByID(i);if(n){n.w.globals.isExecCalled=!0;var a=null;if(-1!==n.publicMethods.indexOf(t)){for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];a=n[t].apply(n,s)}return a}}},{key:"merge",value:function(i,t){return S.extend(i,t)}}]),te}();ze.exports=mi},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(8926).default,oe;oe=function(){return(()=>{"use strict";var __webpack_modules__=[,(ze,re,oe)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.VerbosityLevel=re.Util=re.UnknownErrorException=re.UnexpectedResponseException=re.UNSUPPORTED_FEATURES=re.TextRenderingMode=re.StreamType=re.RenderingIntentFlag=re.PermissionFlag=re.PasswordResponses=re.PasswordException=re.PageActionEventType=re.OPS=re.MissingPDFException=re.IsLittleEndianCached=re.IsEvalSupportedCached=re.InvalidPDFException=re.ImageKind=re.IDENTITY_MATRIX=re.FormatError=re.FontType=re.FONT_IDENTITY_MATRIX=re.DocumentActionEventType=re.CMapCompressionType=re.BaseException=re.AnnotationType=re.AnnotationStateModelType=re.AnnotationReviewState=re.AnnotationReplyType=re.AnnotationMode=re.AnnotationMarkedState=re.AnnotationFlag=re.AnnotationFieldFlag=re.AnnotationBorderStyleType=re.AnnotationActionEventType=re.AbortException=void 0,re.arrayByteLength=Re,re.arraysToBytes=function Oe(Ue){const Le=Ue.length;if(1===Le&&Ue[0]instanceof Uint8Array)return Ue[0];let Be=0;for(let Ct=0;Ct<Le;Ct++)Be+=Re(Ue[Ct]);let nt=0;const ht=new Uint8Array(Be);for(let Ct=0;Ct<Le;Ct++){let wt=Ue[Ct];wt instanceof Uint8Array||(wt="string"==typeof wt?Ie(wt):new Uint8Array(wt));const Vt=wt.byteLength;ht.set(wt,nt),nt+=Vt}return ht},re.assert=function ke(Ue,Le){Ue||ue(Le)},re.bytesToString=function Fe(Ue){("object"!=typeof Ue||null===Ue||void 0===Ue.length)&&ue("Invalid argument for bytesToString");const Le=Ue.length;if(Le<8192)return String.fromCharCode.apply(null,Ue);const nt=[];for(let ht=0;ht<Le;ht+=8192){const Ct=Math.min(ht+8192,Le),wt=Ue.subarray(ht,Ct);nt.push(String.fromCharCode.apply(null,wt))}return nt.join("")},re.createPromiseCapability=function Mt(){const Ue=Object.create(null);let Le=!1;return Object.defineProperty(Ue,"settled",{get:()=>Le}),Ue.promise=new Promise(function(Be,nt){Ue.resolve=function(ht){Le=!0,Be(ht)},Ue.reject=function(ht){Le=!0,nt(ht)}}),Ue},re.createValidAbsoluteUrl=function F(Ue,Le=null,Be=null){if(!Ue)return null;try{if(Be&&"string"==typeof Ue){if(Be.addDefaultProtocol&&Ue.startsWith("www.")){const ht=Ue.match(/\./g);ht&&ht.length>=2&&(Ue=`http://${Ue}`)}if(Be.tryConvertEncoding)try{Ue=lt(Ue)}catch(ht){}}const nt=Le?new URL(Ue,Le):new URL(Ue);if(function N(Ue){if(!Ue)return!1;switch(Ue.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(nt))return nt}catch(nt){}return null},re.escapeString=function Ke(Ue){return Ue.replace(/([()\\\n\r])/g,Le=>"\n"===Le?"\\n":"\r"===Le?"\\r":`\\${Le}`)},re.getModificationDate=function Ft(Ue=new Date){return[Ue.getUTCFullYear().toString(),(Ue.getUTCMonth()+1).toString().padStart(2,"0"),Ue.getUTCDate().toString().padStart(2,"0"),Ue.getUTCHours().toString().padStart(2,"0"),Ue.getUTCMinutes().toString().padStart(2,"0"),Ue.getUTCSeconds().toString().padStart(2,"0")].join("")},re.getVerbosityLevel=function me(){return _e},re.info=function ve(Ue){_e>=L.INFOS&&console.log(`Info: ${Ue}`)},re.isArrayBuffer=function ot(Ue){return"object"==typeof Ue&&null!==Ue&&void 0!==Ue.byteLength},re.isArrayEqual=function ft(Ue,Le){if(Ue.length!==Le.length)return!1;for(let Be=0,nt=Ue.length;Be<nt;Be++)if(Ue[Be]!==Le[Be])return!1;return!0},re.isAscii=function it(Ue){return/^[\x00-\x7F]*$/.test(Ue)},re.isSameOrigin=function J(Ue,Le){let Be;try{if(Be=new URL(Ue),!Be.origin||"null"===Be.origin)return!1}catch(ht){return!1}const nt=new URL(Le,Be);return Be.origin===nt.origin},re.objectFromMap=function tt(Ue){const Le=Object.create(null);for(const[Be,nt]of Ue)Le[Be]=nt;return Le},re.objectSize=function He(Ue){return Object.keys(Ue).length},re.setVerbosityLevel=function ye(Ue){Number.isInteger(Ue)&&(_e=Ue)},re.shadow=ie,re.string32=function We(Ue){return String.fromCharCode(Ue>>24&255,Ue>>16&255,Ue>>8&255,255&Ue)},re.stringToBytes=Ie,re.stringToPDFString=function qe(Ue){if(Ue[0]>="\xef"){let Be;if("\xfe"===Ue[0]&&"\xff"===Ue[1]?Be="utf-16be":"\xff"===Ue[0]&&"\xfe"===Ue[1]?Be="utf-16le":"\xef"===Ue[0]&&"\xbb"===Ue[1]&&"\xbf"===Ue[2]&&(Be="utf-8"),Be)try{const nt=new TextDecoder(Be,{fatal:!0}),ht=Ie(Ue);return nt.decode(ht)}catch(nt){we(`stringToPDFString: "${nt}".`)}}const Le=[];for(let Be=0,nt=Ue.length;Be<nt;Be++){const ht=Ve[Ue.charCodeAt(Be)];Le.push(ht?String.fromCharCode(ht):Ue.charAt(Be))}return Le.join("")},re.stringToUTF16BEString=function at(Ue){const Le=["\xfe\xff"];for(let Be=0,nt=Ue.length;Be<nt;Be++){const ht=Ue.charCodeAt(Be);Le.push(String.fromCharCode(ht>>8&255),String.fromCharCode(255&ht))}return Le.join("")},re.stringToUTF8String=lt,re.unreachable=ue,re.utf8StringToString=function gt(Ue){return unescape(encodeURIComponent(Ue))},re.warn=we,oe(2),re.IDENTITY_MATRIX=[1,0,0,1,0,0],re.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],re.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},re.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},re.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},re.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},re.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},re.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},re.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},re.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},re.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},re.AnnotationReplyType={GROUP:"Group",REPLY:"R"},re.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},re.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},re.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},re.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},re.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},re.PageActionEventType={O:"PageOpen",C:"PageClose"},re.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},re.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const L={ERRORS:0,WARNINGS:1,INFOS:5};re.VerbosityLevel=L,re.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},re.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},re.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},re.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let _e=L.WARNINGS;function we(Ue){_e>=L.WARNINGS&&console.log(`Warning: ${Ue}`)}function ue(Ue){throw new Error(Ue)}function ie(Ue,Le,Be){return Object.defineProperty(Ue,Le,{value:Be,enumerable:!0,configurable:!0,writable:!1}),Be}const O=function(){function Le(Be,nt){this.constructor===Le&&ue("Cannot initialize BaseException."),this.message=Be,this.name=nt}return Le.prototype=new Error,Le.constructor=Le,Le}();function Ie(Ue){"string"!=typeof Ue&&ue("Invalid argument for stringToBytes");const Le=Ue.length,Be=new Uint8Array(Le);for(let nt=0;nt<Le;++nt)Be[nt]=255&Ue.charCodeAt(nt);return Be}function Re(Ue){return void 0!==Ue.length?Ue.length:void 0!==Ue.byteLength?Ue.byteLength:void ue("Invalid argument for arrayByteLength")}re.BaseException=O,re.PasswordException=class ne extends O{constructor(Le,Be){super(Le,"PasswordException"),this.code=Be}},re.UnknownErrorException=class v extends O{constructor(Le,Be){super(Le,"UnknownErrorException"),this.details=Be}},re.InvalidPDFException=class U extends O{constructor(Le){super(Le,"InvalidPDFException")}},re.MissingPDFException=class H extends O{constructor(Le){super(Le,"MissingPDFException")}},re.UnexpectedResponseException=class ge extends O{constructor(Le,Be){super(Le,"UnexpectedResponseException"),this.status=Be}},re.FormatError=class q extends O{constructor(Le){super(Le,"FormatError")}},re.AbortException=class Ae extends O{constructor(Le){super(Le,"AbortException")}},re.IsLittleEndianCached={get value(){return ie(this,"value",function V(){const Ue=new Uint8Array(4);return Ue[0]=1,1===new Uint32Array(Ue.buffer,0,1)[0]}())}},re.IsEvalSupportedCached={get value(){return ie(this,"value",function Ee(){try{return new Function(""),!0}catch(Ue){return!1}}())}};const fe=[...Array(256).keys()].map(Ue=>Ue.toString(16).padStart(2,"0"));class Te{static makeHexColor(Le,Be,nt){return`#${fe[Le]}${fe[Be]}${fe[nt]}`}static transform(Le,Be){return[Le[0]*Be[0]+Le[2]*Be[1],Le[1]*Be[0]+Le[3]*Be[1],Le[0]*Be[2]+Le[2]*Be[3],Le[1]*Be[2]+Le[3]*Be[3],Le[0]*Be[4]+Le[2]*Be[5]+Le[4],Le[1]*Be[4]+Le[3]*Be[5]+Le[5]]}static applyTransform(Le,Be){return[Le[0]*Be[0]+Le[1]*Be[2]+Be[4],Le[0]*Be[1]+Le[1]*Be[3]+Be[5]]}static applyInverseTransform(Le,Be){const nt=Be[0]*Be[3]-Be[1]*Be[2];return[(Le[0]*Be[3]-Le[1]*Be[2]+Be[2]*Be[5]-Be[4]*Be[3])/nt,(-Le[0]*Be[1]+Le[1]*Be[0]+Be[4]*Be[1]-Be[5]*Be[0])/nt]}static getAxialAlignedBoundingBox(Le,Be){const nt=Te.applyTransform(Le,Be),ht=Te.applyTransform(Le.slice(2,4),Be),Ct=Te.applyTransform([Le[0],Le[3]],Be),wt=Te.applyTransform([Le[2],Le[1]],Be);return[Math.min(nt[0],ht[0],Ct[0],wt[0]),Math.min(nt[1],ht[1],Ct[1],wt[1]),Math.max(nt[0],ht[0],Ct[0],wt[0]),Math.max(nt[1],ht[1],Ct[1],wt[1])]}static inverseTransform(Le){const Be=Le[0]*Le[3]-Le[1]*Le[2];return[Le[3]/Be,-Le[1]/Be,-Le[2]/Be,Le[0]/Be,(Le[2]*Le[5]-Le[4]*Le[3])/Be,(Le[4]*Le[1]-Le[5]*Le[0])/Be]}static apply3dTransform(Le,Be){return[Le[0]*Be[0]+Le[1]*Be[1]+Le[2]*Be[2],Le[3]*Be[0]+Le[4]*Be[1]+Le[5]*Be[2],Le[6]*Be[0]+Le[7]*Be[1]+Le[8]*Be[2]]}static singularValueDecompose2dScale(Le){const Be=[Le[0],Le[2],Le[1],Le[3]],nt=Le[0]*Be[0]+Le[1]*Be[2],wt=Le[2]*Be[1]+Le[3]*Be[3],Vt=(nt+wt)/2,Ut=Math.sqrt((nt+wt)**2-4*(nt*wt-(Le[2]*Be[0]+Le[3]*Be[2])*(Le[0]*Be[1]+Le[1]*Be[3])))/2,Nt=Vt-Ut||1;return[Math.sqrt(Vt+Ut||1),Math.sqrt(Nt)]}static normalizeRect(Le){const Be=Le.slice(0);return Le[0]>Le[2]&&(Be[0]=Le[2],Be[2]=Le[0]),Le[1]>Le[3]&&(Be[1]=Le[3],Be[3]=Le[1]),Be}static intersect(Le,Be){function nt(Vt,Ut){return Vt-Ut}const ht=[Le[0],Le[2],Be[0],Be[2]].sort(nt),Ct=[Le[1],Le[3],Be[1],Be[3]].sort(nt),wt=[];return Le=Te.normalizeRect(Le),Be=Te.normalizeRect(Be),ht[0]===Le[0]&&ht[1]===Be[0]||ht[0]===Be[0]&&ht[1]===Le[0]?(wt[0]=ht[1],wt[2]=ht[2],Ct[0]===Le[1]&&Ct[1]===Be[1]||Ct[0]===Be[1]&&Ct[1]===Le[1]?(wt[1]=Ct[1],wt[3]=Ct[2],wt):null):null}static bezierBoundingBox(Le,Be,nt,ht,Ct,wt,Vt,Ut){const qt=[],Nt=[[],[]];let ti,jt,ni,It,Pe,Ye,he,De;for(let Lt=0;Lt<2;++Lt)if(0===Lt?(jt=6*Le-12*nt+6*Ct,ti=-3*Le+9*nt-9*Ct+3*Vt,ni=3*nt-3*Le):(jt=6*Be-12*ht+6*wt,ti=-3*Be+9*ht-9*wt+3*Ut,ni=3*ht-3*Be),Math.abs(ti)<1e-12){if(Math.abs(jt)<1e-12)continue;It=-ni/jt,0<It&&It<1&&qt.push(It)}else he=jt*jt-4*ni*ti,De=Math.sqrt(he),!(he<0)&&(Pe=(-jt+De)/(2*ti),0<Pe&&Pe<1&&qt.push(Pe),Ye=(-jt-De)/(2*ti),0<Ye&&Ye<1&&qt.push(Ye));let st,Qe=qt.length;const kt=Qe;for(;Qe--;)It=qt[Qe],st=1-It,Nt[0][Qe]=st*st*st*Le+3*st*st*It*nt+3*st*It*It*Ct+It*It*It*Vt,Nt[1][Qe]=st*st*st*Be+3*st*st*It*ht+3*st*It*It*wt+It*It*It*Ut;return Nt[0][kt]=Le,Nt[1][kt]=Be,Nt[0][kt+1]=Vt,Nt[1][kt+1]=Ut,Nt[0].length=Nt[1].length=kt+2,[Math.min(...Nt[0]),Math.min(...Nt[1]),Math.max(...Nt[0]),Math.max(...Nt[1])]}}re.Util=Te;const Ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function lt(Ue){return decodeURIComponent(escape(Ue))}},(ze,re,oe)=>{oe(3)},(ze,re)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.isNodeJS=void 0;const oe=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);re.isNodeJS=oe},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var ze,re,oe,c,e,xe,ce,Hi;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(z){createPDFNetworkStream=z}function getDocument(z){const f=new PDFDocumentLoadingTask;let R;if("string"==typeof z||z instanceof URL)R={url:z};else if((0,_util.isArrayBuffer)(z))R={data:z};else if(z instanceof PDFDataRangeTransport)R={range:z};else{if("object"!=typeof z)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!z.url&&!z.data&&!z.range)throw new Error("Invalid parameter object: need either .data, .range or .url");R=z}const x=Object.create(null);let w=null,_=null;for(const k in R){const C=R[k];switch(k){case"url":if("undefined"!=typeof window)try{x[k]=new URL(C,window.location).href;continue}catch(X){(0,_util.warn)(`Cannot create valid URL: "${X}".`)}else if("string"==typeof C||C instanceof URL){x[k]=C.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":w=C;continue;case"worker":_=C;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&C instanceof Buffer)x[k]=new Uint8Array(C);else{if(C instanceof Uint8Array)break;if("string"==typeof C)x[k]=(0,_util.stringToBytes)(C);else if("object"!=typeof C||null===C||isNaN(C.length)){if(!(0,_util.isArrayBuffer)(C))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");x[k]=new Uint8Array(C)}else x[k]=new Uint8Array(C)}continue}x[k]=C}if(x.rangeChunkSize=x.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,x.CMapReaderFactory=x.CMapReaderFactory||DefaultCMapReaderFactory,x.StandardFontDataFactory=x.StandardFontDataFactory||DefaultStandardFontDataFactory,x.ignoreErrors=!0!==x.stopAtErrors,x.fontExtraProperties=!0===x.fontExtraProperties,x.pdfBug=!0===x.pdfBug,x.enableXfa=!0===x.enableXfa,("string"!=typeof x.docBaseUrl||(0,_display_utils.isDataScheme)(x.docBaseUrl))&&(x.docBaseUrl=null),Number.isInteger(x.maxImageSize)||(x.maxImageSize=-1),"boolean"!=typeof x.useWorkerFetch&&(x.useWorkerFetch=x.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&x.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof x.isEvalSupported&&(x.isEvalSupported=!0),"boolean"!=typeof x.disableFontFace&&(x.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof x.useSystemFonts&&(x.useSystemFonts=!_is_node.isNodeJS&&!x.disableFontFace),void 0===x.ownerDocument&&(x.ownerDocument=globalThis.document),"boolean"!=typeof x.disableRange&&(x.disableRange=!1),"boolean"!=typeof x.disableStream&&(x.disableStream=!1),"boolean"!=typeof x.disableAutoFetch&&(x.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(x.verbosity),!_){const k={verbosity:x.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};_=k.port?_PDFWorker.fromPort(k):new _PDFWorker(k),f._worker=_}const B=f.docId;return _.promise.then(function(){if(f.destroyed)throw new Error("Loading aborted");const k=_fetchDocument(_,x,w,B),C=new Promise(function(X){let se;w?se=new _transport_stream.PDFDataTransportStream({length:x.length,initialData:x.initialData,progressiveDone:x.progressiveDone,contentDispositionFilename:x.contentDispositionFilename,disableRange:x.disableRange,disableStream:x.disableStream},w):x.data||(se=createPDFNetworkStream({url:x.url,length:x.length,httpHeaders:x.httpHeaders,withCredentials:x.withCredentials,rangeChunkSize:x.rangeChunkSize,disableRange:x.disableRange,disableStream:x.disableStream})),X(se)});return Promise.all([k,C]).then(function([X,se]){if(f.destroyed)throw new Error("Loading aborted");const j=new _message_handler.MessageHandler(B,X,_.port),S=new WorkerTransport(j,f,se,x);f._transport=S,j.send("Ready",null)})}).catch(f._capability.reject),f}function _fetchDocument(z,f,R,x){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(z,f,R,x){if(z.destroyed)throw new Error("Worker was destroyed");R&&(f.length=R.length,f.initialData=R.initialData,f.progressiveDone=R.progressiveDone,f.contentDispositionFilename=R.contentDispositionFilename);const w=yield z.messageHandler.sendWithPromise("GetDocRequest",{docId:x,apiVersion:"2.13.216",source:{data:f.data,url:f.url,password:f.password,disableAutoFetch:f.disableAutoFetch,rangeChunkSize:f.rangeChunkSize,length:f.length},maxImageSize:f.maxImageSize,disableFontFace:f.disableFontFace,docBaseUrl:f.docBaseUrl,ignoreErrors:f.ignoreErrors,isEvalSupported:f.isEvalSupported,fontExtraProperties:f.fontExtraProperties,enableXfa:f.enableXfa,useSystemFonts:f.useSystemFonts,cMapUrl:f.useWorkerFetch?f.cMapUrl:null,standardFontDataUrl:f.useWorkerFetch?f.standardFontDataUrl:null});if(z.destroyed)throw new Error("Worker was destroyed");return w})).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var f=this;return _asyncToGenerator(function*(){var R;f.destroyed=!0,yield null==(R=f._transport)?void 0:R.destroy(),f._transport=null,f._worker&&(f._worker.destroy(),f._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(f,R,x=!1,w=null){this.length=f,this.initialData=R,this.progressiveDone=x,this.contentDispositionFilename=w,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(f){this._rangeListeners.push(f)}addProgressListener(f){this._progressListeners.push(f)}addProgressiveReadListener(f){this._progressiveReadListeners.push(f)}addProgressiveDoneListener(f){this._progressiveDoneListeners.push(f)}onDataRange(f,R){for(const x of this._rangeListeners)x(f,R)}onDataProgress(f,R){this._readyCapability.promise.then(()=>{for(const x of this._progressListeners)x(f,R)})}onDataProgressiveRead(f){this._readyCapability.promise.then(()=>{for(const R of this._progressiveReadListeners)R(f)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const f of this._progressiveDoneListeners)f()})}transportReady(){this._readyCapability.resolve()}requestDataRange(f,R){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(f,R){var w,x=this;this._pdfInfo=f,this._transport=R,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(w=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),x.stats||{streamTypes:{},fontTypes:{}}}),function(){return w.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(f){return this._transport.getPage(f)}getPageIndex(f){return this._transport.getPageIndex(f)}getDestinations(){return this._transport.getDestinations()}getDestination(f){return this._transport.getDestination(f)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(f=!1){return this._transport.startCleanup(f||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(f,R,x,w,_=!1){this._pageIndex=f,this._pageInfo=R,this._ownerDocument=w,this._transport=x,this._stats=_?new _display_utils.StatTimer:null,this._pdfBug=_,this.commonObjs=x.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:f,rotation:R=this.rotate,offsetX:x=0,offsetY:w=0,dontFlip:_=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:f,rotation:R,offsetX:x,offsetY:w,dontFlip:_})}getAnnotations({intent:f="display"}={}){const R=this._transport.getRenderingIntent(f);let x=this._annotationPromises.get(R.cacheKey);return x||(x=this._transport.getAnnotations(this._pageIndex,R.renderingIntent),this._annotationPromises.set(R.cacheKey,x),x=x.then(w=>{for(const _ of w)void 0!==_.titleObj&&Object.defineProperty(_,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),_.titleObj.str)}),void 0!==_.contentsObj&&Object.defineProperty(_,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),_.contentsObj.str)});return w})),x}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var f=this;return _asyncToGenerator(function*(){var R;return(null==(R=f._transport._htmlForXfa)?void 0:R.children[f._pageIndex])||null})()}render({canvasContext:f,viewport:R,intent:x="display",annotationMode:w=_util.AnnotationMode.ENABLE,transform:_=null,imageLayer:B=null,canvasFactory:k=null,background:C=null,optionalContentConfigPromise:X=null,annotationCanvasMap:se=null}){var be,de;void 0!==(null==(be=arguments[0])?void 0:be.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&w===_util.AnnotationMode.ENABLE&&(w=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null==(de=arguments[0])?void 0:de.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&w===_util.AnnotationMode.ENABLE&&(w=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const j=this._transport.getRenderingIntent(x,w);this.pendingCleanup=!1,X||(X=this._transport.getOptionalContentConfig());let S=this._intentStates.get(j.cacheKey);S||(S=Object.create(null),this._intentStates.set(j.cacheKey,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const A=k||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),T=!!(j.renderingIntent&_util.RenderingIntentFlag.PRINT);S.displayReadyCapability||(S.displayReadyCapability=(0,_util.createPromiseCapability)(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(j));const L=_e=>{S.renderTasks.delete(W),(this.cleanupAfterRender||T)&&(this.pendingCleanup=!0),this._tryCleanup(),_e?(W.capability.reject(_e),this._abortOperatorList({intentState:S,reason:_e instanceof Error?_e:new Error(_e)})):W.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},W=new InternalRenderTask({callback:L,params:{canvasContext:f,viewport:R,transform:_,imageLayer:B,background:C},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:se,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:A,useRequestAnimationFrame:!T,pdfBug:this._pdfBug});(S.renderTasks||(S.renderTasks=new Set)).add(W);const G=W.task;return Promise.all([S.displayReadyCapability.promise,X]).then(([_e,ye])=>{this.pendingCleanup?L():(this._stats&&this._stats.time("Rendering"),W.initializeGraphics({transparency:_e,optionalContentConfig:ye}),W.operatorListChanged())}).catch(L),G}getOperatorList({intent:f="display",annotationMode:R=_util.AnnotationMode.ENABLE}={}){const w=this._transport.getRenderingIntent(f,R,!0);let B,_=this._intentStates.get(w.cacheKey);return _||(_=Object.create(null),this._intentStates.set(w.cacheKey,_)),_.opListReadCapability||(B=Object.create(null),B.operatorListChanged=function x(){_.operatorList.lastChunk&&(_.opListReadCapability.resolve(_.operatorList),_.renderTasks.delete(B))},_.opListReadCapability=(0,_util.createPromiseCapability)(),(_.renderTasks||(_.renderTasks=new Set)).add(B),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(w)),_.opListReadCapability.promise}streamTextContent({disableCombineTextItems:f=!1,includeMarkedContent:R=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==f,includeMarkedContent:!0===R},{highWaterMark:100,size:w=>w.items.length})}getTextContent(f={}){if(this._transport._htmlForXfa)return this.getXfa().then(x=>_xfa_text.XfaText.textContent(x));const R=this.streamTextContent(f);return new Promise(function(x,w){const B=R.getReader(),k={items:[],styles:Object.create(null)};!function _(){B.read().then(function({value:C,done:X}){X?x(k):(Object.assign(k.styles,C.styles),k.items.push(...C.items),_())},w)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const f=[];for(const R of this._intentStates.values())if(this._abortOperatorList({intentState:R,reason:new Error("Page was destroyed."),force:!0}),!R.opListReadCapability)for(const x of R.renderTasks)f.push(x.completed),x.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(f)}cleanup(f=!1){return this.pendingCleanup=!0,this._tryCleanup(f)}_tryCleanup(f=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:R,operatorList:x}of this._intentStates.values())if(R.size>0||!x.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,f&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(f,R){const x=this._intentStates.get(R);!x||(this._stats&&this._stats.timeEnd("Page Request"),x.displayReadyCapability&&x.displayReadyCapability.resolve(f))}_renderPageChunk(f,R){for(let x=0,w=f.length;x<w;x++)R.operatorList.fnArray.push(f.fnArray[x]),R.operatorList.argsArray.push(f.argsArray[x]);R.operatorList.lastChunk=f.lastChunk;for(const x of R.renderTasks)x.operatorListChanged();f.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:f,cacheKey:R}){const w=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:f,cacheKey:R,annotationStorage:f&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),_=this._intentStates.get(R);_.streamReader=w;const B=()=>{w.read().then(({value:k,done:C})=>{C?_.streamReader=null:this._transport.destroyed||(this._renderPageChunk(k,_),B())},k=>{if(_.streamReader=null,!this._transport.destroyed){if(_.operatorList){_.operatorList.lastChunk=!0;for(const C of _.renderTasks)C.operatorListChanged();this._tryCleanup()}if(_.displayReadyCapability)_.displayReadyCapability.reject(k);else{if(!_.opListReadCapability)throw k;_.opListReadCapability.reject(k)}}})};B()}_abortOperatorList({intentState:f,reason:R,force:x=!1}){if(f.streamReader){if(!x){if(f.renderTasks.size>0)return;if(R instanceof _display_utils.RenderingCancelledException)return void(f.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:f,reason:R,force:!0}),f.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(f.streamReader.cancel(new _util.AbortException(R.message)).catch(()=>{}),f.streamReader=null,!this._transport.destroyed){for(const[w,_]of this._intentStates)if(_===f){this._intentStates.delete(w);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(f,R){const x={data:structuredClone(f,R)};this._deferred.then(()=>{for(const w of this._listeners)w.call(this,x)})}addEventListener(f,R){this._listeners.push(R)}removeEventListener(f,R){const x=this._listeners.indexOf(R);this._listeners.splice(x,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const z=null==(ze=null==document?void 0:document.currentScript)?void 0:ze.src;z&&(PDFWorkerUtil.fallbackWorkerSrc=z.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(z){return URL.createObjectURL(new Blob([`importScripts("${z}");`]))};class _PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:z=null,port:f=null,verbosity:R=(0,_util.getVerbosityLevel)()}={}){if(f&&_PDFWorker._workerPorts.has(f))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=z,this.destroyed=!1,this.verbosity=R,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,f)return _PDFWorker._workerPorts.set(f,this),void this._initializeFromPort(f);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(z){this._port=z,this._messageHandler=new _message_handler.MessageHandler("main","worker",z),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let z=_PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,z)||(z=PDFWorkerUtil.createCDNWrapper(new URL(z,window.location).href));const f=new Worker(z),R=new _message_handler.MessageHandler("main","worker",f),x=()=>{f.removeEventListener("error",w),R.destroy(),f.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},w=()=>{this._webWorker||x()};f.addEventListener("error",w),R.on("test",B=>{f.removeEventListener("error",w),this.destroyed?x():B?(this._messageHandler=R,this._port=f,this._webWorker=f,this._readyCapability.resolve(),R.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),R.destroy(),f.terminate())}),R.on("ready",B=>{if(f.removeEventListener("error",w),this.destroyed)x();else try{_()}catch(k){this._setupFakeWorker()}});const _=()=>{const B=new Uint8Array([255]);try{R.send("test",B,[B.buffer])}catch(k){(0,_util.warn)("Cannot use postMessage transfers."),B[0]=0,R.send("test",B)}};return void _()}catch(f){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(z=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const f=new LoopbackPort;this._port=f;const R="fake"+PDFWorkerUtil.fakeWorkerId++,x=new _message_handler.MessageHandler(R+"_worker",R,f);z.setup(x,f);const w=new _message_handler.MessageHandler(R,R+"_worker",f);this._messageHandler=w,this._readyCapability.resolve(),w.send("configure",{verbosity:this.verbosity})}).catch(z=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${z.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(z){if(!(null==z?void 0:z.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(z.port)?this._workerPorts.get(z.port):new _PDFWorker(z)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var z;try{return(null==(z=globalThis.pdfjsWorker)?void 0:z.WorkerMessageHandler)||null}catch(f){return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function z(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(f,R,x,w){Et(this,re,null),Et(this,oe,new Map),Et(this,c,new Map),Et(this,e,null),this.messageHandler=f,this.loadingTask=R,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:R.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:w.ownerDocument,styleElement:w.styleElement}),this._params=w,w.useWorkerFetch||(this.CMapReaderFactory=new w.CMapReaderFactory({baseUrl:w.cMapUrl,isCompressed:w.cMapPacked}),this.StandardFontDataFactory=new w.StandardFontDataFactory({baseUrl:w.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=x,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return ut(this,re)}getRenderingIntent(f,R=_util.AnnotationMode.ENABLE,x=!1){let w=_util.RenderingIntentFlag.DISPLAY,_="";switch(f){case"any":w=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":w=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${f}`)}switch(R){case _util.AnnotationMode.DISABLE:w+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:w+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:w+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,_=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${R}`)}return x&&(w+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:w,cacheKey:`${w}_${_}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const f=[];for(const x of ut(this,oe).values())f.push(x._destroy());ut(this,oe).clear(),ut(this,c).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const R=this.messageHandler.sendWithPromise("Terminate",null);return f.push(R),Promise.all(f).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Dt(this,e,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:f,loadingTask:R}=this;f.on("GetReader",(x,w)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=_=>{this._lastProgress={loaded:_.loaded,total:_.total}},w.onPull=()=>{this._fullReader.read().then(function({value:_,done:B}){B?w.close():((0,_util.assert)((0,_util.isArrayBuffer)(_),"GetReader - expected an ArrayBuffer."),w.enqueue(new Uint8Array(_),1,[_]))}).catch(_=>{w.error(_)})},w.onCancel=_=>{this._fullReader.cancel(_),w.ready.catch(B=>{if(!this.destroyed)throw B})}}),f.on("ReaderHeadersReady",x=>{const w=(0,_util.createPromiseCapability)(),_=this._fullReader;return _.headersReady.then(()=>{var B;(!_.isStreamingSupported||!_.isRangeSupported)&&(this._lastProgress&&(null==(B=R.onProgress)||B.call(R,this._lastProgress)),_.onProgress=k=>{var C;null==(C=R.onProgress)||C.call(R,{loaded:k.loaded,total:k.total})}),w.resolve({isStreamingSupported:_.isStreamingSupported,isRangeSupported:_.isRangeSupported,contentLength:_.contentLength})},w.reject),w.promise}),f.on("GetRangeReader",(x,w)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const _=this._networkStream.getRangeReader(x.begin,x.end);_?(w.onPull=()=>{_.read().then(function({value:B,done:k}){k?w.close():((0,_util.assert)((0,_util.isArrayBuffer)(B),"GetRangeReader - expected an ArrayBuffer."),w.enqueue(new Uint8Array(B),1,[B]))}).catch(B=>{w.error(B)})},w.onCancel=B=>{_.cancel(B),w.ready.catch(k=>{if(!this.destroyed)throw k})}):w.close()}),f.on("GetDoc",({pdfInfo:x})=>{this._numPages=x.numPages,this._htmlForXfa=x.htmlForXfa,delete x.htmlForXfa,R._capability.resolve(new PDFDocumentProxy(x,this))}),f.on("DocException",function(x){let w;switch(x.name){case"PasswordException":w=new _util.PasswordException(x.message,x.code);break;case"InvalidPDFException":w=new _util.InvalidPDFException(x.message);break;case"MissingPDFException":w=new _util.MissingPDFException(x.message);break;case"UnexpectedResponseException":w=new _util.UnexpectedResponseException(x.message,x.status);break;case"UnknownErrorException":w=new _util.UnknownErrorException(x.message,x.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}R._capability.reject(w)}),f.on("PasswordRequest",x=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),R.onPassword){const w=_=>{_ instanceof Error?this._passwordCapability.reject(_):this._passwordCapability.resolve({password:_})};try{R.onPassword(w,x.code)}catch(_){this._passwordCapability.reject(_)}}else this._passwordCapability.reject(new _util.PasswordException(x.message,x.code));return this._passwordCapability.promise}),f.on("DataLoaded",x=>{var w;null==(w=R.onProgress)||w.call(R,{loaded:x.length,total:x.length}),this.downloadInfoCapability.resolve(x)}),f.on("StartRenderPage",x=>{this.destroyed||ut(this,oe).get(x.pageIndex)._startRenderPage(x.transparency,x.cacheKey)}),f.on("commonobj",([x,w,_])=>{var B;if(!this.destroyed&&!this.commonObjs.has(x))switch(w){case"Font":const k=this._params;if("error"in _){const se=_.error;(0,_util.warn)(`Error during font loading: ${se}`),this.commonObjs.resolve(x,se);break}let C=null;k.pdfBug&&(null==(B=globalThis.FontInspector)?void 0:B.enabled)&&(C={registerFont(se,j){globalThis.FontInspector.fontAdded(se,j)}});const X=new _font_loader.FontFaceObject(_,{isEvalSupported:k.isEvalSupported,disableFontFace:k.disableFontFace,ignoreErrors:k.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:C});this.fontLoader.bind(X).catch(se=>f.sendWithPromise("FontFallback",{id:x})).finally(()=>{!k.fontExtraProperties&&X.data&&(X.data=null),this.commonObjs.resolve(x,X)});break;case"FontPath":case"Image":this.commonObjs.resolve(x,_);break;default:throw new Error(`Got unknown common object type ${w}`)}}),f.on("obj",([x,w,_,B])=>{var C;if(this.destroyed)return;const k=ut(this,oe).get(w);if(!k.objs.has(x))switch(_){case"Image":k.objs.resolve(x,B),(null==(C=null==B?void 0:B.data)?void 0:C.length)>8e6&&(k.cleanupAfterRender=!0);break;case"Pattern":k.objs.resolve(x,B);break;default:throw new Error(`Got unknown object type ${_}`)}}),f.on("DocProgress",x=>{var w;this.destroyed||null==(w=R.onProgress)||w.call(R,{loaded:x.loaded,total:x.total})}),f.on("DocStats",x=>{this.destroyed||Dt(this,re,Object.freeze({streamTypes:Object.freeze(x.streamTypes),fontTypes:Object.freeze(x.fontTypes)}))}),f.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),f.on("FetchBuiltInCMap",x=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(x):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),f.on("FetchStandardFontData",x=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(x):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:f}){var R,x;this.destroyed||null==(x=(R=this.loadingTask).onUnsupportedFeature)||x.call(R,f)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(f){if(!Number.isInteger(f)||f<=0||f>this._numPages)return Promise.reject(new Error("Invalid page request."));const R=f-1,x=ut(this,c).get(R);if(x)return x;const w=this.messageHandler.sendWithPromise("GetPage",{pageIndex:R}).then(_=>{if(this.destroyed)throw new Error("Transport destroyed");const B=new PDFPageProxy(R,_,this,this._params.ownerDocument,this._params.pdfBug);return ut(this,oe).set(R,B),B});return ut(this,c).set(R,w),w}getPageIndex(f){return"object"!=typeof f||null===f||!Number.isInteger(f.num)||f.num<0||!Number.isInteger(f.gen)||f.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:f.num,gen:f.gen})}getAnnotations(f,R){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:f,intent:R})}saveDocument(){var f,R;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!=(R=null==(f=this._fullReader)?void 0:f.filename)?R:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(f){return"string"!=typeof f?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:f})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(f){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:f})}getStructTree(f){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:f})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(f=>new _optional_content_config.OptionalContentConfig(f))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return ut(this,e)||Dt(this,e,this.messageHandler.sendWithPromise("GetMetadata",null).then(f=>{var R,x,w,_;return{info:f[0],metadata:f[1]?new _metadata.Metadata(f[1]):null,contentDispositionFilename:null!=(x=null==(R=this._fullReader)?void 0:R.filename)?x:null,contentLength:null!=(_=null==(w=this._fullReader)?void 0:w.contentLength)?_:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(f=!1){var R=this;return _asyncToGenerator(function*(){if(yield R.messageHandler.sendWithPromise("Cleanup",null),!R.destroyed){for(const x of ut(R,oe).values())if(!x.cleanup())throw new Error(`startCleanup: Page ${x.pageNumber} is currently rendering.`);R.commonObjs.clear(),f||R.fontLoader.clear(),Dt(R,e,null),R._getFieldObjectsPromise=null,R._hasJSActionsPromise=null}})()}get loadingParams(){const f=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:f.disableAutoFetch,enableXfa:f.enableXfa})}}re=new WeakMap,oe=new WeakMap,c=new WeakMap,e=new WeakMap;class PDFObjects{constructor(){Et(this,ce),Et(this,xe,Object.create(null))}get(f,R=null){if(R){const w=Wt(this,ce,Hi).call(this,f);return w.capability.promise.then(()=>R(w.data)),null}const x=ut(this,xe)[f];if(!(null==x?void 0:x.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${f}.`);return x.data}has(f){const R=ut(this,xe)[f];return(null==R?void 0:R.capability.settled)||!1}resolve(f,R=null){const x=Wt(this,ce,Hi).call(this,f);x.data=R,x.capability.resolve()}clear(){Dt(this,xe,Object.create(null))}}xe=new WeakMap,ce=new WeakSet,Hi=function(f){return ut(this,xe)[f]||(ut(this,xe)[f]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(f){this._internalRenderTask=f,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:f,params:R,objs:x,commonObjs:w,annotationCanvasMap:_,operatorList:B,pageIndex:k,canvasFactory:C,useRequestAnimationFrame:X=!1,pdfBug:se=!1}){this.callback=f,this.params=R,this.objs=x,this.commonObjs=w,this.annotationCanvasMap=_,this.operatorListIdx=null,this.operatorList=B,this._pageIndex=k,this.canvasFactory=C,this._pdfBug=se,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===X&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=R.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:f=!1,optionalContentConfig:R}){var C;if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&(null==(C=globalThis.StepperManager)?void 0:C.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:x,viewport:w,transform:_,imageLayer:B,background:k}=this.params;this.gfx=new _canvas.CanvasGraphics(x,this.commonObjs,this.objs,this.canvasFactory,B,R,this.annotationCanvasMap),this.gfx.beginDrawing({transform:_,viewport:w,transparency:f,background:k}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(f=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(f||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var f=this;return _asyncToGenerator(function*(){f.cancelled||(f.operatorListIdx=f.gfx.executeOperatorList(f.operatorList,f.operatorListIdx,f._continueBound,f.stepper),f.operatorListIdx===f.operatorList.argsArray.length&&(f.running=!1,f.operatorList.lastChunk&&(f.gfx.endDrawing(),f._canvas&&InternalRenderTask.canvasInUse.delete(f._canvas),f.callback())))})()}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},(ze,re,oe)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.StatTimer=re.RenderingCancelledException=re.PixelsPerInch=re.PageViewport=re.PDFDateString=re.DOMStandardFontDataFactory=re.DOMSVGFactory=re.DOMCanvasFactory=re.DOMCMapReaderFactory=void 0,re.deprecated=function T(de){console.log("Deprecated API usage: "+de)},re.getFilenameFromUrl=function X(de){const _e=de.indexOf("#"),ye=de.indexOf("?"),me=Math.min(_e>0?_e:de.length,ye>0?ye:de.length);return de.substring(de.lastIndexOf("/",me)+1,me)},re.getPdfFilenameFromUrl=function se(de,_e="document.pdf"){if("string"!=typeof de)return _e;if(k(de))return(0,e.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),_e;const me=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ve=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(de);let we=me.exec(ve[1])||me.exec(ve[2])||me.exec(ve[3]);if(we&&(we=we[0],we.includes("%")))try{we=me.exec(decodeURIComponent(we))[0]}catch(ue){}return we||_e},re.getXfaPageViewport=function G(de,{scale:_e=1,rotation:ye=0}){const{width:me,height:ve}=de.attributes.style,we=[0,0,parseInt(me),parseInt(ve)];return new _({viewBox:we,scale:_e,rotation:ye})},re.isDataScheme=k,re.isPdfFile=function C(de){return"string"==typeof de&&/\.pdf$/i.test(de)},re.isValidFetchUrl=S,re.loadScript=function A(de,_e=!1){return new Promise((ye,me)=>{const ve=document.createElement("script");ve.src=de,ve.onload=function(we){_e&&ve.remove(),ye(we)},ve.onerror=function(){me(new Error(`Cannot load script at: ${ve.src}`))},(document.head||document.documentElement).appendChild(ve)})};var c=oe(6),e=oe(1);const be=class{};let L,ce=be;function z(de){return f.apply(this,arguments)}function f(){return(f=_asyncToGenerator(function*(de,_e=!1){if(S(de,document.baseURI)){const ye=yield fetch(de);if(!ye.ok)throw new Error(ye.statusText);return _e?new Uint8Array(yield ye.arrayBuffer()):(0,e.stringToBytes)(yield ye.text())}return new Promise((ye,me)=>{const ve=new XMLHttpRequest;ve.open("GET",de,!0),_e&&(ve.responseType="arraybuffer"),ve.onreadystatechange=()=>{if(ve.readyState===XMLHttpRequest.DONE){if(200===ve.status||0===ve.status){let we;if(_e&&ve.response?we=new Uint8Array(ve.response):!_e&&ve.responseText&&(we=(0,e.stringToBytes)(ve.responseText)),we)return void ye(we)}me(new Error(ve.statusText))}},ve.send(null)})})).apply(this,arguments)}Ii(ce,"CSS",96),Ii(ce,"PDF",72),Ii(ce,"PDF_TO_CSS_UNITS",be.CSS/be.PDF),re.PixelsPerInch=ce,re.DOMCanvasFactory=class pe extends c.BaseCanvasFactory{constructor({ownerDocument:_e=globalThis.document}={}){super(),this._document=_e}_createCanvas(_e,ye){const me=this._document.createElement("canvas");return me.width=_e,me.height=ye,me}},re.DOMCMapReaderFactory=class R extends c.BaseCMapReaderFactory{_fetchData(_e,ye){return z(_e,this.isCompressed).then(me=>({cMapData:me,compressionType:ye}))}},re.DOMStandardFontDataFactory=class x extends c.BaseStandardFontDataFactory{_fetchData(_e){return z(_e,!0)}},re.DOMSVGFactory=class w extends c.BaseSVGFactory{_createSVG(_e){return document.createElementNS("http://www.w3.org/2000/svg",_e)}};class _{constructor({viewBox:_e,scale:ye,rotation:me,offsetX:ve=0,offsetY:we=0,dontFlip:ue=!1}){this.viewBox=_e,this.scale=ye,this.rotation=me,this.offsetX=ve,this.offsetY=we;const ke=(_e[2]+_e[0])/2,J=(_e[3]+_e[1])/2;let N,F,ie,O,ne,v,U,H;switch((me%=360)<0&&(me+=360),me){case 180:N=-1,F=0,ie=0,O=1;break;case 90:N=0,F=1,ie=1,O=0;break;case 270:N=0,F=-1,ie=-1,O=0;break;case 0:N=1,F=0,ie=0,O=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ue&&(ie=-ie,O=-O),0===N?(ne=Math.abs(J-_e[1])*ye+ve,v=Math.abs(ke-_e[0])*ye+we,U=Math.abs(_e[3]-_e[1])*ye,H=Math.abs(_e[2]-_e[0])*ye):(ne=Math.abs(ke-_e[0])*ye+ve,v=Math.abs(J-_e[1])*ye+we,U=Math.abs(_e[2]-_e[0])*ye,H=Math.abs(_e[3]-_e[1])*ye),this.transform=[N*ye,F*ye,ie*ye,O*ye,ne-N*ye*ke-ie*ye*J,v-F*ye*ke-O*ye*J],this.width=U,this.height=H}clone({scale:_e=this.scale,rotation:ye=this.rotation,offsetX:me=this.offsetX,offsetY:ve=this.offsetY,dontFlip:we=!1}={}){return new _({viewBox:this.viewBox.slice(),scale:_e,rotation:ye,offsetX:me,offsetY:ve,dontFlip:we})}convertToViewportPoint(_e,ye){return e.Util.applyTransform([_e,ye],this.transform)}convertToViewportRectangle(_e){const ye=e.Util.applyTransform([_e[0],_e[1]],this.transform),me=e.Util.applyTransform([_e[2],_e[3]],this.transform);return[ye[0],ye[1],me[0],me[1]]}convertToPdfPoint(_e,ye){return e.Util.applyInverseTransform([_e,ye],this.transform)}}function k(de){const _e=de.length;let ye=0;for(;ye<_e&&""===de[ye].trim();)ye++;return"data:"===de.substring(ye,ye+5).toLowerCase()}function S(de,_e){try{const{protocol:ye}=_e?new URL(de,_e):new URL(de);return"http:"===ye||"https:"===ye}catch(ye){return!1}}re.PageViewport=_,re.RenderingCancelledException=class B extends e.BaseException{constructor(_e,ye){super(_e,"RenderingCancelledException"),this.type=ye}},re.StatTimer=class j{constructor(){this.started=Object.create(null),this.times=[]}time(_e){_e in this.started&&(0,e.warn)(`Timer is already running for ${_e}`),this.started[_e]=Date.now()}timeEnd(_e){_e in this.started||(0,e.warn)(`Timer has not been started for ${_e}`),this.times.push({name:_e,start:this.started[_e],end:Date.now()}),delete this.started[_e]}toString(){const _e=[];let ye=0;for(const me of this.times){const ve=me.name;ve.length>ye&&(ye=ve.length)}for(const me of this.times){const ve=me.end-me.start;_e.push(`${me.name.padEnd(ye)} ${ve}ms\n`)}return _e.join("")}},re.PDFDateString=class W{static toDateObject(_e){if(!_e||"string"!=typeof _e)return null;L||(L=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ye=L.exec(_e);if(!ye)return null;const me=parseInt(ye[1],10);let ve=parseInt(ye[2],10);ve=ve>=1&&ve<=12?ve-1:0;let we=parseInt(ye[3],10);we=we>=1&&we<=31?we:1;let ue=parseInt(ye[4],10);ue=ue>=0&&ue<=23?ue:0;let ke=parseInt(ye[5],10);ke=ke>=0&&ke<=59?ke:0;let J=parseInt(ye[6],10);J=J>=0&&J<=59?J:0;const N=ye[7]||"Z";let F=parseInt(ye[8],10);F=F>=0&&F<=23?F:0;let ie=parseInt(ye[9],10)||0;return ie=ie>=0&&ie<=59?ie:0,"-"===N?(ue+=F,ke+=ie):"+"===N&&(ue-=F,ke-=ie),new Date(Date.UTC(me,ve,we,ue,ke,J))}}},(ze,re,oe)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.BaseStandardFontDataFactory=re.BaseSVGFactory=re.BaseCanvasFactory=re.BaseCMapReaderFactory=void 0;var c=oe(1);class e{constructor(){this.constructor===e&&(0,c.unreachable)("Cannot initialize BaseCanvasFactory.")}create(f,R){if(f<=0||R<=0)throw new Error("Invalid canvas size");const x=this._createCanvas(f,R);return{canvas:x,context:x.getContext("2d")}}reset(f,R,x){if(!f.canvas)throw new Error("Canvas is not specified");if(R<=0||x<=0)throw new Error("Invalid canvas size");f.canvas.width=R,f.canvas.height=x}destroy(f){if(!f.canvas)throw new Error("Canvas is not specified");f.canvas.width=0,f.canvas.height=0,f.canvas=null,f.context=null}_createCanvas(f,R){(0,c.unreachable)("Abstract method `_createCanvas` called.")}}re.BaseCanvasFactory=e;class xe{constructor({baseUrl:f=null,isCompressed:R=!1}){this.constructor===xe&&(0,c.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=f,this.isCompressed=R}fetch({name:f}){var R=this;return _asyncToGenerator(function*(){if(!R.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!f)throw new Error("CMap name must be specified.");const x=R.baseUrl+f+(R.isCompressed?".bcmap":"");return R._fetchData(x,R.isCompressed?c.CMapCompressionType.BINARY:c.CMapCompressionType.NONE).catch(_=>{throw new Error(`Unable to load ${R.isCompressed?"binary ":""}CMap at: ${x}`)})})()}_fetchData(f,R){(0,c.unreachable)("Abstract method `_fetchData` called.")}}re.BaseCMapReaderFactory=xe;class ce{constructor({baseUrl:f=null}){this.constructor===ce&&(0,c.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=f}fetch({filename:f}){var R=this;return _asyncToGenerator(function*(){if(!R.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!f)throw new Error("Font filename must be specified.");const x=`${R.baseUrl}${f}`;return R._fetchData(x).catch(w=>{throw new Error(`Unable to load font data at: ${x}`)})})()}_fetchData(f){(0,c.unreachable)("Abstract method `_fetchData` called.")}}re.BaseStandardFontDataFactory=ce;class pe{constructor(){this.constructor===pe&&(0,c.unreachable)("Cannot initialize BaseSVGFactory.")}create(f,R){if(f<=0||R<=0)throw new Error("Invalid SVG dimensions");const x=this._createSVG("svg:svg");return x.setAttribute("version","1.1"),x.setAttribute("width",`${f}px`),x.setAttribute("height",`${R}px`),x.setAttribute("preserveAspectRatio","none"),x.setAttribute("viewBox",`0 0 ${f} ${R}`),x}createElement(f){if("string"!=typeof f)throw new Error("Invalid SVG element type");return this._createSVG(f)}_createSVG(f){(0,c.unreachable)("Abstract method `_createSVG` called.")}}re.BaseSVGFactory=pe},(ze,re,oe)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.FontLoader=re.FontFaceObject=void 0;var c=oe(1);class e{constructor({docId:z,onUnsupportedFeature:f,ownerDocument:R=globalThis.document,styleElement:x=null}){this.constructor===e&&(0,c.unreachable)("Cannot initialize BaseFontLoader."),this.docId=z,this._onUnsupportedFeature=f,this._document=R,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(z){this.nativeFontFaces.push(z),this._document.fonts.add(z)}insertRule(z){let f=this.styleElement;f||(f=this.styleElement=this._document.createElement("style"),f.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(f));const R=f.sheet;R.insertRule(z,R.cssRules.length)}clear(){for(const z of this.nativeFontFaces)this._document.fonts.delete(z);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(z){var f=this;return _asyncToGenerator(function*(){if(z.attached||z.missingFile)return;if(z.attached=!0,f.isFontLoadingAPISupported){const x=z.createNativeFontFace();if(x){f.addNativeFontFace(x);try{yield x.loaded}catch(w){throw f._onUnsupportedFeature({featureId:c.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,c.warn)(`Failed to load font '${x.family}': '${w}'.`),z.disableFontFace=!0,w}}return}const R=z.createFontFaceRule();if(R){if(f.insertRule(R),f.isSyncFontLoadingSupported)return;yield new Promise(x=>{const w=f._queueLoadingCallback(x);f._prepareFontLoadEvent([R],[z],w)})}})()}_queueLoadingCallback(z){(0,c.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var f;const z=!!(null==(f=this._document)?void 0:f.fonts);return(0,c.shadow)(this,"isFontLoadingAPISupported",z)}get isSyncFontLoadingSupported(){(0,c.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,c.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(z,f,R){(0,c.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let xe;re.FontLoader=xe,re.FontLoader=xe=class extends e{constructor(z){super(z),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let z=!1;if("undefined"==typeof navigator)z=!0;else{const f=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==f?void 0:f[1])>=14&&(z=!0)}return(0,c.shadow)(this,"isSyncFontLoadingSupported",z)}_queueLoadingCallback(z){const R=this.loadingContext,x={id:"pdfjs-font-loading-"+R.nextRequestId++,done:!1,complete:function f(){for((0,c.assert)(!x.done,"completeRequest() cannot be called twice."),x.done=!0;R.requests.length>0&&R.requests[0].done;){const w=R.requests.shift();setTimeout(w.callback,0)}},callback:z};return R.requests.push(x),x}get _loadTestFont(){return(0,c.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(z,f,R){function x(ye,me){return ye.charCodeAt(me)<<24|ye.charCodeAt(me+1)<<16|ye.charCodeAt(me+2)<<8|255&ye.charCodeAt(me+3)}function w(ye,me,ve,we){return ye.substring(0,me)+we+ye.substring(me+ve)}let _,B;const k=this._document.createElement("canvas");k.width=1,k.height=1;const C=k.getContext("2d");let X=0;const j=`lt${Date.now()}${this.loadTestFontId++}`;let S=this._loadTestFont;S=w(S,976,j.length,j);const L=1482184792;let W=x(S,16);for(_=0,B=j.length-3;_<B;_+=4)W=W-L+x(j,_)|0;_<j.length&&(W=W-L+x(j+"XXX",_)|0),S=w(S,16,4,(0,c.string32)(W));const G=`url(data:font/opentype;base64,${btoa(S)});`;this.insertRule(`@font-face {font-family:"${j}";src:${G}}`);const de=[];for(const ye of f)de.push(ye.loadedName);de.push(j);const _e=this._document.createElement("div");_e.style.visibility="hidden",_e.style.width=_e.style.height="10px",_e.style.position="absolute",_e.style.top=_e.style.left="0px";for(const ye of de){const me=this._document.createElement("span");me.textContent="Hi",me.style.fontFamily=ye,_e.appendChild(me)}this._document.body.appendChild(_e),function se(ye,me){if(X++,X>30)return(0,c.warn)("Load test font never loaded."),void me();C.font="30px "+ye,C.fillText(".",0,20),C.getImageData(0,0,1,1).data[3]>0?me():setTimeout(se.bind(null,ye,me))}(j,()=>{_e.remove(),R.complete()})}},re.FontFaceObject=class ce{constructor(z,{isEvalSupported:f=!0,disableFontFace:R=!1,ignoreErrors:x=!1,onUnsupportedFeature:w,fontRegistry:_=null}){this.compiledGlyphs=Object.create(null);for(const B in z)this[B]=z[B];this.isEvalSupported=!1!==f,this.disableFontFace=!0===R,this.ignoreErrors=!0===x,this._onUnsupportedFeature=w,this.fontRegistry=_}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let z;if(this.cssFontInfo){const f={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(f.style=`oblique ${this.cssFontInfo.italicAngle}deg`),z=new FontFace(this.cssFontInfo.fontFamily,this.data,f)}else z=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),z}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const z=(0,c.bytesToString)(this.data),f=`url(data:${this.mimetype};base64,${btoa(z)});`;let R;if(this.cssFontInfo){let x=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(x+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),R=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${x}src:${f}}`}else R=`@font-face {font-family:"${this.loadedName}";src:${f}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,f),R}getPathGenerator(z,f){if(void 0!==this.compiledGlyphs[f])return this.compiledGlyphs[f];let R;try{R=z.get(this.loadedName+"_path_"+f)}catch(x){if(!this.ignoreErrors)throw x;return this._onUnsupportedFeature({featureId:c.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,c.warn)(`getPathGenerator - ignoring character: "${x}".`),this.compiledGlyphs[f]=function(w,_){}}if(this.isEvalSupported&&c.IsEvalSupportedCached.value){const x=[];for(const w of R){const _=void 0!==w.args?w.args.join(","):"";x.push("c.",w.cmd,"(",_,");\n")}return this.compiledGlyphs[f]=new Function("c","size",x.join(""))}return this.compiledGlyphs[f]=function(x,w){for(const _ of R)"scale"===_.cmd&&(_.args=[w,-w]),x[_.cmd].apply(x,_.args)}}}},(ze,re,oe)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.NodeStandardFontDataFactory=re.NodeCanvasFactory=re.NodeCMapReaderFactory=void 0;var c=oe(6),e=oe(3),xe=oe(1);let ce=class{constructor(){(0,xe.unreachable)("Not implemented: NodeCanvasFactory")}};re.NodeCanvasFactory=ce;let pe=class{constructor(){(0,xe.unreachable)("Not implemented: NodeCMapReaderFactory")}};re.NodeCMapReaderFactory=pe;let z=class{constructor(){(0,xe.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(re.NodeStandardFontDataFactory=z,e.isNodeJS){const f=function(R){return new Promise((x,w)=>{__webpack_require__(172).readFile(R,(B,k)=>{!B&&k?x(new Uint8Array(k)):w(new Error(B))})})};re.NodeCanvasFactory=ce=class extends c.BaseCanvasFactory{_createCanvas(R,x){return __webpack_require__(3414).createCanvas(R,x)}},re.NodeCMapReaderFactory=pe=class extends c.BaseCMapReaderFactory{_fetchData(R,x){return f(R).then(w=>({cMapData:w,compressionType:x}))}},re.NodeStandardFontDataFactory=z=class extends c.BaseStandardFontDataFactory{_fetchData(R){return f(R)}}}},(ze,re,oe)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.AnnotationStorage=void 0;var c=oe(1);re.AnnotationStorage=class e{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(ce,pe){const z=this._storage.get(ce);return void 0===z?pe:Object.assign(pe,z)}setValue(ce,pe){const z=this._storage.get(ce);let f=!1;if(void 0!==z)for(const[R,x]of Object.entries(pe))z[R]!==x&&(f=!0,z[R]=x);else f=!0,this._storage.set(ce,pe);f&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,c.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}},(ze,re,oe)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.CanvasGraphics=void 0;var c=oe(1),e=oe(11),xe=oe(5);const z=4096,_=16;function C(J){if(J._transformStack&&(J._transformStack=[]),!J.mozCurrentTransform){J._originalSave=J.save,J._originalRestore=J.restore,J._originalRotate=J.rotate,J._originalScale=J.scale,J._originalTranslate=J.translate,J._originalTransform=J.transform,J._originalSetTransform=J.setTransform,J._originalResetTransform=J.resetTransform,J._transformMatrix=J._transformMatrix||[1,0,0,1,0,0],J._transformStack=[];try{const N=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(J),"lineWidth");J._setLineWidth=N.set,J._getLineWidth=N.get,Object.defineProperty(J,"lineWidth",{set:function(ie){this._setLineWidth(1.000001*ie)},get:function(){return this._getLineWidth()}})}catch(N){}Object.defineProperty(J,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(J,"mozCurrentTransformInverse",{get:function(){const[F,ie,O,ne,v,U]=this._transformMatrix,H=F*ne-ie*O,ge=ie*O-F*ne;return[ne/H,ie/ge,O/ge,F/H,(ne*v-O*U)/ge,(ie*v-F*U)/H]}}),J.save=function(){const F=this._transformMatrix;this._transformStack.push(F),this._transformMatrix=F.slice(0,6),this._originalSave()},J.restore=function(){0===this._transformStack.length&&(0,c.warn)("Tried to restore a ctx when the stack was already empty.");const F=this._transformStack.pop();F&&(this._transformMatrix=F,this._originalRestore())},J.translate=function(F,ie){const O=this._transformMatrix;O[4]=O[0]*F+O[2]*ie+O[4],O[5]=O[1]*F+O[3]*ie+O[5],this._originalTranslate(F,ie)},J.scale=function(F,ie){const O=this._transformMatrix;O[0]*=F,O[1]*=F,O[2]*=ie,O[3]*=ie,this._originalScale(F,ie)},J.transform=function(F,ie,O,ne,v,U){const H=this._transformMatrix;this._transformMatrix=[H[0]*F+H[2]*ie,H[1]*F+H[3]*ie,H[0]*O+H[2]*ne,H[1]*O+H[3]*ne,H[0]*v+H[2]*U+H[4],H[1]*v+H[3]*U+H[5]],J._originalTransform(F,ie,O,ne,v,U)},J.setTransform=function(F,ie,O,ne,v,U){this._transformMatrix=[F,ie,O,ne,v,U],J._originalSetTransform(F,ie,O,ne,v,U)},J.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],J._originalResetTransform()},J.rotate=function(F){const ie=Math.cos(F),O=Math.sin(F),ne=this._transformMatrix;this._transformMatrix=[ne[0]*ie+ne[2]*O,ne[1]*ie+ne[3]*O,ne[0]*-O+ne[2]*ie,ne[1]*-O+ne[3]*ie,ne[4],ne[5]],this._originalRotate(F)}}}class X{constructor(N){this.canvasFactory=N,this.cache=Object.create(null)}getCanvas(N,F,ie,O){let ne;return void 0!==this.cache[N]?(ne=this.cache[N],this.canvasFactory.reset(ne,F,ie),ne.context.setTransform(1,0,0,1,0,0)):(ne=this.canvasFactory.create(F,ie),this.cache[N]=ne),O&&C(ne.context),ne}clear(){for(const N in this.cache)this.canvasFactory.destroy(this.cache[N]),delete this.cache[N]}}class j{constructor(N,F){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=c.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=c.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,N,F])}clone(){const N=Object.create(this);return N.clipBox=this.clipBox.slice(),N}setCurrentPoint(N,F){this.x=N,this.y=F}updatePathMinMax(N,F,ie){[F,ie]=c.Util.applyTransform([F,ie],N),this.minX=Math.min(this.minX,F),this.minY=Math.min(this.minY,ie),this.maxX=Math.max(this.maxX,F),this.maxY=Math.max(this.maxY,ie)}updateCurvePathMinMax(N,F,ie,O,ne,v,U,H,ge){const q=c.Util.bezierBoundingBox(F,ie,O,ne,v,U,H,ge);this.updatePathMinMax(N,q[0],q[1]),this.updatePathMinMax(N,q[2],q[3])}getPathBoundingBox(N=e.PathType.FILL,F=null){const ie=[this.minX,this.minY,this.maxX,this.maxY];if(N===e.PathType.STROKE){F||(0,c.unreachable)("Stroke bounding box must include transform.");const O=c.Util.singularValueDecompose2dScale(F),ne=O[0]*this.lineWidth/2,v=O[1]*this.lineWidth/2;ie[0]-=ne,ie[1]-=v,ie[2]+=ne,ie[3]+=v}return ie}updateClipFromPath(){const N=c.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(N||[0,0,0,0])}startNewPathAndClipBox(N){this.clipBox=N,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(N=e.PathType.FILL,F=null){return c.Util.intersect(this.clipBox,this.getPathBoundingBox(N,F))}}function S(J,N,F=null){if("undefined"!=typeof ImageData&&N instanceof ImageData)return void J.putImageData(N,0,0);const ie=N.height,O=N.width,ne=ie%_,v=(ie-ne)/_,U=0===ne?v:v+1,H=J.createImageData(O,_);let q,ge=0;const Ae=N.data,Fe=H.data;let Ie,Re,Oe,We,He,tt,V,Q;if(F)switch(F.length){case 1:He=F[0],tt=F[0],V=F[0],Q=F[0];break;case 4:He=F[0],tt=F[1],V=F[2],Q=F[3]}if(N.kind===c.ImageKind.GRAYSCALE_1BPP){const Ee=Ae.byteLength,Y=new Uint32Array(Fe.buffer,0,Fe.byteLength>>2),fe=Y.length,Te=O+7>>3;let Ve=4294967295,qe=c.IsLittleEndianCached.value?4278190080:255;for(Q&&255===Q[0]&&0===Q[255]&&([Ve,qe]=[qe,Ve]),Ie=0;Ie<U;Ie++){for(Oe=Ie<v?_:ne,q=0,Re=0;Re<Oe;Re++){const Ke=Ee-ge;let it=0;const at=Ke>Te?O:8*Ke-7,lt=-8&at;let gt=0,ot=0;for(;it<lt;it+=8)ot=Ae[ge++],Y[q++]=128&ot?Ve:qe,Y[q++]=64&ot?Ve:qe,Y[q++]=32&ot?Ve:qe,Y[q++]=16&ot?Ve:qe,Y[q++]=8&ot?Ve:qe,Y[q++]=4&ot?Ve:qe,Y[q++]=2&ot?Ve:qe,Y[q++]=1&ot?Ve:qe;for(;it<at;it++)0===gt&&(ot=Ae[ge++],gt=128),Y[q++]=ot&gt?Ve:qe,gt>>=1}for(;q<fe;)Y[q++]=0;J.putImageData(H,0,Ie*_)}}else if(N.kind===c.ImageKind.RGBA_32BPP){const Ee=!!(He||tt||V);for(Re=0,We=O*_*4,Ie=0;Ie<v;Ie++){if(Fe.set(Ae.subarray(ge,ge+We)),ge+=We,Ee)for(let Y=0;Y<We;Y+=4)He&&(Fe[Y+0]=He[Fe[Y+0]]),tt&&(Fe[Y+1]=tt[Fe[Y+1]]),V&&(Fe[Y+2]=V[Fe[Y+2]]);J.putImageData(H,0,Re),Re+=_}if(Ie<U){if(We=O*ne*4,Fe.set(Ae.subarray(ge,ge+We)),Ee)for(let Y=0;Y<We;Y+=4)He&&(Fe[Y+0]=He[Fe[Y+0]]),tt&&(Fe[Y+1]=tt[Fe[Y+1]]),V&&(Fe[Y+2]=V[Fe[Y+2]]);J.putImageData(H,0,Re)}}else{if(N.kind!==c.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${N.kind}`);{const Ee=!!(He||tt||V);for(Oe=_,We=O*Oe,Ie=0;Ie<U;Ie++){for(Ie>=v&&(Oe=ne,We=O*Oe),q=0,Re=We;Re--;)Fe[q++]=Ae[ge++],Fe[q++]=Ae[ge++],Fe[q++]=Ae[ge++],Fe[q++]=255;if(Ee)for(let Y=0;Y<q;Y+=4)He&&(Fe[Y+0]=He[Fe[Y+0]]),tt&&(Fe[Y+1]=tt[Fe[Y+1]]),V&&(Fe[Y+2]=V[Fe[Y+2]]);J.putImageData(H,0,Ie*_)}}}}function A(J,N){const F=N.height,ie=N.width,O=F%_,ne=(F-O)/_,v=0===O?ne:ne+1,U=J.createImageData(ie,_);let H=0;const ge=N.data,q=U.data;for(let Ae=0;Ae<v;Ae++){const Fe=Ae<ne?_:O;let Ie=3;for(let Re=0;Re<Fe;Re++){let Oe,We=0;for(let He=0;He<ie;He++)We||(Oe=ge[H++],We=128),q[Ie]=Oe&We?0:255,Ie+=4,We>>=1}J.putImageData(U,0,Ae*_)}}function T(J,N){const F=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let ie=0,O=F.length;ie<O;ie++){const ne=F[ie];void 0!==J[ne]&&(N[ne]=J[ne])}void 0!==J.setLineDash&&(N.setLineDash(J.getLineDash()),N.lineDashOffset=J.lineDashOffset)}function L(J){J.strokeStyle="#000000",J.fillStyle="#000000",J.fillRule="nonzero",J.globalAlpha=1,J.lineWidth=1,J.lineCap="butt",J.lineJoin="miter",J.miterLimit=10,J.globalCompositeOperation="source-over",J.font="10px sans-serif",void 0!==J.setLineDash&&(J.setLineDash([]),J.lineDashOffset=0)}function W(J,N,F,ie){const O=J.length;for(let ne=3;ne<O;ne+=4){const v=J[ne];if(0===v)J[ne-3]=N,J[ne-2]=F,J[ne-1]=ie;else if(v<255){const U=255-v;J[ne-3]=J[ne-3]*v+N*U>>8,J[ne-2]=J[ne-2]*v+F*U>>8,J[ne-1]=J[ne-1]*v+ie*U>>8}}}function G(J,N,F){const ie=J.length;for(let ne=3;ne<ie;ne+=4)N[ne]=N[ne]*(F?F[J[ne]]:J[ne])*.00392156862745098|0}function be(J,N,F){const ie=J.length;for(let O=3;O<ie;O+=4){const ne=77*J[O-3]+152*J[O-2]+28*J[O-1];N[O]=F?N[O]*F[ne>>8]>>8:N[O]*ne>>16}}function ye(J,N){const F=c.Util.singularValueDecompose2dScale(J);F[0]=Math.fround(F[0]),F[1]=Math.fround(F[1]);const ie=Math.fround((globalThis.devicePixelRatio||1)*xe.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==N?N:F[0]<=ie||F[1]<=ie}const me=["butt","round","square"],ve=["miter","round","bevel"],we={},ue={};class ke{constructor(N,F,ie,O,ne,v,U){this.ctx=N,this.current=new j(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=F,this.objs=ie,this.canvasFactory=O,this.imageLayer=ne,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=v,this.cachedCanvases=new X(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=U,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,N&&C(N),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:N,viewport:F,transparency:ie=!1,background:O=null}){const ne=this.ctx.canvas.width,v=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=O||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,ne,v),this.ctx.restore(),ie){const U=this.cachedCanvases.getCanvas("transparent",ne,v,!0);this.compositeCtx=this.ctx,this.transparentCanvas=U.canvas,this.ctx=U.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),L(this.ctx),N&&(this.ctx.transform.apply(this.ctx,N),this.outputScaleX=N[0],this.outputScaleY=N[0]),this.ctx.transform.apply(this.ctx,F.transform),this.viewportScale=F.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(N,F,ie,O){const ne=N.argsArray,v=N.fnArray;let U=F||0;const H=ne.length;if(H===U)return U;const ge=H-U>10&&"function"==typeof ie,q=ge?Date.now()+15:0;let Ae=0;const Fe=this.commonObjs,Ie=this.objs;let Re;for(;;){if(void 0!==O&&U===O.nextBreakPoint)return O.breakIt(U,ie),U;if(Re=v[U],Re!==c.OPS.dependency)this[Re].apply(this,ne[U]);else for(const Oe of ne[U]){const We=Oe.startsWith("g_")?Fe:Ie;if(!We.has(Oe))return We.get(Oe,ie),U}if(U++,U===H)return U;if(ge&&++Ae>10){if(Date.now()>q)return ie(),U;Ae=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(N,F){const ie=N.width,O=N.height;let q,Ae,ne=Math.max(Math.hypot(F[0],F[1]),1),v=Math.max(Math.hypot(F[2],F[3]),1),U=ie,H=O,ge="prescale1";for(;ne>2&&U>1||v>2&&H>1;){let Fe=U,Ie=H;ne>2&&U>1&&(Fe=Math.ceil(U/2),ne/=U/Fe),v>2&&H>1&&(Ie=Math.ceil(H/2),v/=H/Ie),q=this.cachedCanvases.getCanvas(ge,Fe,Ie),Ae=q.context,Ae.clearRect(0,0,Fe,Ie),Ae.drawImage(N,0,0,U,H,0,0,Fe,Ie),N=q.canvas,U=Fe,H=Ie,ge="prescale1"===ge?"prescale2":"prescale1"}return{img:N,paintWidth:U,paintHeight:H}}_createMaskCanvas(N){const F=this.ctx,ie=N.width,O=N.height,ne=this.current.fillColor,v=this.current.patternFill,U=this.cachedCanvases.getCanvas("maskCanvas",ie,O);A(U.context,N);let q=c.Util.transform(F.mozCurrentTransform,[1/ie,0,0,-1/O,0,0]);q=c.Util.transform(q,[1,0,0,1,0,-O]);const Ae=c.Util.applyTransform([0,0],q),Fe=c.Util.applyTransform([ie,O],q),Ie=c.Util.normalizeRect([Ae[0],Ae[1],Fe[0],Fe[1]]),Re=Math.ceil(Ie[2]-Ie[0]),Oe=Math.ceil(Ie[3]-Ie[1]),We=this.cachedCanvases.getCanvas("fillCanvas",Re,Oe,!0),He=We.context,tt=Math.min(Ae[0],Fe[0]),V=Math.min(Ae[1],Fe[1]);He.translate(-tt,-V),He.transform.apply(He,q);const Q=this._scaleImage(U.canvas,He.mozCurrentTransformInverse);He.imageSmoothingEnabled=ye(He.mozCurrentTransform,N.interpolate),He.drawImage(Q.img,0,0,Q.img.width,Q.img.height,0,0,ie,O),He.globalCompositeOperation="source-in";const Ee=c.Util.transform(He.mozCurrentTransformInverse,[1,0,0,1,-tt,-V]);return He.fillStyle=v?ne.getPattern(F,this,Ee,e.PathType.FILL):ne,He.fillRect(0,0,ie,O),{canvas:We.canvas,offsetX:Math.round(tt),offsetY:Math.round(V)}}setLineWidth(N){this.current.lineWidth=N,this.ctx.lineWidth=N}setLineCap(N){this.ctx.lineCap=me[N]}setLineJoin(N){this.ctx.lineJoin=ve[N]}setMiterLimit(N){this.ctx.miterLimit=N}setDash(N,F){const ie=this.ctx;void 0!==ie.setLineDash&&(ie.setLineDash(N),ie.lineDashOffset=F)}setRenderingIntent(N){}setFlatness(N){}setGState(N){for(let F=0,ie=N.length;F<ie;F++){const O=N[F],v=O[1];switch(O[0]){case"LW":this.setLineWidth(v);break;case"LC":this.setLineCap(v);break;case"LJ":this.setLineJoin(v);break;case"ML":this.setMiterLimit(v);break;case"D":this.setDash(v[0],v[1]);break;case"RI":this.setRenderingIntent(v);break;case"FL":this.setFlatness(v);break;case"Font":this.setFont(v[0],v[1]);break;case"CA":this.current.strokeAlpha=O[1];break;case"ca":this.current.fillAlpha=O[1],this.ctx.globalAlpha=O[1];break;case"BM":this.ctx.globalCompositeOperation=v;break;case"SMask":this.current.activeSMask=v?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=v}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const N=this.inSMaskMode;this.current.activeSMask&&!N?this.beginSMaskMode():!this.current.activeSMask&&N&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const O=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=O.context;const ne=this.ctx;ne.setTransform.apply(ne,this.suspendedCtx.mozCurrentTransform),T(this.suspendedCtx,ne),function k(J,N){if(J._removeMirroring)throw new Error("Context is already forwarding operations.");J.__originalSave=J.save,J.__originalRestore=J.restore,J.__originalRotate=J.rotate,J.__originalScale=J.scale,J.__originalTranslate=J.translate,J.__originalTransform=J.transform,J.__originalSetTransform=J.setTransform,J.__originalResetTransform=J.resetTransform,J.__originalClip=J.clip,J.__originalMoveTo=J.moveTo,J.__originalLineTo=J.lineTo,J.__originalBezierCurveTo=J.bezierCurveTo,J.__originalRect=J.rect,J.__originalClosePath=J.closePath,J.__originalBeginPath=J.beginPath,J._removeMirroring=()=>{J.save=J.__originalSave,J.restore=J.__originalRestore,J.rotate=J.__originalRotate,J.scale=J.__originalScale,J.translate=J.__originalTranslate,J.transform=J.__originalTransform,J.setTransform=J.__originalSetTransform,J.resetTransform=J.__originalResetTransform,J.clip=J.__originalClip,J.moveTo=J.__originalMoveTo,J.lineTo=J.__originalLineTo,J.bezierCurveTo=J.__originalBezierCurveTo,J.rect=J.__originalRect,J.closePath=J.__originalClosePath,J.beginPath=J.__originalBeginPath,delete J._removeMirroring},J.save=function(){N.save(),this.__originalSave()},J.restore=function(){N.restore(),this.__originalRestore()},J.translate=function(ie,O){N.translate(ie,O),this.__originalTranslate(ie,O)},J.scale=function(ie,O){N.scale(ie,O),this.__originalScale(ie,O)},J.transform=function(ie,O,ne,v,U,H){N.transform(ie,O,ne,v,U,H),this.__originalTransform(ie,O,ne,v,U,H)},J.setTransform=function(ie,O,ne,v,U,H){N.setTransform(ie,O,ne,v,U,H),this.__originalSetTransform(ie,O,ne,v,U,H)},J.resetTransform=function(){N.resetTransform(),this.__originalResetTransform()},J.rotate=function(ie){N.rotate(ie),this.__originalRotate(ie)},J.clip=function(ie){N.clip(ie),this.__originalClip(ie)},J.moveTo=function(F,ie){N.moveTo(F,ie),this.__originalMoveTo(F,ie)},J.lineTo=function(F,ie){N.lineTo(F,ie),this.__originalLineTo(F,ie)},J.bezierCurveTo=function(F,ie,O,ne,v,U){N.bezierCurveTo(F,ie,O,ne,v,U),this.__originalBezierCurveTo(F,ie,O,ne,v,U)},J.rect=function(F,ie,O,ne){N.rect(F,ie,O,ne),this.__originalRect(F,ie,O,ne)},J.closePath=function(){N.closePath(),this.__originalClosePath()},J.beginPath=function(){N.beginPath(),this.__originalBeginPath()}}(ne,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),T(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(N){this.current.activeSMask&&(N?(N[0]=Math.floor(N[0]),N[1]=Math.floor(N[1]),N[2]=Math.ceil(N[2]),N[3]=Math.ceil(N[3])):N=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function _e(J,N,F,ie){const O=ie[0],ne=ie[1],v=ie[2]-O,U=ie[3]-ne;0===v||0===U||(function de(J,N,F,ie,O,ne,v,U,H,ge,q){const Ae=!!ne,Fe=Ae?ne[0]:0,Ie=Ae?ne[1]:0,Re=Ae?ne[2]:0;let Oe;Oe="Luminosity"===O?be:G;const He=Math.min(ie,Math.ceil(1048576/F));for(let tt=0;tt<ie;tt+=He){const V=Math.min(He,ie-tt),Q=J.getImageData(U-ge,tt+(H-q),F,V),Ee=N.getImageData(U,tt+H,F,V);Ae&&W(Q.data,Fe,Ie,Re),Oe(Q.data,Ee.data,v),N.putImageData(Ee,U,tt+H)}}(N.context,F,v,U,N.subtype,N.backdrop,N.transferMap,O,ne,N.offsetX,N.offsetY),J.save(),J.globalAlpha=1,J.globalCompositeOperation="source-over",J.setTransform(1,0,0,1,0,0),J.drawImage(F.canvas,0,0),J.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,N),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(T(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const N=this.current;this.stateStack.push(N),this.current=N.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),T(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(N,F,ie,O,ne,v){this.ctx.transform(N,F,ie,O,ne,v),this._cachedGetSinglePixelWidth=null}constructPath(N,F){const ie=this.ctx,O=this.current;let U,H,ne=O.x,v=O.y;for(let ge=0,q=0,Ae=N.length;ge<Ae;ge++)switch(0|N[ge]){case c.OPS.rectangle:ne=F[q++],v=F[q++];const Fe=F[q++],Ie=F[q++],Re=ne+Fe,Oe=v+Ie;ie.moveTo(ne,v),0===Fe||0===Ie?ie.lineTo(Re,Oe):(ie.lineTo(Re,v),ie.lineTo(Re,Oe),ie.lineTo(ne,Oe)),O.updatePathMinMax(ie.mozCurrentTransform,ne,v),O.updatePathMinMax(ie.mozCurrentTransform,Re,Oe),ie.closePath();break;case c.OPS.moveTo:ne=F[q++],v=F[q++],ie.moveTo(ne,v),O.updatePathMinMax(ie.mozCurrentTransform,ne,v);break;case c.OPS.lineTo:ne=F[q++],v=F[q++],ie.lineTo(ne,v),O.updatePathMinMax(ie.mozCurrentTransform,ne,v);break;case c.OPS.curveTo:U=ne,H=v,ne=F[q+4],v=F[q+5],ie.bezierCurveTo(F[q],F[q+1],F[q+2],F[q+3],ne,v),O.updateCurvePathMinMax(ie.mozCurrentTransform,U,H,F[q],F[q+1],F[q+2],F[q+3],ne,v),q+=6;break;case c.OPS.curveTo2:U=ne,H=v,ie.bezierCurveTo(ne,v,F[q],F[q+1],F[q+2],F[q+3]),O.updateCurvePathMinMax(ie.mozCurrentTransform,U,H,ne,v,F[q],F[q+1],F[q+2],F[q+3]),ne=F[q+2],v=F[q+3],q+=4;break;case c.OPS.curveTo3:U=ne,H=v,ne=F[q+2],v=F[q+3],ie.bezierCurveTo(F[q],F[q+1],ne,v,ne,v),O.updateCurvePathMinMax(ie.mozCurrentTransform,U,H,F[q],F[q+1],ne,v,ne,v),q+=4;break;case c.OPS.closePath:ie.closePath()}O.setCurrentPoint(ne,v)}closePath(){this.ctx.closePath()}stroke(N){N=void 0===N||N;const F=this.ctx,ie=this.current.strokeColor;if(F.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof ie&&(null==ie?void 0:ie.getPattern)){const O=this.getSinglePixelWidth();F.save(),F.strokeStyle=ie.getPattern(F,this,F.mozCurrentTransformInverse,e.PathType.STROKE),F.lineWidth=Math.max(O,this.current.lineWidth),F.stroke(),F.restore()}else{const O=this.getSinglePixelWidth();O<0&&-O>=this.current.lineWidth?(F.save(),F.resetTransform(),F.lineWidth=Math.floor(this._combinedScaleFactor),F.stroke(),F.restore()):(F.lineWidth=Math.max(O,this.current.lineWidth),F.stroke())}N&&this.consumePath(this.current.getClippedPathBoundingBox()),F.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(N){N=void 0===N||N;const F=this.ctx,ie=this.current.fillColor;let ne=!1;this.current.patternFill&&(F.save(),F.fillStyle=ie.getPattern(F,this,F.mozCurrentTransformInverse,e.PathType.FILL),ne=!0);const v=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==v&&(this.pendingEOFill?(F.fill("evenodd"),this.pendingEOFill=!1):F.fill()),ne&&F.restore(),N&&this.consumePath(v)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=we}eoClip(){this.pendingClip=ue}beginText(){this.current.textMatrix=c.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const N=this.pendingTextPaths,F=this.ctx;if(void 0!==N){F.save(),F.beginPath();for(let ie=0;ie<N.length;ie++){const O=N[ie];F.setTransform.apply(F,O.transform),F.translate(O.x,O.y),O.addToPath(F,O.fontSize)}F.restore(),F.clip(),F.beginPath(),delete this.pendingTextPaths}else F.beginPath()}setCharSpacing(N){this.current.charSpacing=N}setWordSpacing(N){this.current.wordSpacing=N}setHScale(N){this.current.textHScale=N/100}setLeading(N){this.current.leading=-N}setFont(N,F){const ie=this.commonObjs.get(N),O=this.current;if(!ie)throw new Error(`Can't find font for ${N}`);if(O.fontMatrix=ie.fontMatrix||c.FONT_IDENTITY_MATRIX,(0===O.fontMatrix[0]||0===O.fontMatrix[3])&&(0,c.warn)("Invalid font matrix for font "+N),F<0?(F=-F,O.fontDirection=-1):O.fontDirection=1,this.current.font=ie,this.current.fontSize=F,ie.isType3Font)return;let v="normal";ie.black?v="900":ie.bold&&(v="bold");const U=ie.italic?"italic":"normal",H=`"${ie.loadedName||"sans-serif"}", ${ie.fallbackName}`;let ge=F;F<16?ge=16:F>100&&(ge=100),this.current.fontSizeScale=F/ge,this.ctx.font=`${U} ${v} ${ge}px ${H}`}setTextRenderingMode(N){this.current.textRenderingMode=N}setTextRise(N){this.current.textRise=N}moveText(N,F){this.current.x=this.current.lineX+=N,this.current.y=this.current.lineY+=F}setLeadingMoveText(N,F){this.setLeading(-F),this.moveText(N,F)}setTextMatrix(N,F,ie,O,ne,v){this.current.textMatrix=[N,F,ie,O,ne,v],this.current.textMatrixScale=Math.hypot(N,F),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(N,F,ie,O,ne){const v=this.ctx,U=this.current,H=U.font,ge=U.textRenderingMode,q=U.fontSize/U.fontSizeScale,Ae=ge&c.TextRenderingMode.FILL_STROKE_MASK,Fe=!!(ge&c.TextRenderingMode.ADD_TO_PATH_FLAG),Ie=U.patternFill&&!H.missingFile;let Re;(H.disableFontFace||Fe||Ie)&&(Re=H.getPathGenerator(this.commonObjs,N)),H.disableFontFace||Ie?(v.save(),v.translate(F,ie),v.beginPath(),Re(v,q),O&&v.setTransform.apply(v,O),(Ae===c.TextRenderingMode.FILL||Ae===c.TextRenderingMode.FILL_STROKE)&&v.fill(),(Ae===c.TextRenderingMode.STROKE||Ae===c.TextRenderingMode.FILL_STROKE)&&(ne&&(v.resetTransform(),v.lineWidth=Math.floor(this._combinedScaleFactor)),v.stroke()),v.restore()):((Ae===c.TextRenderingMode.FILL||Ae===c.TextRenderingMode.FILL_STROKE)&&v.fillText(N,F,ie),(Ae===c.TextRenderingMode.STROKE||Ae===c.TextRenderingMode.FILL_STROKE)&&(ne?(v.save(),v.moveTo(F,ie),v.resetTransform(),v.lineWidth=Math.floor(this._combinedScaleFactor),v.strokeText(N,0,0),v.restore()):v.strokeText(N,F,ie))),Fe&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:v.mozCurrentTransform,x:F,y:ie,fontSize:q,addToPath:Re})}get isFontSubpixelAAEnabled(){const{context:N}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);N.scale(1.5,1),N.fillText("I",0,10);const F=N.getImageData(0,0,10,10).data;let ie=!1;for(let O=3;O<F.length;O+=4)if(F[O]>0&&F[O]<255){ie=!0;break}return(0,c.shadow)(this,"isFontSubpixelAAEnabled",ie)}showText(N){const F=this.current,ie=F.font;if(ie.isType3Font)return this.showType3Text(N);const O=F.fontSize;if(0===O)return;const ne=this.ctx,v=F.fontSizeScale,U=F.charSpacing,H=F.wordSpacing,ge=F.fontDirection,q=F.textHScale*ge,Ae=N.length,Fe=ie.vertical,Ie=Fe?1:-1,Re=ie.defaultVMetrics,Oe=O*F.fontMatrix[0],We=F.textRenderingMode===c.TextRenderingMode.FILL&&!ie.disableFontFace&&!F.patternFill;let He;if(ne.save(),ne.transform.apply(ne,F.textMatrix),ne.translate(F.x,F.y+F.textRise),ne.scale(q,ge>0?-1:1),F.patternFill){ne.save();const fe=F.fillColor.getPattern(ne,this,ne.mozCurrentTransformInverse,e.PathType.FILL);He=ne.mozCurrentTransform,ne.restore(),ne.fillStyle=fe}let tt=F.lineWidth,V=!1;const Q=F.textMatrixScale;if(0===Q||0===tt){const fe=F.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;(fe===c.TextRenderingMode.STROKE||fe===c.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,tt=this.getSinglePixelWidth(),V=tt<0)}else tt/=Q;1!==v&&(ne.scale(v,v),tt/=v),ne.lineWidth=tt;let Y,Ee=0;for(Y=0;Y<Ae;++Y){const fe=N[Y];if("number"==typeof fe){Ee+=Ie*fe*O/1e3;continue}let Te=!1;const Ve=(fe.isSpace?H:0)+U,qe=fe.fontChar,Ke=fe.accent;let it,at,gt,lt=fe.width;if(Fe){const ot=fe.vmetric||Re,ft=-(fe.vmetric?ot[1]:.5*lt)*Oe;lt=ot?-ot[0]:lt,it=ft/v,at=(Ee+ot[2]*Oe)/v}else it=Ee/v,at=0;if(ie.remeasure&&lt>0){const ot=1e3*ne.measureText(qe).width/O*v;if(lt<ot&&this.isFontSubpixelAAEnabled){const ft=lt/ot;Te=!0,ne.save(),ne.scale(ft,1),it/=ft}else lt!==ot&&(it+=(lt-ot)/2e3*O/v)}this.contentVisible&&(fe.isInFont||ie.missingFile)&&(We&&!Ke?ne.fillText(qe,it,at):(this.paintChar(qe,it,at,He,V),Ke&&this.paintChar(Ke.fontChar,it+O*Ke.offset.x/v,at-O*Ke.offset.y/v,He,V))),gt=Fe?lt*Oe-Ve*ge:lt*Oe+Ve*ge,Ee+=gt,Te&&ne.restore()}Fe?F.y-=Ee:F.x+=Ee*q,ne.restore(),this.compose()}showType3Text(N){const F=this.ctx,ie=this.current,O=ie.font,ne=ie.fontSize,v=ie.fontDirection,U=O.vertical?1:-1,H=ie.charSpacing,ge=ie.wordSpacing,q=ie.textHScale*v,Ae=ie.fontMatrix||c.FONT_IDENTITY_MATRIX,Fe=N.length;let Re,Oe,We,He;if(ie.textRenderingMode!==c.TextRenderingMode.INVISIBLE&&0!==ne){for(this._cachedGetSinglePixelWidth=null,F.save(),F.transform.apply(F,ie.textMatrix),F.translate(ie.x,ie.y),F.scale(q,v),Re=0;Re<Fe;++Re){if(Oe=N[Re],"number"==typeof Oe){He=U*Oe*ne/1e3,this.ctx.translate(He,0),ie.x+=He*q;continue}const tt=(Oe.isSpace?ge:0)+H,V=O.charProcOperatorList[Oe.operatorListId];V?(this.contentVisible&&(this.processingType3=Oe,this.save(),F.scale(ne,ne),F.transform.apply(F,Ae),this.executeOperatorList(V),this.restore()),We=c.Util.applyTransform([Oe.width,0],Ae)[0]*ne+tt,F.translate(We,0),ie.x+=We*q):(0,c.warn)(`Type3 character "${Oe.operatorListId}" is not available.`)}F.restore(),this.processingType3=null}}setCharWidth(N,F){}setCharWidthAndBounds(N,F,ie,O,ne,v){this.ctx.rect(ie,O,ne-ie,v-O),this.clip(),this.endPath()}getColorN_Pattern(N){let F;if("TilingPattern"===N[0]){const ie=N[1],O=this.baseTransform||this.ctx.mozCurrentTransform.slice();F=new e.TilingPattern(N,ie,this.ctx,{createCanvasGraphics:v=>new ke(v,this.commonObjs,this.objs,this.canvasFactory)},O)}else F=this._getPattern(N[1],N[2]);return F}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(N,F,ie){const O=c.Util.makeHexColor(N,F,ie);this.ctx.strokeStyle=O,this.current.strokeColor=O}setFillRGBColor(N,F,ie){const O=c.Util.makeHexColor(N,F,ie);this.ctx.fillStyle=O,this.current.fillColor=O,this.current.patternFill=!1}_getPattern(N,F=null){let ie;return this.cachedPatterns.has(N)?ie=this.cachedPatterns.get(N):(ie=(0,e.getShadingPattern)(this.objs.get(N)),this.cachedPatterns.set(N,ie)),F&&(ie.matrix=F),ie}shadingFill(N){if(!this.contentVisible)return;const F=this.ctx;this.save();const ie=this._getPattern(N);F.fillStyle=ie.getPattern(F,this,F.mozCurrentTransformInverse,e.PathType.SHADING);const O=F.mozCurrentTransformInverse;if(O){const ne=F.canvas,v=ne.width,U=ne.height,H=c.Util.applyTransform([0,0],O),ge=c.Util.applyTransform([0,U],O),q=c.Util.applyTransform([v,0],O),Ae=c.Util.applyTransform([v,U],O),Fe=Math.min(H[0],ge[0],q[0],Ae[0]),Ie=Math.min(H[1],ge[1],q[1],Ae[1]),Re=Math.max(H[0],ge[0],q[0],Ae[0]),Oe=Math.max(H[1],ge[1],q[1],Ae[1]);this.ctx.fillRect(Fe,Ie,Re-Fe,Oe-Ie)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,c.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,c.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(N,F){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(N)&&6===N.length&&this.transform.apply(this,N),this.baseTransform=this.ctx.mozCurrentTransform,F)&&(this.ctx.rect(F[0],F[1],F[2]-F[0],F[3]-F[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,F[0],F[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,F[2],F[3]),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(N){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const F=this.ctx;N.isolated||(0,c.info)("TODO: Support non-isolated groups."),N.knockout&&(0,c.warn)("Knockout groups not supported.");const ie=F.mozCurrentTransform;if(N.matrix&&F.transform.apply(F,N.matrix),!N.bbox)throw new Error("Bounding box is required.");let O=c.Util.getAxialAlignedBoundingBox(N.bbox,F.mozCurrentTransform);O=c.Util.intersect(O,[0,0,F.canvas.width,F.canvas.height])||[0,0,0,0];const v=Math.floor(O[0]),U=Math.floor(O[1]);let H=Math.max(Math.ceil(O[2])-v,1),ge=Math.max(Math.ceil(O[3])-U,1),q=1,Ae=1;H>z&&(q=H/z,H=z),ge>z&&(Ae=ge/z,ge=z),this.current.startNewPathAndClipBox([0,0,H,ge]);let Fe="groupAt"+this.groupLevel;N.smask&&(Fe+="_smask_"+this.smaskCounter++%2);const Ie=this.cachedCanvases.getCanvas(Fe,H,ge,!0),Re=Ie.context;Re.scale(1/q,1/Ae),Re.translate(-v,-U),Re.transform.apply(Re,ie),N.smask?this.smaskStack.push({canvas:Ie.canvas,context:Re,offsetX:v,offsetY:U,scaleX:q,scaleY:Ae,subtype:N.smask.subtype,backdrop:N.smask.backdrop,transferMap:N.smask.transferMap||null,startTransformInverse:null}):(F.setTransform(1,0,0,1,0,0),F.translate(v,U),F.scale(q,Ae),F.save()),T(F,Re),this.ctx=Re,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(F),this.groupLevel++}endGroup(N){if(!this.contentVisible)return;this.groupLevel--;const F=this.ctx,ie=this.groupStack.pop();if(this.ctx=ie,this.ctx.imageSmoothingEnabled=!1,N.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const O=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,O);const ne=c.Util.getAxialAlignedBoundingBox([0,0,F.canvas.width,F.canvas.height],O);this.ctx.drawImage(F.canvas,0,0),this.ctx.restore(),this.compose(ne)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(N,F,ie,O,ne){if(this.save(),Array.isArray(F)&&4===F.length){const v=F[2]-F[0],U=F[3]-F[1];if(ne&&this.annotationCanvasMap){(ie=ie.slice())[4]-=F[0],ie[5]-=F[1],(F=F.slice())[0]=F[1]=0,F[2]=v,F[3]=U;const[H,ge]=c.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:q}=this,Ae=Math.ceil(v*this.outputScaleX*q),Fe=Math.ceil(U*this.outputScaleY*q);this.annotationCanvas=this.canvasFactory.create(Ae,Fe);const{canvas:Ie,context:Re}=this.annotationCanvas;Ie.style.width=`calc(${v}px * var(--viewport-scale-factor))`,Ie.style.height=`calc(${U}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(N,Ie),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Re,this.ctx.setTransform(H,0,0,-ge,0,U*ge),C(this.ctx),L(this.ctx)}else L(this.ctx),this.ctx.rect(F[0],F[1],v,U),this.clip(),this.endPath()}this.current=new j(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,ie),this.transform.apply(this,O)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(N){if(!this.contentVisible)return;const F=this.ctx,ie=N.width,O=N.height,ne=this.processingType3;if(ne&&void 0===ne.compiled&&(ne.compiled=ie<=1e3&&O<=1e3?function se(J){const F=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),ie=J.width,O=J.height,ne=ie+1;let v,U,H,ge;const q=new Uint8Array(ne*(O+1)),Ae=ie+7&-8,Fe=J.data,Ie=new Uint8Array(Ae*O);let Re=0;for(v=0,U=Fe.length;v<U;v++){const V=Fe[v];let Q=128;for(;Q>0;)Ie[Re++]=V&Q?0:255,Q>>=1}let Oe=0;for(Re=0,0!==Ie[Re]&&(q[0]=1,++Oe),H=1;H<ie;H++)Ie[Re]!==Ie[Re+1]&&(q[H]=Ie[Re]?2:1,++Oe),Re++;for(0!==Ie[Re]&&(q[H]=2,++Oe),v=1;v<O;v++){Re=v*Ae,ge=v*ne,Ie[Re-Ae]!==Ie[Re]&&(q[ge]=Ie[Re]?1:8,++Oe);let V=(Ie[Re]?4:0)+(Ie[Re-Ae]?8:0);for(H=1;H<ie;H++)V=(V>>2)+(Ie[Re+1]?4:0)+(Ie[Re-Ae+1]?8:0),F[V]&&(q[ge+H]=F[V],++Oe),Re++;if(Ie[Re-Ae]!==Ie[Re]&&(q[ge+H]=Ie[Re]?2:4,++Oe),Oe>1e3)return null}for(Re=Ae*(O-1),ge=v*ne,0!==Ie[Re]&&(q[ge]=8,++Oe),H=1;H<ie;H++)Ie[Re]!==Ie[Re+1]&&(q[ge+H]=Ie[Re]?4:8,++Oe),Re++;if(0!==Ie[Re]&&(q[ge+H]=4,++Oe),Oe>1e3)return null;const We=new Int32Array([0,ne,-1,0,-ne,0,0,0,1]),He=[];for(v=0;Oe&&v<=O;v++){let V=v*ne;const Q=V+ie;for(;V<Q&&!q[V];)V++;if(V===Q)continue;const Ee=[V%ne,v],Y=V;let fe=q[V];do{const Te=We[fe];do{V+=Te}while(!q[V]);const Ve=q[V];5!==Ve&&10!==Ve?(fe=Ve,q[V]=0):(fe=Ve&51*fe>>4,q[V]&=fe>>2|fe<<2),Ee.push(V%ne,V/ne|0),q[V]||--Oe}while(Y!==V);He.push(Ee),--v}return function(V){V.save(),V.scale(1/ie,-1/O),V.translate(0,-O),V.beginPath();for(let Q=0,Ee=He.length;Q<Ee;Q++){const Y=He[Q];V.moveTo(Y[0],Y[1]);for(let fe=2,Te=Y.length;fe<Te;fe+=2)V.lineTo(Y[fe],Y[fe+1])}V.fill(),V.beginPath(),V.restore()}}({data:N.data,width:ie,height:O}):null),null==ne?void 0:ne.compiled)return void ne.compiled(F);const v=this._createMaskCanvas(N),U=v.canvas;F.save(),F.setTransform(1,0,0,1,0,0),F.drawImage(U,v.offsetX,v.offsetY),F.restore(),this.compose()}paintImageMaskXObjectRepeat(N,F,ie=0,O=0,ne,v){if(!this.contentVisible)return;const U=this.ctx;U.save();const H=U.mozCurrentTransform;U.transform(F,ie,O,ne,0,0);const ge=this._createMaskCanvas(N);U.setTransform(1,0,0,1,0,0);for(let q=0,Ae=v.length;q<Ae;q+=2){const Fe=c.Util.transform(H,[F,ie,O,ne,v[q],v[q+1]]),[Ie,Re]=c.Util.applyTransform([0,0],Fe);U.drawImage(ge.canvas,Ie,Re)}U.restore(),this.compose()}paintImageMaskXObjectGroup(N){if(!this.contentVisible)return;const F=this.ctx,ie=this.current.fillColor,O=this.current.patternFill;for(let ne=0,v=N.length;ne<v;ne++){const U=N[ne],H=U.width,ge=U.height,q=this.cachedCanvases.getCanvas("maskCanvas",H,ge),Ae=q.context;Ae.save(),A(Ae,U),Ae.globalCompositeOperation="source-in",Ae.fillStyle=O?ie.getPattern(Ae,this,F.mozCurrentTransformInverse,e.PathType.FILL):ie,Ae.fillRect(0,0,H,ge),Ae.restore(),F.save(),F.transform.apply(F,U.transform),F.scale(1,-1),F.drawImage(q.canvas,0,0,H,ge,0,-1,1,1),F.restore()}this.compose()}paintImageXObject(N){if(!this.contentVisible)return;const F=N.startsWith("g_")?this.commonObjs.get(N):this.objs.get(N);F?this.paintInlineImageXObject(F):(0,c.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(N,F,ie,O){if(!this.contentVisible)return;const ne=N.startsWith("g_")?this.commonObjs.get(N):this.objs.get(N);if(!ne)return void(0,c.warn)("Dependent image isn't ready yet");const v=ne.width,U=ne.height,H=[];for(let ge=0,q=O.length;ge<q;ge+=2)H.push({transform:[F,0,0,ie,O[ge],O[ge+1]],x:0,y:0,w:v,h:U});this.paintInlineImageXObjectGroup(ne,H)}paintInlineImageXObject(N){if(!this.contentVisible)return;const F=N.width,ie=N.height,O=this.ctx;let ne;if(this.save(),O.scale(1/F,-1/ie),"function"==typeof HTMLElement&&N instanceof HTMLElement||!N.data)ne=N;else{const U=this.cachedCanvases.getCanvas("inlineImage",F,ie);S(U.context,N,this.current.transferMaps),ne=U.canvas}const v=this._scaleImage(ne,O.mozCurrentTransformInverse);if(O.imageSmoothingEnabled=ye(O.mozCurrentTransform,N.interpolate),O.drawImage(v.img,0,0,v.paintWidth,v.paintHeight,0,-ie,F,ie),this.imageLayer){const U=this.getCanvasPosition(0,-ie);this.imageLayer.appendImage({imgData:N,left:U[0],top:U[1],width:F/O.mozCurrentTransformInverse[0],height:ie/O.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(N,F){if(!this.contentVisible)return;const ie=this.ctx,O=N.width,ne=N.height,v=this.cachedCanvases.getCanvas("inlineImage",O,ne);S(v.context,N,this.current.transferMaps);for(let H=0,ge=F.length;H<ge;H++){const q=F[H];if(ie.save(),ie.transform.apply(ie,q.transform),ie.scale(1,-1),ie.drawImage(v.canvas,q.x,q.y,q.w,q.h,0,-1,1,1),this.imageLayer){const Ae=this.getCanvasPosition(q.x,q.y);this.imageLayer.appendImage({imgData:N,left:Ae[0],top:Ae[1],width:O,height:ne})}ie.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(N){}markPointProps(N,F){}beginMarkedContent(N){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(N,F){this.markedContentStack.push("OC"===N?{visible:this.optionalContentConfig.isVisible(F)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(N){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(N);const F=this.ctx;this.pendingClip&&(this.pendingClip===ue?F.clip("evenodd"):F.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),F.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const N=this.ctx.mozCurrentTransform,F=Math.abs(N[0]*N[3]-N[2]*N[1]),ie=N[0]**2+N[2]**2,O=N[1]**2+N[3]**2,ne=Math.sqrt(Math.max(ie,O))/F;this._cachedGetSinglePixelWidth=ie!==O&&this._combinedScaleFactor*ne>1?-this._combinedScaleFactor*ne:F>Number.EPSILON?ne:1}return this._cachedGetSinglePixelWidth}getCanvasPosition(N,F){const ie=this.ctx.mozCurrentTransform;return[ie[0]*N+ie[2]*F+ie[4],ie[1]*N+ie[3]*F+ie[5]]}isContentVisible(){for(let N=this.markedContentStack.length-1;N>=0;N--)if(!this.markedContentStack[N].visible)return!1;return!0}}re.CanvasGraphics=ke;for(const J in c.OPS)void 0!==ke.prototype[J]&&(ke.prototype[c.OPS[J]]=ke.prototype[J])},(ze,re,oe)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.TilingPattern=re.PathType=void 0,re.getShadingPattern=function w(k){switch(k[0]){case"RadialAxial":return new pe(k);case"Mesh":return new R(k);case"Dummy":return new x}throw new Error(`Unknown IR type: ${k[0]}`)};var c=oe(1);const e={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function xe(k,C){if(!C||"undefined"==typeof Path2D)return;const X=C[2]-C[0],se=C[3]-C[1],j=new Path2D;j.rect(C[0],C[1],X,se),k.clip(j)}re.PathType=e;class ce{constructor(){this.constructor===ce&&(0,c.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,c.unreachable)("Abstract method `getPattern` called.")}}class pe extends ce{constructor(C){super(),this._type=C[1],this._bbox=C[2],this._colorStops=C[3],this._p0=C[4],this._p1=C[5],this._r0=C[6],this._r1=C[7],this.matrix=null}_createGradient(C){let X;"axial"===this._type?X=C.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(X=C.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const se of this._colorStops)X.addColorStop(se[0],se[1]);return X}getPattern(C,X,se,j){let S;if(j===e.STROKE||j===e.FILL){const A=X.current.getClippedPathBoundingBox(j,C.mozCurrentTransform)||[0,0,0,0],T=Math.ceil(A[2]-A[0])||1,L=Math.ceil(A[3]-A[1])||1,W=X.cachedCanvases.getCanvas("pattern",T,L,!0),G=W.context;G.clearRect(0,0,G.canvas.width,G.canvas.height),G.beginPath(),G.rect(0,0,G.canvas.width,G.canvas.height),G.translate(-A[0],-A[1]),se=c.Util.transform(se,[1,0,0,1,A[0],A[1]]),G.transform.apply(G,X.baseTransform),this.matrix&&G.transform.apply(G,this.matrix),xe(G,this._bbox),G.fillStyle=this._createGradient(G),G.fill(),S=C.createPattern(W.canvas,"no-repeat");const be=new DOMMatrix(se);try{S.setTransform(be)}catch(de){(0,c.warn)(`RadialAxialShadingPattern.getPattern: "${null==de?void 0:de.message}".`)}}else xe(C,this._bbox),S=this._createGradient(C);return S}}function z(k,C,X,se,j,S,A,T){const L=C.coords,W=C.colors,G=k.data,be=4*k.width;let de;L[X+1]>L[se+1]&&(de=X,X=se,se=de,de=S,S=A,A=de),L[se+1]>L[j+1]&&(de=se,se=j,j=de,de=A,A=T,T=de),L[X+1]>L[se+1]&&(de=X,X=se,se=de,de=S,S=A,A=de);const _e=(L[X]+C.offsetX)*C.scaleX,ye=(L[X+1]+C.offsetY)*C.scaleY,me=(L[se]+C.offsetX)*C.scaleX,ve=(L[se+1]+C.offsetY)*C.scaleY,we=(L[j]+C.offsetX)*C.scaleX,ue=(L[j+1]+C.offsetY)*C.scaleY;if(ye>=ue)return;const ke=W[S],J=W[S+1],N=W[S+2],F=W[A],ie=W[A+1],O=W[A+2],ne=W[T],v=W[T+1],U=W[T+2],H=Math.round(ye),ge=Math.round(ue);let q,Ae,Fe,Ie,Re,Oe,We,He;for(let tt=H;tt<=ge;tt++){if(tt<ve){let fe;fe=tt<ye?0:(ye-tt)/(ye-ve),q=_e-(_e-me)*fe,Ae=ke-(ke-F)*fe,Fe=J-(J-ie)*fe,Ie=N-(N-O)*fe}else{let fe;fe=tt>ue?1:ve===ue?0:(ve-tt)/(ve-ue),q=me-(me-we)*fe,Ae=F-(F-ne)*fe,Fe=ie-(ie-v)*fe,Ie=O-(O-U)*fe}let V;V=tt<ye?0:tt>ue?1:(ye-tt)/(ye-ue),Re=_e-(_e-we)*V,Oe=ke-(ke-ne)*V,We=J-(J-v)*V,He=N-(N-U)*V;const Q=Math.round(Math.min(q,Re)),Ee=Math.round(Math.max(q,Re));let Y=be*tt+4*Q;for(let fe=Q;fe<=Ee;fe++)V=(q-fe)/(q-Re),V<0?V=0:V>1&&(V=1),G[Y++]=Ae-(Ae-Oe)*V|0,G[Y++]=Fe-(Fe-We)*V|0,G[Y++]=Ie-(Ie-He)*V|0,G[Y++]=255}}function f(k,C,X){const se=C.coords,j=C.colors;let S,A;switch(C.type){case"lattice":const T=C.verticesPerRow,L=Math.floor(se.length/T)-1,W=T-1;for(S=0;S<L;S++){let G=S*T;for(let be=0;be<W;be++,G++)z(k,X,se[G],se[G+1],se[G+T],j[G],j[G+1],j[G+T]),z(k,X,se[G+T+1],se[G+1],se[G+T],j[G+T+1],j[G+1],j[G+T])}break;case"triangles":for(S=0,A=se.length;S<A;S+=3)z(k,X,se[S],se[S+1],se[S+2],j[S],j[S+1],j[S+2]);break;default:throw new Error("illegal figure")}}class R extends ce{constructor(C){super(),this._coords=C[2],this._colors=C[3],this._figures=C[4],this._bounds=C[5],this._bbox=C[7],this._background=C[8],this.matrix=null}_createMeshCanvas(C,X,se){const T=Math.floor(this._bounds[0]),L=Math.floor(this._bounds[1]),W=Math.ceil(this._bounds[2])-T,G=Math.ceil(this._bounds[3])-L,be=Math.min(Math.ceil(Math.abs(W*C[0]*1.1)),3e3),de=Math.min(Math.ceil(Math.abs(G*C[1]*1.1)),3e3),_e=W/be,ye=G/de,me={coords:this._coords,colors:this._colors,offsetX:-T,offsetY:-L,scaleX:1/_e,scaleY:1/ye},ue=se.getCanvas("mesh",be+4,de+4,!1),ke=ue.context,J=ke.createImageData(be,de);if(X){const F=J.data;for(let ie=0,O=F.length;ie<O;ie+=4)F[ie]=X[0],F[ie+1]=X[1],F[ie+2]=X[2],F[ie+3]=255}for(const F of this._figures)f(J,F,me);return ke.putImageData(J,2,2),{canvas:ue.canvas,offsetX:T-2*_e,offsetY:L-2*ye,scaleX:_e,scaleY:ye}}getPattern(C,X,se,j){let S;if(xe(C,this._bbox),j===e.SHADING)S=c.Util.singularValueDecompose2dScale(C.mozCurrentTransform);else if(S=c.Util.singularValueDecompose2dScale(X.baseTransform),this.matrix){const T=c.Util.singularValueDecompose2dScale(this.matrix);S=[S[0]*T[0],S[1]*T[1]]}const A=this._createMeshCanvas(S,j===e.SHADING?null:this._background,X.cachedCanvases);return j!==e.SHADING&&(C.setTransform.apply(C,X.baseTransform),this.matrix&&C.transform.apply(C,this.matrix)),C.translate(A.offsetX,A.offsetY),C.scale(A.scaleX,A.scaleY),C.createPattern(A.canvas,"no-repeat")}}class x extends ce{getPattern(){return"hotpink"}}class B{static get MAX_PATTERN_SIZE(){return(0,c.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(C,X,se,j,S){this.operatorList=C[2],this.matrix=C[3]||[1,0,0,1,0,0],this.bbox=C[4],this.xstep=C[5],this.ystep=C[6],this.paintType=C[7],this.tilingType=C[8],this.color=X,this.ctx=se,this.canvasGraphicsFactory=j,this.baseTransform=S}createPatternCanvas(C){const X=this.operatorList,se=this.bbox,j=this.xstep,S=this.ystep,A=this.paintType,L=this.color,W=this.canvasGraphicsFactory;(0,c.info)("TilingType: "+this.tilingType);const G=se[0],be=se[1],de=se[2],_e=se[3],ye=c.Util.singularValueDecompose2dScale(this.matrix),me=c.Util.singularValueDecompose2dScale(this.baseTransform),ve=[ye[0]*me[0],ye[1]*me[1]],we=this.getSizeAndScale(j,this.ctx.canvas.width,ve[0]),ue=this.getSizeAndScale(S,this.ctx.canvas.height,ve[1]),ke=C.cachedCanvases.getCanvas("pattern",we.size,ue.size,!0),J=ke.context,N=W.createCanvasGraphics(J);N.groupLevel=C.groupLevel,this.setFillAndStrokeStyleToContext(N,A,L);let F=G,ie=be,O=de,ne=_e;return G<0&&(F=0,O+=Math.abs(G)),be<0&&(ie=0,ne+=Math.abs(be)),J.translate(-we.scale*F,-ue.scale*ie),N.transform(we.scale,0,0,ue.scale,0,0),J.save(),this.clipBbox(N,F,ie,O,ne),N.baseTransform=N.ctx.mozCurrentTransform.slice(),N.executeOperatorList(X),N.endDrawing(),{canvas:ke.canvas,scaleX:we.scale,scaleY:ue.scale,offsetX:F,offsetY:ie}}getSizeAndScale(C,X,se){C=Math.abs(C);const j=Math.max(B.MAX_PATTERN_SIZE,X);let S=Math.ceil(C*se);return S>=j?S=j:se=S/C,{scale:se,size:S}}clipBbox(C,X,se,j,S){C.ctx.rect(X,se,j-X,S-se),C.clip(),C.endPath()}setFillAndStrokeStyleToContext(C,X,se){const j=C.ctx,S=C.current;switch(X){case 1:const A=this.ctx;j.fillStyle=A.fillStyle,j.strokeStyle=A.strokeStyle,S.fillColor=A.fillStyle,S.strokeColor=A.strokeStyle;break;case 2:const T=c.Util.makeHexColor(se[0],se[1],se[2]);j.fillStyle=T,j.strokeStyle=T,S.fillColor=T,S.strokeColor=T;break;default:throw new c.FormatError(`Unsupported paint type: ${X}`)}}getPattern(C,X,se,j){let S=se;j!==e.SHADING&&(S=c.Util.transform(S,X.baseTransform),this.matrix&&(S=c.Util.transform(S,this.matrix)));const A=this.createPatternCanvas(X);let T=new DOMMatrix(S);T=T.translate(A.offsetX,A.offsetY),T=T.scale(1/A.scaleX,1/A.scaleY);const L=C.createPattern(A.canvas,"repeat");try{L.setTransform(T)}catch(W){(0,c.warn)(`TilingPattern.getPattern: "${null==W?void 0:W.message}".`)}return L}}re.TilingPattern=B},(ze,re)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.GlobalWorkerOptions=void 0;const oe=Object.create(null);re.GlobalWorkerOptions=oe,oe.workerPort=void 0===oe.workerPort?null:oe.workerPort,oe.workerSrc=void 0===oe.workerSrc?"":oe.workerSrc},(ze,re,oe)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.MessageHandler=void 0;var c=oe(1);function ce(z){switch(z instanceof Error||"object"==typeof z&&null!==z||(0,c.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),z.name){case"AbortException":return new c.AbortException(z.message);case"MissingPDFException":return new c.MissingPDFException(z.message);case"PasswordException":return new c.PasswordException(z.message,z.code);case"UnexpectedResponseException":return new c.UnexpectedResponseException(z.message,z.status);case"UnknownErrorException":return new c.UnknownErrorException(z.message,z.details);default:return new c.UnknownErrorException(z.message,z.toString())}}re.MessageHandler=class pe{constructor(f,R,x){this.sourceName=f,this.targetName=R,this.comObj=x,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=w=>{const _=w.data;if(_.targetName!==this.sourceName)return;if(_.stream)return void this._processStreamMessage(_);if(_.callback){const k=_.callbackId,C=this.callbackCapabilities[k];if(!C)throw new Error(`Cannot resolve callback ${k}`);if(delete this.callbackCapabilities[k],1===_.callback)C.resolve(_.data);else{if(2!==_.callback)throw new Error("Unexpected callback case");C.reject(ce(_.reason))}return}const B=this.actionHandler[_.action];if(!B)throw new Error(`Unknown action from worker: ${_.action}`);if(_.callbackId){const k=this.sourceName,C=_.sourceName;new Promise(function(X){X(B(_.data))}).then(function(X){x.postMessage({sourceName:k,targetName:C,callback:1,callbackId:_.callbackId,data:X})},function(X){x.postMessage({sourceName:k,targetName:C,callback:2,callbackId:_.callbackId,reason:ce(X)})})}else _.streamId?this._createStreamSink(_):B(_.data)},x.addEventListener("message",this._onComObjOnMessage)}on(f,R){const x=this.actionHandler;if(x[f])throw new Error(`There is already an actionName called "${f}"`);x[f]=R}send(f,R,x){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,data:R},x)}sendWithPromise(f,R,x){const w=this.callbackId++,_=(0,c.createPromiseCapability)();this.callbackCapabilities[w]=_;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,callbackId:w,data:R},x)}catch(B){_.reject(B)}return _.promise}sendWithStream(f,R,x,w){const _=this.streamId++,B=this.sourceName,k=this.targetName,C=this.comObj;return new ReadableStream({start:X=>{const se=(0,c.createPromiseCapability)();return this.streamControllers[_]={controller:X,startCall:se,pullCall:null,cancelCall:null,isClosed:!1},C.postMessage({sourceName:B,targetName:k,action:f,streamId:_,data:R,desiredSize:X.desiredSize},w),se.promise},pull:X=>{const se=(0,c.createPromiseCapability)();return this.streamControllers[_].pullCall=se,C.postMessage({sourceName:B,targetName:k,stream:6,streamId:_,desiredSize:X.desiredSize}),se.promise},cancel:X=>{(0,c.assert)(X instanceof Error,"cancel must have a valid reason");const se=(0,c.createPromiseCapability)();return this.streamControllers[_].cancelCall=se,this.streamControllers[_].isClosed=!0,C.postMessage({sourceName:B,targetName:k,stream:1,streamId:_,reason:ce(X)}),se.promise}},x)}_createStreamSink(f){const R=f.streamId,x=this.sourceName,w=f.sourceName,_=this.comObj,B=this,k=this.actionHandler[f.action],C={enqueue(X,se=1,j){if(this.isCancelled)return;const S=this.desiredSize;this.desiredSize-=se,S>0&&this.desiredSize<=0&&(this.sinkCapability=(0,c.createPromiseCapability)(),this.ready=this.sinkCapability.promise),_.postMessage({sourceName:x,targetName:w,stream:4,streamId:R,chunk:X},j)},close(){this.isCancelled||(this.isCancelled=!0,_.postMessage({sourceName:x,targetName:w,stream:3,streamId:R}),delete B.streamSinks[R])},error(X){(0,c.assert)(X instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,_.postMessage({sourceName:x,targetName:w,stream:5,streamId:R,reason:ce(X)}))},sinkCapability:(0,c.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:f.desiredSize,ready:null};C.sinkCapability.resolve(),C.ready=C.sinkCapability.promise,this.streamSinks[R]=C,new Promise(function(X){X(k(f.data,C))}).then(function(){_.postMessage({sourceName:x,targetName:w,stream:8,streamId:R,success:!0})},function(X){_.postMessage({sourceName:x,targetName:w,stream:8,streamId:R,reason:ce(X)})})}_processStreamMessage(f){const R=f.streamId,x=this.sourceName,w=f.sourceName,_=this.comObj,B=this.streamControllers[R],k=this.streamSinks[R];switch(f.stream){case 8:f.success?B.startCall.resolve():B.startCall.reject(ce(f.reason));break;case 7:f.success?B.pullCall.resolve():B.pullCall.reject(ce(f.reason));break;case 6:if(!k){_.postMessage({sourceName:x,targetName:w,stream:7,streamId:R,success:!0});break}k.desiredSize<=0&&f.desiredSize>0&&k.sinkCapability.resolve(),k.desiredSize=f.desiredSize,new Promise(function(C){C(k.onPull&&k.onPull())}).then(function(){_.postMessage({sourceName:x,targetName:w,stream:7,streamId:R,success:!0})},function(C){_.postMessage({sourceName:x,targetName:w,stream:7,streamId:R,reason:ce(C)})});break;case 4:if((0,c.assert)(B,"enqueue should have stream controller"),B.isClosed)break;B.controller.enqueue(f.chunk);break;case 3:if((0,c.assert)(B,"close should have stream controller"),B.isClosed)break;B.isClosed=!0,B.controller.close(),this._deleteStreamController(B,R);break;case 5:(0,c.assert)(B,"error should have stream controller"),B.controller.error(ce(f.reason)),this._deleteStreamController(B,R);break;case 2:f.success?B.cancelCall.resolve():B.cancelCall.reject(ce(f.reason)),this._deleteStreamController(B,R);break;case 1:if(!k)break;new Promise(function(C){C(k.onCancel&&k.onCancel(ce(f.reason)))}).then(function(){_.postMessage({sourceName:x,targetName:w,stream:2,streamId:R,success:!0})},function(C){_.postMessage({sourceName:x,targetName:w,stream:2,streamId:R,reason:ce(C)})}),k.sinkCapability.reject(ce(f.reason)),k.isCancelled=!0,delete this.streamSinks[R];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(f,R){var x=this;return _asyncToGenerator(function*(){yield Promise.allSettled([f.startCall&&f.startCall.promise,f.pullCall&&f.pullCall.promise,f.cancelCall&&f.cancelCall.promise]),delete x.streamControllers[R]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(ze,re,oe)=>{var xe,ce;Object.defineProperty(re,"__esModule",{value:!0}),re.Metadata=void 0;var c=oe(1);xe=new WeakMap,ce=new WeakMap,re.Metadata=class e{constructor({parsedData:z,rawData:f}){Et(this,xe,void 0),Et(this,ce,void 0),Dt(this,xe,z),Dt(this,ce,f)}getRaw(){return ut(this,ce)}get(z){var f;return null!=(f=ut(this,xe).get(z))?f:null}getAll(){return(0,c.objectFromMap)(ut(this,xe))}has(z){return ut(this,xe).has(z)}}},(ze,re,oe)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.OptionalContentConfig=void 0;var c=oe(1);class e{constructor(pe,z){this.visible=!0,this.name=pe,this.intent=z}}re.OptionalContentConfig=class xe{constructor(pe){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==pe){this.name=pe.name,this.creator=pe.creator,this._order=pe.order;for(const z of pe.groups)this._groups.set(z.id,new e(z.name,z.intent));if("OFF"===pe.baseState)for(const z of this._groups)z.visible=!1;for(const z of pe.on)this._groups.get(z).visible=!0;for(const z of pe.off)this._groups.get(z).visible=!1}}_evaluateVisibilityExpression(pe){const z=pe.length;if(z<2)return!0;const f=pe[0];for(let R=1;R<z;R++){const x=pe[R];let w;if(Array.isArray(x))w=this._evaluateVisibilityExpression(x);else{if(!this._groups.has(x))return(0,c.warn)(`Optional content group not found: ${x}`),!0;w=this._groups.get(x).visible}switch(f){case"And":if(!w)return!1;break;case"Or":if(w)return!0;break;case"Not":return!w;default:return!0}}return"And"===f}isVisible(pe){if(0===this._groups.size)return!0;if(!pe)return(0,c.warn)("Optional content group not defined."),!0;if("OCG"===pe.type)return this._groups.has(pe.id)?this._groups.get(pe.id).visible:((0,c.warn)(`Optional content group not found: ${pe.id}`),!0);if("OCMD"===pe.type){if(pe.expression)return this._evaluateVisibilityExpression(pe.expression);if(!pe.policy||"AnyOn"===pe.policy){for(const z of pe.ids){if(!this._groups.has(z))return(0,c.warn)(`Optional content group not found: ${z}`),!0;if(this._groups.get(z).visible)return!0}return!1}if("AllOn"===pe.policy){for(const z of pe.ids){if(!this._groups.has(z))return(0,c.warn)(`Optional content group not found: ${z}`),!0;if(!this._groups.get(z).visible)return!1}return!0}if("AnyOff"===pe.policy){for(const z of pe.ids){if(!this._groups.has(z))return(0,c.warn)(`Optional content group not found: ${z}`),!0;if(!this._groups.get(z).visible)return!0}return!1}if("AllOff"===pe.policy){for(const z of pe.ids){if(!this._groups.has(z))return(0,c.warn)(`Optional content group not found: ${z}`),!0;if(this._groups.get(z).visible)return!1}return!0}return(0,c.warn)(`Unknown optional content policy ${pe.policy}.`),!0}return(0,c.warn)(`Unknown group type ${pe.type}.`),!0}setVisibility(pe,z=!0){this._groups.has(pe)?this._groups.get(pe).visible=!!z:(0,c.warn)(`Optional content group not found: ${pe}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,c.objectFromMap)(this._groups):null}getGroup(pe){return this._groups.get(pe)||null}}},(ze,re,oe)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.PDFDataTransportStream=void 0;var c=oe(1),e=oe(5);re.PDFDataTransportStream=class xe{constructor(f,R){(0,c.assert)(R,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=f.progressiveDone||!1,this._contentDispositionFilename=f.contentDispositionFilename||null;const x=f.initialData;if((null==x?void 0:x.length)>0){const w=new Uint8Array(x).buffer;this._queuedChunks.push(w)}this._pdfDataRangeTransport=R,this._isStreamingSupported=!f.disableStream,this._isRangeSupported=!f.disableRange,this._contentLength=f.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((w,_)=>{this._onReceiveData({begin:w,chunk:_})}),this._pdfDataRangeTransport.addProgressListener((w,_)=>{this._onProgress({loaded:w,total:_})}),this._pdfDataRangeTransport.addProgressiveReadListener(w=>{this._onReceiveData({chunk:w})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(f){const R=new Uint8Array(f.chunk).buffer;if(void 0===f.begin)this._fullRequestReader?this._fullRequestReader._enqueue(R):this._queuedChunks.push(R);else{const x=this._rangeReaders.some(function(w){return w._begin===f.begin&&(w._enqueue(R),!0)});(0,c.assert)(x,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var f,R;return null!=(R=null==(f=this._fullRequestReader)?void 0:f._loaded)?R:0}_onProgress(f){if(void 0===f.total){const R=this._rangeReaders[0];(null==R?void 0:R.onProgress)&&R.onProgress({loaded:f.loaded})}else{const R=this._fullRequestReader;(null==R?void 0:R.onProgress)&&R.onProgress({loaded:f.loaded,total:f.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(f){const R=this._rangeReaders.indexOf(f);R>=0&&this._rangeReaders.splice(R,1)}getFullReader(){(0,c.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const f=this._queuedChunks;return this._queuedChunks=null,new ce(this,f,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(f,R){if(R<=this._progressiveDataLength)return null;const x=new pe(this,f,R);return this._pdfDataRangeTransport.requestDataRange(f,R),this._rangeReaders.push(x),x}cancelAllRequests(f){this._fullRequestReader&&this._fullRequestReader.cancel(f);for(const R of this._rangeReaders.slice(0))R.cancel(f);this._pdfDataRangeTransport.abort()}};class ce{constructor(f,R,x=!1,w=null){this._stream=f,this._done=x||!1,this._filename=(0,e.isPdfFile)(w)?w:null,this._queuedChunks=R||[],this._loaded=0;for(const _ of this._queuedChunks)this._loaded+=_.byteLength;this._requests=[],this._headersReady=Promise.resolve(),f._fullRequestReader=this,this.onProgress=null}_enqueue(f){this._done||(this._requests.length>0?this._requests.shift().resolve({value:f,done:!1}):this._queuedChunks.push(f),this._loaded+=f.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var f=this;return _asyncToGenerator(function*(){if(f._queuedChunks.length>0)return{value:f._queuedChunks.shift(),done:!1};if(f._done)return{value:void 0,done:!0};const R=(0,c.createPromiseCapability)();return f._requests.push(R),R.promise})()}cancel(f){this._done=!0;for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class pe{constructor(f,R,x){this._stream=f,this._begin=R,this._end=x,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(f){if(!this._done){if(0===this._requests.length)this._queuedChunk=f;else{this._requests.shift().resolve({value:f,done:!1});for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var f=this;return _asyncToGenerator(function*(){if(f._queuedChunk){const x=f._queuedChunk;return f._queuedChunk=null,{value:x,done:!1}}if(f._done)return{value:void 0,done:!0};const R=(0,c.createPromiseCapability)();return f._requests.push(R),R.promise})()}cancel(f){this._done=!0;for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(ze,re)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.XfaText=void 0;class oe{static textContent(e){const xe=[],ce={items:xe,styles:Object.create(null)};return function pe(z){var x;if(!z)return;let f=null;const R=z.name;if("#text"===R)f=z.value;else{if(!oe.shouldBuildText(R))return;(null==(x=null==z?void 0:z.attributes)?void 0:x.textContent)?f=z.attributes.textContent:z.value&&(f=z.value)}if(null!==f&&xe.push({str:f}),z.children)for(const w of z.children)pe(w)}(e),ce}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}re.XfaText=oe},(ze,re,oe)=>{var ie,Wi;Object.defineProperty(re,"__esModule",{value:!0}),re.AnnotationLayer=void 0;var c=oe(1),e=oe(5),xe=oe(9),ce=oe(19),pe=oe(20);const z=1e3,f=new WeakSet;function R(ne){return{width:ne[2]-ne[0],height:ne[3]-ne[1]}}class x{static create(v){switch(v.data.annotationType){case c.AnnotationType.LINK:return new _(v);case c.AnnotationType.TEXT:return new B(v);case c.AnnotationType.WIDGET:switch(v.data.fieldType){case"Tx":return new C(v);case"Btn":return v.data.radioButton?new se(v):v.data.checkBox?new X(v):new j(v);case"Ch":return new S(v)}return new k(v);case c.AnnotationType.POPUP:return new A(v);case c.AnnotationType.FREETEXT:return new L(v);case c.AnnotationType.LINE:return new W(v);case c.AnnotationType.SQUARE:return new G(v);case c.AnnotationType.CIRCLE:return new be(v);case c.AnnotationType.POLYLINE:return new de(v);case c.AnnotationType.CARET:return new ye(v);case c.AnnotationType.INK:return new me(v);case c.AnnotationType.POLYGON:return new _e(v);case c.AnnotationType.HIGHLIGHT:return new ve(v);case c.AnnotationType.UNDERLINE:return new we(v);case c.AnnotationType.SQUIGGLY:return new ue(v);case c.AnnotationType.STRIKEOUT:return new ke(v);case c.AnnotationType.STAMP:return new J(v);case c.AnnotationType.FILEATTACHMENT:return new N(v);default:return new w(v)}}}class w{constructor(v,{isRenderable:U=!1,ignoreBorder:H=!1,createQuadrilaterals:ge=!1}={}){this.isRenderable=U,this.data=v.data,this.layer=v.layer,this.page=v.page,this.viewport=v.viewport,this.linkService=v.linkService,this.downloadManager=v.downloadManager,this.imageResourcesPath=v.imageResourcesPath,this.renderForms=v.renderForms,this.svgFactory=v.svgFactory,this.annotationStorage=v.annotationStorage,this.enableScripting=v.enableScripting,this.hasJSActions=v.hasJSActions,this._fieldObjects=v.fieldObjects,this._mouseState=v.mouseState,U&&(this.container=this._createContainer(H)),ge&&(this.quadrilaterals=this._createQuadrilaterals(H))}_createContainer(v=!1){const U=this.data,H=this.page,ge=this.viewport,q=document.createElement("section");let{width:Ae,height:Fe}=R(U.rect);q.setAttribute("data-annotation-id",U.id);const Ie=c.Util.normalizeRect([U.rect[0],H.view[3]-U.rect[1]+H.view[1],U.rect[2],H.view[3]-U.rect[3]+H.view[1]]);if(U.hasOwnCanvas){const Re=ge.transform.slice(),[Oe,We]=c.Util.singularValueDecompose2dScale(Re);Ae=Math.ceil(Ae*Oe),Fe=Math.ceil(Fe*We),Ie[0]*=Oe,Ie[1]*=We;for(let He=0;He<4;He++)Re[He]=Math.sign(Re[He]);q.style.transform=`matrix(${Re.join(",")})`}else q.style.transform=`matrix(${ge.transform.join(",")})`;if(q.style.transformOrigin=`${-Ie[0]}px ${-Ie[1]}px`,!v&&U.borderStyle.width>0){q.style.borderWidth=`${U.borderStyle.width}px`,U.borderStyle.style!==c.AnnotationBorderStyleType.UNDERLINE&&(Ae-=2*U.borderStyle.width,Fe-=2*U.borderStyle.width);const Re=U.borderStyle.horizontalCornerRadius,Oe=U.borderStyle.verticalCornerRadius;switch((Re>0||Oe>0)&&(q.style.borderRadius=`${Re}px / ${Oe}px`),U.borderStyle.style){case c.AnnotationBorderStyleType.SOLID:q.style.borderStyle="solid";break;case c.AnnotationBorderStyleType.DASHED:q.style.borderStyle="dashed";break;case c.AnnotationBorderStyleType.BEVELED:(0,c.warn)("Unimplemented border style: beveled");break;case c.AnnotationBorderStyleType.INSET:(0,c.warn)("Unimplemented border style: inset");break;case c.AnnotationBorderStyleType.UNDERLINE:q.style.borderBottomStyle="solid"}U.borderColor||U.color?q.style.borderColor=c.Util.makeHexColor(0|U.color[0],0|U.color[1],0|U.color[2]):q.style.borderWidth=0}return q.style.left=`${Ie[0]}px`,q.style.top=`${Ie[1]}px`,U.hasOwnCanvas?q.style.width=q.style.height="auto":(q.style.width=`${Ae}px`,q.style.height=`${Fe}px`),q}_createQuadrilaterals(v=!1){if(!this.data.quadPoints)return null;const U=[],H=this.data.rect;for(const ge of this.data.quadPoints)this.data.rect=[ge[2].x,ge[2].y,ge[1].x,ge[1].y],U.push(this._createContainer(v));return this.data.rect=H,U}_createPopup(v,U){let H=this.container;this.quadrilaterals&&(v=v||this.quadrilaterals,H=this.quadrilaterals[0]),v||((v=document.createElement("div")).style.height=H.style.height,v.style.width=H.style.width,H.appendChild(v));const q=new T({container:H,trigger:v,color:U.color,titleObj:U.titleObj,modificationDate:U.modificationDate,contentsObj:U.contentsObj,richText:U.richText,hideWrapper:!0}).render();q.style.left=H.style.width,H.appendChild(q)}_renderQuadrilaterals(v){for(const U of this.quadrilaterals)U.className=v;return this.quadrilaterals}render(){(0,c.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(v,U=null){const H=[];if(this._fieldObjects){const ge=this._fieldObjects[v];if(ge)for(const{page:q,id:Ae,exportValues:Fe}of ge){if(-1===q||Ae===U)continue;const Ie="string"==typeof Fe?Fe:null,Re=document.getElementById(Ae);!Re||f.has(Re)?H.push({id:Ae,exportValue:Ie,domElement:Re}):(0,c.warn)(`_getElementsByName - element not allowed: ${Ae}`)}return H}for(const ge of document.getElementsByName(v)){const{id:q,exportValue:Ae}=ge;q!==U&&(!f.has(ge)||H.push({id:q,exportValue:Ae,domElement:ge}))}return H}static get platform(){const v="undefined"!=typeof navigator?navigator.platform:"";return(0,c.shadow)(this,"platform",{isWin:v.includes("Win"),isMac:v.includes("Mac")})}}class _ extends w{constructor(v,U=null){super(v,{isRenderable:!!(v.data.url||v.data.dest||v.data.action||v.data.isTooltipOnly||v.data.resetForm||v.data.actions&&(v.data.actions.Action||v.data.actions["Mouse Up"]||v.data.actions["Mouse Down"])),ignoreBorder:!!(null==U?void 0:U.ignoreBorder),createQuadrilaterals:!0})}render(){var ge;const{data:v,linkService:U}=this,H=document.createElement("a");if(v.url)U.addLinkAttributes||(0,c.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),null==(ge=U.addLinkAttributes)||ge.call(U,H,v.url,v.newWindow);else if(v.action)this._bindNamedAction(H,v.action);else if(v.dest)this._bindLink(H,v.dest);else{let q=!1;v.actions&&(v.actions.Action||v.actions["Mouse Up"]||v.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(q=!0,this._bindJSAction(H,v)),v.resetForm?this._bindResetFormAction(H,v.resetForm):q||this._bindLink(H,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((q,Ae)=>{const Fe=0===Ae?H:H.cloneNode();return q.appendChild(Fe),q}):(this.container.className="linkAnnotation",this.container.appendChild(H),this.container)}_bindLink(v,U){v.href=this.linkService.getDestinationHash(U),v.onclick=()=>(U&&this.linkService.goToDestination(U),!1),(U||""===U)&&(v.className="internalLink")}_bindNamedAction(v,U){v.href=this.linkService.getAnchorUrl(""),v.onclick=()=>(this.linkService.executeNamedAction(U),!1),v.className="internalLink"}_bindJSAction(v,U){v.href=this.linkService.getAnchorUrl("");const H=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const ge of Object.keys(U.actions)){const q=H.get(ge);!q||(v[q]=()=>{var Ae;return null==(Ae=this.linkService.eventBus)||Ae.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U.id,name:ge}}),!1})}v.onclick||(v.onclick=()=>!1),v.className="internalLink"}_bindResetFormAction(v,U){const H=v.onclick;if(H||(v.href=this.linkService.getAnchorUrl("")),v.className="internalLink",!this._fieldObjects)return(0,c.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(H||(v.onclick=()=>!1));v.onclick=()=>{var Oe;H&&H();const{fields:ge,refs:q,include:Ae}=U,Fe=[];if(0!==ge.length||0!==q.length){const We=new Set(q);for(const He of ge){const tt=this._fieldObjects[He]||[];for(const{id:V}of tt)We.add(V)}for(const He of Object.values(this._fieldObjects))for(const tt of He)We.has(tt.id)===Ae&&Fe.push(tt)}else for(const We of Object.values(this._fieldObjects))Fe.push(...We);const Ie=this.annotationStorage,Re=[];for(const We of Fe){const{id:He}=We;switch(Re.push(He),We.type){case"text":{const V=We.defaultValue||"";Ie.setValue(He,{value:V,valueAsString:V});break}case"checkbox":case"radiobutton":Ie.setValue(He,{value:We.defaultValue===We.exportValues});break;case"combobox":case"listbox":Ie.setValue(He,{value:We.defaultValue||""});break;default:continue}const tt=document.getElementById(He);!tt||!f.has(tt)||tt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(null==(Oe=this.linkService.eventBus)||Oe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Re,name:"ResetForm"}})),!1}}}class B extends w{constructor(v){var H,ge,q;super(v,{isRenderable:!!(v.data.hasPopup||(null==(H=v.data.titleObj)?void 0:H.str)||(null==(ge=v.data.contentsObj)?void 0:ge.str)||(null==(q=v.data.richText)?void 0:q.str))})}render(){this.container.className="textAnnotation";const v=document.createElement("img");return v.style.height=this.container.style.height,v.style.width=this.container.style.width,v.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",v.alt="[{{type}} Annotation]",v.dataset.l10nId="text_annotation_type",v.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(v,this.data),this.container.appendChild(v),this.container}}class k extends w{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(v){const{isWin:U,isMac:H}=w.platform;return U&&v.ctrlKey||H&&v.metaKey}_setEventListener(v,U,H,ge){U.includes("mouse")?v.addEventListener(U,q=>{var Ae;null==(Ae=this.linkService.eventBus)||Ae.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:H,value:ge(q),shift:q.shiftKey,modifier:this._getKeyModifier(q)}})}):v.addEventListener(U,q=>{var Ae;null==(Ae=this.linkService.eventBus)||Ae.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:H,value:ge(q)}})})}_setEventListeners(v,U,H){var ge;for(const[q,Ae]of U)("Action"===Ae||(null==(ge=this.data.actions)?void 0:ge[Ae]))&&this._setEventListener(v,q,Ae,H)}_setBackgroundColor(v){const U=this.data.backgroundColor||null;v.style.backgroundColor=null===U?"transparent":c.Util.makeHexColor(U[0],U[1],U[2])}_dispatchEventFromSandbox(v,U){const H=(q,Ae,Fe)=>{const Ie=Fe.detail[q];Fe.target.style[Ae]=ce.ColorConverters[`${Ie[0]}_HTML`](Ie.slice(1))},ge={display:q=>{const Ae=q.detail.display%2==1;q.target.style.visibility=Ae?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Ae,print:0===q.detail.display||3===q.detail.display})},print:q=>{this.annotationStorage.setValue(this.data.id,{print:q.detail.print})},hidden:q=>{q.target.style.visibility=q.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:q.detail.hidden})},focus:q=>{setTimeout(()=>q.target.focus({preventScroll:!1}),0)},userName:q=>{q.target.title=q.detail.userName},readonly:q=>{q.detail.readonly?q.target.setAttribute("readonly",""):q.target.removeAttribute("readonly")},required:q=>{q.detail.required?q.target.setAttribute("required",""):q.target.removeAttribute("required")},bgColor:q=>{H("bgColor","backgroundColor",q)},fillColor:q=>{H("fillColor","backgroundColor",q)},fgColor:q=>{H("fgColor","color",q)},textColor:q=>{H("textColor","color",q)},borderColor:q=>{H("borderColor","borderColor",q)},strokeColor:q=>{H("strokeColor","borderColor",q)}};for(const q of Object.keys(U.detail)){const Ae=v[q]||ge[q];Ae&&Ae(U)}}}class C extends k{constructor(v){super(v,{isRenderable:v.renderForms||!v.data.hasAppearance&&!!v.data.fieldValue})}setPropertyOnSiblings(v,U,H,ge){const q=this.annotationStorage;for(const Ae of this._getElementsByName(v.name,v.id))Ae.domElement&&(Ae.domElement[U]=H),q.setValue(Ae.id,{[ge]:H})}render(){var ge;const v=this.annotationStorage,U=this.data.id;this.container.className="textWidgetAnnotation";let H=null;if(this.renderForms){const q=v.getValue(U,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),Ae=q.valueAsString||q.value||"",Fe={userValue:null,formattedValue:null};this.data.multiLine?(H=document.createElement("textarea"),H.textContent=Ae):(H=document.createElement("input"),H.type="text",H.setAttribute("value",Ae)),f.add(H),H.disabled=this.data.readOnly,H.name=this.data.fieldName,H.tabIndex=z,Fe.userValue=Ae,H.setAttribute("id",U),H.addEventListener("input",Re=>{v.setValue(U,{value:Re.target.value}),this.setPropertyOnSiblings(H,"value",Re.target.value,"value")}),H.addEventListener("resetform",Re=>{H.value=Fe.userValue=this.data.defaultFieldValue||"",delete Fe.formattedValue});let Ie=Re=>{Fe.formattedValue&&(Re.target.value=Fe.formattedValue),Re.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){H.addEventListener("focus",Oe=>{Fe.userValue&&(Oe.target.value=Fe.userValue)}),H.addEventListener("updatefromsandbox",Oe=>{this._dispatchEventFromSandbox({value(He){Fe.userValue=He.detail.value||"",v.setValue(U,{value:Fe.userValue.toString()}),Fe.formattedValue||(He.target.value=Fe.userValue)},valueAsString(He){Fe.formattedValue=He.detail.valueAsString||"",He.target!==document.activeElement&&(He.target.value=Fe.formattedValue),v.setValue(U,{formattedValue:Fe.formattedValue})},selRange(He){const[tt,V]=He.detail.selRange;tt>=0&&V<He.target.value.length&&He.target.setSelectionRange(tt,V)}},Oe)}),H.addEventListener("keydown",Oe=>{var He;let We=-1;"Escape"===Oe.key?We=0:"Enter"===Oe.key?We=2:"Tab"===Oe.key&&(We=3),-1!==We&&(Fe.userValue=Oe.target.value,null==(He=this.linkService.eventBus)||He.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:Oe.target.value,willCommit:!0,commitKey:We,selStart:Oe.target.selectionStart,selEnd:Oe.target.selectionEnd}}))});const Re=Ie;Ie=null,H.addEventListener("blur",Oe=>{var We;Fe.userValue=Oe.target.value,this._mouseState.isDown&&(null==(We=this.linkService.eventBus)||We.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:Oe.target.value,willCommit:!0,commitKey:1,selStart:Oe.target.selectionStart,selEnd:Oe.target.selectionEnd}})),Re(Oe)}),(null==(ge=this.data.actions)?void 0:ge.Keystroke)&&H.addEventListener("beforeinput",Oe=>{var Ee;Fe.formattedValue="";const{data:We,target:He}=Oe,{value:tt,selectionStart:V,selectionEnd:Q}=He;null==(Ee=this.linkService.eventBus)||Ee.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:tt,change:We,willCommit:!1,selStart:V,selEnd:Q}})}),this._setEventListeners(H,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Oe=>Oe.target.value)}if(Ie&&H.addEventListener("blur",Ie),null!==this.data.maxLen&&(H.maxLength=this.data.maxLen),this.data.comb){const Oe=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;H.classList.add("comb"),H.style.letterSpacing=`calc(${Oe}px - 1ch)`}}else H=document.createElement("div"),H.textContent=this.data.fieldValue,H.style.verticalAlign="middle",H.style.display="table-cell";return this._setTextStyle(H),this._setBackgroundColor(H),this.container.appendChild(H),this.container}_setTextStyle(v){const{fontSize:H,fontColor:ge}=this.data.defaultAppearanceData,q=v.style;H&&(q.fontSize=`${H}px`),q.color=c.Util.makeHexColor(ge[0],ge[1],ge[2]),null!==this.data.textAlignment&&(q.textAlign=["left","center","right"][this.data.textAlignment])}}class X extends k{constructor(v){super(v,{isRenderable:v.renderForms})}render(){const v=this.annotationStorage,U=this.data,H=U.id;let ge=v.getValue(H,{value:U.exportValue===U.fieldValue}).value;"string"==typeof ge&&(ge="Off"!==ge,v.setValue(H,{value:ge})),this.container.className="buttonWidgetAnnotation checkBox";const q=document.createElement("input");return f.add(q),q.disabled=U.readOnly,q.type="checkbox",q.name=U.fieldName,ge&&q.setAttribute("checked",!0),q.setAttribute("id",H),q.setAttribute("exportValue",U.exportValue),q.tabIndex=z,q.addEventListener("change",Ae=>{const{name:Fe,checked:Ie}=Ae.target;for(const Re of this._getElementsByName(Fe,H)){const Oe=Ie&&Re.exportValue===U.exportValue;Re.domElement&&(Re.domElement.checked=Oe),v.setValue(Re.id,{value:Oe})}v.setValue(H,{value:Ie})}),q.addEventListener("resetform",Ae=>{Ae.target.checked=(U.defaultFieldValue||"Off")===U.exportValue}),this.enableScripting&&this.hasJSActions&&(q.addEventListener("updatefromsandbox",Ae=>{this._dispatchEventFromSandbox({value(Ie){Ie.target.checked="Off"!==Ie.detail.value,v.setValue(H,{value:Ie.target.checked})}},Ae)}),this._setEventListeners(q,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ae=>Ae.target.checked)),this._setBackgroundColor(q),this.container.appendChild(q),this.container}}class se extends k{constructor(v){super(v,{isRenderable:v.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const v=this.annotationStorage,U=this.data,H=U.id;let ge=v.getValue(H,{value:U.fieldValue===U.buttonValue}).value;"string"==typeof ge&&(ge=ge!==U.buttonValue,v.setValue(H,{value:ge}));const q=document.createElement("input");if(f.add(q),q.disabled=U.readOnly,q.type="radio",q.name=U.fieldName,ge&&q.setAttribute("checked",!0),q.setAttribute("id",H),q.tabIndex=z,q.addEventListener("change",Ae=>{const{name:Fe,checked:Ie}=Ae.target;for(const Re of this._getElementsByName(Fe,H))v.setValue(Re.id,{value:!1});v.setValue(H,{value:Ie})}),q.addEventListener("resetform",Ae=>{const Fe=U.defaultFieldValue;Ae.target.checked=null!=Fe&&Fe===U.buttonValue}),this.enableScripting&&this.hasJSActions){const Ae=U.buttonValue;q.addEventListener("updatefromsandbox",Fe=>{this._dispatchEventFromSandbox({value:Re=>{const Oe=Ae===Re.detail.value;for(const We of this._getElementsByName(Re.target.name)){const He=Oe&&We.id===H;We.domElement&&(We.domElement.checked=He),v.setValue(We.id,{value:He})}}},Fe)}),this._setEventListeners(q,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Fe=>Fe.target.checked)}return this._setBackgroundColor(q),this.container.appendChild(q),this.container}}class j extends _{constructor(v){super(v,{ignoreBorder:v.data.hasAppearance})}render(){const v=super.render();return v.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(v.title=this.data.alternativeText),v}}class S extends k{constructor(v){super(v,{isRenderable:v.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const v=this.annotationStorage,U=this.data.id;v.getValue(U,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:H}=this.data.defaultAppearanceData;H||(H=9);const ge=`calc(${H}px * var(--zoom-factor))`,q=document.createElement("select");f.add(q),q.disabled=this.data.readOnly,q.name=this.data.fieldName,q.setAttribute("id",U),q.tabIndex=z,q.style.fontSize=`${H}px`,this.data.combo||(q.size=this.data.options.length,this.data.multiSelect&&(q.multiple=!0)),q.addEventListener("resetform",Ie=>{const Re=this.data.defaultFieldValue;for(const Oe of q.options)Oe.selected=Oe.value===Re});for(const Ie of this.data.options){const Re=document.createElement("option");Re.textContent=Ie.displayValue,Re.value=Ie.exportValue,this.data.combo&&(Re.style.fontSize=ge),this.data.fieldValue.includes(Ie.exportValue)&&Re.setAttribute("selected",!0),q.appendChild(Re)}const Ae=(Ie,Re)=>{const Oe=Re?"value":"textContent",We=Ie.target.options;return Ie.target.multiple?Array.prototype.filter.call(We,He=>He.selected).map(He=>He[Oe]):-1===We.selectedIndex?null:We[We.selectedIndex][Oe]},Fe=Ie=>Array.prototype.map.call(Ie.target.options,Oe=>({displayValue:Oe.textContent,exportValue:Oe.value}));return this.enableScripting&&this.hasJSActions?(q.addEventListener("updatefromsandbox",Ie=>{this._dispatchEventFromSandbox({value(Oe){const We=Oe.detail.value,He=new Set(Array.isArray(We)?We:[We]);for(const tt of q.options)tt.selected=He.has(tt.value);v.setValue(U,{value:Ae(Oe,!0)})},multipleSelection(Oe){q.multiple=!0},remove(Oe){const We=q.options,He=Oe.detail.remove;We[He].selected=!1,q.remove(He),We.length>0&&-1===Array.prototype.findIndex.call(We,V=>V.selected)&&(We[0].selected=!0),v.setValue(U,{value:Ae(Oe,!0),items:Fe(Oe)})},clear(Oe){for(;0!==q.length;)q.remove(0);v.setValue(U,{value:null,items:[]})},insert(Oe){const{index:We,displayValue:He,exportValue:tt}=Oe.detail.insert,V=document.createElement("option");V.textContent=He,V.value=tt,q.insertBefore(V,q.children[We]),v.setValue(U,{value:Ae(Oe,!0),items:Fe(Oe)})},items(Oe){const{items:We}=Oe.detail;for(;0!==q.length;)q.remove(0);for(const He of We){const{displayValue:tt,exportValue:V}=He,Q=document.createElement("option");Q.textContent=tt,Q.value=V,q.appendChild(Q)}q.options.length>0&&(q.options[0].selected=!0),v.setValue(U,{value:Ae(Oe,!0),items:Fe(Oe)})},indices(Oe){const We=new Set(Oe.detail.indices);for(const He of Oe.target.options)He.selected=We.has(He.index);v.setValue(U,{value:Ae(Oe,!0)})},editable(Oe){Oe.target.disabled=!Oe.detail.editable}},Ie)}),q.addEventListener("input",Ie=>{var We;const Re=Ae(Ie,!0),Oe=Ae(Ie,!1);v.setValue(U,{value:Re}),null==(We=this.linkService.eventBus)||We.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:Oe,changeEx:Re,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(q,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Ie=>Ie.target.checked)):q.addEventListener("input",function(Ie){v.setValue(U,{value:Ae(Ie)})}),this._setBackgroundColor(q),this.container.appendChild(q),this.container}}class A extends w{constructor(v){var H,ge,q;super(v,{isRenderable:!!((null==(H=v.data.titleObj)?void 0:H.str)||(null==(ge=v.data.contentsObj)?void 0:ge.str)||(null==(q=v.data.richText)?void 0:q.str))})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const H=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===H.length)return this.container;const ge=new T({container:this.container,trigger:Array.from(H),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),q=this.page,Ae=c.Util.normalizeRect([this.data.parentRect[0],q.view[3]-this.data.parentRect[1]+q.view[1],this.data.parentRect[2],q.view[3]-this.data.parentRect[3]+q.view[1]]),Fe=Ae[0]+this.data.parentRect[2]-this.data.parentRect[0],Ie=Ae[1];return this.container.style.transformOrigin=`${-Fe}px ${-Ie}px`,this.container.style.left=`${Fe}px`,this.container.style.top=`${Ie}px`,this.container.appendChild(ge.render()),this.container}}class T{constructor(v){this.container=v.container,this.trigger=v.trigger,this.color=v.color,this.titleObj=v.titleObj,this.modificationDate=v.modificationDate,this.contentsObj=v.contentsObj,this.richText=v.richText,this.hideWrapper=v.hideWrapper||!1,this.pinned=!1}render(){var Fe,Ie;const U=document.createElement("div");U.className="popupWrapper",this.hideElement=this.hideWrapper?U:this.container,this.hideElement.hidden=!0;const H=document.createElement("div");H.className="popup";const ge=this.color;ge&&(H.style.backgroundColor=c.Util.makeHexColor(0|.7*(255-ge[0])+ge[0],0|.7*(255-ge[1])+ge[1],0|.7*(255-ge[2])+ge[2]));const q=document.createElement("h1");q.dir=this.titleObj.dir,q.textContent=this.titleObj.str,H.appendChild(q);const Ae=e.PDFDateString.toDateObject(this.modificationDate);if(Ae){const Re=document.createElement("span");Re.className="popupDate",Re.textContent="{{date}}, {{time}}",Re.dataset.l10nId="annotation_date_string",Re.dataset.l10nArgs=JSON.stringify({date:Ae.toLocaleDateString(),time:Ae.toLocaleTimeString()}),H.appendChild(Re)}if(!(null==(Fe=this.richText)?void 0:Fe.str)||(null==(Ie=this.contentsObj)?void 0:Ie.str)&&this.contentsObj.str!==this.richText.str){const Re=this._formatContents(this.contentsObj);H.appendChild(Re)}else pe.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:H}),H.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Re of this.trigger)Re.addEventListener("click",this._toggle.bind(this)),Re.addEventListener("mouseover",this._show.bind(this,!1)),Re.addEventListener("mouseout",this._hide.bind(this,!1));return H.addEventListener("click",this._hide.bind(this,!0)),U.appendChild(H),U}_formatContents({str:v,dir:U}){const H=document.createElement("p");H.className="popupContent",H.dir=U;const ge=v.split(/(?:\r\n?|\n)/);for(let q=0,Ae=ge.length;q<Ae;++q)H.appendChild(document.createTextNode(ge[q])),q<Ae-1&&H.appendChild(document.createElement("br"));return H}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(v=!1){v&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(v=!0){v&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class L extends w{constructor(v){var H,ge,q;super(v,{isRenderable:!!(v.data.hasPopup||(null==(H=v.data.titleObj)?void 0:H.str)||(null==(ge=v.data.contentsObj)?void 0:ge.str)||(null==(q=v.data.richText)?void 0:q.str)),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class W extends w{constructor(v){var H,ge,q;super(v,{isRenderable:!!(v.data.hasPopup||(null==(H=v.data.titleObj)?void 0:H.str)||(null==(ge=v.data.contentsObj)?void 0:ge.str)||(null==(q=v.data.richText)?void 0:q.str)),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const v=this.data,{width:U,height:H}=R(v.rect),ge=this.svgFactory.create(U,H),q=this.svgFactory.createElement("svg:line");return q.setAttribute("x1",v.rect[2]-v.lineCoordinates[0]),q.setAttribute("y1",v.rect[3]-v.lineCoordinates[1]),q.setAttribute("x2",v.rect[2]-v.lineCoordinates[2]),q.setAttribute("y2",v.rect[3]-v.lineCoordinates[3]),q.setAttribute("stroke-width",v.borderStyle.width||1),q.setAttribute("stroke","transparent"),q.setAttribute("fill","transparent"),ge.appendChild(q),this.container.append(ge),this._createPopup(q,v),this.container}}class G extends w{constructor(v){var H,ge,q;super(v,{isRenderable:!!(v.data.hasPopup||(null==(H=v.data.titleObj)?void 0:H.str)||(null==(ge=v.data.contentsObj)?void 0:ge.str)||(null==(q=v.data.richText)?void 0:q.str)),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const v=this.data,{width:U,height:H}=R(v.rect),ge=this.svgFactory.create(U,H),q=v.borderStyle.width,Ae=this.svgFactory.createElement("svg:rect");return Ae.setAttribute("x",q/2),Ae.setAttribute("y",q/2),Ae.setAttribute("width",U-q),Ae.setAttribute("height",H-q),Ae.setAttribute("stroke-width",q||1),Ae.setAttribute("stroke","transparent"),Ae.setAttribute("fill","transparent"),ge.appendChild(Ae),this.container.append(ge),this._createPopup(Ae,v),this.container}}class be extends w{constructor(v){var H,ge,q;super(v,{isRenderable:!!(v.data.hasPopup||(null==(H=v.data.titleObj)?void 0:H.str)||(null==(ge=v.data.contentsObj)?void 0:ge.str)||(null==(q=v.data.richText)?void 0:q.str)),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const v=this.data,{width:U,height:H}=R(v.rect),ge=this.svgFactory.create(U,H),q=v.borderStyle.width,Ae=this.svgFactory.createElement("svg:ellipse");return Ae.setAttribute("cx",U/2),Ae.setAttribute("cy",H/2),Ae.setAttribute("rx",U/2-q/2),Ae.setAttribute("ry",H/2-q/2),Ae.setAttribute("stroke-width",q||1),Ae.setAttribute("stroke","transparent"),Ae.setAttribute("fill","transparent"),ge.appendChild(Ae),this.container.append(ge),this._createPopup(Ae,v),this.container}}class de extends w{constructor(v){var H,ge,q;super(v,{isRenderable:!!(v.data.hasPopup||(null==(H=v.data.titleObj)?void 0:H.str)||(null==(ge=v.data.contentsObj)?void 0:ge.str)||(null==(q=v.data.richText)?void 0:q.str)),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const v=this.data,{width:U,height:H}=R(v.rect),ge=this.svgFactory.create(U,H);let q=[];for(const Fe of v.vertices)q.push(Fe.x-v.rect[0]+","+(v.rect[3]-Fe.y));q=q.join(" ");const Ae=this.svgFactory.createElement(this.svgElementName);return Ae.setAttribute("points",q),Ae.setAttribute("stroke-width",v.borderStyle.width||1),Ae.setAttribute("stroke","transparent"),Ae.setAttribute("fill","transparent"),ge.appendChild(Ae),this.container.append(ge),this._createPopup(Ae,v),this.container}}class _e extends de{constructor(v){super(v),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ye extends w{constructor(v){var H,ge,q;super(v,{isRenderable:!!(v.data.hasPopup||(null==(H=v.data.titleObj)?void 0:H.str)||(null==(ge=v.data.contentsObj)?void 0:ge.str)||(null==(q=v.data.richText)?void 0:q.str)),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class me extends w{constructor(v){var H,ge,q;super(v,{isRenderable:!!(v.data.hasPopup||(null==(H=v.data.titleObj)?void 0:H.str)||(null==(ge=v.data.contentsObj)?void 0:ge.str)||(null==(q=v.data.richText)?void 0:q.str)),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const v=this.data,{width:U,height:H}=R(v.rect),ge=this.svgFactory.create(U,H);for(const q of v.inkLists){let Ae=[];for(const Ie of q)Ae.push(`${Ie.x-v.rect[0]},${v.rect[3]-Ie.y}`);Ae=Ae.join(" ");const Fe=this.svgFactory.createElement(this.svgElementName);Fe.setAttribute("points",Ae),Fe.setAttribute("stroke-width",v.borderStyle.width||1),Fe.setAttribute("stroke","transparent"),Fe.setAttribute("fill","transparent"),this._createPopup(Fe,v),ge.appendChild(Fe)}return this.container.append(ge),this.container}}class ve extends w{constructor(v){var H,ge,q;super(v,{isRenderable:!!(v.data.hasPopup||(null==(H=v.data.titleObj)?void 0:H.str)||(null==(ge=v.data.contentsObj)?void 0:ge.str)||(null==(q=v.data.richText)?void 0:q.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class we extends w{constructor(v){var H,ge,q;super(v,{isRenderable:!!(v.data.hasPopup||(null==(H=v.data.titleObj)?void 0:H.str)||(null==(ge=v.data.contentsObj)?void 0:ge.str)||(null==(q=v.data.richText)?void 0:q.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class ue extends w{constructor(v){var H,ge,q;super(v,{isRenderable:!!(v.data.hasPopup||(null==(H=v.data.titleObj)?void 0:H.str)||(null==(ge=v.data.contentsObj)?void 0:ge.str)||(null==(q=v.data.richText)?void 0:q.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class ke extends w{constructor(v){var H,ge,q;super(v,{isRenderable:!!(v.data.hasPopup||(null==(H=v.data.titleObj)?void 0:H.str)||(null==(ge=v.data.contentsObj)?void 0:ge.str)||(null==(q=v.data.richText)?void 0:q.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class J extends w{constructor(v){var H,ge,q;super(v,{isRenderable:!!(v.data.hasPopup||(null==(H=v.data.titleObj)?void 0:H.str)||(null==(ge=v.data.contentsObj)?void 0:ge.str)||(null==(q=v.data.richText)?void 0:q.str)),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class N extends w{constructor(v){var ge;super(v,{isRenderable:!0});const{filename:U,content:H}=this.data.file;this.filename=(0,e.getFilenameFromUrl)(U),this.content=H,null==(ge=this.linkService.eventBus)||ge.dispatch("fileattachmentannotation",{source:this,id:(0,c.stringToPDFString)(U),filename:U,content:H})}render(){var U,H;this.container.className="fileAttachmentAnnotation";const v=document.createElement("div");return v.style.height=this.container.style.height,v.style.width=this.container.style.width,v.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((null==(U=this.data.titleObj)?void 0:U.str)||(null==(H=this.data.contentsObj)?void 0:H.str)||this.data.richText)&&this._createPopup(v,this.data),this.container.appendChild(v),this.container}_download(){var v;null==(v=this.downloadManager)||v.openOrDownloadData(this.container,this.content,this.filename)}}class F{static render(v){const U=[],H=[];for(const q of v.annotations){if(!q)continue;const{width:Ae,height:Fe}=R(q.rect);if(!(Ae<=0||Fe<=0)){if(q.annotationType===c.AnnotationType.POPUP){H.push(q);continue}U.push(q)}}H.length&&U.push(...H);const ge=v.div;for(const q of U){const Ae=x.create({data:q,layer:ge,page:v.page,viewport:v.viewport,linkService:v.linkService,downloadManager:v.downloadManager,imageResourcesPath:v.imageResourcesPath||"",renderForms:!1!==v.renderForms,svgFactory:new e.DOMSVGFactory,annotationStorage:v.annotationStorage||new xe.AnnotationStorage,enableScripting:v.enableScripting,hasJSActions:v.hasJSActions,fieldObjects:v.fieldObjects,mouseState:v.mouseState||{isDown:!1}});if(Ae.isRenderable){const Fe=Ae.render();if(q.hidden&&(Fe.style.visibility="hidden"),Array.isArray(Fe))for(const Ie of Fe)ge.appendChild(Ie);else Ae instanceof A?ge.prepend(Fe):ge.appendChild(Fe)}}Wt(this,ie,Wi).call(this,ge,v.annotationCanvasMap)}static update(v){const{page:U,viewport:H,annotations:ge,annotationCanvasMap:q,div:Ae}=v,Fe=H.transform,Ie=`matrix(${Fe.join(",")})`;let Re,Oe;for(const We of ge){const He=Ae.querySelectorAll(`[data-annotation-id="${We.id}"]`);if(He)for(const tt of He)if(We.hasOwnCanvas){const V=c.Util.normalizeRect([We.rect[0],U.view[3]-We.rect[1]+U.view[1],We.rect[2],U.view[3]-We.rect[3]+U.view[1]]);if(!Oe){Re=Math.abs(Fe[0]||Fe[1]);const Y=Fe.slice();for(let fe=0;fe<4;fe++)Y[fe]=Math.sign(Y[fe]);Oe=`matrix(${Y.join(",")})`}const Q=V[0]*Re,Ee=V[1]*Re;tt.style.left=`${Q}px`,tt.style.top=`${Ee}px`,tt.style.transformOrigin=`${-Q}px ${-Ee}px`,tt.style.transform=Oe}else tt.style.transform=Ie}Wt(this,ie,Wi).call(this,Ae,q),Ae.hidden=!1}}ie=new WeakSet,Wi=function(v,U){if(U){for(const[H,ge]of U){const q=v.querySelector(`[data-annotation-id="${H}"]`);if(!q)continue;const{firstChild:Ae}=q;"CANVAS"===Ae.nodeName?q.replaceChild(ge,Ae):q.insertBefore(ge,Ae)}U.clear()}},Et(F,ie),re.AnnotationLayer=F},(ze,re)=>{function oe(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}Object.defineProperty(re,"__esModule",{value:!0}),re.ColorConverters=void 0,re.ColorConverters=class c{static CMYK_G([xe,ce,pe,z]){return["G",1-Math.min(1,.3*xe+.59*pe+.11*ce+z)]}static G_CMYK([xe]){return["CMYK",0,0,0,1-xe]}static G_RGB([xe]){return["RGB",xe,xe,xe]}static G_HTML([xe]){const ce=oe(xe);return`#${ce}${ce}${ce}`}static RGB_G([xe,ce,pe]){return["G",.3*xe+.59*ce+.11*pe]}static RGB_HTML([xe,ce,pe]){return`#${oe(xe)}${oe(ce)}${oe(pe)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([xe,ce,pe,z]){return["RGB",1-Math.min(1,xe+z),1-Math.min(1,pe+z),1-Math.min(1,ce+z)]}static CMYK_HTML(xe){return this.RGB_HTML(this.CMYK_RGB(xe))}static RGB_CMYK([xe,ce,pe]){const z=1-xe,f=1-ce,R=1-pe;return["CMYK",z,f,R,Math.min(z,f,R)]}}},(ze,re,oe)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.XfaLayer=void 0;var c=oe(1),e=oe(17);re.XfaLayer=class xe{static setupStorage(pe,z,f,R,x){const w=R.getValue(z,{value:null});switch(f.name){case"textarea":if(null!==w.value&&(pe.textContent=w.value),"print"===x)break;pe.addEventListener("input",_=>{R.setValue(z,{value:_.target.value})});break;case"input":if("radio"===f.attributes.type||"checkbox"===f.attributes.type){if(w.value===f.attributes.xfaOn?pe.setAttribute("checked",!0):w.value===f.attributes.xfaOff&&pe.removeAttribute("checked"),"print"===x)break;pe.addEventListener("change",_=>{R.setValue(z,{value:_.target.getAttribute(_.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==w.value&&pe.setAttribute("value",w.value),"print"===x)break;pe.addEventListener("input",_=>{R.setValue(z,{value:_.target.value})})}break;case"select":if(null!==w.value)for(const _ of f.children)_.attributes.value===w.value&&(_.attributes.selected=!0);pe.addEventListener("input",_=>{const B=_.target.options;R.setValue(z,{value:-1===B.selectedIndex?"":B[B.selectedIndex].value})})}}static setAttributes({html:pe,element:z,storage:f=null,intent:R,linkService:x}){var B;const{attributes:w}=z,_=pe instanceof HTMLAnchorElement;"radio"===w.type&&(w.name=`${w.name}-${R}`);for(const[k,C]of Object.entries(w))if(null!=C&&"dataId"!==k)if("style"!==k)if("textContent"===k)pe.textContent=C;else if("class"===k)C.length&&pe.setAttribute(k,C.join(" "));else{if(_&&("href"===k||"newWindow"===k))continue;pe.setAttribute(k,C)}else Object.assign(pe.style,C);_&&(x.addLinkAttributes||(0,c.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),null==(B=x.addLinkAttributes)||B.call(x,pe,w.href,w.newWindow)),f&&w.dataId&&this.setupStorage(pe,w.dataId,z,f)}static render(pe){var C;const z=pe.annotationStorage,f=pe.linkService,R=pe.xfaHtml,x=pe.intent||"display",w=document.createElement(R.name);R.attributes&&this.setAttributes({html:w,element:R,intent:x,linkService:f});const _=[[R,-1,w]],B=pe.div;if(B.appendChild(w),pe.viewport){const X=`matrix(${pe.viewport.transform.join(",")})`;B.style.transform=X}"richText"!==x&&B.setAttribute("class","xfaLayer xfaFont");const k=[];for(;_.length>0;){const[X,se,j]=_[_.length-1];if(se+1===X.children.length){_.pop();continue}const S=X.children[++_[_.length-1][1]];if(null===S)continue;const{name:A}=S;if("#text"===A){const L=document.createTextNode(S.value);k.push(L),j.appendChild(L);continue}let T;if(T=(null==(C=null==S?void 0:S.attributes)?void 0:C.xmlns)?document.createElementNS(S.attributes.xmlns,A):document.createElement(A),j.appendChild(T),S.attributes&&this.setAttributes({html:T,element:S,storage:z,intent:x,linkService:f}),S.children&&S.children.length>0)_.push([S,-1,T]);else if(S.value){const L=document.createTextNode(S.value);e.XfaText.shouldBuildText(A)&&k.push(L),T.appendChild(L)}}for(const X of B.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))X.setAttribute("readOnly",!0);return{textDivs:k}}static update(pe){const z=`matrix(${pe.viewport.transform.join(",")})`;pe.div.style.transform=z,pe.div.hidden=!1}}},(ze,re,oe)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.renderTextLayer=function X(se){const j=new C({textContent:se.textContent,textContentStream:se.textContentStream,container:se.container,viewport:se.viewport,textDivs:se.textDivs,textContentItemsStr:se.textContentItemsStr,enhanceTextSelection:se.enhanceTextSelection});return j._render(se.timeout),j};var c=oe(1);const pe=new Map,z=/^\s+$/g;function R(se,j,S,A){const T=document.createElement("span"),L=se._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==j.str,hasEOL:j.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==j.str,hasEOL:j.hasEOL};se._textDivs.push(T);const W=c.Util.transform(se._viewport.transform,j.transform);let G=Math.atan2(W[1],W[0]);const be=S[j.fontName];be.vertical&&(G+=Math.PI/2);const de=Math.hypot(W[2],W[3]),_e=de*function f(se,j){const S=pe.get(se);if(S)return S;j.save(),j.font=`30px ${se}`;const A=j.measureText("");let T=A.fontBoundingBoxAscent,L=Math.abs(A.fontBoundingBoxDescent);if(T){j.restore();const G=T/(T+L);return pe.set(se,G),G}j.strokeStyle="red",j.clearRect(0,0,30,30),j.strokeText("g",0,0);let W=j.getImageData(0,0,30,30).data;L=0;for(let G=W.length-1-3;G>=0;G-=4)if(W[G]>0){L=Math.ceil(G/4/30);break}j.clearRect(0,0,30,30),j.strokeText("A",0,30),W=j.getImageData(0,0,30,30).data,T=0;for(let G=0,be=W.length;G<be;G+=4)if(W[G]>0){T=30-Math.floor(G/4/30);break}if(j.restore(),T){const G=T/(T+L);return pe.set(se,G),G}return pe.set(se,.8),.8}(be.fontFamily,A);let ye,me;0===G?(ye=W[4],me=W[5]-_e):(ye=W[4]+_e*Math.sin(G),me=W[5]-_e*Math.cos(G)),T.style.left=`${ye}px`,T.style.top=`${me}px`,T.style.fontSize=`${de}px`,T.style.fontFamily=be.fontFamily,T.setAttribute("role","presentation"),T.textContent=j.str,T.dir=j.dir,se._fontInspectorEnabled&&(T.dataset.fontName=j.fontName),0!==G&&(L.angle=G*(180/Math.PI));let ve=!1;if(j.str.length>1||se._enhanceTextSelection&&z.test(j.str))ve=!0;else if(" "!==j.str&&j.transform[0]!==j.transform[3]){const we=Math.abs(j.transform[0]),ue=Math.abs(j.transform[3]);we!==ue&&Math.max(we,ue)/Math.min(we,ue)>1.5&&(ve=!0)}if(ve&&(L.canvasWidth=be.vertical?j.height*se._viewport.scale:j.width*se._viewport.scale),se._textDivProperties.set(T,L),se._textContentStream&&se._layoutText(T),se._enhanceTextSelection&&L.hasText){let we=1,ue=0;0!==G&&(we=Math.cos(G),ue=Math.sin(G));const ke=(be.vertical?j.height:j.width)*se._viewport.scale,J=de;let N,F;0!==G?(N=[we,ue,-ue,we,ye,me],F=c.Util.getAxialAlignedBoundingBox([0,0,ke,J],N)):F=[ye,me,ye+ke,me+J],se._bounds.push({left:F[0],top:F[1],right:F[2],bottom:F[3],div:T,size:[ke,J],m:N})}}function x(se){if(se._canceled)return;const j=se._textDivs,S=se._capability,A=j.length;if(A>1e5)return se._renderingDone=!0,void S.resolve();if(!se._textContentStream)for(let T=0;T<A;T++)se._layoutText(j[T]);se._renderingDone=!0,S.resolve()}function w(se,j,S){let A=0;for(let T=0;T<S;T++){const L=se[j++];L>0&&(A=A?Math.min(L,A):L)}return A}function k(se,j){j.sort(function(T,L){return T.x1-L.x1||T.index-L.index});const A=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const T of j){let L=0;for(;L<A.length&&A[L].end<=T.y1;)L++;let W=A.length-1;for(;W>=0&&A[W].start>=T.y2;)W--;let G,be,de,_e,ye=-1/0;for(de=L;de<=W;de++){let we;G=A[de],be=G.boundary,we=be.x2>T.x1?be.index>T.index?be.x1New:T.x1:void 0===be.x2New?(be.x2+T.x1)/2:be.x2New,we>ye&&(ye=we)}for(T.x1New=ye,de=L;de<=W;de++)G=A[de],be=G.boundary,void 0===be.x2New?be.x2>T.x1?be.index>T.index&&(be.x2New=be.x2):be.x2New=ye:be.x2New>ye&&(be.x2New=Math.max(ye,be.x2));const me=[];let ve=null;for(de=L;de<=W;de++){G=A[de],be=G.boundary;const we=be.x2>T.x2?be:T;ve===we?me[me.length-1].end=G.end:(me.push({start:G.start,end:G.end,boundary:we}),ve=we)}for(A[L].start<T.y1&&(me[0].start=T.y1,me.unshift({start:A[L].start,end:T.y1,boundary:A[L].boundary})),T.y2<A[W].end&&(me[me.length-1].end=T.y2,me.push({start:T.y2,end:A[W].end,boundary:A[W].boundary})),de=L;de<=W;de++){if(G=A[de],be=G.boundary,void 0!==be.x2New)continue;let we=!1;for(_e=L-1;!we&&_e>=0&&A[_e].start>=be.y1;_e--)we=A[_e].boundary===be;for(_e=W+1;!we&&_e<A.length&&A[_e].end<=be.y2;_e++)we=A[_e].boundary===be;for(_e=0;!we&&_e<me.length;_e++)we=me[_e].boundary===be;we||(be.x2New=ye)}Array.prototype.splice.apply(A,[L,W-L+1].concat(me))}for(const T of A){const L=T.boundary;void 0===L.x2New&&(L.x2New=Math.max(se,L.x2))}}class C{constructor({textContent:j,textContentStream:S,container:A,viewport:T,textDivs:L,textContentItemsStr:W,enhanceTextSelection:G}){var be;this._textContent=j,this._textContentStream=S,this._container=A,this._document=A.ownerDocument,this._viewport=T,this._textDivs=L||[],this._textContentItemsStr=W||[],this._enhanceTextSelection=!!G,this._fontInspectorEnabled=!!(null==(be=globalThis.FontInspector)?void 0:be.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,c.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new c.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(j,S){for(let A=0,T=j.length;A<T;A++)if(void 0!==j[A].str)this._textContentItemsStr.push(j[A].str),R(this,j[A],S,this._layoutTextCtx);else if("beginMarkedContentProps"===j[A].type||"beginMarkedContent"===j[A].type){const L=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==j[A].id&&this._container.setAttribute("id",`${j[A].id}`),L.appendChild(this._container)}else"endMarkedContent"===j[A].type&&(this._container=this._container.parentNode)}_layoutText(j){const S=this._textDivProperties.get(j);let A="";if(0!==S.canvasWidth&&S.hasText){const{fontSize:T,fontFamily:L}=j.style;(T!==this._layoutTextLastFontSize||L!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${T} ${L}`,this._layoutTextLastFontSize=T,this._layoutTextLastFontFamily=L);const{width:W}=this._layoutTextCtx.measureText(j.textContent);if(W>0){const G=S.canvasWidth/W;this._enhanceTextSelection&&(S.scale=G),A=`scaleX(${G})`}}if(0!==S.angle&&(A=`rotate(${S.angle}deg) ${A}`),A.length>0&&(this._enhanceTextSelection&&(S.originalTransform=A),j.style.transform=A),S.hasText&&this._container.appendChild(j),S.hasEOL){const T=document.createElement("br");T.setAttribute("role","presentation"),this._container.appendChild(T)}}_render(j=0){const S=(0,c.createPromiseCapability)();let A=Object.create(null);const T=this._document.createElement("canvas");if(T.height=T.width=30,T.mozOpaque=!0,this._layoutTextCtx=T.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),S.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const L=()=>{this._reader.read().then(({value:W,done:G})=>{G?S.resolve():(Object.assign(A,W.styles),this._processItems(W.items,A),L())},S.reject)};this._reader=this._textContentStream.getReader(),L()}}S.promise.then(()=>{A=null,j?this._renderTimer=setTimeout(()=>{x(this),this._renderTimer=null},j):x(this)},this._capability.reject)}expandTextDivs(j=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function _(se){const j=se._bounds,S=se._viewport,A=function B(se,j,S){const A=S.map(function(L,W){return{x1:L.left,y1:L.top,x2:L.right,y2:L.bottom,index:W,x1New:void 0,x2New:void 0}});k(se,A);const T=new Array(S.length);for(const L of A)T[L.index]={left:L.x1New,top:0,right:L.x2New,bottom:0};S.map(function(L,W){const G=T[W],be=A[W];be.x1=L.top,be.y1=se-G.right,be.x2=L.bottom,be.y2=se-G.left,be.index=W,be.x1New=void 0,be.x2New=void 0}),k(j,A);for(const L of A){const W=L.index;T[W].top=L.x1New,T[W].bottom=L.x2New}return T}(S.width,S.height,j);for(let T=0;T<A.length;T++){const L=j[T].div,W=se._textDivProperties.get(L);if(0===W.angle){W.paddingLeft=j[T].left-A[T].left,W.paddingTop=j[T].top-A[T].top,W.paddingRight=A[T].right-j[T].right,W.paddingBottom=A[T].bottom-j[T].bottom,se._textDivProperties.set(L,W);continue}const G=A[T],be=j[T],de=be.m,_e=de[0],ye=de[1],me=[[0,0],[0,be.size[1]],[be.size[0],0],be.size],ve=new Float64Array(64);for(let ue=0,ke=me.length;ue<ke;ue++){const J=c.Util.applyTransform(me[ue],de);ve[ue+0]=_e&&(G.left-J[0])/_e,ve[ue+4]=ye&&(G.top-J[1])/ye,ve[ue+8]=_e&&(G.right-J[0])/_e,ve[ue+12]=ye&&(G.bottom-J[1])/ye,ve[ue+16]=ye&&(G.left-J[0])/-ye,ve[ue+20]=_e&&(G.top-J[1])/_e,ve[ue+24]=ye&&(G.right-J[0])/-ye,ve[ue+28]=_e&&(G.bottom-J[1])/_e,ve[ue+32]=_e&&(G.left-J[0])/-_e,ve[ue+36]=ye&&(G.top-J[1])/-ye,ve[ue+40]=_e&&(G.right-J[0])/-_e,ve[ue+44]=ye&&(G.bottom-J[1])/-ye,ve[ue+48]=ye&&(G.left-J[0])/ye,ve[ue+52]=_e&&(G.top-J[1])/-_e,ve[ue+56]=ye&&(G.right-J[0])/ye,ve[ue+60]=_e&&(G.bottom-J[1])/-_e}const we=1+Math.min(Math.abs(_e),Math.abs(ye));W.paddingLeft=w(ve,32,16)/we,W.paddingTop=w(ve,48,16)/we,W.paddingRight=w(ve,0,16)/we,W.paddingBottom=w(ve,16,16)/we,se._textDivProperties.set(L,W)}}(this),this._bounds=null);const S=[],A=[];for(let T=0,L=this._textDivs.length;T<L;T++){const W=this._textDivs[T],G=this._textDivProperties.get(W);!G.hasText||(j?(S.length=0,A.length=0,G.originalTransform&&S.push(G.originalTransform),G.paddingTop>0?(A.push(`${G.paddingTop}px`),S.push(`translateY(${-G.paddingTop}px)`)):A.push(0),A.push(G.paddingRight>0?G.paddingRight/G.scale+"px":0),A.push(G.paddingBottom>0?`${G.paddingBottom}px`:0),G.paddingLeft>0?(A.push(G.paddingLeft/G.scale+"px"),S.push(`translateX(${-G.paddingLeft/G.scale}px)`)):A.push(0),W.style.padding=A.join(" "),S.length&&(W.style.transform=S.join(" "))):(W.style.padding=null,W.style.transform=G.originalTransform))}}}},(ze,re,oe)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.SVGGraphics=void 0;var c=oe(1),e=oe(5),xe=oe(3);let ce=class{constructor(){(0,c.unreachable)("Not implemented: SVGGraphics")}};re.SVGGraphics=ce;{let k=function(A){let T=[];const L=[];for(const W of A)"save"!==W.fn?"restore"===W.fn?T=L.pop():T.push(W):(T.push({fnId:92,fn:"group",items:[]}),L.push(T),T=T[T.length-1].items);return T},C=function(A){if(Number.isInteger(A))return A.toString();const T=A.toFixed(10);let L=T.length-1;if("0"!==T[L])return T;do{L--}while("0"===T[L]);return T.substring(0,"."===T[L]?L:L+1)},X=function(A){if(0===A[4]&&0===A[5]){if(0===A[1]&&0===A[2])return 1===A[0]&&1===A[3]?"":`scale(${C(A[0])} ${C(A[3])})`;if(A[0]===A[3]&&A[1]===-A[2]){const T=180*Math.acos(A[0])/Math.PI;return`rotate(${C(T)})`}}else if(1===A[0]&&0===A[1]&&0===A[2]&&1===A[3])return`translate(${C(A[4])} ${C(A[5])})`;return`matrix(${C(A[0])} ${C(A[1])} ${C(A[2])} ${C(A[3])} ${C(A[4])} ${C(A[5])})`};const pe={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},z="http://www.w3.org/XML/1998/namespace",f="http://www.w3.org/1999/xlink",R=["butt","round","square"],x=["miter","round","bevel"],w=function(A,T="",L=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!L)return URL.createObjectURL(new Blob([A],{type:T}));const W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let G=`data:${T};base64,`;for(let be=0,de=A.length;be<de;be+=3){const _e=255&A[be],ye=255&A[be+1],me=255&A[be+2];G+=W[_e>>2]+W[(3&_e)<<4|ye>>4]+W[be+1<de?(15&ye)<<2|me>>6:64]+W[be+2<de?63&me:64]}return G},_=function(){const A=new Uint8Array([137,80,78,71,13,10,26,10]),L=new Int32Array(256);for(let me=0;me<256;me++){let ve=me;for(let we=0;we<8;we++)ve=1&ve?3988292384^ve>>1&2147483647:ve>>1&2147483647;L[me]=ve}function G(me,ve,we,ue){let ke=ue;const J=ve.length;we[ke]=J>>24&255,we[ke+1]=J>>16&255,we[ke+2]=J>>8&255,we[ke+3]=255&J,ke+=4,we[ke]=255&me.charCodeAt(0),we[ke+1]=255&me.charCodeAt(1),we[ke+2]=255&me.charCodeAt(2),we[ke+3]=255&me.charCodeAt(3),ke+=4,we.set(ve,ke),ke+=ve.length;const N=function W(me,ve,we){let ue=-1;for(let ke=ve;ke<we;ke++)ue=ue>>>8^L[255&(ue^me[ke])];return-1^ue}(we,ue+4,ke);we[ke]=N>>24&255,we[ke+1]=N>>16&255,we[ke+2]=N>>8&255,we[ke+3]=255&N}function _e(me){let ve=me.length;const we=65535,ue=Math.ceil(ve/we),ke=new Uint8Array(2+ve+5*ue+4);let J=0;ke[J++]=120,ke[J++]=156;let N=0;for(;ve>we;)ke[J++]=0,ke[J++]=255,ke[J++]=255,ke[J++]=0,ke[J++]=0,ke.set(me.subarray(N,N+we),J),J+=we,N+=we,ve-=we;ke[J++]=1,ke[J++]=255&ve,ke[J++]=ve>>8&255,ke[J++]=255&~ve,ke[J++]=(65535&~ve)>>8&255,ke.set(me.subarray(N),J),J+=me.length-N;const F=function be(me,ve,we){let ue=1,ke=0;for(let J=ve;J<we;++J)ue=(ue+(255&me[J]))%65521,ke=(ke+ue)%65521;return ke<<16|ue}(me,0,me.length);return ke[J++]=F>>24&255,ke[J++]=F>>16&255,ke[J++]=F>>8&255,ke[J++]=255&F,ke}return function(ve,we,ue){return function ye(me,ve,we,ue){const ke=me.width,J=me.height;let N,F,ie;const O=me.data;switch(ve){case c.ImageKind.GRAYSCALE_1BPP:F=0,N=1,ie=ke+7>>3;break;case c.ImageKind.RGB_24BPP:F=2,N=8,ie=3*ke;break;case c.ImageKind.RGBA_32BPP:F=6,N=8,ie=4*ke;break;default:throw new Error("invalid format")}const ne=new Uint8Array((1+ie)*J);let v=0,U=0;for(let Ie=0;Ie<J;++Ie)ne[v++]=0,ne.set(O.subarray(U,U+ie),v),U+=ie,v+=ie;if(ve===c.ImageKind.GRAYSCALE_1BPP&&ue){v=0;for(let Ie=0;Ie<J;Ie++){v++;for(let Re=0;Re<ie;Re++)ne[v++]^=255}}const H=new Uint8Array([ke>>24&255,ke>>16&255,ke>>8&255,255&ke,J>>24&255,J>>16&255,J>>8&255,255&J,N,F,0,0,0]),ge=function de(me){if(!xe.isNodeJS)return _e(me);try{let ve;ve=parseInt(process.versions.node)>=8?me:Buffer.from(me);const we=__webpack_require__(2258).deflateSync(ve,{level:9});return we instanceof Uint8Array?we:new Uint8Array(we)}catch(ve){(0,c.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ve)}return _e(me)}(ne),Ae=new Uint8Array(A.length+36+H.length+ge.length);let Fe=0;return Ae.set(A,Fe),Fe+=A.length,G("IHDR",H,Ae,Fe),Fe+=12+H.length,G("IDATA",ge,Ae,Fe),Fe+=12+ge.length,G("IEND",new Uint8Array(0),Ae,Fe),w(Ae,"image/png",we)}(ve,void 0===ve.kind?c.ImageKind.GRAYSCALE_1BPP:ve.kind,we,ue)}}();class B{constructor(){this.fontSizeScale=1,this.fontWeight=pe.fontWeight,this.fontSize=0,this.textMatrix=c.IDENTITY_MATRIX,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=c.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=pe.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(T,L){this.x=T,this.y=L}}let se=0,j=0,S=0;re.SVGGraphics=ce=class{constructor(A,T,L=!1){this.svgFactory=new e.DOMSVGFactory,this.current=new B,this.transformMatrix=c.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=A,this.objs=T,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!L,this._operatorIdMapping=[];for(const W in c.OPS)this._operatorIdMapping[c.OPS[W]]=W}save(){this.transformStack.push(this.transformMatrix);const A=this.current;this.extraStack.push(A),this.current=A.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(A){this.save(),this.executeOpTree(A),this.restore()}loadDependencies(A){const T=A.fnArray,L=A.argsArray;for(let W=0,G=T.length;W<G;W++)if(T[W]===c.OPS.dependency)for(const be of L[W]){const de=be.startsWith("g_")?this.commonObjs:this.objs,_e=new Promise(ye=>{de.get(be,ye)});this.current.dependencies.push(_e)}return Promise.all(this.current.dependencies)}transform(A,T,L,W,G,be){this.transformMatrix=c.Util.transform(this.transformMatrix,[A,T,L,W,G,be]),this.tgrp=null}getSVG(A,T){this.viewport=T;const L=this._initialize(T);return this.loadDependencies(A).then(()=>(this.transformMatrix=c.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(A)),L))}convertOpList(A){const T=this._operatorIdMapping,L=A.argsArray,W=A.fnArray,G=[];for(let be=0,de=W.length;be<de;be++){const _e=W[be];G.push({fnId:_e,fn:T[_e],args:L[be]})}return k(G)}executeOpTree(A){for(const T of A){const L=T.fn,G=T.args;switch(0|T.fnId){case c.OPS.beginText:this.beginText();break;case c.OPS.dependency:break;case c.OPS.setLeading:this.setLeading(G);break;case c.OPS.setLeadingMoveText:this.setLeadingMoveText(G[0],G[1]);break;case c.OPS.setFont:this.setFont(G);break;case c.OPS.showText:case c.OPS.showSpacedText:this.showText(G[0]);break;case c.OPS.endText:this.endText();break;case c.OPS.moveText:this.moveText(G[0],G[1]);break;case c.OPS.setCharSpacing:this.setCharSpacing(G[0]);break;case c.OPS.setWordSpacing:this.setWordSpacing(G[0]);break;case c.OPS.setHScale:this.setHScale(G[0]);break;case c.OPS.setTextMatrix:this.setTextMatrix(G[0],G[1],G[2],G[3],G[4],G[5]);break;case c.OPS.setTextRise:this.setTextRise(G[0]);break;case c.OPS.setTextRenderingMode:this.setTextRenderingMode(G[0]);break;case c.OPS.setLineWidth:this.setLineWidth(G[0]);break;case c.OPS.setLineJoin:this.setLineJoin(G[0]);break;case c.OPS.setLineCap:this.setLineCap(G[0]);break;case c.OPS.setMiterLimit:this.setMiterLimit(G[0]);break;case c.OPS.setFillRGBColor:this.setFillRGBColor(G[0],G[1],G[2]);break;case c.OPS.setStrokeRGBColor:this.setStrokeRGBColor(G[0],G[1],G[2]);break;case c.OPS.setStrokeColorN:this.setStrokeColorN(G);break;case c.OPS.setFillColorN:this.setFillColorN(G);break;case c.OPS.shadingFill:this.shadingFill(G[0]);break;case c.OPS.setDash:this.setDash(G[0],G[1]);break;case c.OPS.setRenderingIntent:this.setRenderingIntent(G[0]);break;case c.OPS.setFlatness:this.setFlatness(G[0]);break;case c.OPS.setGState:this.setGState(G[0]);break;case c.OPS.fill:this.fill();break;case c.OPS.eoFill:this.eoFill();break;case c.OPS.stroke:this.stroke();break;case c.OPS.fillStroke:this.fillStroke();break;case c.OPS.eoFillStroke:this.eoFillStroke();break;case c.OPS.clip:this.clip("nonzero");break;case c.OPS.eoClip:this.clip("evenodd");break;case c.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case c.OPS.paintImageXObject:this.paintImageXObject(G[0]);break;case c.OPS.paintInlineImageXObject:this.paintInlineImageXObject(G[0]);break;case c.OPS.paintImageMaskXObject:this.paintImageMaskXObject(G[0]);break;case c.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(G[0],G[1]);break;case c.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case c.OPS.closePath:this.closePath();break;case c.OPS.closeStroke:this.closeStroke();break;case c.OPS.closeFillStroke:this.closeFillStroke();break;case c.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case c.OPS.nextLine:this.nextLine();break;case c.OPS.transform:this.transform(G[0],G[1],G[2],G[3],G[4],G[5]);break;case c.OPS.constructPath:this.constructPath(G[0],G[1]);break;case c.OPS.endPath:this.endPath();break;case 92:this.group(T.items);break;default:(0,c.warn)(`Unimplemented operator ${L}`)}}}setWordSpacing(A){this.current.wordSpacing=A}setCharSpacing(A){this.current.charSpacing=A}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(A,T,L,W,G,be){const de=this.current;de.textMatrix=de.lineMatrix=[A,T,L,W,G,be],de.textMatrixScale=Math.hypot(A,T),de.x=de.lineX=0,de.y=de.lineY=0,de.xcoords=[],de.ycoords=[],de.tspan=this.svgFactory.createElement("svg:tspan"),de.tspan.setAttributeNS(null,"font-family",de.fontFamily),de.tspan.setAttributeNS(null,"font-size",`${C(de.fontSize)}px`),de.tspan.setAttributeNS(null,"y",C(-de.y)),de.txtElement=this.svgFactory.createElement("svg:text"),de.txtElement.appendChild(de.tspan)}beginText(){const A=this.current;A.x=A.lineX=0,A.y=A.lineY=0,A.textMatrix=c.IDENTITY_MATRIX,A.lineMatrix=c.IDENTITY_MATRIX,A.textMatrixScale=1,A.tspan=this.svgFactory.createElement("svg:tspan"),A.txtElement=this.svgFactory.createElement("svg:text"),A.txtgrp=this.svgFactory.createElement("svg:g"),A.xcoords=[],A.ycoords=[]}moveText(A,T){const L=this.current;L.x=L.lineX+=A,L.y=L.lineY+=T,L.xcoords=[],L.ycoords=[],L.tspan=this.svgFactory.createElement("svg:tspan"),L.tspan.setAttributeNS(null,"font-family",L.fontFamily),L.tspan.setAttributeNS(null,"font-size",`${C(L.fontSize)}px`),L.tspan.setAttributeNS(null,"y",C(-L.y))}showText(A){const T=this.current,L=T.font,W=T.fontSize;if(0===W)return;const G=T.fontSizeScale,be=T.charSpacing,de=T.wordSpacing,_e=T.fontDirection,ye=T.textHScale*_e,me=L.vertical,ve=me?1:-1,we=L.defaultVMetrics,ue=W*T.fontMatrix[0];let ke=0;for(const F of A){if(null===F){ke+=_e*de;continue}if("number"==typeof F){ke+=ve*F*W/1e3;continue}const ie=(F.isSpace?de:0)+be,O=F.fontChar;let ne,v,H,U=F.width;if(me){let ge;const q=F.vmetric||we;ge=F.vmetric?q[1]:.5*U,ge=-ge*ue,U=q?-q[0]:U,ne=ge/G,v=(ke+q[2]*ue)/G}else ne=ke/G,v=0;(F.isInFont||L.missingFile)&&(T.xcoords.push(T.x+ne),me&&T.ycoords.push(-T.y+v),T.tspan.textContent+=O),H=me?U*ue-ie*_e:U*ue+ie*_e,ke+=H}T.tspan.setAttributeNS(null,"x",T.xcoords.map(C).join(" ")),T.tspan.setAttributeNS(null,"y",me?T.ycoords.map(C).join(" "):C(-T.y)),me?T.y-=ke:T.x+=ke*ye,T.tspan.setAttributeNS(null,"font-family",T.fontFamily),T.tspan.setAttributeNS(null,"font-size",`${C(T.fontSize)}px`),T.fontStyle!==pe.fontStyle&&T.tspan.setAttributeNS(null,"font-style",T.fontStyle),T.fontWeight!==pe.fontWeight&&T.tspan.setAttributeNS(null,"font-weight",T.fontWeight);const J=T.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;J===c.TextRenderingMode.FILL||J===c.TextRenderingMode.FILL_STROKE?(T.fillColor!==pe.fillColor&&T.tspan.setAttributeNS(null,"fill",T.fillColor),T.fillAlpha<1&&T.tspan.setAttributeNS(null,"fill-opacity",T.fillAlpha)):T.tspan.setAttributeNS(null,"fill",T.textRenderingMode===c.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(J===c.TextRenderingMode.STROKE||J===c.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(T.tspan,1/(T.textMatrixScale||1));let N=T.textMatrix;0!==T.textRise&&(N=N.slice(),N[5]+=T.textRise),T.txtElement.setAttributeNS(null,"transform",`${X(N)} scale(${C(ye)}, -1)`),T.txtElement.setAttributeNS(z,"xml:space","preserve"),T.txtElement.appendChild(T.tspan),T.txtgrp.appendChild(T.txtElement),this._ensureTransformGroup().appendChild(T.txtElement)}setLeadingMoveText(A,T){this.setLeading(-T),this.moveText(A,T)}addFontStyle(A){if(!A.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const T=w(A.data,A.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${A.loadedName}"; src: url(${T}); }\n`}setFont(A){const T=this.current,L=this.commonObjs.get(A[0]);let W=A[1];T.font=L,this.embedFonts&&!L.missingFile&&!this.embeddedFonts[L.loadedName]&&(this.addFontStyle(L),this.embeddedFonts[L.loadedName]=L),T.fontMatrix=L.fontMatrix||c.FONT_IDENTITY_MATRIX;let G="normal";L.black?G="900":L.bold&&(G="bold");const be=L.italic?"italic":"normal";W<0?(W=-W,T.fontDirection=-1):T.fontDirection=1,T.fontSize=W,T.fontFamily=L.loadedName,T.fontWeight=G,T.fontStyle=be,T.tspan=this.svgFactory.createElement("svg:tspan"),T.tspan.setAttributeNS(null,"y",C(-T.y)),T.xcoords=[],T.ycoords=[]}endText(){var T;const A=this.current;A.textRenderingMode&c.TextRenderingMode.ADD_TO_PATH_FLAG&&(null==(T=A.txtElement)?void 0:T.hasChildNodes())&&(A.element=A.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(A){A>0&&(this.current.lineWidth=A)}setLineCap(A){this.current.lineCap=R[A]}setLineJoin(A){this.current.lineJoin=x[A]}setMiterLimit(A){this.current.miterLimit=A}setStrokeAlpha(A){this.current.strokeAlpha=A}setStrokeRGBColor(A,T,L){this.current.strokeColor=c.Util.makeHexColor(A,T,L)}setFillAlpha(A){this.current.fillAlpha=A}setFillRGBColor(A,T,L){this.current.fillColor=c.Util.makeHexColor(A,T,L),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(A){this.current.strokeColor=this._makeColorN_Pattern(A)}setFillColorN(A){this.current.fillColor=this._makeColorN_Pattern(A)}shadingFill(A){const T=this.viewport.width,L=this.viewport.height,W=c.Util.inverseTransform(this.transformMatrix),G=c.Util.applyTransform([0,0],W),be=c.Util.applyTransform([0,L],W),de=c.Util.applyTransform([T,0],W),_e=c.Util.applyTransform([T,L],W),ye=Math.min(G[0],be[0],de[0],_e[0]),me=Math.min(G[1],be[1],de[1],_e[1]),ve=Math.max(G[0],be[0],de[0],_e[0]),we=Math.max(G[1],be[1],de[1],_e[1]),ue=this.svgFactory.createElement("svg:rect");ue.setAttributeNS(null,"x",ye),ue.setAttributeNS(null,"y",me),ue.setAttributeNS(null,"width",ve-ye),ue.setAttributeNS(null,"height",we-me),ue.setAttributeNS(null,"fill",this._makeShadingPattern(A)),this.current.fillAlpha<1&&ue.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(ue)}_makeColorN_Pattern(A){return"TilingPattern"===A[0]?this._makeTilingPattern(A):this._makeShadingPattern(A)}_makeTilingPattern(A){const T=A[1],L=A[2],W=A[3]||c.IDENTITY_MATRIX,[G,be,de,_e]=A[4],ye=A[5],me=A[6],ve=A[7],we="shading"+S++,[ue,ke,J,N]=c.Util.normalizeRect([...c.Util.applyTransform([G,be],W),...c.Util.applyTransform([de,_e],W)]),[F,ie]=c.Util.singularValueDecompose2dScale(W),O=ye*F,ne=me*ie,v=this.svgFactory.createElement("svg:pattern");v.setAttributeNS(null,"id",we),v.setAttributeNS(null,"patternUnits","userSpaceOnUse"),v.setAttributeNS(null,"width",O),v.setAttributeNS(null,"height",ne),v.setAttributeNS(null,"x",`${ue}`),v.setAttributeNS(null,"y",`${ke}`);const U=this.svg,H=this.transformMatrix,ge=this.current.fillColor,q=this.current.strokeColor,Ae=this.svgFactory.create(J-ue,N-ke);if(this.svg=Ae,this.transformMatrix=W,2===ve){const Fe=c.Util.makeHexColor(...T);this.current.fillColor=Fe,this.current.strokeColor=Fe}return this.executeOpTree(this.convertOpList(L)),this.svg=U,this.transformMatrix=H,this.current.fillColor=ge,this.current.strokeColor=q,v.appendChild(Ae.childNodes[0]),this.defs.appendChild(v),`url(#${we})`}_makeShadingPattern(A){switch("string"==typeof A&&(A=this.objs.get(A)),A[0]){case"RadialAxial":const T="shading"+S++,L=A[3];let W;switch(A[1]){case"axial":const G=A[4],be=A[5];W=this.svgFactory.createElement("svg:linearGradient"),W.setAttributeNS(null,"id",T),W.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),W.setAttributeNS(null,"x1",G[0]),W.setAttributeNS(null,"y1",G[1]),W.setAttributeNS(null,"x2",be[0]),W.setAttributeNS(null,"y2",be[1]);break;case"radial":const de=A[4],_e=A[5],ye=A[6],me=A[7];W=this.svgFactory.createElement("svg:radialGradient"),W.setAttributeNS(null,"id",T),W.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),W.setAttributeNS(null,"cx",_e[0]),W.setAttributeNS(null,"cy",_e[1]),W.setAttributeNS(null,"r",me),W.setAttributeNS(null,"fx",de[0]),W.setAttributeNS(null,"fy",de[1]),W.setAttributeNS(null,"fr",ye);break;default:throw new Error(`Unknown RadialAxial type: ${A[1]}`)}for(const G of L){const be=this.svgFactory.createElement("svg:stop");be.setAttributeNS(null,"offset",G[0]),be.setAttributeNS(null,"stop-color",G[1]),W.appendChild(be)}return this.defs.appendChild(W),`url(#${T})`;case"Mesh":return(0,c.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${A[0]}`)}}setDash(A,T){this.current.dashArray=A,this.current.dashPhase=T}constructPath(A,T){const L=this.current;let W=L.x,G=L.y,be=[],de=0;for(const _e of A)switch(0|_e){case c.OPS.rectangle:W=T[de++],G=T[de++];const ve=W+T[de++],we=G+T[de++];be.push("M",C(W),C(G),"L",C(ve),C(G),"L",C(ve),C(we),"L",C(W),C(we),"Z");break;case c.OPS.moveTo:W=T[de++],G=T[de++],be.push("M",C(W),C(G));break;case c.OPS.lineTo:W=T[de++],G=T[de++],be.push("L",C(W),C(G));break;case c.OPS.curveTo:W=T[de+4],G=T[de+5],be.push("C",C(T[de]),C(T[de+1]),C(T[de+2]),C(T[de+3]),C(W),C(G)),de+=6;break;case c.OPS.curveTo2:be.push("C",C(W),C(G),C(T[de]),C(T[de+1]),C(T[de+2]),C(T[de+3])),W=T[de+2],G=T[de+3],de+=4;break;case c.OPS.curveTo3:W=T[de+2],G=T[de+3],be.push("C",C(T[de]),C(T[de+1]),C(W),C(G),C(W),C(G)),de+=4;break;case c.OPS.closePath:be.push("Z")}be=be.join(" "),L.path&&A.length>0&&A[0]!==c.OPS.rectangle&&A[0]!==c.OPS.moveTo?be=L.path.getAttributeNS(null,"d")+be:(L.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(L.path)),L.path.setAttributeNS(null,"d",be),L.path.setAttributeNS(null,"fill","none"),L.element=L.path,L.setCurrentPoint(W,G)}endPath(){const A=this.current;if(A.path=null,!this.pendingClip)return;if(!A.element)return void(this.pendingClip=null);const T="clippath"+se++,L=this.svgFactory.createElement("svg:clipPath");L.setAttributeNS(null,"id",T),L.setAttributeNS(null,"transform",X(this.transformMatrix));const W=A.element.cloneNode(!0);if(W.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,L.appendChild(W),this.defs.appendChild(L),A.activeClipUrl){A.clipGroup=null;for(const G of this.extraStack)G.clipGroup=null;L.setAttributeNS(null,"clip-path",A.activeClipUrl)}A.activeClipUrl=`url(#${T})`,this.tgrp=null}clip(A){this.pendingClip=A}closePath(){const A=this.current;if(A.path){const T=`${A.path.getAttributeNS(null,"d")}Z`;A.path.setAttributeNS(null,"d",T)}}setLeading(A){this.current.leading=-A}setTextRise(A){this.current.textRise=A}setTextRenderingMode(A){this.current.textRenderingMode=A}setHScale(A){this.current.textHScale=A/100}setRenderingIntent(A){}setFlatness(A){}setGState(A){for(const[T,L]of A)switch(T){case"LW":this.setLineWidth(L);break;case"LC":this.setLineCap(L);break;case"LJ":this.setLineJoin(L);break;case"ML":this.setMiterLimit(L);break;case"D":this.setDash(L[0],L[1]);break;case"RI":this.setRenderingIntent(L);break;case"FL":this.setFlatness(L);break;case"Font":this.setFont(L);break;case"CA":this.setStrokeAlpha(L);break;case"ca":this.setFillAlpha(L);break;default:(0,c.warn)(`Unimplemented graphic state operator ${T}`)}}fill(){const A=this.current;A.element&&(A.element.setAttributeNS(null,"fill",A.fillColor),A.element.setAttributeNS(null,"fill-opacity",A.fillAlpha),this.endPath())}stroke(){const A=this.current;A.element&&(this._setStrokeAttributes(A.element),A.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(A,T=1){const L=this.current;let W=L.dashArray;1!==T&&W.length>0&&(W=W.map(function(G){return T*G})),A.setAttributeNS(null,"stroke",L.strokeColor),A.setAttributeNS(null,"stroke-opacity",L.strokeAlpha),A.setAttributeNS(null,"stroke-miterlimit",C(L.miterLimit)),A.setAttributeNS(null,"stroke-linecap",L.lineCap),A.setAttributeNS(null,"stroke-linejoin",L.lineJoin),A.setAttributeNS(null,"stroke-width",C(T*L.lineWidth)+"px"),A.setAttributeNS(null,"stroke-dasharray",W.map(C).join(" ")),A.setAttributeNS(null,"stroke-dashoffset",C(T*L.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const A=this.svgFactory.createElement("svg:rect");A.setAttributeNS(null,"x","0"),A.setAttributeNS(null,"y","0"),A.setAttributeNS(null,"width","1px"),A.setAttributeNS(null,"height","1px"),A.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(A)}paintImageXObject(A){const T=A.startsWith("g_")?this.commonObjs.get(A):this.objs.get(A);T?this.paintInlineImageXObject(T):(0,c.warn)(`Dependent image with object ID ${A} is not ready yet`)}paintInlineImageXObject(A,T){const L=A.width,W=A.height,G=_(A,this.forceDataSchema,!!T),be=this.svgFactory.createElement("svg:rect");be.setAttributeNS(null,"x","0"),be.setAttributeNS(null,"y","0"),be.setAttributeNS(null,"width",C(L)),be.setAttributeNS(null,"height",C(W)),this.current.element=be,this.clip("nonzero");const de=this.svgFactory.createElement("svg:image");de.setAttributeNS(f,"xlink:href",G),de.setAttributeNS(null,"x","0"),de.setAttributeNS(null,"y",C(-W)),de.setAttributeNS(null,"width",C(L)+"px"),de.setAttributeNS(null,"height",C(W)+"px"),de.setAttributeNS(null,"transform",`scale(${C(1/L)} ${C(-1/W)})`),T?T.appendChild(de):this._ensureTransformGroup().appendChild(de)}paintImageMaskXObject(A){const T=this.current,L=A.width,W=A.height,G=T.fillColor;T.maskId="mask"+j++;const be=this.svgFactory.createElement("svg:mask");be.setAttributeNS(null,"id",T.maskId);const de=this.svgFactory.createElement("svg:rect");de.setAttributeNS(null,"x","0"),de.setAttributeNS(null,"y","0"),de.setAttributeNS(null,"width",C(L)),de.setAttributeNS(null,"height",C(W)),de.setAttributeNS(null,"fill",G),de.setAttributeNS(null,"mask",`url(#${T.maskId})`),this.defs.appendChild(be),this._ensureTransformGroup().appendChild(de),this.paintInlineImageXObject(A,be)}paintFormXObjectBegin(A,T){if(Array.isArray(A)&&6===A.length&&this.transform(A[0],A[1],A[2],A[3],A[4],A[5]),T){const L=T[2]-T[0],W=T[3]-T[1],G=this.svgFactory.createElement("svg:rect");G.setAttributeNS(null,"x",T[0]),G.setAttributeNS(null,"y",T[1]),G.setAttributeNS(null,"width",C(L)),G.setAttributeNS(null,"height",C(W)),this.current.element=G,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(A){const T=this.svgFactory.create(A.width,A.height),L=this.svgFactory.createElement("svg:defs");T.appendChild(L),this.defs=L;const W=this.svgFactory.createElement("svg:g");return W.setAttributeNS(null,"transform",X(A.transform)),T.appendChild(W),this.svg=W,T}_ensureClipGroup(){if(!this.current.clipGroup){const A=this.svgFactory.createElement("svg:g");A.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(A),this.current.clipGroup=A}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",X(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(ze,re,oe)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.PDFNodeStream=void 0;var c=oe(1),e=oe(24);const xe=__webpack_require__(172),ce=__webpack_require__(2001),pe=__webpack_require__(3779),z=__webpack_require__(6558),f=/^file:\/\/\/[a-zA-Z]:\//;re.PDFNodeStream=class x{constructor(S){this.source=S,this.url=function R(j){const S=z.parse(j);return"file:"===S.protocol||S.host?S:/^[a-z]:[/\\]/i.test(j)?z.parse(`file:///${j}`):(S.host||(S.protocol="file:"),S)}(S.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&S.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var S,A;return null!=(A=null==(S=this._fullRequestReader)?void 0:S._loaded)?A:0}getFullReader(){return(0,c.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new X(this):new k(this),this._fullRequestReader}getRangeReader(S,A){if(A<=this._progressiveDataLength)return null;const T=this.isFsUrl?new se(this,S,A):new C(this,S,A);return this._rangeRequestReaders.push(T),T}cancelAllRequests(S){this._fullRequestReader&&this._fullRequestReader.cancel(S);for(const A of this._rangeRequestReaders.slice(0))A.cancel(S)}};class w{constructor(S){this._url=S.url,this._done=!1,this._storedError=null,this.onProgress=null;const A=S.source;this._contentLength=A.length,this._loaded=0,this._filename=null,this._disableRange=A.disableRange||!1,this._rangeChunkSize=A.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!A.disableStream,this._isRangeSupported=!A.disableRange,this._readableStream=null,this._readCapability=(0,c.createPromiseCapability)(),this._headersCapability=(0,c.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var S=this;return _asyncToGenerator(function*(){if(yield S._readCapability.promise,S._done)return{value:void 0,done:!0};if(S._storedError)throw S._storedError;const A=S._readableStream.read();return null===A?(S._readCapability=(0,c.createPromiseCapability)(),S.read()):(S._loaded+=A.length,S.onProgress&&S.onProgress({loaded:S._loaded,total:S._contentLength}),{value:new Uint8Array(A).buffer,done:!1})})()}cancel(S){this._readableStream?this._readableStream.destroy(S):this._error(S)}_error(S){this._storedError=S,this._readCapability.resolve()}_setReadableStream(S){this._readableStream=S,S.on("readable",()=>{this._readCapability.resolve()}),S.on("end",()=>{S.destroy(),this._done=!0,this._readCapability.resolve()}),S.on("error",A=>{this._error(A)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new c.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class _{constructor(S){this._url=S.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,c.createPromiseCapability)(),this._isStreamingSupported=!S.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var S=this;return _asyncToGenerator(function*(){if(yield S._readCapability.promise,S._done)return{value:void 0,done:!0};if(S._storedError)throw S._storedError;const A=S._readableStream.read();return null===A?(S._readCapability=(0,c.createPromiseCapability)(),S.read()):(S._loaded+=A.length,S.onProgress&&S.onProgress({loaded:S._loaded}),{value:new Uint8Array(A).buffer,done:!1})})()}cancel(S){this._readableStream?this._readableStream.destroy(S):this._error(S)}_error(S){this._storedError=S,this._readCapability.resolve()}_setReadableStream(S){this._readableStream=S,S.on("readable",()=>{this._readCapability.resolve()}),S.on("end",()=>{S.destroy(),this._done=!0,this._readCapability.resolve()}),S.on("error",A=>{this._error(A)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function B(j,S){return{protocol:j.protocol,auth:j.auth,host:j.hostname,port:j.port,path:j.path,method:"GET",headers:S}}class k extends w{constructor(S){super(S);const A=T=>{if(404===T.statusCode){const be=new c.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=be,void this._headersCapability.reject(be)}this._headersCapability.resolve(),this._setReadableStream(T);const L=be=>this._readableStream.headers[be.toLowerCase()],{allowRangeRequests:W,suggestedLength:G}=(0,e.validateRangeRequestCapabilities)({getResponseHeader:L,isHttp:S.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=W,this._contentLength=G||this._contentLength,this._filename=(0,e.extractFilenameFromHeader)(L)};this._request=null,this._request="http:"===this._url.protocol?ce.request(B(this._url,S.httpHeaders),A):pe.request(B(this._url,S.httpHeaders),A),this._request.on("error",T=>{this._storedError=T,this._headersCapability.reject(T)}),this._request.end()}}class C extends _{constructor(S,A,T){super(S),this._httpHeaders={};for(const W in S.httpHeaders){const G=S.httpHeaders[W];void 0!==G&&(this._httpHeaders[W]=G)}this._httpHeaders.Range=`bytes=${A}-${T-1}`;const L=W=>{if(404!==W.statusCode)this._setReadableStream(W);else{const G=new c.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=G}};this._request=null,this._request="http:"===this._url.protocol?ce.request(B(this._url,this._httpHeaders),L):pe.request(B(this._url,this._httpHeaders),L),this._request.on("error",W=>{this._storedError=W}),this._request.end()}}class X extends w{constructor(S){super(S);let A=decodeURIComponent(this._url.path);f.test(this._url.href)&&(A=A.replace(/^\//,"")),xe.lstat(A,(T,L)=>{if(T)return"ENOENT"===T.code&&(T=new c.MissingPDFException(`Missing PDF "${A}".`)),this._storedError=T,void this._headersCapability.reject(T);this._contentLength=L.size,this._setReadableStream(xe.createReadStream(A)),this._headersCapability.resolve()})}}class se extends _{constructor(S,A,T){super(S);let L=decodeURIComponent(this._url.path);f.test(this._url.href)&&(L=L.replace(/^\//,"")),this._setReadableStream(xe.createReadStream(L,{start:A,end:T-1}))}}},(ze,re,oe)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.createResponseStatusError=function z(R,x){return 404===R||0===R&&x.startsWith("file:")?new c.MissingPDFException('Missing PDF "'+x+'".'):new c.UnexpectedResponseException(`Unexpected server response (${R}) while retrieving PDF "${x}".`,R)},re.extractFilenameFromHeader=function pe(R){const x=R("Content-Disposition");if(x){let w=(0,e.getFilenameFromContentDispositionHeader)(x);if(w.includes("%"))try{w=decodeURIComponent(w)}catch(_){}if((0,xe.isPdfFile)(w))return w}return null},re.validateRangeRequestCapabilities=function ce({getResponseHeader:R,isHttp:x,rangeChunkSize:w,disableRange:_}){(0,c.assert)(w>0,"Range chunk size must be larger than zero");const B={allowRangeRequests:!1,suggestedLength:void 0},k=parseInt(R("Content-Length"),10);return!Number.isInteger(k)||(B.suggestedLength=k,k<=2*w)||_||!x||"bytes"!==R("Accept-Ranges")||"identity"!==(R("Content-Encoding")||"identity")||(B.allowRangeRequests=!0),B},re.validateResponseStatus=function f(R){return 200===R||206===R};var c=oe(1),e=oe(25),xe=oe(5)},(ze,re,oe)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.getFilenameFromContentDispositionHeader=function e(xe){let ce=!0,pe=z("filename\\*","i").exec(xe);if(pe){pe=pe[1];let k=w(pe);return k=unescape(k),k=_(k),k=B(k),R(k)}if(pe=function x(k){const C=[];let X;const se=z("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(X=se.exec(k));){let[,S,A,T]=X;if(S=parseInt(S,10),S in C){if(0===S)break}else C[S]=[A,T]}const j=[];for(let S=0;S<C.length&&S in C;++S){let[A,T]=C[S];T=w(T),A&&(T=unescape(T),0===S&&(T=_(T))),j.push(T)}return j.join("")}(xe),pe)return R(B(pe));if(pe=z("filename","i").exec(xe),pe){pe=pe[1];let k=w(pe);return k=B(k),R(k)}function z(k,C){return new RegExp("(?:^|;)\\s*"+k+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',C)}function f(k,C){if(k){if(!/^[\x00-\xFF]+$/.test(C))return C;try{const X=new TextDecoder(k,{fatal:!0}),se=(0,c.stringToBytes)(C);C=X.decode(se),ce=!1}catch(X){}}return C}function R(k){return ce&&/[\x80-\xff]/.test(k)&&(k=f("utf-8",k),ce&&(k=f("iso-8859-1",k))),k}function w(k){if(k.startsWith('"')){const C=k.slice(1).split('\\"');for(let X=0;X<C.length;++X){const se=C[X].indexOf('"');-1!==se&&(C[X]=C[X].slice(0,se),C.length=X+1),C[X]=C[X].replace(/\\(.)/g,"$1")}k=C.join('"')}return k}function _(k){const C=k.indexOf("'");return-1===C?k:f(k.slice(0,C),k.slice(C+1).replace(/^[^']*'/,""))}function B(k){return!k.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(k)?k:k.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(C,X,se,j){if("q"===se||"Q"===se)return f(X,j=(j=j.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(S,A){return String.fromCharCode(parseInt(A,16))}));try{j=atob(j)}catch(S){}return f(X,j)})}return""};var c=oe(1)},(ze,re,oe)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.PDFNetworkStream=void 0;var c=oe(1),e=oe(24);class z{constructor(_,B={}){this.url=_,this.isHttp=/^https?:/i.test(_),this.httpHeaders=this.isHttp&&B.httpHeaders||Object.create(null),this.withCredentials=B.withCredentials||!1,this.getXhr=B.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(_,B,k){const C={begin:_,end:B};for(const X in k)C[X]=k[X];return this.request(C)}requestFull(_){return this.request(_)}request(_){const B=this.getXhr(),k=this.currXhrId++,C=this.pendingRequests[k]={xhr:B};B.open("GET",this.url),B.withCredentials=this.withCredentials;for(const X in this.httpHeaders){const se=this.httpHeaders[X];void 0!==se&&B.setRequestHeader(X,se)}return this.isHttp&&"begin"in _&&"end"in _?(B.setRequestHeader("Range",`bytes=${_.begin}-${_.end-1}`),C.expectedStatus=206):C.expectedStatus=200,B.responseType="arraybuffer",_.onError&&(B.onerror=function(X){_.onError(B.status)}),B.onreadystatechange=this.onStateChange.bind(this,k),B.onprogress=this.onProgress.bind(this,k),C.onHeadersReceived=_.onHeadersReceived,C.onDone=_.onDone,C.onError=_.onError,C.onProgress=_.onProgress,B.send(null),k}onProgress(_,B){var C;const k=this.pendingRequests[_];!k||null==(C=k.onProgress)||C.call(k,B)}onStateChange(_,B){var S,A,T;const k=this.pendingRequests[_];if(!k)return;const C=k.xhr;if(C.readyState>=2&&k.onHeadersReceived&&(k.onHeadersReceived(),delete k.onHeadersReceived),4!==C.readyState||!(_ in this.pendingRequests))return;if(delete this.pendingRequests[_],0===C.status&&this.isHttp)return void(null==(S=k.onError)||S.call(k,C.status));const X=C.status||200;if((200!==X||206!==k.expectedStatus)&&X!==k.expectedStatus)return void(null==(A=k.onError)||A.call(k,C.status));const j=function pe(w){const _=w.response;return"string"!=typeof _?_:(0,c.stringToBytes)(_).buffer}(C);if(206===X){const L=C.getResponseHeader("Content-Range"),W=/bytes (\d+)-(\d+)\/(\d+)/.exec(L);k.onDone({begin:parseInt(W[1],10),chunk:j})}else j?k.onDone({begin:0,chunk:j}):null==(T=k.onError)||T.call(k,C.status)}getRequestXhr(_){return this.pendingRequests[_].xhr}isPendingRequest(_){return _ in this.pendingRequests}abortRequest(_){const B=this.pendingRequests[_].xhr;delete this.pendingRequests[_],B.abort()}}re.PDFNetworkStream=class f{constructor(_){this._source=_,this._manager=new z(_.url,{httpHeaders:_.httpHeaders,withCredentials:_.withCredentials}),this._rangeChunkSize=_.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(_){const B=this._rangeRequestReaders.indexOf(_);B>=0&&this._rangeRequestReaders.splice(B,1)}getFullReader(){return(0,c.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new R(this._manager,this._source),this._fullRequestReader}getRangeReader(_,B){const k=new x(this._manager,_,B);return k.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(k),k}cancelAllRequests(_){var B;null==(B=this._fullRequestReader)||B.cancel(_);for(const k of this._rangeRequestReaders.slice(0))k.cancel(_)}};class R{constructor(_,B){this._manager=_;const k={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=B.url,this._fullRequestId=_.requestFull(k),this._headersReceivedCapability=(0,c.createPromiseCapability)(),this._disableRange=B.disableRange||!1,this._contentLength=B.length,this._rangeChunkSize=B.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const _=this._fullRequestId,B=this._manager.getRequestXhr(_),k=se=>B.getResponseHeader(se),{allowRangeRequests:C,suggestedLength:X}=(0,e.validateRangeRequestCapabilities)({getResponseHeader:k,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});C&&(this._isRangeSupported=!0),this._contentLength=X||this._contentLength,this._filename=(0,e.extractFilenameFromHeader)(k),this._isRangeSupported&&this._manager.abortRequest(_),this._headersReceivedCapability.resolve()}_onDone(_){if(_&&(this._requests.length>0?this._requests.shift().resolve({value:_.chunk,done:!1}):this._cachedChunks.push(_.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const B of this._requests)B.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(_){this._storedError=(0,e.createResponseStatusError)(_,this._url),this._headersReceivedCapability.reject(this._storedError);for(const B of this._requests)B.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(_){var B;null==(B=this.onProgress)||B.call(this,{loaded:_.loaded,total:_.lengthComputable?_.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var _=this;return _asyncToGenerator(function*(){if(_._storedError)throw _._storedError;if(_._cachedChunks.length>0)return{value:_._cachedChunks.shift(),done:!1};if(_._done)return{value:void 0,done:!0};const B=(0,c.createPromiseCapability)();return _._requests.push(B),B.promise})()}cancel(_){this._done=!0,this._headersReceivedCapability.reject(_);for(const B of this._requests)B.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class x{constructor(_,B,k){this._manager=_;const C={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=_.url,this._requestId=_.requestRange(B,k,C),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var _;null==(_=this.onClosed)||_.call(this,this)}_onDone(_){const B=_.chunk;this._requests.length>0?this._requests.shift().resolve({value:B,done:!1}):this._queuedChunk=B,this._done=!0;for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(_){this._storedError=(0,e.createResponseStatusError)(_,this._url);for(const B of this._requests)B.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(_){var B;this.isStreamingSupported||null==(B=this.onProgress)||B.call(this,{loaded:_.loaded})}get isStreamingSupported(){return!1}read(){var _=this;return _asyncToGenerator(function*(){if(_._storedError)throw _._storedError;if(null!==_._queuedChunk){const k=_._queuedChunk;return _._queuedChunk=null,{value:k,done:!1}}if(_._done)return{value:void 0,done:!0};const B=(0,c.createPromiseCapability)();return _._requests.push(B),B.promise})()}cancel(_){this._done=!0;for(const B of this._requests)B.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(ze,re,oe)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.PDFFetchStream=void 0;var c=oe(1),e=oe(24);function xe(R,x,w){return{method:"GET",headers:R,signal:null==w?void 0:w.signal,mode:"cors",credentials:x?"include":"same-origin",redirect:"follow"}}function ce(R){const x=new Headers;for(const w in R){const _=R[w];void 0!==_&&x.append(w,_)}return x}re.PDFFetchStream=class pe{constructor(x){this.source=x,this.isHttp=/^https?:/i.test(x.url),this.httpHeaders=this.isHttp&&x.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var x,w;return null!=(w=null==(x=this._fullRequestReader)?void 0:x._loaded)?w:0}getFullReader(){return(0,c.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new z(this),this._fullRequestReader}getRangeReader(x,w){if(w<=this._progressiveDataLength)return null;const _=new f(this,x,w);return this._rangeRequestReaders.push(_),_}cancelAllRequests(x){this._fullRequestReader&&this._fullRequestReader.cancel(x);for(const w of this._rangeRequestReaders.slice(0))w.cancel(x)}};class z{constructor(x){this._stream=x,this._reader=null,this._loaded=0,this._filename=null;const w=x.source;this._withCredentials=w.withCredentials||!1,this._contentLength=w.length,this._headersCapability=(0,c.createPromiseCapability)(),this._disableRange=w.disableRange||!1,this._rangeChunkSize=w.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!w.disableStream,this._isRangeSupported=!w.disableRange,this._headers=ce(this._stream.httpHeaders);const _=w.url;fetch(_,xe(this._headers,this._withCredentials,this._abortController)).then(B=>{if(!(0,e.validateResponseStatus)(B.status))throw(0,e.createResponseStatusError)(B.status,_);this._reader=B.body.getReader(),this._headersCapability.resolve();const k=se=>B.headers.get(se),{allowRangeRequests:C,suggestedLength:X}=(0,e.validateRangeRequestCapabilities)({getResponseHeader:k,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=C,this._contentLength=X||this._contentLength,this._filename=(0,e.extractFilenameFromHeader)(k),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new c.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var x=this;return _asyncToGenerator(function*(){yield x._headersCapability.promise;const{value:w,done:_}=yield x._reader.read();return _?{value:w,done:_}:(x._loaded+=w.byteLength,x.onProgress&&x.onProgress({loaded:x._loaded,total:x._contentLength}),{value:new Uint8Array(w).buffer,done:!1})})()}cancel(x){this._reader&&this._reader.cancel(x),this._abortController&&this._abortController.abort()}}class f{constructor(x,w,_){this._stream=x,this._reader=null,this._loaded=0;const B=x.source;this._withCredentials=B.withCredentials||!1,this._readCapability=(0,c.createPromiseCapability)(),this._isStreamingSupported=!B.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=ce(this._stream.httpHeaders),this._headers.append("Range",`bytes=${w}-${_-1}`);const k=B.url;fetch(k,xe(this._headers,this._withCredentials,this._abortController)).then(C=>{if(!(0,e.validateResponseStatus)(C.status))throw(0,e.createResponseStatusError)(C.status,k);this._readCapability.resolve(),this._reader=C.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var x=this;return _asyncToGenerator(function*(){yield x._readCapability.promise;const{value:w,done:_}=yield x._reader.read();return _?{value:w,done:_}:(x._loaded+=w.byteLength,x.onProgress&&x.onProgress({loaded:x._loaded}),{value:new Uint8Array(w).buffer,done:!1})})()}cancel(x){this._reader&&this._reader.cancel(x),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(ze){var re=__webpack_module_cache__[ze];if(void 0!==re)return re.exports;var oe=__webpack_module_cache__[ze]={exports:{}};return __webpack_modules__[ze](oe,oe.exports,__w_pdfjs_require__),oe.exports}var __webpack_exports__={};return(()=>{var ze=__webpack_exports__;Object.defineProperty(ze,"__esModule",{value:!0}),Object.defineProperty(ze,"AnnotationLayer",{enumerable:!0,get:function(){return e.AnnotationLayer}}),Object.defineProperty(ze,"AnnotationMode",{enumerable:!0,get:function(){return re.AnnotationMode}}),Object.defineProperty(ze,"CMapCompressionType",{enumerable:!0,get:function(){return re.CMapCompressionType}}),Object.defineProperty(ze,"GlobalWorkerOptions",{enumerable:!0,get:function(){return xe.GlobalWorkerOptions}}),Object.defineProperty(ze,"InvalidPDFException",{enumerable:!0,get:function(){return re.InvalidPDFException}}),Object.defineProperty(ze,"LoopbackPort",{enumerable:!0,get:function(){return oe.LoopbackPort}}),Object.defineProperty(ze,"MissingPDFException",{enumerable:!0,get:function(){return re.MissingPDFException}}),Object.defineProperty(ze,"OPS",{enumerable:!0,get:function(){return re.OPS}}),Object.defineProperty(ze,"PDFDataRangeTransport",{enumerable:!0,get:function(){return oe.PDFDataRangeTransport}}),Object.defineProperty(ze,"PDFDateString",{enumerable:!0,get:function(){return c.PDFDateString}}),Object.defineProperty(ze,"PDFWorker",{enumerable:!0,get:function(){return oe.PDFWorker}}),Object.defineProperty(ze,"PasswordResponses",{enumerable:!0,get:function(){return re.PasswordResponses}}),Object.defineProperty(ze,"PermissionFlag",{enumerable:!0,get:function(){return re.PermissionFlag}}),Object.defineProperty(ze,"PixelsPerInch",{enumerable:!0,get:function(){return c.PixelsPerInch}}),Object.defineProperty(ze,"RenderingCancelledException",{enumerable:!0,get:function(){return c.RenderingCancelledException}}),Object.defineProperty(ze,"SVGGraphics",{enumerable:!0,get:function(){return z.SVGGraphics}}),Object.defineProperty(ze,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return re.UNSUPPORTED_FEATURES}}),Object.defineProperty(ze,"UnexpectedResponseException",{enumerable:!0,get:function(){return re.UnexpectedResponseException}}),Object.defineProperty(ze,"Util",{enumerable:!0,get:function(){return re.Util}}),Object.defineProperty(ze,"VerbosityLevel",{enumerable:!0,get:function(){return re.VerbosityLevel}}),Object.defineProperty(ze,"XfaLayer",{enumerable:!0,get:function(){return f.XfaLayer}}),Object.defineProperty(ze,"build",{enumerable:!0,get:function(){return oe.build}}),Object.defineProperty(ze,"createPromiseCapability",{enumerable:!0,get:function(){return re.createPromiseCapability}}),Object.defineProperty(ze,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return re.createValidAbsoluteUrl}}),Object.defineProperty(ze,"getDocument",{enumerable:!0,get:function(){return oe.getDocument}}),Object.defineProperty(ze,"getFilenameFromUrl",{enumerable:!0,get:function(){return c.getFilenameFromUrl}}),Object.defineProperty(ze,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return c.getPdfFilenameFromUrl}}),Object.defineProperty(ze,"getXfaPageViewport",{enumerable:!0,get:function(){return c.getXfaPageViewport}}),Object.defineProperty(ze,"isPdfFile",{enumerable:!0,get:function(){return c.isPdfFile}}),Object.defineProperty(ze,"loadScript",{enumerable:!0,get:function(){return c.loadScript}}),Object.defineProperty(ze,"renderTextLayer",{enumerable:!0,get:function(){return pe.renderTextLayer}}),Object.defineProperty(ze,"shadow",{enumerable:!0,get:function(){return re.shadow}}),Object.defineProperty(ze,"version",{enumerable:!0,get:function(){return oe.version}});var re=__w_pdfjs_require__(1),oe=__w_pdfjs_require__(4),c=__w_pdfjs_require__(5),e=__w_pdfjs_require__(18),xe=__w_pdfjs_require__(12),ce=__w_pdfjs_require__(3),pe=__w_pdfjs_require__(21),z=__w_pdfjs_require__(22),f=__w_pdfjs_require__(20);if(ce.isNodeJS){const{PDFNodeStream:w}=__w_pdfjs_require__(23);(0,oe.setPDFNetworkStreamFactory)(_=>new w(_))}else{const{PDFNetworkStream:w}=__w_pdfjs_require__(26),{PDFFetchStream:_}=__w_pdfjs_require__(27);(0,oe.setPDFNetworkStreamFactory)(B=>(0,c.isValidFetchUrl)(B.url)?new _(B):new w(B))}})(),__webpack_exports__})()},module.exports=oe()},2813:function(ze,re,oe){var c=oe(8926).default;ze.exports=(()=>{"use strict";var e=[,(z,f,R)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DefaultXfaLayerFactory=f.DefaultTextLayerFactory=f.DefaultStructTreeLayerFactory=f.DefaultAnnotationLayerFactory=void 0;var x=R(2),w=R(4),_=R(5),B=R(7),k=R(8),C=R(9);f.DefaultAnnotationLayerFactory=class X{createAnnotationLayerBuilder(T,L,W=null,G="",be=!0,de=w.NullL10n,_e=!1,ye=null,me=null,ve=null,we=null){return new x.AnnotationLayerBuilder({pageDiv:T,pdfPage:L,imageResourcesPath:G,renderForms:be,linkService:new _.SimpleLinkService,l10n:de,annotationStorage:W,enableScripting:_e,hasJSActionsPromise:ye,fieldObjectsPromise:ve,mouseState:me,annotationCanvasMap:we})}};f.DefaultStructTreeLayerFactory=class se{createStructTreeLayerBuilder(T){return new B.StructTreeLayerBuilder({pdfPage:T})}};f.DefaultTextLayerFactory=class j{createTextLayerBuilder(T,L,W,G=!1,be,de){return new k.TextLayerBuilder({textLayerDiv:T,pageIndex:L,viewport:W,enhanceTextSelection:G,eventBus:be,highlighter:de})}};f.DefaultXfaLayerFactory=class S{createXfaLayerBuilder(T,L,W=null,G=null){return new C.XfaLayerBuilder({pageDiv:T,pdfPage:L,annotationStorage:W,linkService:new _.SimpleLinkService,xfaHtml:G})}}},(z,f,R)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.AnnotationLayerBuilder=void 0;var x=R(3),w=R(4);f.AnnotationLayerBuilder=class _{constructor({pageDiv:k,pdfPage:C,linkService:X,downloadManager:se,annotationStorage:j=null,imageResourcesPath:S="",renderForms:A=!0,l10n:T=w.NullL10n,enableScripting:L=!1,hasJSActionsPromise:W=null,fieldObjectsPromise:G=null,mouseState:be=null,annotationCanvasMap:de=null}){this.pageDiv=k,this.pdfPage=C,this.linkService=X,this.downloadManager=se,this.imageResourcesPath=S,this.renderForms=A,this.l10n=T,this.annotationStorage=j,this.enableScripting=L,this._hasJSActionsPromise=W,this._fieldObjectsPromise=G,this._mouseState=be,this._annotationCanvasMap=de,this.div=null,this._cancelled=!1}render(k,C="display"){var X=this;return c(function*(){const[se,j=!1,S=null]=yield Promise.all([X.pdfPage.getAnnotations({intent:C}),X._hasJSActionsPromise,X._fieldObjectsPromise]);if(X._cancelled||0===se.length)return;const A={viewport:k.clone({dontFlip:!0}),div:X.div,annotations:se,page:X.pdfPage,imageResourcesPath:X.imageResourcesPath,renderForms:X.renderForms,linkService:X.linkService,downloadManager:X.downloadManager,annotationStorage:X.annotationStorage,enableScripting:X.enableScripting,hasJSActions:j,fieldObjects:S,mouseState:X._mouseState,annotationCanvasMap:X._annotationCanvasMap};X.div?x.AnnotationLayer.update(A):(X.div=document.createElement("div"),X.div.className="annotationLayer",X.pageDiv.appendChild(X.div),A.div=X.div,x.AnnotationLayer.render(A),X.l10n.translate(X.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},z=>{let f;f="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:oe(6036),z.exports=f},(z,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.NullL10n=void 0,f.fixupLangCode=function _(C){return w[null==C?void 0:C.toLowerCase()]||C},f.getL10nFallback=x;const R={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function x(C,X){switch(C){case"find_match_count":C=`find_match_count[${1===X.total?"one":"other"}]`;break;case"find_match_count_limit":C=`find_match_count_limit[${1===X.limit?"one":"other"}]`}return R[C]||""}const w={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};f.NullL10n={getLanguage:()=>c(function*(){return"en-us"})(),getDirection:()=>c(function*(){return"ltr"})(),get:(C,X=null,se=x(C,X))=>c(function*(){return function B(C,X){return X?C.replace(/\{\{\s*(\w+)\s*\}\}/g,(se,j)=>j in X?X[j]:"{{"+j+"}}"):C}(se,X)})(),translate:C=>c(function*(){})()}},(z,f,R)=>{var X,se,ji,S,va;Object.defineProperty(f,"__esModule",{value:!0}),f.SimpleLinkService=f.PDFLinkService=f.LinkTarget=void 0;var x=R(6);const _={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function B(L,{url:W,target:G,rel:be,enabled:de=!0}={}){if(!W||"string"!=typeof W)throw new Error('A valid "url" parameter must provided.');const _e=(0,x.removeNullCharacters)(W);de?L.href=L.title=_e:(L.href="",L.title=`Disabled: ${_e}`,L.onclick=()=>!1);let ye="";switch(G){case _.NONE:break;case _.SELF:ye="_self";break;case _.BLANK:ye="_blank";break;case _.PARENT:ye="_parent";break;case _.TOP:ye="_top"}L.target=ye,L.rel="string"==typeof be?be:"noopener noreferrer nofollow"}f.LinkTarget=_;const T=class{constructor({eventBus:W,externalLinkTarget:G=null,externalLinkRel:be=null,ignoreDestinationZoom:de=!1}={}){Et(this,se),Et(this,X,new Map),this.eventBus=W,this.externalLinkTarget=G,this.externalLinkRel=be,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=de,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(W,G=null){this.baseUrl=G,this.pdfDocument=W,ut(this,X).clear()}setViewer(W){this.pdfViewer=W}setHistory(W){this.pdfHistory=W}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(W){this.pdfViewer.currentPageNumber=W}get rotation(){return this.pdfViewer.pagesRotation}set rotation(W){this.pdfViewer.pagesRotation=W}goToDestination(W){var G=this;return c(function*(){var _e;if(!G.pdfDocument)return;let be,de;"string"==typeof W?(be=W,de=yield G.pdfDocument.getDestination(W)):(be=null,de=yield W),Array.isArray(de)?Wt(_e=G,se,ji).call(_e,W,be,de):console.error(`PDFLinkService.goToDestination: "${de}" is not a valid destination array, for dest="${W}".`)})()}goToPage(W){if(!this.pdfDocument)return;const G="string"==typeof W&&this.pdfViewer.pageLabelToPageNumber(W)||0|W;Number.isInteger(G)&&G>0&&G<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(G)),this.pdfViewer.scrollPageIntoView({pageNumber:G})):console.error(`PDFLinkService.goToPage: "${W}" is not a valid page.`)}addLinkAttributes(W,G,be=!1){B(W,{url:G,target:be?_.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(W){if("string"==typeof W){if(W.length>0)return this.getAnchorUrl("#"+escape(W))}else if(Array.isArray(W)){const G=JSON.stringify(W);if(G.length>0)return this.getAnchorUrl("#"+escape(G))}return this.getAnchorUrl("")}getAnchorUrl(W){return(this.baseUrl||"")+W}setHash(W){var de;if(!this.pdfDocument)return;let G,be;if(W.includes("=")){const _e=(0,x.parseQueryString)(W);if(_e.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:_e.get("search").replace(/"/g,""),phraseSearch:"true"===_e.get("phrase")}),_e.has("page")&&(G=0|_e.get("page")||1),_e.has("zoom")){const ye=_e.get("zoom").split(","),me=ye[0],ve=parseFloat(me);me.includes("Fit")?"Fit"===me||"FitB"===me?be=[null,{name:me}]:"FitH"===me||"FitBH"===me||"FitV"===me||"FitBV"===me?be=[null,{name:me},ye.length>1?0|ye[1]:null]:"FitR"===me?5!==ye.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):be=[null,{name:me},0|ye[1],0|ye[2],0|ye[3],0|ye[4]]:console.error(`PDFLinkService.setHash: "${me}" is not a valid zoom value.`):be=[null,{name:"XYZ"},ye.length>1?0|ye[1]:null,ye.length>2?0|ye[2]:null,ve?ve/100:me]}be?this.pdfViewer.scrollPageIntoView({pageNumber:G||this.page,destArray:be,allowNegativeOffset:!0}):G&&(this.page=G),_e.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:_e.get("pagemode")}),_e.has("nameddest")&&this.goToDestination(_e.get("nameddest"))}else{be=unescape(W);try{be=JSON.parse(be),Array.isArray(be)||(be=be.toString())}catch(_e){}if("string"==typeof be||Wt(de=T,S,va).call(de,be))return void this.goToDestination(be);console.error(`PDFLinkService.setHash: "${unescape(W)}" is not a valid destination.`)}}executeNamedAction(W){var G,be;switch(W){case"GoBack":null==(G=this.pdfHistory)||G.back();break;case"GoForward":null==(be=this.pdfHistory)||be.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:W})}cachePageRef(W,G){if(!G)return;const be=0===G.gen?`${G.num}R`:`${G.num}R${G.gen}`;ut(this,X).set(be,W)}_cachedPageNumber(W){if(!W)return null;const G=0===W.gen?`${W.num}R`:`${W.num}R${W.gen}`;return ut(this,X).get(G)||null}isPageVisible(W){return this.pdfViewer.isPageVisible(W)}isPageCached(W){return this.pdfViewer.isPageCached(W)}};let k=T;X=new WeakMap,se=new WeakSet,ji=function(W,G=null,be){const de=be[0];let _e;if("object"==typeof de&&null!==de){if(_e=this._cachedPageNumber(de),!_e)return void this.pdfDocument.getPageIndex(de).then(ye=>{this.cachePageRef(ye+1,de),Wt(this,se,ji).call(this,W,G,be)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${de}" is not a valid page reference, for dest="${W}".`)})}else{if(!Number.isInteger(de))return void console.error(`PDFLinkService.#goToDestinationHelper: "${de}" is not a valid destination reference, for dest="${W}".`);_e=de+1}!_e||_e<1||_e>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${_e}" is not a valid page number, for dest="${W}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:G,explicitDest:be,pageNumber:_e})),this.pdfViewer.scrollPageIntoView({pageNumber:_e,destArray:be,ignoreDestinationZoom:this._ignoreDestinationZoom}))},S=new WeakSet,va=function(W){if(!Array.isArray(W))return!1;const G=W.length;if(G<2)return!1;const be=W[0];if(!("object"==typeof be&&Number.isInteger(be.num)&&Number.isInteger(be.gen)||Number.isInteger(be)&&be>=0))return!1;const de=W[1];if("object"!=typeof de||"string"!=typeof de.name)return!1;let _e=!0;switch(de.name){case"XYZ":if(5!==G)return!1;break;case"Fit":case"FitB":return 2===G;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==G)return!1;break;case"FitR":if(6!==G)return!1;_e=!1;break;default:return!1}for(let ye=2;ye<G;ye++){const me=W[ye];if(!("number"==typeof me||_e&&null===me))return!1}return!0},Et(k,S),f.PDFLinkService=k;f.SimpleLinkService=class C{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(W){}get rotation(){return 0}set rotation(W){}goToDestination(W){return c(function*(){})()}goToPage(W){}addLinkAttributes(W,G,be=!1){B(W,{url:G,enabled:this.externalLinkEnabled})}getDestinationHash(W){return"#"}getAnchorUrl(W){return"#"}setHash(W){}executeNamedAction(W){}cachePageRef(W,G){}isPageVisible(W){return!0}isPageCached(W){return!0}}},(z,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.animationStarted=f.VERTICAL_PADDING=f.UNKNOWN_SCALE=f.TextLayerMode=f.SpreadMode=f.SidebarView=f.ScrollMode=f.SCROLLBAR_PADDING=f.RenderingStates=f.RendererType=f.ProgressBar=f.PresentationModeState=f.OutputScale=f.MIN_SCALE=f.MAX_SCALE=f.MAX_AUTO_SCALE=f.DEFAULT_SCALE_VALUE=f.DEFAULT_SCALE_DELTA=f.DEFAULT_SCALE=f.AutoPrintRegExp=void 0,f.apiPageLayoutToViewerModes=function He(V){let Q=G.VERTICAL,Ee=be.NONE;switch(V){case"SinglePage":Q=G.PAGE;break;case"OneColumn":break;case"TwoPageLeft":Q=G.PAGE;case"TwoColumnLeft":Ee=be.ODD;break;case"TwoPageRight":Q=G.PAGE;case"TwoColumnRight":Ee=be.EVEN}return{scrollMode:Q,spreadMode:Ee}},f.apiPageModeToSidebarView=function tt(V){switch(V){case"UseNone":return T.NONE;case"UseThumbs":return T.THUMBS;case"UseOutlines":return T.OUTLINE;case"UseAttachments":return T.ATTACHMENTS;case"UseOC":return T.LAYERS}return T.NONE},f.approximateFraction=function N(V){if(Math.floor(V)===V)return[V,1];const Q=1/V;if(Q>8)return[1,8];if(Math.floor(Q)===Q)return[1,Q];const Y=V>1?Q:V;let Ke,fe=0,Te=1,Ve=1,qe=1;for(;;){const it=fe+Ve,at=Te+qe;if(at>8)break;Y<=it/at?(Ve=it,qe=at):(fe=it,Te=at)}return Ke=Y-fe/Te<Ve/qe-Y?Y===V?[fe,Te]:[Te,fe]:Y===V?[Ve,qe]:[qe,Ve],Ke},f.backtrackBeforeAllVisibleElements=O,f.binarySearchFirstItem=J,f.getActiveOrFocusedElement=function We(){let V=document,Q=V.activeElement||V.querySelector(":focus");for(;null==Q?void 0:Q.shadowRoot;)V=Q.shadowRoot,Q=V.activeElement||V.querySelector(":focus");return Q},f.getPageSizeInches=function ie({view:V,userUnit:Q,rotate:Ee}){const[Y,fe,Te,Ve]=V,qe=Ee%180!=0,Ke=(Te-Y)/72*Q,it=(Ve-fe)/72*Q;return{width:qe?it:Ke,height:qe?Ke:it}},f.getVisibleElements=function ne({scrollEl:V,views:Q,sortByVisibility:Ee=!1,horizontal:Y=!1,rtl:fe=!1}){const Te=V.scrollTop,Ve=Te+V.clientHeight,qe=V.scrollLeft,Ke=qe+V.clientWidth;const lt=[],gt=new Set,ot=Q.length;let ft=J(Q,Y?function at(Le){const Be=Le.div,nt=Be.offsetLeft+Be.clientLeft;return fe?nt<Ke:nt+Be.clientWidth>qe}:function it(Le){const Be=Le.div;return Be.offsetTop+Be.clientTop+Be.clientHeight>Te});ft>0&&ft<ot&&!Y&&(ft=O(ft,Q,Te));let Ft=Y?Ke:-1;for(let Le=ft;Le<ot;Le++){const Be=Q[Le],nt=Be.div,ht=nt.offsetLeft+nt.clientLeft,Ct=nt.offsetTop+nt.clientTop,wt=nt.clientWidth,Vt=nt.clientHeight,Ut=ht+wt,qt=Ct+Vt;if(-1===Ft)qt>=Ve&&(Ft=qt);else if((Y?ht:Ct)>Ft)break;if(qt<=Te||Ct>=Ve||Ut<=qe||ht>=Ke)continue;const Nt=Math.max(0,Te-Ct)+Math.max(0,qt-Ve),ni=(wt-(Math.max(0,qe-ht)+Math.max(0,Ut-Ke)))/wt;lt.push({id:Be.id,x:ht,y:Ct,view:Be,percent:(Vt-Nt)/Vt*ni*100|0,widthPercent:100*ni|0}),gt.add(Be.id)}const Mt=lt[0],Ue=lt[lt.length-1];return Ee&&lt.sort(function(Le,Be){const nt=Le.percent-Be.percent;return Math.abs(nt)>.001?-nt:Le.id-Be.id}),{first:Mt,last:Ue,views:lt,ids:gt}},f.isPortraitOrientation=function Fe(V){return V.width<=V.height},f.isValidRotation=function ge(V){return Number.isInteger(V)&&V%90==0},f.isValidScrollMode=function q(V){return Number.isInteger(V)&&Object.values(G).includes(V)&&V!==G.UNKNOWN},f.isValidSpreadMode=function Ae(V){return Number.isInteger(V)&&Object.values(be).includes(V)&&V!==be.UNKNOWN},f.noContextMenuHandler=function v(V){V.preventDefault()},f.normalizeWheelEventDelta=function H(V){let Q=U(V);return 0===V.deltaMode?Q/=900:1===V.deltaMode&&(Q/=30),Q},f.normalizeWheelEventDirection=U,f.parseQueryString=function ve(V){const Q=new Map;for(const[Ee,Y]of new URLSearchParams(V))Q.set(Ee.toLowerCase(),Y);return Q},f.removeNullCharacters=function ke(V,Q=!1){return"string"!=typeof V?(console.error("The argument must be a string."),V):(Q&&(V=V.replace(ue," ")),V.replace(we,""))},f.roundToDivide=function F(V,Q){const Ee=V%Q;return 0===Ee?V:Math.round(V-Ee+Q)},f.scrollIntoView=function ye(V,Q,Ee=!1){let Y=V.offsetParent;if(!Y)return void console.error("offsetParent is not set -- cannot scroll");let fe=V.offsetTop+V.clientTop,Te=V.offsetLeft+V.clientLeft;for(;Y.clientHeight===Y.scrollHeight&&Y.clientWidth===Y.scrollWidth||Ee&&(Y.classList.contains("markedContent")||"hidden"===getComputedStyle(Y).overflow);)if(fe+=Y.offsetTop,Te+=Y.offsetLeft,Y=Y.offsetParent,!Y)return;Q&&(void 0!==Q.top&&(fe+=Q.top),void 0!==Q.left&&(Te+=Q.left,Y.scrollLeft=Te)),Y.scrollTop=fe},f.watchScroll=function me(V,Q){const Ee=function(Te){fe||(fe=window.requestAnimationFrame(function(){fe=null;const qe=V.scrollLeft,Ke=Y.lastX;qe!==Ke&&(Y.right=qe>Ke),Y.lastX=qe;const it=V.scrollTop,at=Y.lastY;it!==at&&(Y.down=it>at),Y.lastY=it,Q(Y)}))},Y={right:!0,down:!0,lastX:V.scrollLeft,lastY:V.scrollTop,_eventHandler:Ee};let fe=null;return V.addEventListener("scroll",Ee,!0),Y},f.DEFAULT_SCALE_VALUE="auto",f.DEFAULT_SCALE=1,f.DEFAULT_SCALE_DELTA=1.1,f.MIN_SCALE=.1,f.MAX_SCALE=10,f.UNKNOWN_SCALE=0,f.MAX_AUTO_SCALE=1.25,f.SCROLLBAR_PADDING=40,f.VERTICAL_PADDING=5;f.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},f.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const T={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};f.SidebarView=T,f.RendererType={CANVAS:"canvas",SVG:"svg"},f.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const G={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};f.ScrollMode=G;const be={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};f.SpreadMode=be,f.AutoPrintRegExp=/\bprint\s*\(/;f.OutputScale=class _e{constructor(){const Q=window.devicePixelRatio||1;this.sx=Q,this.sy=Q}get scaled(){return 1!==this.sx||1!==this.sy}};const we=/\x00/g,ue=/[\x01-\x1F]/g;function J(V,Q,Ee=0){let Y=Ee,fe=V.length-1;if(fe<0||!Q(V[fe]))return V.length;if(Q(V[Y]))return Y;for(;Y<fe;){const Te=Y+fe>>1;Q(V[Te])?fe=Te:Y=Te+1}return Y}function O(V,Q,Ee){if(V<2)return V;let Y=Q[V].div,fe=Y.offsetTop+Y.clientTop;fe>=Ee&&(Y=Q[V-1].div,fe=Y.offsetTop+Y.clientTop);for(let Te=V-2;Te>=0&&(Y=Q[Te].div,!(Y.offsetTop+Y.clientTop+Y.clientHeight<=fe));--Te)V=Te;return V}function U(V){let Q=Math.hypot(V.deltaX,V.deltaY);const Ee=Math.atan2(V.deltaY,V.deltaX);return-.25*Math.PI<Ee&&Ee<.75*Math.PI&&(Q=-Q),Q}const Ie=new Promise(function(V){window.requestAnimationFrame(V)});f.animationStarted=Ie;f.ProgressBar=class Oe{constructor(Q,{height:Ee,width:Y,units:fe}={}){this.visible=!0,this.div=document.querySelector(Q+" .progress"),this.bar=this.div.parentNode,this.height=Ee||100,this.width=Y||100,this.units=fe||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(Q){this._indeterminate=isNaN(Q),this._percent=function Re(V,Q,Ee){return Math.min(Math.max(V,Q),Ee)}(Q,0,100),this._updateBar()}setWidth(Q){if(!Q)return;const Y=Q.parentNode.offsetWidth-Q.offsetWidth;Y>0&&document.documentElement.style.setProperty("--loadingBar-end-offset",`${Y}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(z,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.StructTreeLayerBuilder=void 0;const R={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},x=/^H(\d+)$/;f.StructTreeLayerBuilder=class w{constructor({pdfPage:B}){this.pdfPage=B}render(B){return this._walk(B)}_setAttributes(B,k){void 0!==B.alt&&k.setAttribute("aria-label",B.alt),void 0!==B.id&&k.setAttribute("aria-owns",B.id),void 0!==B.lang&&k.setAttribute("lang",B.lang)}_walk(B){if(!B)return null;const k=document.createElement("span");if("role"in B){const{role:C}=B,X=C.match(x);X?(k.setAttribute("role","heading"),k.setAttribute("aria-level",X[1])):R[C]&&k.setAttribute("role",R[C])}if(this._setAttributes(B,k),B.children)if(1===B.children.length&&"id"in B.children[0])this._setAttributes(B.children[0],k);else for(const C of B.children)k.appendChild(this._walk(C));return k}}},(z,f,R)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TextLayerBuilder=void 0;var x=R(3);f.TextLayerBuilder=class _{constructor({textLayerDiv:k,eventBus:C,pageIndex:X,viewport:se,highlighter:j=null,enhanceTextSelection:S=!1}){this.textLayerDiv=k,this.eventBus=C,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=X+1,this.viewport=se,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=j,this.enhanceTextSelection=S,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const k=document.createElement("div");k.className="endOfContent",this.textLayerDiv.appendChild(k)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(k=0){var X;if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,null==(X=this.highlighter)||X.setTextMapping(this.textDivs,this.textContentItemsStr);const C=document.createDocumentFragment();this.textLayerRenderTask=(0,x.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:C,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:k,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var se;this.textLayerDiv.appendChild(C),this._finishRendering(),null==(se=this.highlighter)||se.enable()},function(se){})}cancel(){var k;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null==(k=this.highlighter)||k.disable()}setTextContentStream(k){this.cancel(),this.textContentStream=k}setTextContent(k){this.cancel(),this.textContent=k}_bindMouse(){const k=this.textLayerDiv;let C=null;k.addEventListener("mousedown",X=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(C&&(clearTimeout(C),C=null));const se=k.querySelector(".endOfContent");if(!se)return;let j=X.target!==k;if(j=j&&"none"!==window.getComputedStyle(se).getPropertyValue("-moz-user-select"),j){const S=k.getBoundingClientRect(),A=Math.max(0,(X.pageY-S.top)/S.height);se.style.top=(100*A).toFixed(2)+"%"}se.classList.add("active")}),k.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(C=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),C=null},300));const X=k.querySelector(".endOfContent");!X||(X.style.top="",X.classList.remove("active"))})}}},(z,f,R)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.XfaLayerBuilder=void 0;var x=R(3);f.XfaLayerBuilder=class w{constructor({pageDiv:B,pdfPage:k,annotationStorage:C=null,linkService:X,xfaHtml:se=null}){this.pageDiv=B,this.pdfPage=k,this.annotationStorage=C,this.linkService=X,this.xfaHtml=se,this.div=null,this._cancelled=!1}render(B,k="display"){if("print"===k){const C={viewport:B.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:k},X=document.createElement("div");this.pageDiv.appendChild(X),C.div=X;const se=x.XfaLayer.render(C);return Promise.resolve(se)}return this.pdfPage.getXfa().then(C=>{if(this._cancelled||!C)return{textDivs:[]};const X={viewport:B.clone({dontFlip:!0}),div:this.div,xfaHtml:C,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:k};return this.div?x.XfaLayer.update(X):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),X.div=this.div,x.XfaLayer.render(X))}).catch(C=>{console.error(C)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(z,f,R)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFViewer=f.PDFSinglePageViewer=void 0;var x=R(6),w=R(11);f.PDFViewer=class _ extends w.BaseViewer{};f.PDFSinglePageViewer=class B extends w.BaseViewer{_resetView(){super._resetView(),this._scrollMode=x.ScrollMode.PAGE,this._spreadMode=x.SpreadMode.NONE}set scrollMode(C){}_updateScrollMode(){}set spreadMode(C){}_updateSpreadMode(){}}},(z,f,R)=>{var de,_e,ye,Xi,ve,we,ue,ke,J,N,F,ie,ba,ne,xa,U,Li,ge,_a,Ae,ya,Ie,Aa,Oe,Ca;Object.defineProperty(f,"__esModule",{value:!0}),f.PagesCountLimit=f.PDFPageViewBuffer=f.BaseViewer=void 0;var x=R(3),w=R(6),_=R(2),B=R(4),k=R(12),C=R(14),X=R(5),se=R(7),j=R(15),S=R(8),A=R(9);const L="enablePermissions",W={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};f.PagesCountLimit=W;class G{constructor(V){Et(this,ye),Et(this,de,new Set),Et(this,_e,0),Dt(this,_e,V)}push(V){const Q=ut(this,de);Q.has(V)&&Q.delete(V),Q.add(V),Q.size>ut(this,_e)&&Wt(this,ye,Xi).call(this)}resize(V,Q=null){Dt(this,_e,V);const Ee=ut(this,de);if(Q){const Y=Ee.size;let fe=1;for(const Te of Ee)if(Q.has(Te.id)&&(Ee.delete(Te),Ee.add(Te)),++fe>Y)break}for(;Ee.size>ut(this,_e);)Wt(this,ye,Xi).call(this)}has(V){return ut(this,de).has(V)}[Symbol.iterator](){return ut(this,de).keys()}}de=new WeakMap,_e=new WeakMap,ye=new WeakSet,Xi=function(){const V=ut(this,de).keys().next().value;null==V||V.destroy(),ut(this,de).delete(V)},f.PDFPageViewBuffer=G;const He=class{constructor(V){var Ee,Y,fe,Te;if(Et(this,ie),Et(this,ne),Et(this,U),Et(this,ge),Et(this,Ae),Et(this,Ie),Et(this,Oe),Et(this,ve,null),Et(this,we,x.AnnotationMode.ENABLE_FORMS),Et(this,ue,null),Et(this,ke,!1),Et(this,J,0),Et(this,N,null),Et(this,F,null),this.constructor===He)throw new Error("Cannot initialize BaseViewer.");const Q="2.13.216";if(x.version!==Q)throw new Error(`The API version "${x.version}" does not match the Viewer version "${Q}".`);if(this.container=V.container,this.viewer=V.viewer||V.container.firstElementChild,"DIV"!==(null==(Ee=this.container)?void 0:Ee.tagName.toUpperCase())||"DIV"!==(null==(Y=this.viewer)?void 0:Y.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=V.eventBus,this.linkService=V.linkService||new X.SimpleLinkService,this.downloadManager=V.downloadManager||null,this.findController=V.findController||null,this._scriptingManager=V.scriptingManager||null,this.removePageBorders=V.removePageBorders||!1,this.textLayerMode=null!=(fe=V.textLayerMode)?fe:w.TextLayerMode.ENABLE,Dt(this,we,null!=(Te=V.annotationMode)?Te:x.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=V.imageResourcesPath||"",this.enablePrintAutoRotate=V.enablePrintAutoRotate||!1,this.renderer=V.renderer||w.RendererType.CANVAS,this.useOnlyCssZoom=V.useOnlyCssZoom||!1,this.maxCanvasPixels=V.maxCanvasPixels,this.l10n=V.l10n||B.NullL10n,Dt(this,ke,V.enablePermissions||!1),this.defaultRenderingQueue=!V.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new C.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=V.renderingQueue,this._doc=document.documentElement,this.scroll=(0,w.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=w.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(V){return this._pages[V]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(V){return null==V?void 0:V.pdfPage})}get renderForms(){return ut(this,we)===x.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(V){if(!Number.isInteger(V))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(V,!0)||console.error(`currentPageNumber: "${V}" is not a valid page.`)}_setCurrentPageNumber(V,Q=!1){var Y,fe;if(this._currentPageNumber===V)return Q&&this._resetCurrentPageView(),!0;if(!(0<V&&V<=this.pagesCount))return!1;const Ee=this._currentPageNumber;return this._currentPageNumber=V,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:V,pageLabel:null!=(fe=null==(Y=this._pageLabels)?void 0:Y[V-1])?fe:null,previous:Ee}),Q&&this._resetCurrentPageView(),!0}get currentPageLabel(){var V,Q;return null!=(Q=null==(V=this._pageLabels)?void 0:V[this._currentPageNumber-1])?Q:null}set currentPageLabel(V){if(!this.pdfDocument)return;let Q=0|V;if(this._pageLabels){const Ee=this._pageLabels.indexOf(V);Ee>=0&&(Q=Ee+1)}this._setCurrentPageNumber(Q,!0)||console.error(`currentPageLabel: "${V}" is not a valid page.`)}get currentScale(){return this._currentScale!==w.UNKNOWN_SCALE?this._currentScale:w.DEFAULT_SCALE}set currentScale(V){if(isNaN(V))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(V,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(V){!this.pdfDocument||this._setScale(V,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(V){if(!(0,w.isValidRotation)(V))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((V%=360)<0&&(V+=360),this._pagesRotation===V))return;this._pagesRotation=V;const Q=this._currentPageNumber,Ee={rotation:V};for(const Y of this._pages)Y.update(Ee);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:V,pageNumber:Q}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(V){var Q=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=V,!V)return;const Ee=V.isPureXfa,Y=V.numPages,fe=V.getPage(1),Te=V.getOptionalContentConfig(),Ve=ut(this,ke)?V.getPermissions():Promise.resolve();if(Y>W.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const qe=this._scrollMode=w.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:qe})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:Y})},()=>{}),this._onBeforeDraw=qe=>{const Ke=this._pages[qe.pageNumber-1];!Ke||ut(this,ve).push(Ke)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=qe=>{qe.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:qe.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,ut(this,F)&&(document.removeEventListener("visibilitychange",ut(this,F)),Dt(this,F,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([fe,Ve]).then(([qe,Ke])=>{if(V!==this.pdfDocument)return;this._firstPageCapability.resolve(qe),this._optionalContentConfigPromise=Te,Wt(this,ie,ba).call(this,Ke);const it=this._scrollMode===w.ScrollMode.PAGE?null:this.viewer,at=this.currentScale,lt=qe.getViewport({scale:at*x.PixelsPerInch.PDF_TO_CSS_UNITS}),gt=this.textLayerMode===w.TextLayerMode.DISABLE||Ee?null:this,ot=ut(this,we)!==x.AnnotationMode.DISABLE?this:null,ft=Ee?this:null;for(let Mt=1;Mt<=Y;++Mt){const Ue=new k.PDFPageView({container:it,eventBus:this.eventBus,id:Mt,scale:at,defaultViewport:lt.clone(),optionalContentConfigPromise:Te,renderingQueue:this.renderingQueue,textLayerFactory:gt,textLayerMode:this.textLayerMode,annotationLayerFactory:ot,annotationMode:ut(this,we),xfaLayerFactory:ft,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(Ue)}const Ft=this._pages[0];Ft&&(Ft.setPdfPage(qe),this.linkService.cachePageRef(1,qe.ref)),this._scrollMode===w.ScrollMode.PAGE?Wt(this,U,Li).call(this):this._spreadMode!==w.SpreadMode.NONE&&this._updateSpreadMode(),Wt(this,ne,xa).call(this).then(c(function*(){if(Q.findController&&Q.findController.setDocument(V),Q._scriptingManager&&Q._scriptingManager.setDocument(V),V.loadingParams.disableAutoFetch||Y>W.FORCE_LAZY_PAGE_INIT)return void Q._pagesCapability.resolve();let Mt=Y-1;if(Mt<=0)Q._pagesCapability.resolve();else for(let Ue=2;Ue<=Y;++Ue){const Le=V.getPage(Ue).then(Be=>{const nt=Q._pages[Ue-1];nt.pdfPage||nt.setPdfPage(Be),Q.linkService.cachePageRef(Ue,Be.ref),0==--Mt&&Q._pagesCapability.resolve()},Be=>{console.error(`Unable to get page ${Ue} to initialize viewer`,Be),0==--Mt&&Q._pagesCapability.resolve()});Ue%W.PAUSE_EAGER_PAGE_INIT==0&&(yield Le)}})),this.eventBus.dispatch("pagesinit",{source:this}),V.getMetadata().then(({info:Mt})=>{V===this.pdfDocument&&Mt.Language&&(this.viewer.lang=Mt.Language)}),this.defaultRenderingQueue&&this.update()}).catch(qe=>{console.error("Unable to initialize viewer",qe),this._pagesCapability.reject(qe)})}setPageLabels(V){var Q,Ee;if(this.pdfDocument){V?Array.isArray(V)&&this.pdfDocument.numPages===V.length?this._pageLabels=V:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let Y=0,fe=this._pages.length;Y<fe;Y++)this._pages[Y].setPageLabel(null!=(Ee=null==(Q=this._pageLabels)?void 0:Q[Y])?Ee:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=w.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Dt(this,ve,new G(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,x.createPromiseCapability)(),this._onePageRenderedCapability=(0,x.createPromiseCapability)(),this._pagesCapability=(0,x.createPromiseCapability)(),this._scrollMode=w.ScrollMode.VERTICAL,this._previousScrollMode=w.ScrollMode.UNKNOWN,this._spreadMode=w.SpreadMode.NONE,Dt(this,N,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),ut(this,F)&&(document.removeEventListener("visibilitychange",ut(this,F)),Dt(this,F,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(L),null!==ut(this,ue)&&(Dt(this,we,ut(this,ue)),Dt(this,ue,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:V,pageSpot:Q=null,pageNumber:Ee=null}){if(this._scrollMode===w.ScrollMode.PAGE&&(Ee&&this._setCurrentPageNumber(Ee),Wt(this,U,Li).call(this),this.update()),!Q&&!this.isInPresentationMode){const Y=V.offsetLeft+V.clientLeft,fe=Y+V.clientWidth,{scrollLeft:Te,clientWidth:Ve}=this.container;(this._scrollMode===w.ScrollMode.HORIZONTAL||Y<Te||fe>Te+Ve)&&(Q={left:0,top:0})}(0,w.scrollIntoView)(V,Q)}_setScaleUpdatePages(V,Q,Ee=!1,Y=!1){if(this._currentScaleValue=Q.toString(),Wt(this,ge,_a).call(this,V))return void(Y&&this.eventBus.dispatch("scalechanging",{source:this,scale:V,presetValue:Q}));this._doc.style.setProperty("--zoom-factor",V),this._doc.style.setProperty("--viewport-scale-factor",V*x.PixelsPerInch.PDF_TO_CSS_UNITS);const fe={scale:V};for(const Te of this._pages)Te.update(fe);if(this._currentScale=V,!Ee){let Ve,Te=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(Te=this._location.pageNumber,Ve=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:Te,destArray:Ve,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:V,presetValue:Y?Q:void 0}),this.defaultRenderingQueue&&this.update(),Dt(this,J,this.container.clientHeight)}get _pageWidthScaleFactor(){return this._spreadMode!==w.SpreadMode.NONE&&this._scrollMode!==w.ScrollMode.HORIZONTAL?2:1}_setScale(V,Q=!1){let Ee=parseFloat(V);if(Ee>0)this._setScaleUpdatePages(Ee,V,Q,!1);else{const Y=this._pages[this._currentPageNumber-1];if(!Y)return;let fe=w.SCROLLBAR_PADDING,Te=w.VERTICAL_PADDING;this.isInPresentationMode?fe=Te=4:this.removePageBorders&&(fe=Te=0),this._scrollMode===w.ScrollMode.HORIZONTAL&&([fe,Te]=[Te,fe]);const Ve=(this.container.clientWidth-fe)/Y.width*Y.scale/this._pageWidthScaleFactor,qe=(this.container.clientHeight-Te)/Y.height*Y.scale;switch(V){case"page-actual":Ee=1;break;case"page-width":Ee=Ve;break;case"page-height":Ee=qe;break;case"page-fit":Ee=Math.min(Ve,qe);break;case"auto":const Ke=(0,w.isPortraitOrientation)(Y)?Ve:Math.min(qe,Ve);Ee=Math.min(w.MAX_AUTO_SCALE,Ke);break;default:return void console.error(`_setScale: "${V}" is an unknown zoom value.`)}this._setScaleUpdatePages(Ee,V,Q,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}pageLabelToPageNumber(V){if(!this._pageLabels)return null;const Q=this._pageLabels.indexOf(V);return Q<0?null:Q+1}scrollPageIntoView({pageNumber:V,destArray:Q=null,allowNegativeOffset:Ee=!1,ignoreDestinationZoom:Y=!1}){if(!this.pdfDocument)return;const fe=Number.isInteger(V)&&this._pages[V-1];if(!fe)return void console.error(`scrollPageIntoView: "${V}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!Q)return void this._setCurrentPageNumber(V,!0);let it,at,Te=0,Ve=0,qe=0,Ke=0;const lt=fe.rotation%180!=0,gt=(lt?fe.height:fe.width)/fe.scale/x.PixelsPerInch.PDF_TO_CSS_UNITS,ot=(lt?fe.width:fe.height)/fe.scale/x.PixelsPerInch.PDF_TO_CSS_UNITS;let ft=0;switch(Q[1].name){case"XYZ":Te=Q[2],Ve=Q[3],ft=Q[4],Te=null!==Te?Te:0,Ve=null!==Ve?Ve:ot;break;case"Fit":case"FitB":ft="page-fit";break;case"FitH":case"FitBH":Ve=Q[2],ft="page-width",null===Ve&&this._location?(Te=this._location.left,Ve=this._location.top):("number"!=typeof Ve||Ve<0)&&(Ve=ot);break;case"FitV":case"FitBV":Te=Q[2],qe=gt,Ke=ot,ft="page-height";break;case"FitR":Te=Q[2],Ve=Q[3],qe=Q[4]-Te,Ke=Q[5]-Ve,it=(this.container.clientWidth-(this.removePageBorders?0:w.SCROLLBAR_PADDING))/qe/x.PixelsPerInch.PDF_TO_CSS_UNITS,at=(this.container.clientHeight-(this.removePageBorders?0:w.VERTICAL_PADDING))/Ke/x.PixelsPerInch.PDF_TO_CSS_UNITS,ft=Math.min(Math.abs(it),Math.abs(at));break;default:return void console.error(`scrollPageIntoView: "${Q[1].name}" is not a valid destination type.`)}if(Y||(ft&&ft!==this._currentScale?this.currentScaleValue=ft:this._currentScale===w.UNKNOWN_SCALE&&(this.currentScaleValue=w.DEFAULT_SCALE_VALUE)),"page-fit"===ft&&!Q[4])return void this._scrollIntoView({pageDiv:fe.div,pageNumber:V});const Ft=[fe.viewport.convertToViewportPoint(Te,Ve),fe.viewport.convertToViewportPoint(Te+qe,Ve+Ke)];let Mt=Math.min(Ft[0][0],Ft[1][0]),Ue=Math.min(Ft[0][1],Ft[1][1]);Ee||(Mt=Math.max(Mt,0),Ue=Math.max(Ue,0)),this._scrollIntoView({pageDiv:fe.div,pageSpot:{left:Mt,top:Ue},pageNumber:V})}_updateLocation(V){const Q=this._currentScale,Ee=this._currentScaleValue,Y=parseFloat(Ee)===Q?Math.round(1e4*Q)/100:Ee,fe=V.id;let Te="#page="+fe;Te+="&zoom="+Y;const qe=this.container,Ke=this._pages[fe-1].getPagePoint(qe.scrollLeft-V.x,qe.scrollTop-V.y),it=Math.round(Ke[0]),at=Math.round(Ke[1]);Te+=","+it+","+at,this._location={pageNumber:fe,scale:Y,top:at,left:it,rotation:this._pagesRotation,pdfOpenParams:Te}}update(){const V=this._getVisiblePages(),Q=V.views,Ee=Q.length;if(0===Ee)return;const Y=Math.max(10,2*Ee+1);if(ut(this,ve).resize(Y,V.ids),this.renderingQueue.renderHighestPriority(V),!this.isInPresentationMode){const fe=this._spreadMode===w.SpreadMode.NONE&&(this._scrollMode===w.ScrollMode.PAGE||this._scrollMode===w.ScrollMode.VERTICAL);let Te=this._currentPageNumber,Ve=!1;for(const qe of Q){if(qe.percent<100)break;if(qe.id===Te&&fe){Ve=!0;break}}Ve||(Te=Q[0].id),this._setCurrentPageNumber(Te)}this._updateLocation(V.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(V){return this.container.contains(V)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===w.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===w.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const V=this._pages[this._currentPageNumber-1],Q=V.div,Ee={id:V.id,x:Q.offsetLeft+Q.clientLeft,y:Q.offsetTop+Q.clientTop,view:V};return{first:Ee,last:Ee,views:[Ee],ids:new Set([V.id])}}_getVisiblePages(){if(this.isInPresentationMode)return this._getCurrentVisiblePage();const V=this._scrollMode===w.ScrollMode.PAGE?ut(this,N).pages:this._pages,Q=this._scrollMode===w.ScrollMode.HORIZONTAL;return(0,w.getVisibleElements)({scrollEl:this.container,views:V,sortByVisibility:!0,horizontal:Q,rtl:Q&&this._isContainerRtl})}isPageVisible(V){return!!this.pdfDocument&&(Number.isInteger(V)&&V>0&&V<=this.pagesCount?this._getVisiblePages().ids.has(V):(console.error(`isPageVisible: "${V}" is not a valid page.`),!1))}isPageCached(V){if(!this.pdfDocument)return!1;if(!(Number.isInteger(V)&&V>0&&V<=this.pagesCount))return console.error(`isPageCached: "${V}" is not a valid page.`),!1;const Q=this._pages[V-1];return ut(this,ve).has(Q)}cleanup(){for(let V=0,Q=this._pages.length;V<Q;V++)this._pages[V]&&this._pages[V].renderingState!==w.RenderingStates.FINISHED&&this._pages[V].reset()}_cancelRendering(){for(let V=0,Q=this._pages.length;V<Q;V++)this._pages[V]&&this._pages[V].cancelRendering()}forceRendering(V){const Q=V||this._getVisiblePages(),Ee=Wt(this,Ie,Aa).call(this,Q),fe=this.renderingQueue.getHighestPriority(Q,this._pages,Ee,this._spreadMode!==w.SpreadMode.NONE&&this._scrollMode!==w.ScrollMode.HORIZONTAL);return Wt(this,Oe,Ca).call(this,Q.ids),!!fe&&(Wt(this,Ae,ya).call(this,fe).then(()=>{this.renderingQueue.renderView(fe)}),!0)}createTextLayerBuilder(V,Q,Ee,Y=!1,fe,Te){return new S.TextLayerBuilder({textLayerDiv:V,eventBus:fe,pageIndex:Q,viewport:Ee,enhanceTextSelection:!this.isInPresentationMode&&Y,highlighter:Te})}createTextHighlighter(V,Q){return new j.TextHighlighter({eventBus:Q,pageIndex:V,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(V,Q,Ee=null,Y="",fe=!0,Te=B.NullL10n,Ve=null,qe=null,Ke=null,it=null,at=null){var lt,gt,ot,ft;return new _.AnnotationLayerBuilder({pageDiv:V,pdfPage:Q,annotationStorage:Ee||(null==(lt=this.pdfDocument)?void 0:lt.annotationStorage),imageResourcesPath:Y,renderForms:fe,linkService:this.linkService,downloadManager:this.downloadManager,l10n:Te,enableScripting:null!=Ve?Ve:this.enableScripting,hasJSActionsPromise:qe||(null==(gt=this.pdfDocument)?void 0:gt.hasJSActions()),fieldObjectsPromise:it||(null==(ot=this.pdfDocument)?void 0:ot.getFieldObjects()),mouseState:Ke||(null==(ft=this._scriptingManager)?void 0:ft.mouseState),annotationCanvasMap:at})}createXfaLayerBuilder(V,Q,Ee=null){var Y;return new A.XfaLayerBuilder({pageDiv:V,pdfPage:Q,annotationStorage:Ee||(null==(Y=this.pdfDocument)?void 0:Y.annotationStorage),linkService:this.linkService})}createStructTreeLayerBuilder(V){return new se.StructTreeLayerBuilder({pdfPage:V})}get hasEqualPageSizes(){const V=this._pages[0];for(let Q=1,Ee=this._pages.length;Q<Ee;++Q){const Y=this._pages[Q];if(Y.width!==V.width||Y.height!==V.height)return!1}return!0}getPagesOverview(){return this._pages.map(V=>{const Q=V.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,w.isPortraitOrientation)(Q)?{width:Q.width,height:Q.height,rotation:Q.rotation}:{width:Q.height,height:Q.width,rotation:(Q.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(V){if(!(V instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${V}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=V;const Q={optionalContentConfigPromise:V};for(const Ee of this._pages)Ee.update(Q);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:V})}get scrollMode(){return this._scrollMode}set scrollMode(V){if(this._scrollMode!==V){if(!(0,w.isValidScrollMode)(V))throw new Error(`Invalid scroll mode: ${V}`);this.pagesCount>W.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=V,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:V}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(V=null){const Q=this._scrollMode,Ee=this.viewer;Ee.classList.toggle("scrollHorizontal",Q===w.ScrollMode.HORIZONTAL),Ee.classList.toggle("scrollWrapped",Q===w.ScrollMode.WRAPPED),this.pdfDocument&&V&&(Q===w.ScrollMode.PAGE?Wt(this,U,Li).call(this):this._previousScrollMode===w.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(V,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(V){if(this._spreadMode!==V){if(!(0,w.isValidSpreadMode)(V))throw new Error(`Invalid spread mode: ${V}`);this._spreadMode=V,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:V}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(V=null){if(!this.pdfDocument)return;const Q=this.viewer,Ee=this._pages;if(this._scrollMode===w.ScrollMode.PAGE)Wt(this,U,Li).call(this);else if(Q.textContent="",this._spreadMode===w.SpreadMode.NONE)for(let Y=0,fe=Ee.length;Y<fe;++Y)Q.appendChild(Ee[Y].div);else{const Y=this._spreadMode-1;let fe=null;for(let Te=0,Ve=Ee.length;Te<Ve;++Te)null===fe?(fe=document.createElement("div"),fe.className="spread",Q.appendChild(fe)):Te%2===Y&&(fe=fe.cloneNode(!1),Q.appendChild(fe)),fe.appendChild(Ee[Te].div)}!V||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(V,!0),this.update())}_getPageAdvance(V,Q=!1){switch(this._scrollMode){case w.ScrollMode.WRAPPED:{const{views:Ee}=this._getVisiblePages(),Y=new Map;for(const{id:fe,y:Te,percent:Ve,widthPercent:qe}of Ee){if(0===Ve||qe<100)continue;let Ke=Y.get(Te);Ke||Y.set(Te,Ke||(Ke=[])),Ke.push(fe)}for(const fe of Y.values()){const Te=fe.indexOf(V);if(-1===Te)continue;const Ve=fe.length;if(1===Ve)break;if(Q)for(let qe=Te-1,Ke=0;qe>=Ke;qe--){const at=fe[qe+1]-1;if(fe[qe]<at)return V-at}else for(let qe=Te+1,Ke=Ve;qe<Ke;qe++){const at=fe[qe-1]+1;if(fe[qe]>at)return at-V}if(Q){const qe=fe[0];if(qe<V)return V-qe+1}else{const qe=fe[Ve-1];if(qe>V)return qe-V+1}break}break}case w.ScrollMode.HORIZONTAL:break;case w.ScrollMode.PAGE:case w.ScrollMode.VERTICAL:{if(this._spreadMode===w.SpreadMode.NONE)break;const Ee=this._spreadMode-1;if(Q&&V%2!==Ee)break;if(!Q&&V%2===Ee)break;const{views:Y}=this._getVisiblePages(),fe=Q?V-1:V+1;for(const{id:Te,percent:Ve,widthPercent:qe}of Y)if(Te===fe){if(Ve>0&&100===qe)return 2;break}break}}return 1}nextPage(){const V=this._currentPageNumber,Q=this.pagesCount;if(V>=Q)return!1;const Ee=this._getPageAdvance(V,!1)||1;return this.currentPageNumber=Math.min(V+Ee,Q),!0}previousPage(){const V=this._currentPageNumber;if(V<=1)return!1;const Q=this._getPageAdvance(V,!0)||1;return this.currentPageNumber=Math.max(V-Q,1),!0}increaseScale(V=1){let Q=this._currentScale;do{Q=(Q*w.DEFAULT_SCALE_DELTA).toFixed(2),Q=Math.ceil(10*Q)/10,Q=Math.min(w.MAX_SCALE,Q)}while(--V>0&&Q<w.MAX_SCALE);this.currentScaleValue=Q}decreaseScale(V=1){let Q=this._currentScale;do{Q=(Q/w.DEFAULT_SCALE_DELTA).toFixed(2),Q=Math.floor(10*Q)/10,Q=Math.max(w.MIN_SCALE,Q)}while(--V>0&&Q>w.MIN_SCALE);this.currentScaleValue=Q}};let be=He;ve=new WeakMap,we=new WeakMap,ue=new WeakMap,ke=new WeakMap,J=new WeakMap,N=new WeakMap,F=new WeakMap,ie=new WeakSet,ba=function(V){!V||(V.includes(x.PermissionFlag.COPY)||this.viewer.classList.add(L),!V.includes(x.PermissionFlag.MODIFY_ANNOTATIONS)&&!V.includes(x.PermissionFlag.FILL_INTERACTIVE_FORMS)&&ut(this,we)===x.AnnotationMode.ENABLE_FORMS&&(Dt(this,ue,ut(this,we)),Dt(this,we,x.AnnotationMode.ENABLE)))},ne=new WeakSet,xa=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const V=new Promise(Q=>{Dt(this,F,()=>{"hidden"===document.visibilityState&&(Q(),document.removeEventListener("visibilitychange",ut(this,F)),Dt(this,F,null))}),document.addEventListener("visibilitychange",ut(this,F))});return Promise.race([this._onePageRenderedCapability.promise,V])},U=new WeakSet,Li=function(){if(this._scrollMode!==w.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const V=this._currentPageNumber,Q=ut(this,N),Ee=this.viewer;if(Ee.textContent="",Q.pages.length=0,this._spreadMode===w.SpreadMode.NONE){const Y=this._pages[V-1];if(this.isInPresentationMode){const fe=document.createElement("div");fe.className="spread";const Te=document.createElement("div");Te.className="dummyPage",Te.style.height=`${this.container.clientHeight}px`,fe.appendChild(Te),fe.appendChild(Y.div),Ee.appendChild(fe)}else Ee.appendChild(Y.div);Q.pages.push(Y)}else{const Y=new Set,fe=this._spreadMode-1;V%2!==fe?(Y.add(V-1),Y.add(V)):(Y.add(V-2),Y.add(V-1));let Te=null;for(const Ve of Y){const qe=this._pages[Ve];!qe||(null===Te?(Te=document.createElement("div"),Te.className="spread",Ee.appendChild(Te)):Ve%2===fe&&(Te=Te.cloneNode(!1),Ee.appendChild(Te)),Te.appendChild(qe.div),Q.pages.push(qe))}}Q.scrollDown=V>=Q.previousPageNumber,Q.previousPageNumber=V},ge=new WeakSet,_a=function(V){return(!this.isInPresentationMode||this.container.clientHeight===ut(this,J))&&(V===this._currentScale||Math.abs(V-this._currentScale)<1e-15)},Ae=new WeakSet,ya=function(V){var Q=this;return c(function*(){var Ee,Y;if(V.pdfPage)return V.pdfPage;try{const fe=yield Q.pdfDocument.getPage(V.id);return V.pdfPage||V.setPdfPage(fe),(null==(Y=(Ee=Q.linkService)._cachedPageNumber)?void 0:Y.call(Ee,fe.ref))||Q.linkService.cachePageRef(V.id,fe.ref),fe}catch(fe){return console.error("Unable to get page for page view",fe),null}})()},Ie=new WeakSet,Aa=function(V){var Q,Ee;if(1===(null==(Q=V.first)?void 0:Q.id))return!0;if((null==(Ee=V.last)?void 0:Ee.id)===this.pagesCount)return!1;switch(this._scrollMode){case w.ScrollMode.PAGE:return ut(this,N).scrollDown;case w.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},Oe=new WeakSet,Ca=function(V){for(const Q of V){const Ee=this._pages[Q-1];null==Ee||Ee.toggleLoadingIconSpinner(!0)}for(const Q of ut(this,ve))V.has(Q.id)||Q.toggleLoadingIconSpinner(!1)},f.BaseViewer=be},(z,f,R)=>{var X;Object.defineProperty(f,"__esModule",{value:!0}),f.PDFPageView=void 0;var x=R(3),w=R(6),_=R(13),B=R(4);const k=_.compatibilityParams.maxCanvasPixels||16777216;X=new WeakMap,f.PDFPageView=class C{constructor(j){var L,W,G,be;Et(this,X,x.AnnotationMode.ENABLE_FORMS);const S=j.container,A=j.defaultViewport;this.id=j.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=j.scale||w.DEFAULT_SCALE,this.viewport=A,this.pdfPageRotate=A.rotation,this._optionalContentConfigPromise=j.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!=(L=j.textLayerMode)?L:w.TextLayerMode.ENABLE,Dt(this,X,null!=(W=j.annotationMode)?W:x.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=j.imageResourcesPath||"",this.useOnlyCssZoom=j.useOnlyCssZoom||!1,this.maxCanvasPixels=j.maxCanvasPixels||k,this.eventBus=j.eventBus,this.renderingQueue=j.renderingQueue,this.textLayerFactory=j.textLayerFactory,this.annotationLayerFactory=j.annotationLayerFactory,this.xfaLayerFactory=j.xfaLayerFactory,this.textHighlighter=null==(G=j.textHighlighterFactory)?void 0:G.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=j.structTreeLayerFactory,this.renderer=j.renderer||w.RendererType.CANVAS,this.l10n=j.l10n||B.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=w.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null==(be=this.renderingQueue)?void 0:be.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const T=document.createElement("div");T.className="page",T.style.width=Math.floor(this.viewport.width)+"px",T.style.height=Math.floor(this.viewport.height)+"px",T.setAttribute("data-page-number",this.id),T.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(de=>{T.setAttribute("aria-label",de)}),this.div=T,null==S||S.appendChild(T)}setPdfPage(j){this.pdfPage=j,this.pdfPageRotate=j.rotate,this.viewport=j.getViewport({scale:this.scale*x.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var j=this;return c(function*(){let S=null;try{yield j.annotationLayer.render(j.viewport,"display")}catch(A){S=A}finally{j.eventBus.dispatch("annotationlayerrendered",{source:j,pageNumber:j.id,error:S})}})()}_renderXfaLayer(){var j=this;return c(function*(){let S=null;try{const A=yield j.xfaLayer.render(j.viewport,"display");j.textHighlighter&&j._buildXfaTextContentItems(A.textDivs)}catch(A){S=A}finally{j.eventBus.dispatch("xfalayerrendered",{source:j,pageNumber:j.id,error:S})}})()}_buildXfaTextContentItems(j){var S=this;return c(function*(){const A=yield S.pdfPage.getTextContent(),T=[];for(const L of A.items)T.push(L.str);S.textHighlighter.setTextMapping(j,T),S.textHighlighter.enable()})()}_resetZoomLayer(j=!1){if(!this.zoomLayer)return;const S=this.zoomLayer.firstChild;this.paintedViewportMap.delete(S),S.width=0,S.height=0,j&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:j=!1,keepAnnotationLayer:S=!1,keepXfaLayer:A=!1}={}){var de,_e;this.cancelRendering({keepAnnotationLayer:S,keepXfaLayer:A}),this.renderingState=w.RenderingStates.INITIAL;const T=this.div;T.style.width=Math.floor(this.viewport.width)+"px",T.style.height=Math.floor(this.viewport.height)+"px";const L=T.childNodes,W=j&&this.zoomLayer||null,G=S&&(null==(de=this.annotationLayer)?void 0:de.div)||null,be=A&&(null==(_e=this.xfaLayer)?void 0:_e.div)||null;for(let ye=L.length-1;ye>=0;ye--){const me=L[ye];switch(me){case W:case G:case be:continue}me.remove()}T.removeAttribute("data-loaded"),G&&this.annotationLayer.hide(),be&&this.xfaLayer.hide(),W||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(ye=>{var me;null==(me=this.loadingIconDiv)||me.setAttribute("aria-label",ye)}),T.appendChild(this.loadingIconDiv)}update({scale:j=0,rotation:S=null,optionalContentConfigPromise:A=null}){if("object"!=typeof arguments[0])return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});this.scale=j||this.scale,"number"==typeof S&&(this.rotation=S),A instanceof Promise&&(this._optionalContentConfigPromise=A);const L=this.scale*x.PixelsPerInch.PDF_TO_CSS_UNITS;if(this.viewport=this.viewport.clone({scale:L,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:G}=document.documentElement;G.setProperty("--zoom-factor",this.scale),G.setProperty("--viewport-scale-factor",L)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let W=!1;if(this.canvas&&this.maxCanvasPixels>0){const G=this.outputScale;(Math.floor(this.viewport.width)*G.sx|0)*(Math.floor(this.viewport.height)*G.sy|0)>this.maxCanvasPixels&&(W=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&W)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:j=!1,keepXfaLayer:S=!1}={}){var A;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!j||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!S||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,null==(A=this.textHighlighter)||A.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:j,redrawAnnotationLayer:S=!1,redrawXfaLayer:A=!1}){const T=this.viewport.width,L=this.viewport.height,W=this.div;j.style.width=j.parentNode.style.width=W.style.width=Math.floor(T)+"px",j.style.height=j.parentNode.style.height=W.style.height=Math.floor(L)+"px";const G=this.viewport.rotation-this.paintedViewportMap.get(j).rotation,be=Math.abs(G);let de=1,_e=1;if((90===be||270===be)&&(de=L/T,_e=T/L),j.style.transform=`rotate(${G}deg) scale(${de}, ${_e})`,this.textLayer){const ye=this.textLayer.viewport,ve=Math.abs(this.viewport.rotation-ye.rotation);let we=T/ye.width;(90===ve||270===ve)&&(we=T/ye.height);const ue=this.textLayer.textLayerDiv;let ke,J;switch(ve){case 0:ke=J=0;break;case 90:ke=0,J="-"+ue.style.height;break;case 180:ke="-"+ue.style.width,J="-"+ue.style.height;break;case 270:ke="-"+ue.style.width,J=0;break;default:console.error("Bad rotation value.")}ue.style.transform=`rotate(${ve}deg) scale(${we}) translate(${ke}, ${J})`,ue.style.transformOrigin="0% 0%"}S&&this.annotationLayer&&this._renderAnnotationLayer(),A&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(j,S){return this.viewport.convertToPdfPoint(j,S)}toggleLoadingIconSpinner(j=!1){var S;null==(S=this.loadingIconDiv)||S.classList.toggle("notVisible",!j)}draw(){var _e,ye,me,j=this;this.renderingState!==w.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:S,pdfPage:A}=this;if(!A)return this.renderingState=w.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=w.RenderingStates.RUNNING;const T=document.createElement("div");T.style.width=S.style.width,T.style.height=S.style.height,T.classList.add("canvasWrapper"),(null==(_e=this.annotationLayer)?void 0:_e.div)?S.insertBefore(T,this.annotationLayer.div):S.appendChild(T);let L=null;if(this.textLayerMode!==w.TextLayerMode.DISABLE&&this.textLayerFactory){const ve=document.createElement("div");ve.className="textLayer",ve.style.width=T.style.width,ve.style.height=T.style.height,(null==(ye=this.annotationLayer)?void 0:ye.div)?S.insertBefore(ve,this.annotationLayer.div):S.appendChild(ve),L=this.textLayerFactory.createTextLayerBuilder(ve,this.id-1,this.viewport,this.textLayerMode===w.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=L,ut(this,X)!==x.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(S,A,null,this.imageResourcesPath,ut(this,X)===x.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),(null==(me=this.xfaLayer)?void 0:me.div)&&S.appendChild(this.xfaLayer.div);let W=null;this.renderingQueue&&(W=ve=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=w.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=w.RenderingStates.RUNNING,ve()});ve()});const G=function(){var ve=c(function*(we=null){if(be===j.paintTask&&(j.paintTask=null),we instanceof x.RenderingCancelledException)j._renderError=null;else if(j._renderError=we,j.renderingState=w.RenderingStates.FINISHED,j.loadingIconDiv&&(j.loadingIconDiv.remove(),delete j.loadingIconDiv),j._resetZoomLayer(!0),j.eventBus.dispatch("pagerendered",{source:j,pageNumber:j.id,cssTransform:!1,timestamp:performance.now(),error:j._renderError}),we)throw we});return function(){return ve.apply(this,arguments)}}(),be=this.renderer===w.RendererType.SVG?this.paintOnSvg(T):this.paintOnCanvas(T);be.onRenderContinue=W,this.paintTask=be;const de=be.promise.then(()=>G(null).then(()=>{if(L){const ve=A.streamTextContent({includeMarkedContent:!0});L.setTextContentStream(ve),L.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(ve){return G(ve)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(S,A,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=ve=>{ve.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(we=>{if(!we||!this.canvas)return;const ue=this.structTreeLayer.render(we);ue.classList.add("structTree"),this.canvas.appendChild(ue)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(A)),S.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),de}paintOnCanvas(j){const S=(0,x.createPromiseCapability)(),A={promise:S.promise,onRenderContinue(ue){ue()},cancel(){we.cancel()}},T=this.viewport,L=document.createElement("canvas");L.hidden=!0;let W=!0;const G=function(){W&&(L.hidden=!1,W=!1)};j.appendChild(L),this.canvas=L,L.mozOpaque=!0;const be=L.getContext("2d",{alpha:!1}),de=this.outputScale=new w.OutputScale;if(this.useOnlyCssZoom){const ue=T.clone({scale:x.PixelsPerInch.PDF_TO_CSS_UNITS});de.sx*=ue.width/T.width,de.sy*=ue.height/T.height}if(this.maxCanvasPixels>0){const ke=Math.sqrt(this.maxCanvasPixels/(T.width*T.height));de.sx>ke||de.sy>ke?(de.sx=ke,de.sy=ke,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const _e=(0,w.approximateFraction)(de.sx),ye=(0,w.approximateFraction)(de.sy);L.width=(0,w.roundToDivide)(T.width*de.sx,_e[0]),L.height=(0,w.roundToDivide)(T.height*de.sy,ye[0]),L.style.width=(0,w.roundToDivide)(T.width,_e[1])+"px",L.style.height=(0,w.roundToDivide)(T.height,ye[1])+"px",this.paintedViewportMap.set(L,T);const ve={canvasContext:be,transform:de.scaled?[de.sx,0,0,de.sy,0,0]:null,viewport:this.viewport,annotationMode:ut(this,X),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap},we=this.pdfPage.render(ve);return we.onContinue=function(ue){G(),A.onRenderContinue?A.onRenderContinue(ue):ue()},we.promise.then(function(){G(),S.resolve()},function(ue){G(),S.reject(ue)}),A}paintOnSvg(j){let S=!1;const A=()=>{if(S)throw new x.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},T=this.pdfPage,L=this.viewport.clone({scale:x.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:T.getOperatorList({annotationMode:ut(this,X)}).then(G=>(A(),new x.SVGGraphics(T.commonObjs,T.objs).getSVG(G,L).then(de=>{A(),this.svg=de,this.paintedViewportMap.set(de,L),de.style.width=j.style.width,de.style.height=j.style.height,this.renderingState=w.RenderingStates.FINISHED,j.appendChild(de)}))),onRenderContinue(G){G()},cancel(){S=!0}}}setPageLabel(j){this.pageLabel="string"==typeof j?j:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(z,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.compatibilityParams=f.OptionKind=f.AppOptions=void 0;const R=Object.create(null);f.compatibilityParams=R;{const k=navigator.userAgent||"",C=navigator.platform||"",X=navigator.maxTouchPoints||1,se=/Android/.test(k);(/\b(iPad|iPhone|iPod)(?=;)/.test(k)||"MacIntel"===C&&X>1||se)&&(R.maxCanvasPixels=5242880)}const x={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};f.OptionKind=x;const w={annotationMode:{value:2,kind:x.VIEWER+x.PREFERENCE},cursorToolOnLoad:{value:0,kind:x.VIEWER+x.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:x.VIEWER},defaultZoomValue:{value:"",kind:x.VIEWER+x.PREFERENCE},disableHistory:{value:!1,kind:x.VIEWER},disablePageLabels:{value:!1,kind:x.VIEWER+x.PREFERENCE},enablePermissions:{value:!1,kind:x.VIEWER+x.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:x.VIEWER+x.PREFERENCE},enableScripting:{value:!0,kind:x.VIEWER+x.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:x.VIEWER},externalLinkTarget:{value:0,kind:x.VIEWER+x.PREFERENCE},historyUpdateUrl:{value:!1,kind:x.VIEWER+x.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:x.VIEWER+x.PREFERENCE},imageResourcesPath:{value:"./images/",kind:x.VIEWER},maxCanvasPixels:{value:16777216,compatibility:R.maxCanvasPixels,kind:x.VIEWER},pdfBugEnabled:{value:!1,kind:x.VIEWER+x.PREFERENCE},printResolution:{value:150,kind:x.VIEWER},renderer:{value:"canvas",kind:x.VIEWER},sidebarViewOnLoad:{value:-1,kind:x.VIEWER+x.PREFERENCE},scrollModeOnLoad:{value:-1,kind:x.VIEWER+x.PREFERENCE},spreadModeOnLoad:{value:-1,kind:x.VIEWER+x.PREFERENCE},textLayerMode:{value:1,kind:x.VIEWER+x.PREFERENCE},useOnlyCssZoom:{value:!1,kind:x.VIEWER+x.PREFERENCE},viewerCssTheme:{value:0,kind:x.VIEWER+x.PREFERENCE},viewOnLoad:{value:0,kind:x.VIEWER+x.PREFERENCE},cMapPacked:{value:!0,kind:x.API},cMapUrl:{value:"../web/cmaps/",kind:x.API},disableAutoFetch:{value:!1,kind:x.API+x.PREFERENCE},disableFontFace:{value:!1,kind:x.API+x.PREFERENCE},disableRange:{value:!1,kind:x.API+x.PREFERENCE},disableStream:{value:!1,kind:x.API+x.PREFERENCE},docBaseUrl:{value:"",kind:x.API},enableXfa:{value:!0,kind:x.API+x.PREFERENCE},fontExtraProperties:{value:!1,kind:x.API},isEvalSupported:{value:!0,kind:x.API},maxImageSize:{value:-1,kind:x.API},pdfBug:{value:!1,kind:x.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:x.API},verbosity:{value:1,kind:x.API},workerPort:{value:null,kind:x.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:x.WORKER}};w.disablePreferences={value:!1,kind:x.VIEWER},w.locale={value:navigator.language||"en-US",kind:x.VIEWER},w.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:x.VIEWER},w.renderer.kind+=x.PREFERENCE;const _=Object.create(null);f.AppOptions=class B{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(C){var j;const X=_[C];if(void 0!==X)return X;const se=w[C];return void 0!==se?null!=(j=se.compatibility)?j:se.value:void 0}static getAll(C=null){var se;const X=Object.create(null);for(const j in w){const S=w[j];if(C){if(0==(C&S.kind))continue;if(C===x.PREFERENCE){const T=S.value,L=typeof T;if("boolean"===L||"string"===L||"number"===L&&Number.isInteger(T)){X[j]=T;continue}throw new Error(`Invalid type for preference: ${j}`)}}const A=_[j];X[j]=void 0!==A?A:null!=(se=S.compatibility)?se:S.value}return X}static set(C,X){_[C]=X}static setAll(C){for(const X in C)_[X]=C[X]}static remove(C){delete _[C]}static _hasUserOptions(){return Object.keys(_).length>0}}},(z,f,R)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFRenderingQueue=void 0;var x=R(3),w=R(6);f.PDFRenderingQueue=class B{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(C){this.pdfViewer=C}setThumbnailViewer(C){this.pdfThumbnailViewer=C}isHighestPriority(C){return this.highestPriorityPage===C.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(C){var X;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(C)&&(this.isThumbnailViewEnabled&&(null==(X=this.pdfThumbnailViewer)?void 0:X.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(C,X,se,j=!1){const S=C.views,A=S.length;if(0===A)return null;for(let be=0;be<A;be++){const de=S[be].view;if(!this.isViewFinished(de))return de}const T=C.first.id,L=C.last.id;if(L-T+1>A){const be=C.ids;for(let de=1,_e=L-T;de<_e;de++){const ye=se?T+de:L-de;if(be.has(ye))continue;const me=X[ye-1];if(!this.isViewFinished(me))return me}}let W=se?L:T-2,G=X[W];return G&&!this.isViewFinished(G)||j&&(W+=se?1:-1,G=X[W],G&&!this.isViewFinished(G))?G:null}isViewFinished(C){return C.renderingState===w.RenderingStates.FINISHED}renderView(C){switch(C.renderingState){case w.RenderingStates.FINISHED:return!1;case w.RenderingStates.PAUSED:this.highestPriorityPage=C.renderingId,C.resume();break;case w.RenderingStates.RUNNING:this.highestPriorityPage=C.renderingId;break;case w.RenderingStates.INITIAL:this.highestPriorityPage=C.renderingId,C.draw().finally(()=>{this.renderHighestPriority()}).catch(X=>{X instanceof x.RenderingCancelledException||console.error(`renderView: "${X}"`)})}return!0}}},(z,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TextHighlighter=void 0;f.TextHighlighter=class R{constructor({findController:w,eventBus:_,pageIndex:B}){this.findController=w,this.matches=[],this.eventBus=_,this.pageIdx=B,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(w,_){this.textDivs=w,this.textContentItemsStr=_}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=w=>{(w.pageIndex===this.pageIdx||-1===w.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(w,_){if(!w)return[];const{textContentItemsStr:B}=this;let k=0,C=0;const X=B.length-1,se=[];for(let j=0,S=w.length;j<S;j++){let A=w[j];for(;k!==X&&A>=C+B[k].length;)C+=B[k].length,k++;k===B.length&&console.error("Could not find a matching mapping");const T={begin:{divIdx:k,offset:A-C}};for(A+=_[j];k!==X&&A>C+B[k].length;)C+=B[k].length,k++;T.end={divIdx:k,offset:A-C},se.push(T)}return se}_renderMatches(w){if(0===w.length)return;const{findController:_,pageIdx:B}=this,{textContentItemsStr:k,textDivs:C}=this,X=B===_.selected.pageIdx,se=_.selected.matchIdx;let S=null;const A_offset=void 0;function T(be,de){const _e=be.divIdx;return C[_e].textContent="",L(_e,0,be.offset,de)}function L(be,de,_e,ye){let me=C[be];if(me.nodeType===Node.TEXT_NODE){const ue=document.createElement("span");me.parentNode.insertBefore(ue,me),ue.appendChild(me),C[be]=ue,me=ue}const ve=k[be].substring(de,_e),we=document.createTextNode(ve);if(ye){const ue=document.createElement("span");return ue.className=`${ye} appended`,ue.appendChild(we),me.appendChild(ue),ye.includes("selected")?ue.offsetLeft:0}return me.appendChild(we),0}let W=se,G=W+1;if(_.state.highlightAll)W=0,G=w.length;else if(!X)return;for(let be=W;be<G;be++){const de=w[be],_e=de.begin,ye=de.end,me=X&&be===se,ve=me?" selected":"";let we=0;if(S&&_e.divIdx===S.divIdx?L(S.divIdx,S.offset,_e.offset):(null!==S&&L(S.divIdx,S.offset,A_offset),T(_e)),_e.divIdx===ye.divIdx)we=L(_e.divIdx,_e.offset,ye.offset,"highlight"+ve);else{we=L(_e.divIdx,_e.offset,A_offset,"highlight begin"+ve);for(let ue=_e.divIdx+1,ke=ye.divIdx;ue<ke;ue++)C[ue].className="highlight middle"+ve;T(ye,"highlight end"+ve)}S=ye,me&&_.scrollMatchIntoView({element:C[_e.divIdx],selectedLeft:we,pageIndex:B,matchIndex:se})}S&&L(S.divIdx,S.offset,A_offset)}_updateMatches(){if(!this.enabled)return;const{findController:w,matches:_,pageIdx:B}=this,{textContentItemsStr:k,textDivs:C}=this;let X=-1;for(let S=0,A=_.length;S<A;S++){const T=_[S];for(let W=Math.max(X,T.begin.divIdx),G=T.end.divIdx;W<=G;W++){const be=C[W];be.textContent=k[W],be.className=""}X=T.end.divIdx+1}(null==w?void 0:w.highlightMatches)&&(this.matches=this._convertMatches(w.pageMatches[B]||null,w.pageMatchesLength[B]||null),this._renderMatches(this.matches))}}},(z,f,R)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DownloadManager=void 0;var x=R(3);function w(B,k){const C=document.createElement("a");if(!C.click)throw new Error('DownloadManager: "a.click()" is not supported.');C.href=B,C.target="_parent","download"in C&&(C.download=k),(document.body||document.documentElement).appendChild(C),C.click(),C.remove()}f.DownloadManager=class _{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(k,C){(0,x.createValidAbsoluteUrl)(k,"http://example.com")?w(k+"#pdfjs.action=download",C):console.error(`downloadUrl - not a valid URL: ${k}`)}downloadData(k,C,X){w(URL.createObjectURL(new Blob([k],{type:X})),C)}openOrDownloadData(k,C,X){const se=(0,x.isPdfFile)(X),j=se?"application/pdf":"";if(se){let A,S=this._openBlobUrls.get(k);S||(S=URL.createObjectURL(new Blob([C],{type:j})),this._openBlobUrls.set(k,S)),A="?file="+encodeURIComponent(S+"#"+X);try{return window.open(A),!0}catch(T){console.error(`openOrDownloadData: ${T}`),URL.revokeObjectURL(S),this._openBlobUrls.delete(k)}}return this.downloadData(C,X,j),!1}download(k,C,X,se="download"){w(URL.createObjectURL(k),X)}}},(z,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WaitOnType=f.EventBus=f.AutomationEventBus=void 0,f.waitOnEventOrTimeout=function x({target:B,name:k,delay:C=0}){return new Promise(function(X,se){if("object"!=typeof B||!k||"string"!=typeof k||!(Number.isInteger(C)&&C>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function j(L){B instanceof w?B._off(k,S):B.removeEventListener(k,S),T&&clearTimeout(T),X(L)}const S=j.bind(null,R.EVENT);B instanceof w?B._on(k,S):B.addEventListener(k,S);const A=j.bind(null,R.TIMEOUT),T=setTimeout(A,C)})};const R={EVENT:"event",TIMEOUT:"timeout"};f.WaitOnType=R;class w{constructor(){this._listeners=Object.create(null)}on(k,C,X=null){this._on(k,C,{external:!0,once:null==X?void 0:X.once})}off(k,C,X=null){this._off(k,C,{external:!0,once:null==X?void 0:X.once})}dispatch(k,C){const X=this._listeners[k];if(!X||0===X.length)return;let se;for(const{listener:j,external:S,once:A}of X.slice(0))A&&this._off(k,j),S?(se||(se=[])).push(j):j(C);if(se){for(const j of se)j(C);se=null}}_on(k,C,X=null){var j;((j=this._listeners)[k]||(j[k]=[])).push({listener:C,external:!0===(null==X?void 0:X.external),once:!0===(null==X?void 0:X.once)})}_off(k,C,X=null){const se=this._listeners[k];if(se)for(let j=0,S=se.length;j<S;j++)if(se[j].listener===C)return void se.splice(j,1)}}f.EventBus=w;f.AutomationEventBus=class _ extends w{dispatch(k,C){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(z,f,R)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.GenericL10n=void 0,R(19);var x=R(4);const w=document.webL10n;f.GenericL10n=class _{constructor(k){this._lang=k,this._ready=new Promise((C,X)=>{w.setLanguage((0,x.fixupLangCode)(k),()=>{C(w)})})}getLanguage(){var k=this;return c(function*(){return(yield k._ready).getLanguage()})()}getDirection(){var k=this;return c(function*(){return(yield k._ready).getDirection()})()}get(k,C=null,X=(0,x.getL10nFallback)(k,C)){var se=this;return c(function*(){return(yield se._ready).get(k,C,X)})()}translate(k){var C=this;return c(function*(){return(yield C._ready).translate(k)})()}}},()=>{document.webL10n=function(z,f,R){var x={},w="",_="textContent",B="",k={},C="loading";function T(ue,ke,J){ke=ke||function(ie){},J=J||function(){};var N=new XMLHttpRequest;N.open("GET",ue,true),N.overrideMimeType&&N.overrideMimeType("text/plain; charset=utf-8"),N.onreadystatechange=function(){4==N.readyState&&(200==N.status||0===N.status?ke(N.responseText):J())},N.onerror=J,N.ontimeout=J;try{N.send(null)}catch(F){J()}}function L(ue,ke,J,N){var F=ue.replace(/[^\/]*$/,"")||"./";function ie(ne){return ne.lastIndexOf("\\")<0?ne:ne.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}T(ue,function(ne){w+=ne,function O(ne,v){var U={},H=/^\s*|\s*$/,ge=/^\s*#|^\s*$/,q=/^\s*\[(.*)\]\s*$/,Ae=/^\s*@import\s+url\((.*)\)\s*$/i,Fe=/^([^=\s]*)\s*=\s*(.+)$/;function Ie(Oe,We,He){var tt=Oe.replace(H,"").split(/[\r\n]+/),V="*",Q=ke.split("-",1)[0],Ee=!1,Y="";!function fe(){for(;;){if(!tt.length)return void He();var Te=tt.shift();if(!ge.test(Te)){if(We){if(Y=q.exec(Te)){V=Y[1].toLowerCase(),Ee="*"!==V&&V!==ke&&V!==Q;continue}if(Ee)continue;if(Y=Ae.exec(Te))return void Re(F+Y[1],fe)}var Ve=Te.match(Fe);Ve&&3==Ve.length&&(U[Ve[1]]=ie(Ve[2]))}}}()}function Re(Oe,We){T(Oe,function(He){Ie(He,!1,We)},function(){console.warn(Oe+" not found."),We()})}Ie(ne,!0,function(){v(U)})}(ne,function(v){for(var U in v){var H,ge,q=U.lastIndexOf(".");q>0?(H=U.substring(0,q),ge=U.substring(q+1)):(H=U,ge=_),x[H]||(x[H]={}),x[H][ge]=v[U]}J&&J()})},N)}function W(ue,ke){ue&&(ue=ue.toLowerCase()),ke=ke||function(){},function G(){x={},w="",B=""}(),B=ue;var J=function se(){return f.querySelectorAll('link[type="application/l10n"]')}(),N=J.length;if(0!==N){var ne,v=0;ne=function(){++v>=N&&(ke(),C="complete")};for(var H=0;H<N;H++)new U(J[H]).load(ue,ne)}else{var F=function j(){var ue=f.querySelector('script[type="application/l10n"]');return ue?JSON.parse(ue.innerHTML):null}();if(F&&F.locales&&F.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(x=F.locales[ue])){var ie=F.default_locale.toLowerCase();for(var O in F.locales){if((O=O.toLowerCase())===ue){x=F.locales[ue];break}O===ie&&(x=F.locales[ie])}}ke()}else console.log("no resource to load, early way out");C="complete"}function U(q){var Ae=q.href;this.load=function(Fe,Ie){L(Ae,Fe,Ie,function(){console.warn(Ae+" not found."),console.warn('"'+Fe+'" resource not found'),B="",Ie()})}}}function de(ue,ke,J){var N=x[ue];if(!N){if(console.warn("#"+ue+" is undefined."),!J)return null;N=J}var F={};for(var ie in N){var O=N[ie];O=ye(O=_e(O,ke,ue,ie),ke,ue),F[ie]=O}return F}function _e(ue,ke,J,N){var ie=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(ue);if(!ie||!ie.length)return ue;var v,O=ie[1],ne=ie[2];return ke&&ne in ke?v=ke[ne]:ne in x&&(v=x[ne]),O in k&&(ue=(0,k[O])(ue,v,J,N)),ue}function ye(ue,ke,J){return ue.replace(/\{\{\s*(.+?)\s*\}\}/g,function(F,ie){return ke&&ie in ke?ke[ie]:ie in x?x[ie]:(console.log("argument {{"+ie+"}} for #"+J+" is undefined."),F)})}function me(ue){var ke=function A(ue){if(!ue)return{};var ke=ue.getAttribute("data-l10n-id"),J=ue.getAttribute("data-l10n-args"),N={};if(J)try{N=JSON.parse(J)}catch(F){console.warn("could not parse arguments for #"+ke)}return{id:ke,args:N}}(ue);if(ke.id){var J=de(ke.id,ke.args);if(!J)return void console.warn("#"+ke.id+" is undefined.");if(J[_]){if(0===function ve(ue){if(ue.children)return ue.children.length;if(void 0!==ue.childElementCount)return ue.childElementCount;for(var ke=0,J=0;J<ue.childNodes.length;J++)ke+=1===ue.nodeType?1:0;return ke}(ue))ue[_]=J[_];else{for(var N=ue.childNodes,F=!1,ie=0,O=N.length;ie<O;ie++)3===N[ie].nodeType&&/\S/.test(N[ie].nodeValue)&&(F?N[ie].nodeValue="":(N[ie].nodeValue=J[_],F=!0));if(!F){var ne=f.createTextNode(J[_]);ue.insertBefore(ne,ue.firstChild)}}delete J[_]}for(var v in J)ue[v]=J[v]}}return k.plural=function(ue,ke,J,N){var F=parseFloat(ke);if(isNaN(F)||N!=_)return ue;k._pluralRules||(k._pluralRules=function be(ue){function J(O,ne){return-1!==ne.indexOf(O)}function N(O,ne,v){return ne<=O&&O<=v}var F={0:function(O){return"other"},1:function(O){return N(O%100,3,10)?"few":0===O?"zero":N(O%100,11,99)?"many":2==O?"two":1==O?"one":"other"},2:function(O){return 0!==O&&O%10==0?"many":2==O?"two":1==O?"one":"other"},3:function(O){return 1==O?"one":"other"},4:function(O){return N(O,0,1)?"one":"other"},5:function(O){return N(O,0,2)&&2!=O?"one":"other"},6:function(O){return 0===O?"zero":O%10==1&&O%100!=11?"one":"other"},7:function(O){return 2==O?"two":1==O?"one":"other"},8:function(O){return N(O,3,6)?"few":N(O,7,10)?"many":2==O?"two":1==O?"one":"other"},9:function(O){return 0===O||1!=O&&N(O%100,1,19)?"few":1==O?"one":"other"},10:function(O){return N(O%10,2,9)&&!N(O%100,11,19)?"few":O%10!=1||N(O%100,11,19)?"other":"one"},11:function(O){return N(O%10,2,4)&&!N(O%100,12,14)?"few":O%10==0||N(O%10,5,9)||N(O%100,11,14)?"many":O%10==1&&O%100!=11?"one":"other"},12:function(O){return N(O,2,4)?"few":1==O?"one":"other"},13:function(O){return N(O%10,2,4)&&!N(O%100,12,14)?"few":1!=O&&N(O%10,0,1)||N(O%10,5,9)||N(O%100,12,14)?"many":1==O?"one":"other"},14:function(O){return N(O%100,3,4)?"few":O%100==2?"two":O%100==1?"one":"other"},15:function(O){return 0===O||N(O%100,2,10)?"few":N(O%100,11,19)?"many":1==O?"one":"other"},16:function(O){return O%10==1&&11!=O?"one":"other"},17:function(O){return 3==O?"few":0===O?"zero":6==O?"many":2==O?"two":1==O?"one":"other"},18:function(O){return 0===O?"zero":N(O,0,2)&&0!==O&&2!=O?"one":"other"},19:function(O){return N(O,2,10)?"few":N(O,0,1)?"one":"other"},20:function(O){return!N(O%10,3,4)&&O%10!=9||N(O%100,10,19)||N(O%100,70,79)||N(O%100,90,99)?O%1e6==0&&0!==O?"many":O%10!=2||J(O%100,[12,72,92])?O%10!=1||J(O%100,[11,71,91])?"other":"one":"two":"few"},21:function(O){return 0===O?"zero":1==O?"one":"other"},22:function(O){return N(O,0,1)||N(O,11,99)?"one":"other"},23:function(O){return N(O%10,1,2)||O%20==0?"one":"other"},24:function(O){return N(O,3,10)||N(O,13,19)?"few":J(O,[2,12])?"two":J(O,[1,11])?"one":"other"}},ie={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[ue.replace(/-.*$/,"")];return ie in F?F[ie]:(console.warn("plural form unknown for ["+ue+"]"),function(){return"other"})}(B));var ie="["+k._pluralRules(F)+"]";return 0===F&&J+"[zero]"in x?ue=x[J+"[zero]"][N]:1==F&&J+"[one]"in x?ue=x[J+"[one]"][N]:2==F&&J+"[two]"in x?ue=x[J+"[two]"][N]:J+ie in x?ue=x[J+ie][N]:J+"[other]"in x&&(ue=x[J+"[other]"][N]),ue},{get:function(ue,ke,J){var ie,N=ue.lastIndexOf("."),F=_;N>0&&(F=ue.substring(N+1),ue=ue.substring(0,N)),J&&((ie={})[F]=J);var O=de(ue,ke,ie);return O&&F in O?O[F]:"{{"+ue+"}}"},getData:function(){return x},getText:function(){return w},getLanguage:function(){return B},setLanguage:function(ue,ke){W(ue,function(){ke&&ke()})},getDirection:function(){var ke=B.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(ke)>=0?"rtl":"ltr"},translate:function we(ue){for(var ke=function S(ue){return ue?ue.querySelectorAll("*[data-l10n-id]"):[]}(ue=ue||f.documentElement),J=ke.length,N=0;N<J;N++)me(ke[N]);me(ue)},getReadyState:function(){return C},ready:function(ue){ue&&("complete"==C||"interactive"==C?z.setTimeout(function(){ue()}):f.addEventListener&&f.addEventListener("localized",function ke(){f.removeEventListener("localized",ke),ue()}))}}}(window,document)},(z,f,R)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFFindController=f.FindState=void 0;var x=R(6),w=R(3),_=R(21);const B={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};f.FindState=B;const se={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},j=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),S=[...j.values()].map(ye=>String.fromCharCode(ye)).join(""),A=/\p{M}+/gu,T=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,L=/([^\p{M}])\p{M}*$/u,W=/^\p{M}*([^\p{M}])/u;let G=null;function be(ye){if(!G){const O=Object.keys(se).join("");G=new RegExp(`([${O}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const me=[];let ve;for(;null!==(ve=A.exec(ye));)me.push([ve[0].length,ve.index]);let we=ye.normalize("NFD");const ue=[[0,0]];let ke=0,J=0,N=0,F=0,ie=!1;return we=we.replace(G,(O,ne,v,U,H,ge)=>{var q;if(ge-=N,ne){const Ae=se[O],Fe=Ae.length;for(let Ie=1;Ie<Fe;Ie++)ue.push([ge-J+Ie,J-Ie]);return J-=Fe-1,Ae}if(v){const Ae=v.endsWith("\n"),Fe=Ae?v.length-2:v.length;ie=!0;let Ie=Fe;ge+F===(null==(q=me[ke])?void 0:q[1])&&(Ie-=me[ke][0],++ke);for(let Re=1;Re<Ie+1;Re++)ue.push([ge-1-J+Re,J-Re]);return J-=Ie,N+=Ie,Ae?(ue.push([(ge+=Fe-1)-J+1,1+J]),J+=1,N+=1,F+=1,v.slice(0,Fe)):v}return U?(ue.push([ge-J+1,1+J]),J+=1,N+=1,F+=1,U.charAt(0)):(ue.push([ge-J+1,J-1]),J-=1,N+=1,F+=1," ")}),ue.push([we.length,J]),[we,ue,ie]}function de(ye,me,ve){if(!ye)return[me,ve];const we=me,ue=me+ve;let ke=(0,x.binarySearchFirstItem)(ye,N=>N[0]>=we);ye[ke][0]>we&&--ke;let J=(0,x.binarySearchFirstItem)(ye,N=>N[0]>=ue,ke);return ye[J][0]>ue&&--J,[we+ye[ke][1],ve+ye[J][1]-ye[ke][1]]}f.PDFFindController=class _e{constructor({linkService:me,eventBus:ve}){this._linkService=me,this._eventBus=ve,this._reset(),ve._on("find",this._onFind.bind(this)),ve._on("findbarclose",this._onFindBarClose.bind(this)),this.executeCommand=(we,ue)=>{console.error('Deprecated method `PDFFindController.executeCommand` called, please dispatch a "find"-event using the EventBus instead.');const ke=Object.assign(Object.create(null),ue,{type:we.substring(4)});this._onFind(ke)}}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(me){this._pdfDocument&&this._reset(),me&&(this._pdfDocument=me,this._firstPageCapability.resolve())}_onFind(me){if(!me)return;const ve=this._pdfDocument,{type:we}=me;(null===this._state||this._shouldDirtyMatch(me))&&(this._dirtyMatch=!0),this._state=me,"highlightallchange"!==we&&this._updateUIState(B.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||ve&&this._pdfDocument!==ve)return;this._extractText();const ue=!this._highlightMatches,ke=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),we?this._dirtyMatch?this._nextMatch():"again"===we?(this._nextMatch(),ue&&this._state.highlightAll&&this._updateAllPages()):"highlightallchange"===we?(ke?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch():this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250)})}scrollMatchIntoView({element:me=null,selectedLeft:ve=0,pageIndex:we=-1,matchIndex:ue=-1}){this._scrollMatches&&me&&-1!==ue&&ue===this._selected.matchIdx&&-1!==we&&we===this._selected.pageIdx&&(this._scrollMatches=!1,(0,x.scrollIntoView)(me,{top:-50,left:ve+-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,w.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=be(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(me){if(me.query!==this._state.query)return!0;switch(me.type){case"again":const ve=this._selected.pageIdx+1,we=this._linkService;return ve>=1&&ve<=we.pagesCount&&ve!==we.page&&!we.isPageVisible(ve);case"highlightallchange":return!1}return!0}_isEntireWord(me,ve,we){let ue=me.slice(0,ve).match(L);if(ue){const ke=me.charCodeAt(ve),J=ue[1].charCodeAt(0);if((0,_.getCharacterType)(ke)===(0,_.getCharacterType)(J))return!1}if(ue=me.slice(ve+we).match(W),ue){const ke=me.charCodeAt(ve+we-1),J=ue[1].charCodeAt(0);if((0,_.getCharacterType)(ke)===(0,_.getCharacterType)(J))return!1}return!0}_calculateRegExpMatch(me,ve,we,ue){const ke=[],J=[],N=this._pageDiffs[we];let F;for(;null!==(F=me.exec(ue));){if(ve&&!this._isEntireWord(ue,F.index,F[0].length))continue;const[ie,O]=de(N,F.index,F[0].length);O&&(ke.push(ie),J.push(O))}this._pageMatches[we]=ke,this._pageMatchesLength[we]=J}_convertToRegExpString(me,ve){const{matchDiacritics:we}=this._state;let ue=!1;return(me=me.replace(T,(J,N,F,ie,O,ne)=>N?`[ ]*\\${N}[ ]*`:F?`[ ]*${F}[ ]*`:ie?"[ ]+":we?O||ne:O?j.has(O.charCodeAt(0))?O:"":ve?(ue=!0,`${ne}\\p{M}*`):ne)).endsWith("[ ]*")&&(me=me.slice(0,me.length-"[ ]*".length)),we&&ve&&(ue=!0,me=`${me}(?=[${S}]|[^\\p{M}]|$)`),[ue,me]}_calculateMatch(me){let ve=this._query;if(0===ve.length)return;const{caseSensitive:we,entireWord:ue,phraseSearch:ke}=this._state,J=this._pageContents[me],N=this._hasDiacritics[me];let F=!1;if(ke)[F,ve]=this._convertToRegExpString(ve,N);else{const ne=ve.match(/\S+/g);ne&&(ve=ne.sort().reverse().map(v=>{const[U,H]=this._convertToRegExpString(v,N);return F||(F=U),`(${H})`}).join("|"))}ve=new RegExp(ve,`g${F?"u":""}${we?"":"i"}`),this._calculateRegExpMatch(ve,ue,me,J),this._state.highlightAll&&this._updatePage(me),this._resumePageIdx===me&&(this._resumePageIdx=null,this._nextPageMatch());const O=this._pageMatches[me].length;O>0&&(this._matchesCountTotal+=O,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let me=Promise.resolve();for(let ve=0,we=this._linkService.pagesCount;ve<we;ve++){const ue=(0,w.createPromiseCapability)();this._extractTextPromises[ve]=ue.promise,me=me.then(()=>this._pdfDocument.getPage(ve+1).then(ke=>ke.getTextContent()).then(ke=>{const J=ke.items,N=[];for(let F=0,ie=J.length;F<ie;F++)N.push(J[F].str),J[F].hasEOL&&N.push("\n");[this._pageContents[ve],this._pageDiffs[ve],this._hasDiacritics[ve]]=be(N.join("")),ue.resolve(ve)},ke=>{console.error(`Unable to get text content for page ${ve+1}`,ke),this._pageContents[ve]="",this._pageDiffs[ve]=null,this._hasDiacritics[ve]=!1,ue.resolve(ve)}))}}_updatePage(me){this._scrollMatches&&this._selected.pageIdx===me&&(this._linkService.page=me+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:me})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const me=this._state.findPrevious,ve=this._linkService.page-1,we=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=ve,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let ke=0;ke<we;ke++)this._pendingFindMatches.has(ke)||(this._pendingFindMatches.add(ke),this._extractTextPromises[ke].then(J=>{this._pendingFindMatches.delete(J),this._calculateMatch(J)}))}if(""===this._query)return void this._updateUIState(B.FOUND);if(this._resumePageIdx)return;const ue=this._offset;if(this._pagesToSearch=we,null!==ue.matchIdx){const ke=this._pageMatches[ue.pageIdx].length;if(!me&&ue.matchIdx+1<ke||me&&ue.matchIdx>0)return ue.matchIdx=me?ue.matchIdx-1:ue.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(me)}this._nextPageMatch()}_matchesReady(me){const ve=this._offset,we=me.length,ue=this._state.findPrevious;return we?(ve.matchIdx=ue?we-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(ue),!!(ve.wrapped&&(ve.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let me=null;do{const ve=this._offset.pageIdx;if(me=this._pageMatches[ve],!me){this._resumePageIdx=ve;break}}while(!this._matchesReady(me))}_advanceOffsetPage(me){const ve=this._offset,we=this._linkService.pagesCount;ve.pageIdx=me?ve.pageIdx-1:ve.pageIdx+1,ve.matchIdx=null,this._pagesToSearch--,(ve.pageIdx>=we||ve.pageIdx<0)&&(ve.pageIdx=me?we-1:0,ve.wrapped=!0)}_updateMatch(me=!1){let ve=B.NOT_FOUND;const we=this._offset.wrapped;if(this._offset.wrapped=!1,me){const ue=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,ve=we?B.WRAPPED:B.FOUND,-1!==ue&&ue!==this._selected.pageIdx&&this._updatePage(ue)}this._updateUIState(ve,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(me){const ve=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||ve&&this._pdfDocument!==ve||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(B.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){var ke;const{pageIdx:me,matchIdx:ve}=this._selected;let we=0,ue=this._matchesCountTotal;if(-1!==ve){for(let J=0;J<me;J++)we+=(null==(ke=this._pageMatches[J])?void 0:ke.length)||0;we+=ve+1}return(we<1||we>ue)&&(we=ue=0),{current:we,total:ue}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(me,ve=!1){var we,ue;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:me,previous:ve,matchesCount:this._requestMatchesCount(),rawQuery:null!=(ue=null==(we=this._state)?void 0:we.query)?ue:null})}}},(z,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CharacterType=void 0,f.getCharacterType=function A(T){return function x(T){return T<11904}(T)?function w(T){return 0==(65408&T)}(T)?function k(T){return 32===T||9===T||13===T||10===T}(T)?R.SPACE:function _(T){return T>=97&&T<=122||T>=65&&T<=90}(T)||function B(T){return T>=48&&T<=57}(T)||95===T?R.ALPHA_LETTER:R.PUNCT:function S(T){return 3584==(65408&T)}(T)?R.THAI_LETTER:160===T?R.SPACE:R.ALPHA_LETTER:function C(T){return T>=13312&&T<=40959||T>=63744&&T<=64255}(T)?R.HAN_LETTER:function X(T){return T>=12448&&T<=12543}(T)?R.KATAKANA_LETTER:function se(T){return T>=12352&&T<=12447}(T)?R.HIRAGANA_LETTER:function j(T){return T>=65376&&T<=65439}(T)?R.HALFWIDTH_KATAKANA_LETTER:R.ALPHA_LETTER};const R={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};f.CharacterType=R},(z,f,R)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFHistory=void 0,f.isDestArraysEqual=j,f.isDestHashesEqual=se;var x=R(6),w=R(17);function C(){return document.location.hash}function se(S,A){return"string"==typeof S&&"string"==typeof A&&(S===A||(0,x.parseQueryString)(S).get("nameddest")===A)}function j(S,A){function T(L,W){if(typeof L!=typeof W||Array.isArray(L)||Array.isArray(W))return!1;if(null!==L&&"object"==typeof L&&null!==W){if(Object.keys(L).length!==Object.keys(W).length)return!1;for(const G in L)if(!T(L[G],W[G]))return!1;return!0}return L===W||Number.isNaN(L)&&Number.isNaN(W)}if(!Array.isArray(S)||!Array.isArray(A)||S.length!==A.length)return!1;for(let L=0,W=S.length;L<W;L++)if(!T(S[L],A[L]))return!1;return!0}f.PDFHistory=class X{constructor({linkService:A,eventBus:T}){this.linkService=A,this.eventBus=T,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",L=>{this._isViewerInPresentationMode=L.state!==x.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",L=>{this._isPagesLoaded=!!L.pagesCount},{once:!0})})}initialize({fingerprint:A,resetHistory:T=!1,updateUrl:L=!1}){if(!A||"string"!=typeof A)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const W=""!==this._fingerprint&&this._fingerprint!==A;this._fingerprint=A,this._updateUrl=!0===L,this._initialized=!0,this._bindEvents();const G=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=C(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(G,!0)||T){const{hash:de,page:_e,rotation:ye}=this._parseCurrentHash(!0);return!de||W||T?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:de,page:_e,rotation:ye},!0)}const be=G.destination;this._updateInternalState(be,G.uid,!0),void 0!==be.rotation&&(this._initialRotation=be.rotation),be.dest?(this._initialBookmark=JSON.stringify(be.dest),this._destination.page=null):be.hash?this._initialBookmark=be.hash:be.page&&(this._initialBookmark=`page=${be.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:A=null,explicitDest:T,pageNumber:L}){if(!this._initialized)return;if(A&&"string"!=typeof A)return void console.error(`PDFHistory.push: "${A}" is not a valid namedDest parameter.`);if(!Array.isArray(T))return void console.error(`PDFHistory.push: "${T}" is not a valid explicitDest parameter.`);if(!this._isValidPage(L)&&(null!==L||this._destination))return void console.error(`PDFHistory.push: "${L}" is not a valid pageNumber parameter.`);const W=A||JSON.stringify(T);if(!W)return;let G=!1;if(this._destination&&(se(this._destination.hash,W)||j(this._destination.dest,T))){if(this._destination.page)return;G=!0}this._popStateInProgress&&!G||(this._pushOrReplaceState({dest:T,hash:W,page:L,rotation:this.linkService.rotation},G),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(A){var T;if(this._initialized){if(!this._isValidPage(A))return void console.error(`PDFHistory.pushPage: "${A}" is not a valid page number.`);(null==(T=this._destination)?void 0:T.page)!==A&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${A}`,page:A,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const A=window.history.state;this._isValidState(A)&&A.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const A=window.history.state;this._isValidState(A)&&A.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(A,T=!1){const L=T||!this._destination,W={fingerprint:this._fingerprint,uid:L?this._uid:this._uid+1,destination:A};let G;if(this._updateInternalState(A,W.uid),this._updateUrl&&(null==A?void 0:A.hash)){const be=document.location.href.split("#")[0];be.startsWith("file://")||(G=`${be}#${A.hash}`)}L?window.history.replaceState(W,"",G):window.history.pushState(W,"",G)}_tryPushCurrentPosition(A=!1){if(!this._position)return;let T=this._position;if(A&&(T=Object.assign(Object.create(null),this._position),T.temporary=!0),!this._destination)return void this._pushOrReplaceState(T);if(this._destination.temporary)return void this._pushOrReplaceState(T,!0);if(this._destination.hash===T.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let L=!1;if(this._destination.page>=T.first&&this._destination.page<=T.page){if(void 0!==this._destination.dest||!this._destination.first)return;L=!0}this._pushOrReplaceState(T,L)}_isValidPage(A){return Number.isInteger(A)&&A>0&&A<=this.linkService.pagesCount}_isValidState(A,T=!1){if(!A)return!1;if(A.fingerprint!==this._fingerprint){if(!T)return!1;{if("string"!=typeof A.fingerprint||A.fingerprint.length!==this._fingerprint.length)return!1;const[L]=performance.getEntriesByType("navigation");if("reload"!==(null==L?void 0:L.type))return!1}}return!(!Number.isInteger(A.uid)||A.uid<0||null===A.destination||"object"!=typeof A.destination)}_updateInternalState(A,T,L=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),L&&(null==A?void 0:A.temporary)&&delete A.temporary,this._destination=A,this._uid=T,this._maxUid=Math.max(this._maxUid,T),this._numPositionUpdates=0}_parseCurrentHash(A=!1){const T=unescape(C()).substring(1),L=(0,x.parseQueryString)(T),W=L.get("nameddest")||"";let G=0|L.get("page");return(!this._isValidPage(G)||A&&W.length>0)&&(G=null),{hash:T,page:G,rotation:this.linkService.rotation}}_updateViewarea({location:A}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?`page=${A.pageNumber}`:A.pdfOpenParams.substring(1),page:this.linkService.page,first:A.pageNumber,rotation:A.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:A}){const T=C(),L=this._currentHash!==T;if(this._currentHash=T,!A){this._uid++;const{hash:G,page:be,rotation:de}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:G,page:be,rotation:de},!0)}if(!this._isValidState(A))return;this._popStateInProgress=!0,L&&(this._blockHashChange++,(0,w.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const W=A.destination;this._updateInternalState(W,A.uid,!0),(0,x.isValidRotation)(W.rotation)&&(this.linkService.rotation=W.rotation),W.dest?this.linkService.goToDestination(W.dest):W.hash?this.linkService.setHash(W.hash):W.page&&(this.linkService.page=W.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(z,f,R)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFScriptingManager=void 0;var x=R(6),w=R(3);f.PDFScriptingManager=class _{constructor({eventBus:k,sandboxBundleSrc:C=null,scriptingFactory:X=null,docPropertiesLookup:se=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=k,this._sandboxBundleSrc=C,this._scriptingFactory=X,this._docPropertiesLookup=se,this._scriptingFactory||window.addEventListener("updatefromsandbox",j=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:j.detail})})}setViewer(k){this._pdfViewer=k}setDocument(k){var C=this;return c(function*(){var S;if(C._pdfDocument&&(yield C._destroyScripting()),C._pdfDocument=k,!k)return;const[X,se,j]=yield Promise.all([k.getFieldObjects(),k.getCalculationOrderIds(),k.getJSActions()]);if(X||j){if(k===C._pdfDocument){try{C._scripting=C._createScripting()}catch(A){return console.error(`PDFScriptingManager.setDocument: "${null==A?void 0:A.message}".`),void(yield C._destroyScripting())}C._internalEvents.set("updatefromsandbox",A=>{(null==A?void 0:A.source)===window&&C._updateFromSandbox(A.detail)}),C._internalEvents.set("dispatcheventinsandbox",A=>{var T;null==(T=C._scripting)||T.dispatchEventInSandbox(A.detail)}),C._internalEvents.set("pagechanging",({pageNumber:A,previous:T})=>{A!==T&&(C._dispatchPageClose(T),C._dispatchPageOpen(A))}),C._internalEvents.set("pagerendered",({pageNumber:A})=>{!C._pageOpenPending.has(A)||A===C._pdfViewer.currentPageNumber&&C._dispatchPageOpen(A)}),C._internalEvents.set("pagesdestroy",function(){var A=c(function*(T){var L,W;yield C._dispatchPageClose(C._pdfViewer.currentPageNumber),yield null==(L=C._scripting)?void 0:L.dispatchEventInSandbox({id:"doc",name:"WillClose"}),null==(W=C._closeCapability)||W.resolve()});return function(T){return A.apply(this,arguments)}}()),C._domEvents.set("mousedown",A=>{C._mouseState.isDown=!0}),C._domEvents.set("mouseup",A=>{C._mouseState.isDown=!1});for(const[A,T]of C._internalEvents)C._eventBus._on(A,T);for(const[A,T]of C._domEvents)window.addEventListener(A,T);try{const A=yield C._getDocProperties();if(k!==C._pdfDocument)return;yield C._scripting.createSandbox({objects:X,calculationOrder:se,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:qi(Ui({},A),{actions:j})}),C._eventBus.dispatch("sandboxcreated",{source:C})}catch(A){return console.error(`PDFScriptingManager.setDocument: "${null==A?void 0:A.message}".`),void(yield C._destroyScripting())}yield null==(S=C._scripting)?void 0:S.dispatchEventInSandbox({id:"doc",name:"Open"}),yield C._dispatchPageOpen(C._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{k===C._pdfDocument&&(C._ready=!0)})}}else yield C._destroyScripting()})()}dispatchWillSave(k){var C=this;return c(function*(){var X;return null==(X=C._scripting)?void 0:X.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(k){var C=this;return c(function*(){var X;return null==(X=C._scripting)?void 0:X.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(k){var C=this;return c(function*(){var X;return null==(X=C._scripting)?void 0:X.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(k){var C=this;return c(function*(){var X;return null==(X=C._scripting)?void 0:X.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){var k;return(null==(k=this._destroyCapability)?void 0:k.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,w.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,w.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,w.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,w.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(k){var C=this;return c(function*(){var L;const X=C._pdfViewer.isInPresentationMode||C._pdfViewer.isChangingPresentationMode,{id:se,siblings:j,command:S,value:A}=k;if(!se){switch(S){case"clear":console.clear();break;case"error":console.error(A);break;case"layout":if(X)return;const W=(0,x.apiPageLayoutToViewerModes)(A);C._pdfViewer.spreadMode=W.spreadMode;break;case"page-num":C._pdfViewer.currentPageNumber=A+1;break;case"print":yield C._pdfViewer.pagesPromise,C._eventBus.dispatch("print",{source:C});break;case"println":console.log(A);break;case"zoom":if(X)return;C._pdfViewer.currentScaleValue=A;break;case"SaveAs":C._eventBus.dispatch("save",{source:C});break;case"FirstPage":C._pdfViewer.currentPageNumber=1;break;case"LastPage":C._pdfViewer.currentPageNumber=C._pdfViewer.pagesCount;break;case"NextPage":C._pdfViewer.nextPage();break;case"PrevPage":C._pdfViewer.previousPage();break;case"ZoomViewIn":if(X)return;C._pdfViewer.increaseScale();break;case"ZoomViewOut":if(X)return;C._pdfViewer.decreaseScale()}return}if(X&&k.focus)return;delete k.id,delete k.siblings;const T=j?[se,...j]:[se];for(const W of T){const G=document.getElementById(W);G?G.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:k})):null==(L=C._pdfDocument)||L.annotationStorage.setValue(W,k)}})()}_dispatchPageOpen(k,C=!1){var X=this;return c(function*(){const se=X._pdfDocument,j=X._visitedPages;if(C&&(X._closeCapability=(0,w.createPromiseCapability)()),!X._closeCapability)return;const S=X._pdfViewer.getPageView(k-1);if((null==S?void 0:S.renderingState)!==x.RenderingStates.FINISHED)return void X._pageOpenPending.add(k);X._pageOpenPending.delete(k);const A=c(function*(){var L,W;const T=yield j.has(k)?null:null==(L=S.pdfPage)?void 0:L.getJSActions();se===X._pdfDocument&&(yield null==(W=X._scripting)?void 0:W.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:k,actions:T}))})();j.set(k,A)})()}_dispatchPageClose(k){var C=this;return c(function*(){var S;const X=C._pdfDocument,se=C._visitedPages;if(!C._closeCapability||C._pageOpenPending.has(k))return;const j=se.get(k);!j||(se.set(k,null),yield j,X===C._pdfDocument&&(yield null==(S=C._scripting)?void 0:S.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:k})))})()}_getDocProperties(){var k=this;return c(function*(){if(k._docPropertiesLookup)return k._docPropertiesLookup(k._pdfDocument);const{docPropertiesLookup:C}=R(24);return C(k._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,w.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:k}=R(24);return new k(this._sandboxBundleSrc)}_destroyScripting(){var k=this;return c(function*(){var C,X;if(!k._scripting)return k._pdfDocument=null,void(null==(C=k._destroyCapability)||C.resolve());k._closeCapability&&(yield Promise.race([k._closeCapability.promise,new Promise(se=>{setTimeout(se,1e3)})]).catch(se=>{}),k._closeCapability=null),k._pdfDocument=null;try{yield k._scripting.destroySandbox()}catch(se){}for(const[se,j]of k._internalEvents)k._eventBus._off(se,j);k._internalEvents.clear();for(const[se,j]of k._domEvents)window.removeEventListener(se,j);k._domEvents.clear(),k._pageOpenPending.clear(),k._visitedPages.clear(),k._scripting=null,delete k._mouseState.isDown,k._ready=!1,null==(X=k._destroyCapability)||X.resolve()})()}}},(z,f,R)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.GenericScripting=void 0,f.docPropertiesLookup=function w(k){return _.apply(this,arguments)};var x=R(3);function _(){return(_=c(function*(k){const X="".split("#")[0];let{info:se,metadata:j,contentDispositionFilename:S,contentLength:A}=yield k.getMetadata();if(!A){const{length:T}=yield k.getDownloadInfo();A=T}return qi(Ui({},se),{baseURL:X,filesize:A,filename:S||(0,x.getPdfFilenameFromUrl)(""),metadata:null==j?void 0:j.getRaw(),authors:null==j?void 0:j.get("dc:creator"),numPages:k.numPages,URL:""})})).apply(this,arguments)}f.GenericScripting=class B{constructor(C){this._ready=(0,x.loadScript)(C,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(C){var X=this;return c(function*(){(yield X._ready).create(C)})()}dispatchEventInSandbox(C){var X=this;return c(function*(){const se=yield X._ready;setTimeout(()=>se.dispatchEvent(C),0)})()}destroySandbox(){var C=this;return c(function*(){(yield C._ready).nukeSandbox()})()}}}],xe={};function ce(z){var f=xe[z];if(void 0!==f)return f.exports;var R=xe[z]={exports:{}};return e[z](R,R.exports,ce),R.exports}var pe={};return(()=>{var z=pe;Object.defineProperty(z,"__esModule",{value:!0}),Object.defineProperty(z,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return _.AnnotationLayerBuilder}}),Object.defineProperty(z,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return f.DefaultAnnotationLayerFactory}}),Object.defineProperty(z,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return f.DefaultStructTreeLayerFactory}}),Object.defineProperty(z,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return f.DefaultTextLayerFactory}}),Object.defineProperty(z,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return f.DefaultXfaLayerFactory}}),Object.defineProperty(z,"DownloadManager",{enumerable:!0,get:function(){return B.DownloadManager}}),Object.defineProperty(z,"EventBus",{enumerable:!0,get:function(){return k.EventBus}}),Object.defineProperty(z,"GenericL10n",{enumerable:!0,get:function(){return C.GenericL10n}}),Object.defineProperty(z,"LinkTarget",{enumerable:!0,get:function(){return R.LinkTarget}}),Object.defineProperty(z,"NullL10n",{enumerable:!0,get:function(){return X.NullL10n}}),Object.defineProperty(z,"PDFFindController",{enumerable:!0,get:function(){return se.PDFFindController}}),Object.defineProperty(z,"PDFHistory",{enumerable:!0,get:function(){return j.PDFHistory}}),Object.defineProperty(z,"PDFLinkService",{enumerable:!0,get:function(){return R.PDFLinkService}}),Object.defineProperty(z,"PDFPageView",{enumerable:!0,get:function(){return S.PDFPageView}}),Object.defineProperty(z,"PDFScriptingManager",{enumerable:!0,get:function(){return A.PDFScriptingManager}}),Object.defineProperty(z,"PDFSinglePageViewer",{enumerable:!0,get:function(){return w.PDFSinglePageViewer}}),Object.defineProperty(z,"PDFViewer",{enumerable:!0,get:function(){return w.PDFViewer}}),Object.defineProperty(z,"ProgressBar",{enumerable:!0,get:function(){return x.ProgressBar}}),Object.defineProperty(z,"SimpleLinkService",{enumerable:!0,get:function(){return R.SimpleLinkService}}),Object.defineProperty(z,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return T.StructTreeLayerBuilder}}),Object.defineProperty(z,"TextLayerBuilder",{enumerable:!0,get:function(){return L.TextLayerBuilder}}),Object.defineProperty(z,"XfaLayerBuilder",{enumerable:!0,get:function(){return W.XfaLayerBuilder}}),Object.defineProperty(z,"parseQueryString",{enumerable:!0,get:function(){return x.parseQueryString}});var f=ce(1),R=ce(5),x=ce(6),w=ce(10),_=ce(2),B=ce(16),k=ce(17),C=ce(18),X=ce(4),se=ce(20),j=ce(22),S=ce(12),A=ce(23),T=ce(7),L=ce(8),W=ce(9)})(),pe})()},8926:ze=>{function re(c,e,xe,ce,pe,z,f){try{var R=c[z](f),x=R.value}catch(w){return void xe(w)}R.done?e(x):Promise.resolve(x).then(ce,pe)}ze.exports=function oe(c){return function(){var e=this,xe=arguments;return new Promise(function(ce,pe){var z=c.apply(e,xe);function f(x){re(z,ce,pe,f,R,"next",x)}function R(x){re(z,ce,pe,f,R,"throw",x)}f(void 0)})}},ze.exports.__esModule=!0,ze.exports.default=ze.exports},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},1535:(ze,re,oe)=>{"use strict";oe.d(re,{rQ:()=>F,xC:()=>ie});var c=oe(1223),e=oe(8421),xe=oe(8306),ce=oe(5577),pe=oe(1144),z=oe(576),f=oe(3268);const R=["addListener","removeListener"],x=["addEventListener","removeEventListener"],w=["on","off"];function _(O,ne,v,U){if((0,z.m)(v)&&(U=v,v=void 0),U)return _(O,ne,v).pipe((0,f.Z)(U));const[H,ge]=function X(O){return(0,z.m)(O.addEventListener)&&(0,z.m)(O.removeEventListener)}(O)?x.map(q=>Ae=>O[q](ne,Ae,v)):function k(O){return(0,z.m)(O.addListener)&&(0,z.m)(O.removeListener)}(O)?R.map(B(O,ne)):function C(O){return(0,z.m)(O.on)&&(0,z.m)(O.off)}(O)?w.map(B(O,ne)):[];if(!H&&(0,pe.z)(O))return(0,ce.z)(q=>_(q,ne,v))((0,e.Xf)(O));if(!H)throw new TypeError("Invalid event target");return new xe.y(q=>{const Ae=(...Fe)=>q.next(1<Fe.length?Fe:Fe[0]);return H(Ae),()=>ge(Ae)})}function B(O,ne){return v=>U=>O[v](ne,U)}var se=oe(7579),j=oe(2076),S=oe(4482),A=oe(5403),T=oe(5032);function L(O){return(0,S.e)((ne,v)=>{(0,e.Xf)(O).subscribe((0,A.x)(v,()=>v.complete(),T.Z)),!v.closed&&ne.subscribe(v)})}var W=oe(4986),be=oe(9300),de=oe(6036),_e=oe.t(de,2),ye=oe(2813),me=oe.t(ye,2);const ve=["pdfViewerContainer"];function we(O,ne){const v=new O.EventBus;return function ue(O,ne){_(O,"documentload").pipe(L(ne)).subscribe(()=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(v)}),_(O,"pagerendered").pipe(L(ne)).subscribe(({pageNumber:v,cssTransform:U,source:H})=>{const ge=document.createEvent("CustomEvent");ge.initCustomEvent("pagerendered",!0,!0,{pageNumber:v,cssTransform:U}),H.div.dispatchEvent(ge)}),_(O,"textlayerrendered").pipe(L(ne)).subscribe(({pageNumber:v,source:U})=>{const H=document.createEvent("CustomEvent");H.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:v}),U.textLayerDiv.dispatchEvent(H)}),_(O,"pagechanging").pipe(L(ne)).subscribe(({pageNumber:v,source:U})=>{const H=document.createEvent("UIEvents");H.initEvent("pagechanging",!0,!0),H.pageNumber=v,U.container.dispatchEvent(H)}),_(O,"pagesinit").pipe(L(ne)).subscribe(({source:v})=>{const U=document.createEvent("CustomEvent");U.initCustomEvent("pagesinit",!0,!0,null),v.container.dispatchEvent(U)}),_(O,"pagesloaded").pipe(L(ne)).subscribe(({pagesCount:v,source:U})=>{const H=document.createEvent("CustomEvent");H.initCustomEvent("pagesloaded",!0,!0,{pagesCount:v}),U.container.dispatchEvent(H)}),_(O,"scalechange").pipe(L(ne)).subscribe(({scale:v,presetValue:U,source:H})=>{const ge=document.createEvent("UIEvents");ge.initEvent("scalechange",!0,!0),ge.scale=v,ge.presetValue=U,H.container.dispatchEvent(ge)}),_(O,"updateviewarea").pipe(L(ne)).subscribe(({location:v,source:U})=>{const H=document.createEvent("UIEvents");H.initEvent("updateviewarea",!0,!0),H.location=v,U.container.dispatchEvent(H)}),_(O,"find").pipe(L(ne)).subscribe(({source:v,type:U,query:H,phraseSearch:ge,caseSensitive:q,highlightAll:Ae,findPrevious:Fe})=>{if(v===window)return;const Ie=document.createEvent("CustomEvent");Ie.initCustomEvent("find"+U,!0,!0,{query:H,phraseSearch:ge,caseSensitive:q,highlightAll:Ae,findPrevious:Fe}),window.dispatchEvent(Ie)}),_(O,"attachmentsloaded").pipe(L(ne)).subscribe(({attachmentsCount:v,source:U})=>{const H=document.createEvent("CustomEvent");H.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:v}),U.container.dispatchEvent(H)}),_(O,"sidebarviewchanged").pipe(L(ne)).subscribe(({view:v,source:U})=>{const H=document.createEvent("CustomEvent");H.initCustomEvent("sidebarviewchanged",!0,!0,{view:v}),U.outerContainer.dispatchEvent(H)}),_(O,"pagemode").pipe(L(ne)).subscribe(({mode:v,source:U})=>{const H=document.createEvent("CustomEvent");H.initCustomEvent("pagemode",!0,!0,{mode:v}),U.pdfViewer.container.dispatchEvent(H)}),_(O,"namedaction").pipe(L(ne)).subscribe(({action:v,source:U})=>{const H=document.createEvent("CustomEvent");H.initCustomEvent("namedaction",!0,!0,{action:v}),U.pdfViewer.container.dispatchEvent(H)}),_(O,"presentationmodechanged").pipe(L(ne)).subscribe(({active:v,switchInProgress:U})=>{const H=document.createEvent("CustomEvent");H.initCustomEvent("presentationmodechanged",!0,!0,{active:v,switchInProgress:U}),window.dispatchEvent(H)}),_(O,"outlineloaded").pipe(L(ne)).subscribe(({outlineCount:v,source:U})=>{const H=document.createEvent("CustomEvent");H.initCustomEvent("outlineloaded",!0,!0,{outlineCount:v}),U.container.dispatchEvent(H)})}(v,ne),v}function ke(O,ne,v){O[ne]=v}function J(){return"undefined"==typeof window}J()||ke(_e,"verbosity",de.VerbosityLevel.INFOS);var N=(()=>{return(O=N||(N={}))[O.DISABLED=0]="DISABLED",O[O.ENABLED=1]="ENABLED",O[O.ENHANCED=2]="ENHANCED",N;var O})();let F=(()=>{class O{constructor(v,U){if(this.element=v,this.ngZone=U,this.isVisible=!1,this._cMapsUrl=void 0!==_e?`https://unpkg.com/pdfjs-dist@${de.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=N.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new se.x,this.afterLoadComplete=new c.vpe,this.pageRendered=new c.vpe,this.pageInitialized=new c.vpe,this.textLayerRendered=new c.vpe,this.onError=new c.vpe,this.onProgress=new c.vpe,this.pageChange=new c.vpe(!0),J())return;let H;H=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${de.version}/legacy/build/pdf.worker.min.js`,ke(de.GlobalWorkerOptions,"workerSrc",H)}set cMapsUrl(v){this._cMapsUrl=v}set page(v){const U=v=parseInt(v,10)||1;this._pdf&&(v=this.getValidPageNumber(v)),this._page=v,U!==v&&this.pageChange.emit(v)}set renderText(v){this._renderText=v}set renderTextMode(v){this._renderTextMode=v}set originalSize(v){this._originalSize=v}set showAll(v){this._showAll=v}set stickToPage(v){this._stickToPage=v}set zoom(v){v<=0||(this._zoom=v)}get zoom(){return this._zoom}set zoomScale(v){this._zoomScale=v}get zoomScale(){return this._zoomScale}set rotation(v){"number"==typeof v&&v%90==0?this._rotation=v:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(v){this._externalLinkTarget=v}set autoresize(v){this._canAutoResize=Boolean(v)}set fitToPage(v){this._fitToPage=Boolean(v)}set showBorders(v){this._showBorders=Boolean(v)}static getLinkTarget(v){switch(v){case"blank":return ye.LinkTarget.BLANK;case"none":return ye.LinkTarget.NONE;case"self":return ye.LinkTarget.SELF;case"parent":return ye.LinkTarget.PARENT;case"top":return ye.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const v=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=v?!1===this.isVisible&&null!=v&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(v){if(!J()&&this.isVisible)if("src"in v)this.loadPDF();else if(this._pdf){if("renderText"in v?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:N.DISABLED,this.resetPdfDocument()):"showAll"in v&&this.resetPdfDocument(),"page"in v){const{page:U}=v;if(U.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const v=this.getCurrentViewer();(0,j.D)(this._pdf.getPage(v.currentPageNumber)).pipe(L(this.destroy$)).subscribe({next:U=>{const H=this._rotation||U.rotate,ge=U.getViewport({scale:this._zoom,rotation:H}).width*O.CSS_UNITS;let q=this._zoom,Ae=!0;if(!this._originalSize||this._fitToPage&&ge>this.pdfViewerContainer.nativeElement.clientWidth){const Fe=U.getViewport({scale:1,rotation:H});q=this.getScale(Fe.width,Fe.height),Ae=!this._stickToPage}v._setScale(q,Ae)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const v={},U=O.getLinkTarget(this._externalLinkTarget);return U&&(v.externalLinkTarget=U),v}setupMultiPageViewer(){ke(_e,"disableTextLayer",!this._renderText);const v=we(me,this.destroy$);_(v,"pagerendered").pipe(L(this.destroy$)).subscribe(H=>{this.pageRendered.emit(H)}),_(v,"pagesinit").pipe(L(this.destroy$)).subscribe(H=>{this.pageInitialized.emit(H)}),_(v,"pagechanging").pipe(L(this.destroy$)).subscribe(({pageNumber:H})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=H,this.pageChange.emit(H)},100)}),_(v,"textlayerrendered").pipe(L(this.destroy$)).subscribe(H=>{this.textLayerRendered.emit(H)}),this.pdfMultiPageLinkService=new ye.PDFLinkService(Object.assign({eventBus:v},this.getPDFLinkServiceConfig())),this.pdfMultiPageFindController=new ye.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:v});const U={eventBus:v,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:N.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0};this.pdfMultiPageViewer=new ye.PDFViewer(U),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){ke(_e,"disableTextLayer",!this._renderText);const v=we(me,this.destroy$);_(v,"pagechanging").pipe(L(this.destroy$)).subscribe(({pageNumber:H})=>{H!==this._page&&(this.page=H)}),_(v,"pagerendered").pipe(L(this.destroy$)).subscribe(H=>{this.pageRendered.emit(H)}),_(v,"pagesinit").pipe(L(this.destroy$)).subscribe(H=>{this.pageInitialized.emit(H)}),_(v,"textlayerrendered").pipe(L(this.destroy$)).subscribe(H=>{this.textLayerRendered.emit(H)}),this.pdfSinglePageLinkService=new ye.PDFLinkService(Object.assign({eventBus:v},this.getPDFLinkServiceConfig())),this.pdfSinglePageFindController=new ye.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:v});const U={eventBus:v,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:N.DISABLED,findController:this.pdfSinglePageFindController,renderer:"canvas",l10n:void 0};this.pdfSinglePageViewer=new ye.PDFSinglePageViewer(U),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(v){return v<1?1:v>this._pdf.numPages?this._pdf.numPages:v}getDocumentParams(){const v=typeof this.src;if(!this._cMapsUrl)return this.src;const U={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===v?U.url=this.src:"object"===v&&(void 0!==this.src.byteLength?U.data=this.src:Object.assign(U,this.src)),U}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=de.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=U=>{this.onProgress.emit(U)};const v=this.src;(0,j.D)(this.loadingTask.promise).pipe(L(this.destroy$)).subscribe({next:U=>{this._pdf=U,this.lastLoaded=v,this.afterLoadComplete.emit(U),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:U=>{this.lastLoaded=null,this.onError.emit(U)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const v=this.getCurrentViewer();(0!==this._rotation||v.pagesRotation!==this._rotation)&&setTimeout(()=>{v.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{v.currentPageNumber=this._page}),this.updateSize()}getScale(v,U){const H=this._showBorders?2*O.BORDER_WIDTH:0,ge=this.pdfViewerContainer.nativeElement.clientWidth-H,q=this.pdfViewerContainer.nativeElement.clientHeight-H;if(0===q||0===U||0===ge||0===v)return 1;let Ae=1;switch(this._zoomScale){case"page-fit":Ae=Math.min(q/U,ge/v);break;case"page-height":Ae=q/U;break;default:Ae=ge/v}return this._zoom*Ae/O.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){J()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){J()||this.ngZone.runOutsideAngular(()=>{_(window,"resize").pipe(function G(O,ne=W.z){return(0,S.e)((v,U)=>{let H=null,ge=null,q=null;const Ae=()=>{if(H){H.unsubscribe(),H=null;const Ie=ge;ge=null,U.next(Ie)}};function Fe(){const Ie=q+O,Re=ne.now();if(Re<Ie)return H=this.schedule(void 0,Ie-Re),void U.add(H);Ae()}v.subscribe((0,A.x)(U,Ie=>{ge=Ie,q=ne.now(),H||(H=ne.schedule(Fe,O),U.add(H))},()=>{Ae(),U.complete()},void 0,()=>{ge=H=null}))})}(100),(0,be.h)(()=>this._canAutoResize&&!!this._pdf),L(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return O.CSS_UNITS=96/72,O.BORDER_WIDTH=9,O.\u0275fac=function(v){return new(v||O)(c.Y36(c.SBq),c.Y36(c.R0b))},O.\u0275cmp=c.Xpm({type:O,selectors:[["pdf-viewer"]],viewQuery:function(v,U){if(1&v&&c.Gf(ve,5),2&v){let H;c.iGM(H=c.CRH())&&(U.pdfViewerContainer=H.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[c.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(v,U){1&v&&(c.TgZ(0,"div",0,1),c._UZ(2,"div",2),c.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=)}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),O})(),ie=(()=>{class O{}return O.\u0275fac=function(v){return new(v||O)},O.\u0275mod=c.oAB({type:O}),O.\u0275inj=c.cJS({}),O})()}}]);